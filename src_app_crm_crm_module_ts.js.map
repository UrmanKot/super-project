{"version":3,"file":"src_app_crm_crm_module_ts.js","mappings":"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","sources":["./src/app/crm/components/companies/companies.component.ts","./src/app/crm/components/companies/companies.component.html","./src/app/crm/components/company-categories/company-categories.component.ts","./src/app/crm/components/company-categories/company-categories.component.html","./src/app/crm/components/company-page/company-page.component.ts","./src/app/crm/components/company-page/company-page.component.html","./src/app/crm/components/contact-person-page/contact-person-page.component.ts","./src/app/crm/components/contact-person-page/contact-person-page.component.html","./src/app/crm/components/crm-employees/crm-employees.component.ts","./src/app/crm/components/crm-employees/crm-employees.component.html","./src/app/crm/components/crm-event-card/crm-event-card.component.ts","./src/app/crm/components/crm-event-card/crm-event-card.component.html","./src/app/crm/components/crm-events-reports/crm-events-reports.component.ts","./src/app/crm/components/crm-events-reports/crm-events-reports.component.html","./src/app/crm/components/crm-events/crm-events.component.ts","./src/app/crm/components/crm-events/crm-events.component.html","./src/app/crm/components/crm-external-events/crm-external-events.component.ts","./src/app/crm/components/crm-external-events/crm-external-events.component.html","./src/app/crm/components/crm-full-calendar/crm-full-calendar.component.ts","./src/app/crm/components/crm-full-calendar/crm-full-calendar.component.html","./src/app/crm/components/crm-layout/crm-layout.component.ts","./src/app/crm/components/crm-layout/crm-layout.component.html","./src/app/crm/components/crm-schedules/crm-schedules.component.ts","./src/app/crm/components/crm-schedules/crm-schedules.component.html","./src/app/crm/components/crm-users-profiles/crm-users-profiles.component.ts","./src/app/crm/components/crm-users-profiles/crm-users-profiles.component.html","./src/app/crm/components/event-types/event-types.component.ts","./src/app/crm/components/event-types/event-types.component.html","./src/app/crm/crm.module.ts","./src/app/crm/crm.routing.ts","./src/app/crm/modals/add-company-file-modal/add-company-file-modal.component.ts","./src/app/crm/modals/add-company-file-modal/add-company-file-modal.component.html","./src/app/crm/modals/add-event-to-contact-person/add-event-to-contact-person.component.ts","./src/app/crm/modals/add-event-to-contact-person/add-event-to-contact-person.component.html","./src/app/crm/modals/create-edit-contact-person/create-edit-contact-person.component.ts","./src/app/crm/modals/create-edit-contact-person/create-edit-contact-person.component.html","./src/app/crm/modals/create-edit-crm-employee/create-edit-crm-employee.component.ts","./src/app/crm/modals/create-edit-crm-employee/create-edit-crm-employee.component.html","./src/app/crm/modals/create-edit-event-type/create-edit-event-type.component.ts","./src/app/crm/modals/create-edit-event-type/create-edit-event-type.component.html","./src/app/crm/modals/create-edit-external-event-type/create-edit-external-event-type.component.ts","./src/app/crm/modals/create-edit-external-event-type/create-edit-external-event-type.component.html","./src/app/crm/modals/create-edit-linked-contact/create-edit-linked-contact.component.ts","./src/app/crm/modals/create-edit-linked-contact/create-edit-linked-contact.component.html","./src/app/crm/modals/create-edit-schedule/create-edit-schedule.component.ts","./src/app/crm/modals/create-edit-schedule/create-edit-schedule.component.html","./src/app/crm/modals/crm-edit-company-activity-event/crm-edit-company-activity.component.ts","./src/app/crm/modals/crm-edit-company-activity-event/crm-edit-company-activity.component.html","./src/app/crm/modals/edit-crm-event-company/edit-crm-event-company.component.ts","./src/app/crm/modals/edit-crm-event-company/edit-crm-event-company.component.html","./src/app/crm/modals/edit-crm-event-contact-person/edit-crm-event-contact-person.component.ts","./src/app/crm/modals/edit-crm-event-contact-person/edit-crm-event-contact-person.component.html","./src/app/crm/models/company-activity.ts","./src/app/crm/models/event-company.ts","./src/app/crm/models/event-contact-person.ts","./src/app/crm/pickers/crm-contact-person-picker/crm-contact-person-picker.component.ts","./src/app/crm/pickers/crm-contact-person-picker/crm-contact-person-picker.component.html","./src/app/crm/pickers/crm-employee-picker/crm-employee-picker.component.ts","./src/app/crm/pickers/crm-employee-picker/crm-employee-picker.component.html","./src/app/crm/pickers/crm-event-type-picker/crm-event-type-picker.component.ts","./src/app/crm/pickers/crm-event-type-picker/crm-event-type-picker.component.html","./src/app/crm/pickers/crm-multi-contact-persons-picker/crm-multi-contact-persons-picker.component.ts","./src/app/crm/pickers/crm-multi-contact-persons-picker/crm-multi-contact-persons-picker.component.html","./src/app/crm/pickers/crm-multi-event-types-picker/crm-multi-event-types-picker.component.ts","./src/app/crm/pickers/crm-multi-event-types-picker/crm-multi-event-types-picker.component.html","./src/app/crm/services/company-file.service.ts","./src/app/crm/services/contact-person.service.ts","./src/app/crm/services/crm-employee.service.ts","./src/app/crm/services/crm-schedule.service.ts","./src/app/crm/services/event-company.service.ts","./src/app/crm/services/event-contact-person.service.ts","./src/app/crm/services/event-types.service.ts","./src/app/crm/services/event.service.ts","./src/app/crm/services/events-report.service.ts","./node_modules/@fullcalendar/angular/__ivy_ngcc__/fesm2015/fullcalendar-angular.js","./node_modules/@fullcalendar/common/main.js","./node_modules/@fullcalendar/common/vdom.js","./node_modules/@fullcalendar/core/main.js","./node_modules/@fullcalendar/core/vdom.js","./node_modules/@fullcalendar/daygrid/main.js","./node_modules/@fullcalendar/interaction/main.js","./node_modules/@fullcalendar/list/main.js","./node_modules/@fullcalendar/timegrid/main.js","./node_modules/@popperjs/core/lib/createPopper.js","./node_modules/@popperjs/core/lib/dom-utils/contains.js","./node_modules/@popperjs/core/lib/dom-utils/getBoundingClientRect.js","./node_modules/@popperjs/core/lib/dom-utils/getClippingRect.js","./node_modules/@popperjs/core/lib/dom-utils/getCompositeRect.js","./node_modules/@popperjs/core/lib/dom-utils/getComputedStyle.js","./node_modules/@popperjs/core/lib/dom-utils/getDocumentElement.js","./node_modules/@popperjs/core/lib/dom-utils/getDocumentRect.js","./node_modules/@popperjs/core/lib/dom-utils/getHTMLElementScroll.js","./node_modules/@popperjs/core/lib/dom-utils/getLayoutRect.js","./node_modules/@popperjs/core/lib/dom-utils/getNodeName.js","./node_modules/@popperjs/core/lib/dom-utils/getNodeScroll.js","./node_modules/@popperjs/core/lib/dom-utils/getOffsetParent.js","./node_modules/@popperjs/core/lib/dom-utils/getParentNode.js","./node_modules/@popperjs/core/lib/dom-utils/getScrollParent.js","./node_modules/@popperjs/core/lib/dom-utils/getViewportRect.js","./node_modules/@popperjs/core/lib/dom-utils/getWindow.js","./node_modules/@popperjs/core/lib/dom-utils/getWindowScroll.js","./node_modules/@popperjs/core/lib/dom-utils/getWindowScrollBarX.js","./node_modules/@popperjs/core/lib/dom-utils/instanceOf.js","./node_modules/@popperjs/core/lib/dom-utils/isLayoutViewport.js","./node_modules/@popperjs/core/lib/dom-utils/isScrollParent.js","./node_modules/@popperjs/core/lib/dom-utils/isTableElement.js","./node_modules/@popperjs/core/lib/dom-utils/listScrollParents.js","./node_modules/@popperjs/core/lib/enums.js","./node_modules/@popperjs/core/lib/modifiers/applyStyles.js","./node_modules/@popperjs/core/lib/modifiers/arrow.js","./node_modules/@popperjs/core/lib/modifiers/computeStyles.js","./node_modules/@popperjs/core/lib/modifiers/eventListeners.js","./node_modules/@popperjs/core/lib/modifiers/flip.js","./node_modules/@popperjs/core/lib/modifiers/hide.js","./node_modules/@popperjs/core/lib/modifiers/index.js","./node_modules/@popperjs/core/lib/modifiers/offset.js","./node_modules/@popperjs/core/lib/modifiers/popperOffsets.js","./node_modules/@popperjs/core/lib/modifiers/preventOverflow.js","./node_modules/@popperjs/core/lib/popper-lite.js","./node_modules/@popperjs/core/lib/popper.js","./node_modules/@popperjs/core/lib/utils/computeAutoPlacement.js","./node_modules/@popperjs/core/lib/utils/computeOffsets.js","./node_modules/@popperjs/core/lib/utils/debounce.js","./node_modules/@popperjs/core/lib/utils/detectOverflow.js","./node_modules/@popperjs/core/lib/utils/expandToHashMap.js","./node_modules/@popperjs/core/lib/utils/format.js","./node_modules/@popperjs/core/lib/utils/getAltAxis.js","./node_modules/@popperjs/core/lib/utils/getBasePlacement.js","./node_modules/@popperjs/core/lib/utils/getFreshSideObject.js","./node_modules/@popperjs/core/lib/utils/getMainAxisFromPlacement.js","./node_modules/@popperjs/core/lib/utils/getOppositePlacement.js","./node_modules/@popperjs/core/lib/utils/getOppositeVariationPlacement.js","./node_modules/@popperjs/core/lib/utils/getVariation.js","./node_modules/@popperjs/core/lib/utils/math.js","./node_modules/@popperjs/core/lib/utils/mergeByName.js","./node_modules/@popperjs/core/lib/utils/mergePaddingObject.js","./node_modules/@popperjs/core/lib/utils/orderModifiers.js","./node_modules/@popperjs/core/lib/utils/rectToClientRect.js","./node_modules/@popperjs/core/lib/utils/uniqueBy.js","./node_modules/@popperjs/core/lib/utils/userAgent.js","./node_modules/@popperjs/core/lib/utils/validateModifiers.js","./node_modules/@popperjs/core/lib/utils/within.js","./node_modules/fast-deep-equal/index.js","./node_modules/preact/compat/dist/compat.module.js","./node_modules/preact/dist/preact.module.js","./node_modules/preact/hooks/dist/hooks.module.js","./node_modules/tippy.js/dist/tippy.esm.js","./node_modules/@fullcalendar/common/main.css","./node_modules/@fullcalendar/daygrid/main.css","./node_modules/@fullcalendar/list/main.css","./node_modules/@fullcalendar/timegrid/main.css","./node_modules/primeng/fesm2020/primeng-colorpicker.mjs","./node_modules/primeng/fesm2020/primeng-inputswitch.mjs","./node_modules/primeng/fesm2020/primeng-slider.mjs"],"sourcesContent":["import {AfterViewInit, Component, ElementRef, OnDestroy, OnInit, ViewChild} from '@angular/core';\r\nimport {MenuItem} from 'primeng/api';\r\nimport {FormBuilder, FormGroup} from '@angular/forms';\r\nimport {CompanyService} from '../../services/company.service';\r\nimport {Company} from '../../models/company';\r\nimport {fromEvent, Subject, Subscription, takeUntil} from 'rxjs';\r\nimport {QuerySearch} from '@shared/models/other';\r\nimport {Paginator} from 'primeng/paginator';\r\nimport {debounceTime, map, tap} from 'rxjs/operators';\r\nimport {ModalService} from '@shared/services/modal.service';\r\nimport {ENomenclatureType} from '@shared/models/nomenclature';\r\nimport {ActivatedRoute, Router} from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'pek-companies',\r\n  templateUrl: './companies.component.html',\r\n  styleUrls: ['./companies.component.scss']\r\n})\r\nexport class CompaniesComponent implements OnInit, AfterViewInit, OnDestroy {\r\n  @ViewChild('paginator') paginator: Paginator;\r\n  @ViewChild('searchBoxName') searchBoxName;\r\n  @ViewChild('searchBoxPersonName') searchBoxPersonName;\r\n  @ViewChild('nomenclatureInput') nomenclatureInput: ElementRef;\r\n\r\n  searchForm: FormGroup = this.fb.group({\r\n    page: [1],\r\n    name: [null],\r\n    region: [null],\r\n    category: [null],\r\n    nomenclature: [null],\r\n    selectedNomenclature: [null],\r\n    contains_contact_person: [null]\r\n  });\r\n\r\n  countCompanies = 0;\r\n\r\n  companies: Company[] = [];\r\n  selectedCompany: Company;\r\n\r\n  isStartOnePage = false;\r\n  isShowAll = false;\r\n  isLoading = true;\r\n\r\n  nSub: Subscription;\r\n  pSub: Subscription;\r\n\r\n  query: QuerySearch[] = [\r\n    {name: 'paginated', value: true},\r\n    {name: 'page', value: this.searchForm.get('page').value},\r\n  ];\r\n\r\n  menuItems: MenuItem[] = [{\r\n    label: 'Selected Company',\r\n    items: [\r\n      {\r\n        label: 'Company Card',\r\n        icon: 'pi pi-folder',\r\n        command: () => this.onGoToChainPage()\r\n      },\r\n      {\r\n        label: 'Remove',\r\n        icon: 'pi pi-trash',\r\n        command: () => this.onRemoveCompany()\r\n      }\r\n    ]\r\n  }];\r\n\r\n  tableScrollHeight = '29.625rem';\r\n  isHideFilters = false;\r\n\r\n  queryKey = 'name:null/category:null/nomenclature:null/region:null/contains_contact_person:null';\r\n\r\n  private destroy$ = new Subject();\r\n\r\n  constructor(\r\n    private readonly fb: FormBuilder,\r\n    private readonly companyService: CompanyService,\r\n    private readonly modalService: ModalService,\r\n    private readonly router: Router,\r\n    private readonly route: ActivatedRoute,\r\n  ) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.getCompaniesForPagination();\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    this.nSub = fromEvent(this.searchBoxName.nativeElement, 'keyup')\r\n      .pipe(\r\n        tap(() => this.selectedCompany = null),\r\n        map(() => this.searchBoxName.nativeElement.value),\r\n        debounceTime(350),\r\n      ).subscribe(() => {\r\n        this.searchCompanies();\r\n      });\r\n\r\n    this.pSub = fromEvent(this.searchBoxPersonName.nativeElement, 'keyup')\r\n      .pipe(\r\n        tap(() => this.selectedCompany = null),\r\n        map(() => this.searchBoxPersonName.nativeElement.value),\r\n        debounceTime(350),\r\n      ).subscribe(() => {\r\n        this.searchCompanies();\r\n      });\r\n  }\r\n\r\n  getCompaniesForPagination() {\r\n    this.companyService.getForPagination(this.query).pipe(\r\n      takeUntil(this.destroy$)\r\n    ).subscribe(companies => {\r\n      this.companies = companies.results;\r\n      this.countCompanies = companies.count;\r\n\r\n      if (this.isStartOnePage) {\r\n        this.paginator?.changePage(0);\r\n      }\r\n\r\n      this.isStartOnePage = false;\r\n      this.isLoading = false;\r\n    });\r\n  }\r\n\r\n  getCompanies() {\r\n    this.companyService.get(this.query).pipe(\r\n      takeUntil(this.destroy$)\r\n    ).subscribe(companies => {\r\n      this.companies = companies;\r\n      this.countCompanies = companies.length;\r\n\r\n      if (this.isStartOnePage) {\r\n        this.paginator?.changePage(0);\r\n      }\r\n\r\n      this.isStartOnePage = false;\r\n      this.isLoading = false;\r\n    });\r\n  }\r\n\r\n  searchCompanies() {\r\n    this.isLoading = true;\r\n    this.destroy$.next(true);\r\n    this.selectedCompany = null;\r\n\r\n    const newQueryKey = `name:${this.searchForm.get('name').value}/category:${this.searchForm.get('category').value}/nomenclature:${this.searchForm.get('nomenclature').value}/region:${this.searchForm.get('region').value}/contains_contact_person:${this.searchForm.get('contains_contact_person').value}`;\r\n\r\n    if (newQueryKey !== this.queryKey) {\r\n      this.queryKey = newQueryKey;\r\n      this.searchForm.get('page').patchValue(1);\r\n      this.isStartOnePage = true;\r\n    }\r\n\r\n    this.query = [];\r\n\r\n    if (!this.isShowAll) {\r\n      this.query = [\r\n        {name: 'paginated', value: 'true'},\r\n        {name: 'page', value: this.searchForm.get('page').value},\r\n      ];\r\n    }\r\n\r\n    if (this.searchForm.get('category').value) this.query.push({\r\n      name: 'category_id',\r\n      value: this.searchForm.get('category').value\r\n    });\r\n    if (this.searchForm.get('name').value) this.query.push({name: 'name', value: this.searchForm.get('name').value});\r\n    if (this.searchForm.get('nomenclature').value) this.query.push({\r\n      name: 'ordered_nomenclature',\r\n      value: this.searchForm.get('nomenclature').value\r\n    });\r\n    if (this.searchForm.get('contains_contact_person').value) this.query.push({\r\n      name: 'contains_contact_person',\r\n      value: this.searchForm.get('contains_contact_person').value\r\n    });\r\n\r\n    if (this.searchForm.get('region').value) this.query.push({\r\n      name: 'region',\r\n      value: this.searchForm.get('region').value\r\n    });\r\n\r\n    if (!this.isShowAll) {\r\n      this.getCompaniesForPagination();\r\n    } else {\r\n      this.searchForm.get('page').patchValue(1);\r\n      this.getCompanies();\r\n    }\r\n  }\r\n\r\n  onAddCompany() {\r\n    this.companyService.createEditCompanyModal('create').subscribe(company => {\r\n      if (company) {\r\n        this.searchCompanies();\r\n      }\r\n    });\r\n  }\r\n\r\n  toggleFilterVisibility() {\r\n    this.isHideFilters = !this.isHideFilters;\r\n    this.setTableScrollHeight();\r\n  }\r\n\r\n  setTableScrollHeight() {\r\n    if (this.isHideFilters && !this.isShowAll) {\r\n      this.tableScrollHeight = '20.9125rem';\r\n      return;\r\n    }\r\n\r\n    if (this.isHideFilters && this.isShowAll) {\r\n      this.tableScrollHeight = '18.75rem';\r\n      return;\r\n    }\r\n\r\n    if (!this.isHideFilters && this.isShowAll) {\r\n      this.tableScrollHeight = '27.5rem';\r\n      return;\r\n    }\r\n\r\n    if (!this.isHideFilters && !this.isShowAll) {\r\n      this.tableScrollHeight = '29.625rem';\r\n      return;\r\n    }\r\n  }\r\n\r\n  paginate(evt: any) {\r\n    if (!this.isStartOnePage) {\r\n      this.searchForm.get('page').patchValue(evt.page + 1);\r\n      this.searchCompanies();\r\n    }\r\n  }\r\n\r\n  onShowAll() {\r\n    this.isShowAll = true;\r\n    this.setTableScrollHeight();\r\n    this.searchCompanies();\r\n  }\r\n\r\n  onShowPartial() {\r\n    this.isShowAll = false;\r\n    this.setTableScrollHeight();\r\n    this.searchCompanies();\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.nSub.unsubscribe();\r\n    this.pSub.unsubscribe();\r\n    this.destroy$.next(true);\r\n    this.destroy$.complete();\r\n  }\r\n\r\n  onSelectCompanyCategory(id: number) {\r\n    this.searchForm.get('category').patchValue(id);\r\n    this.searchCompanies();\r\n  }\r\n\r\n  onSelectRegion(id: number) {\r\n    this.searchForm.get('region').patchValue(id);\r\n    this.searchCompanies();\r\n  }\r\n\r\n  onOpenNomenclaturePickerModal() {\r\n    this.modalService.choiceNomenclatureModal(ENomenclatureType.PURCHASED).subscribe(nomenclature => {\r\n      this.nomenclatureInput.nativeElement.blur();\r\n\r\n      if (nomenclature) {\r\n        this.searchForm.get('selectedNomenclature').patchValue(`(${nomenclature.code}) ${nomenclature.name}`);\r\n        this.searchForm.get('nomenclature').patchValue(nomenclature.id);\r\n        this.searchCompanies();\r\n      }\r\n    });\r\n  }\r\n\r\n  clearNomenclatureFilter() {\r\n    this.searchForm.get('nomenclature').patchValue(null);\r\n    this.searchForm.get('selectedNomenclature').patchValue(null);\r\n    this.searchCompanies();\r\n  }\r\n\r\n  onRemoveCompany() {\r\n    this.modalService.confirm('danger').subscribe(confirm => {\r\n      if (confirm) {\r\n        this.companyService.delete(this.selectedCompany.id).subscribe(() => this.searchCompanies());\r\n        this.selectedCompany = null;\r\n      }\r\n    });\r\n  }\r\n\r\n  onGoToChainPage() {\r\n    this.router.navigate(['company-page', this.selectedCompany.id], {relativeTo: this.route});\r\n  }\r\n}\r\n","<div class=\"page\">\r\n  <div class=\"page__header\">\r\n    <div class=\"page__title\">\r\n      <pek-module-icon [module]=\"'contacts-events'\" [isActive]=\"true\"></pek-module-icon>\r\n      <h1>Company Card</h1>\r\n    </div>\r\n    <div class=\"page__tools\">\r\n      <button\r\n        pButton\r\n        type=\"button\"\r\n        icon=\"pi pi-plus\"\r\n        label=\"New Company\"\r\n        (click)=\"onAddCompany()\"\r\n      >\r\n      </button>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"page__content\">\r\n  <div class=\"page__card\">\r\n    <div class=\"filters-visibility\" [class.filters-visibility_hide]=\"isHideFilters\">\r\n      <div class=\"filters-visibility__header\">\r\n        <ng-container *ngTemplateOutlet=\"actionButtons\"></ng-container>\r\n      </div>\r\n\r\n      <button\r\n        class=\"icon pi\"\r\n        [class.pi-angle-double-up]=\"!isHideFilters\"\r\n        [class.pi-angle-double-down]=\"isHideFilters\"\r\n        (click)=\"toggleFilterVisibility()\"\r\n      ></button>\r\n\r\n      <form\r\n        [formGroup]=\"searchForm\"\r\n        class=\"form mb-3\"\r\n      >\r\n        <div class=\"row\">\r\n          <div class=\"col-3\">\r\n            <div class=\"form-group\">\r\n              <label for=\"name\">Name</label>\r\n              <input\r\n                #searchBoxName\r\n                id=\"name\"\r\n                class=\"form-control\"\r\n                type=\"text\"\r\n                pInputText\r\n                formControlName=\"name\"\r\n              >\r\n            </div>\r\n          </div>\r\n          <div class=\"col-3\">\r\n            <div class=\"form-group\">\r\n              <label>Category</label>\r\n              <pek-company-category-picker\r\n                (selectCompanyCategory)=\"onSelectCompanyCategory($event)\"></pek-company-category-picker>\r\n            </div>\r\n          </div>\r\n          <div class=\"col-3\">\r\n            <div class=\"form-group\">\r\n              <label>Region</label>\r\n              <pek-region-picker (selectRegion)=\"onSelectRegion($event)\"></pek-region-picker>\r\n            </div>\r\n          </div>\r\n          <div class=\"col-3\">\r\n            <div class=\"form-group\">\r\n              <label for=\"person-name\">Contact Person Name</label>\r\n              <input\r\n                #searchBoxPersonName\r\n                id=\"person-name\"\r\n                class=\"form-control\"\r\n                type=\"text\"\r\n                pInputText\r\n                formControlName=\"contains_contact_person\"\r\n              >\r\n            </div>\r\n          </div>\r\n          <div class=\"col-3\">\r\n            <div class=\"form-group\">\r\n              <label for=\"name\">Ordered Nomenclature</label>\r\n              <div class=\"input-wrapper\">\r\n                <input\r\n                  #nomenclatureInput\r\n                  (click)=\"onOpenNomenclaturePickerModal()\"\r\n                  class=\"form-control\"\r\n                  placeholder=\"Select Ordered Nomenclature\"\r\n                  type=\"text\"\r\n                  pInputText\r\n                  formControlName=\"selectedNomenclature\"\r\n                >\r\n                <button *ngIf=\"searchForm.get('nomenclature').value\" (click)=\"clearNomenclatureFilter()\">\r\n                  <i class=\"pi pi-times\"></i>\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"col-3\">\r\n          </div>\r\n          <div class=\"col-3\">\r\n          </div>\r\n          <div class=\"col-3\">\r\n            <ng-container *ngTemplateOutlet=\"actionButtons\"></ng-container>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </div>\r\n\r\n    <div class=\"table-pagination-preloader\">\r\n      <p-table\r\n        #dt\r\n        selectionMode=\"single\"\r\n        rowExpandMode=\"single\"\r\n        [scrollHeight]=\"'calc(100vh - ' + tableScrollHeight + ')'\"\r\n        [scrollable]=\"true\"\r\n        dataKey=\"id\"\r\n        [rows]=\"10\"\r\n        [(selection)]=\"selectedCompany\"\r\n        [value]=\"companies\"\r\n      >\r\n        <ng-template pTemplate=\"header\">\r\n          <tr>\r\n            <th class=\"text-center\" style=\"width: 5%\">#</th>\r\n            <th style=\"width: 45%\">Name</th>\r\n            <th style=\"width: 50%\">Description</th>\r\n          </tr>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"body\" let-supplier let-i=\"rowIndex\">\r\n          <tr [pSelectableRow]=\"supplier\">\r\n            <td style=\"width: 5%\" class=\"text-center\">{{(this.searchForm.get('page').value - 1) * 10 + i + 1}}</td>\r\n            <td style=\"width: 45%\">\r\n              {{ supplier.name }}\r\n            </td>\r\n            <td style=\"width: 50%\">\r\n              {{ supplier.comment }}\r\n            </td>\r\n          </tr>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"emptymessage\">\r\n          <tr>\r\n            <td class=\"text-center p-4\" [attr.colspan]=\"6\">\r\n              <i *ngIf=\"isLoading\" class=\"pi pi-spin pi-spinner\" style=\"font-size: 2.25rem\"></i>\r\n              <span *ngIf=\"!isLoading\">No Records Found</span>\r\n            </td>\r\n          </tr>\r\n        </ng-template>\r\n      </p-table>\r\n      <div class=\"pagination-preloader pagination-preloader_bord\" *ngIf=\"isLoading\">\r\n        <i class=\"pi pi-spin pi-spinner\" style=\"font-size: 2.25rem\"></i>\r\n      </div>\r\n    </div>\r\n    <div\r\n      class=\"paginator-wrapper\"\r\n      *ngIf=\"!isShowAll\"\r\n      [class.paginator-wrapper_hide]=\"companies.length === 0\"\r\n    >\r\n      <p-paginator\r\n        #paginator\r\n        [rows]=\"10\"\r\n        [totalRecords]=\"countCompanies\"\r\n        (onPageChange)=\"paginate($event)\"\r\n      >\r\n      </p-paginator>\r\n      <p-button\r\n        (click)=\"onShowAll()\"\r\n        class=\"paginator-all\"\r\n        type=\"button\"\r\n        styleClass=\"p-button-text\"\r\n      >\r\n        All\r\n      </p-button>\r\n    </div>\r\n\r\n    <div *ngIf=\"isShowAll\" class=\"paginator-return-pagination\">\r\n      <p-button\r\n        type=\"button\"\r\n        (click)=\"onShowPartial()\"\r\n        styleClass=\"p-button-text\"\r\n      >\r\n        Return pagination\r\n      </p-button>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<ng-template #actionButtons>\r\n  <div class=\"action-buttons\">\r\n    <p-menubar class=\"ml-auto\" [model]=\"menuItems\" [class.disabled]=\"!selectedCompany\"></p-menubar>\r\n  </div>\r\n</ng-template>\r\n","import {Component, OnDestroy, OnInit} from '@angular/core';\nimport {MenuItem} from 'primeng/api';\nimport {Subject} from 'rxjs';\nimport {CompanyCategory} from '../../models/company-category';\nimport {CompanyCategoryService} from '../../services/company-category.service';\nimport {ModalService} from '@shared/services/modal.service';\n\n@Component({\n  selector: 'pek-company-categories',\n  templateUrl: './company-categories.component.html',\n  styleUrls: ['./company-categories.component.scss']\n})\nexport class CompanyCategoriesComponent implements OnInit, OnDestroy {\n\n  private destroy$ = new Subject();\n\n  menuItems: MenuItem[] = [{\n    label: 'Selected Company Category',\n    items: [\n      {\n        label: 'Edit',\n        icon: 'pi pi-pencil',\n        command: () => this.onEditCategory()\n      },\n      {\n        label: 'Remove',\n        icon: 'pi pi-trash',\n        command: () => this.onRemoveCategory()\n      }\n    ]\n  }];\n\n  categories: CompanyCategory[] = [];\n  selectedCategory: CompanyCategory;\n  isLoading = true;\n\n  constructor(\n    private readonly companyCategoryService: CompanyCategoryService,\n    private readonly modalService: ModalService,\n  ) { }\n\n  ngOnInit(): void {\n    this.getCompanyCategories();\n  }\n\n  getCompanyCategories() {\n    this.companyCategoryService.get().subscribe(categories => {\n      this.categories = categories;\n      this.isLoading = false;\n    })\n  }\n\n  onAddCategory() {\n    this.companyCategoryService.createEditWarehouseModal('create').subscribe(category => {\n      if (category) {\n        this.categories.push(category);\n        this.renderTable();\n      }\n    });\n  }\n\n  onEditCategory() {\n    this.companyCategoryService.createEditWarehouseModal('edit', this.selectedCategory).subscribe(category => {\n      if (category) {\n        const index = this.categories.findIndex(t => t.id === this.selectedCategory.id);\n        this.categories[index] = category;\n        this.selectedCategory = this.categories[index];\n        this.renderTable();\n      }\n    });\n  }\n\n  onRemoveCategory() {\n    this.modalService.confirm('danger').subscribe(confirm => {\n      if (confirm) {\n        this.companyCategoryService.delete(this.selectedCategory).subscribe(() => {\n          const index = this.categories.findIndex(w => w.id === this.selectedCategory.id);\n          this.categories.splice(index, 1);\n          this.selectedCategory = null;\n          this.renderTable();\n        });\n      }\n    });\n  }\n\n  renderTable() {\n    this.categories = this.categories.map(el => el);\n  }\n\n  ngOnDestroy() {\n    this.destroy$.next(true);\n    this.destroy$.complete()\n  }\n\n}\n","<div class=\"page\">\n  <div class=\"page__header\">\n    <div class=\"page__title\">\n      <pek-module-icon [module]=\"'contacts-events'\" [isActive]=\"true\"></pek-module-icon>\n      <h1>Company Categories</h1>\n    </div>\n    <div class=\"page__tools\">\n      <button pButton type=\"button\" icon=\"pi pi-plus\" label=\"New Category\" (click)=\"onAddCategory()\"></button>\n    </div>\n  </div>\n</div>\n\n<div class=\"page__content\">\n  <div class=\"page__card\">\n    <div class=\"page__table\">\n      <p-table\n        #dt\n        selectionMode=\"single\"\n        scrollHeight=\"calc(100vh - 18.8rem)\"\n        [scrollable]=\"true\"\n        [paginator]=\"categories.length > 0\"\n        [rows]=\"10\"\n        [(selection)]=\"selectedCategory\"\n        [value]=\"categories\"\n      >\n        <ng-template pTemplate=\"caption\">\n          <div class=\"d-flex\">\n            <p class=\"subtitle\" *ngIf=\"!selectedCategory\">Choose the Company Category to edit</p>\n            <p-menubar class=\"ml-auto\" [model]=\"menuItems\" [class.disabled]=\"!selectedCategory\"></p-menubar>\n          </div>\n        </ng-template>\n        <ng-template pTemplate=\"header\">\n          <tr>\n            <th class=\"text-center\" style=\"width: 5%;\">#</th>\n            <th style=\"width: 40%;\">Name</th>\n            <th style=\"width: 55%;\">Modules</th>\n          </tr>\n        </ng-template>\n        <ng-template pTemplate=\"body\" let-category let-i=\"rowIndex\">\n          <tr [pSelectableRow]=\"category\">\n            <td class=\"text-center\" style=\"width: 5%;\">{{ i + 1 }}</td>\n            <td style=\"width: 40%;\">{{ category.name }}</td>\n            <td style=\"width: 55%;\">\n              <span *ngFor=\"let module of category.modules; let idx = index\">\n                {{module.name}}<span *ngIf=\"idx !== category.modules.length - 1\">,</span>\n              </span>\n            </td>\n          </tr>\n        </ng-template>\n        <ng-template pTemplate=\"emptymessage\">\n          <tr>\n            <td class=\"text-center p-4\" [attr.colspan]=\"4\">\n              <i *ngIf=\"isLoading\" class=\"pi pi-spin pi-spinner\" style=\"font-size: 2.25rem\"></i>\n              <span *ngIf=\"!isLoading\">No Records Found</span>\n            </td>\n          </tr>\n        </ng-template>\n        <ng-template pTemplate=\"paginatorright\">\n          <p-button\n            type=\"button\"\n            (click)=\"dt.paginator=false\"\n            styleClass=\"p-button-text\"\n          >All\n          </p-button>\n        </ng-template>\n      </p-table>\n    </div>\n    <div *ngIf=\"!dt.paginator && !isLoading && categories.length > 0\" class=\"paginator-return-pagination\">\n      <p-button\n        type=\"button\"\n        (click)=\"dt.paginator=true\"\n        styleClass=\"p-button-text\"\n      >\n        Return pagination\n      </p-button>\n    </div>\n  </div>\n</div>\n","import {Component, OnDestroy, OnInit} from '@angular/core';\nimport {map, switchMap, tap} from 'rxjs/operators';\nimport {finalize, Subject, takeUntil} from 'rxjs';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {AddEventModalType, Company} from '../../models/company';\nimport {CompanyService} from '../../services/company.service';\nimport {ModalService} from '@shared/services/modal.service';\nimport {MenuItem} from 'primeng/api';\nimport {ContactPersonService} from '../../services/contact-person.service';\nimport {ContactPerson} from '@shared/models/contact-person';\nimport {Invoice} from '../../../procurement/models/invoice';\nimport {InvoiceService} from '../../../procurement/services/invoice.service';\nimport {CompanyFileService} from '../../services/company-file.service';\nimport {CompanyFile} from '../../models/company-file';\nimport {AdapterService} from '@shared/services/adapter.service';\nimport {CompanyActivity} from '../../models/company-activity';\nimport {EventCompanyService} from '../../services/event-company.service';\nimport {EventCompany} from '../../models/event-company';\nimport {environment} from '@env/environment.prod';\n\n@Component({\n  selector: 'pek-company-page',\n  templateUrl: './company-page.component.html',\n  styleUrls: ['./company-page.component.scss']\n})\nexport class CompanyPageComponent implements OnInit, OnDestroy {\n\n  link = environment.link_url + 'dash/';\n\n  contactPersonMenuItems: MenuItem[] = [{\n    label: 'Selected Contact Person',\n    items: [\n      {\n        label: 'Contact Person Page',\n        icon: 'pi pi-user',\n        command: () => this.onGoContactPersonPage()\n      },\n      {\n        label: 'Edit',\n        icon: 'pi pi-pencil',\n        command: () => this.onEditContactPerson()\n      },\n      {\n        label: 'Remove',\n        icon: 'pi pi-trash',\n        command: () => this.onRemoveContactPerson()\n      }\n    ]\n  }];\n\n  linkedCompanyMenuItems: MenuItem[] = [{\n    label: 'Selected Linked Company',\n    items: [\n      {\n        label: 'Contact Person Page',\n        icon: 'pi pi-user',\n        command: () => this.linkedGoContactPersonPage()\n      },\n      {\n        label: 'Company Page',\n        icon: 'pi pi-share-alt',\n        command: () => this.linkedGoCompanyPage()\n      },\n      {\n        label: 'Edit',\n        icon: 'pi pi-pencil',\n        command: () => this.onEditLinkedCompany()\n      },\n      {\n        label: 'Remove',\n        icon: 'pi pi-trash',\n        command: () => this.onRemoveLinkedCompany()\n      }\n    ]\n  }];\n\n  eventMenuItems: MenuItem[] = [{\n    label: 'Selected Event',\n    items: [\n      {\n        label: 'Done',\n        icon: 'pi pi-check',\n        command: () => this.onDoneEvent()\n      },\n      {\n        label: 'Edit',\n        icon: 'pi pi-pencil',\n        command: () => this.onEditEvent()\n      },\n      {\n        label: 'Remove',\n        icon: 'pi pi-trash',\n        command: () => this.onRemoveEvent()\n      }\n    ]\n  }];\n\n  isRemoving = false;\n  isPendingFile = false;\n\n  readonly deletion = new Set<number>();\n  readonly addition = new Set<number>();\n\n  selectedContactPerson: ContactPerson;\n  selectedLinkedCompany: Company;\n\n  companyActivities: CompanyActivity[] = [];\n  selectedCompanyActivity: CompanyActivity;\n\n  invoices: Invoice[] = [];\n  selectedInvoice: Invoice;\n\n  files: CompanyFile[] = [];\n  selectedFile: CompanyFile;\n\n  isLoadingInvoice = true;\n  isLoadingFiles = true;\n\n  isLoading = true;\n  companyId: number;\n  company: Company;\n  destroy$ = new Subject();\n\n  constructor(\n    private readonly route: ActivatedRoute,\n    private readonly router: Router,\n    private readonly companyService: CompanyService,\n    private readonly contactPersonService: ContactPersonService,\n    private readonly modalService: ModalService,\n    private readonly invoiceService: InvoiceService,\n    private readonly companyFileService: CompanyFileService,\n    private readonly adapterService: AdapterService,\n    private readonly eventCompanyService: EventCompanyService,\n  ) {\n  }\n\n  ngOnInit(): void {\n    this.route.paramMap.pipe(\n      map(params => params.get('id')),\n      tap(id => this.companyId = +id),\n      tap(() => this.getInvoices()),\n      tap(() => this.getFiles()),\n      switchMap(id => this.companyService.getById(+id)),\n      takeUntil(this.destroy$)\n    ).subscribe(company => {\n      this.company = company;\n\n      this.companyActivities = company.activities;\n      this.companyActivities.sort((a, b) => {\n        const dateA = new Date(a.event.start);\n        const dateB = new Date(b.event.start);\n        // @ts-ignore\n        return (dateB - dateA);\n      });\n\n      this.isLoading = false;\n    });\n  }\n\n  getInvoices() {\n    this.invoiceService.get([{\n      name: 'supplier',\n      value: this.companyId,\n    }]).pipe(\n      takeUntil(this.destroy$)\n    ).subscribe(invoices => {\n        this.invoices = invoices;\n        this.isLoadingInvoice = false;\n      }\n    );\n  }\n\n  getCompany() {\n    this.companyService.getById(this.companyId).pipe(\n      takeUntil(this.destroy$)\n    ).subscribe(company => {\n      this.company = company;\n\n      if (this.selectedLinkedCompany) {\n        this.selectedLinkedCompany = this.company.linked_companies.find(c => c.id === this.selectedLinkedCompany.id);\n      }\n\n      this.companyActivities = company.activities;\n      this.companyActivities.sort((a, b) => {\n        const dateA = new Date(a.event.start);\n        const dateB = new Date(b.event.start);\n        // @ts-ignore\n        return (dateB - dateA);\n      });\n\n      if (this.selectedCompanyActivity) {\n        this.selectedCompanyActivity = this.companyActivities.find(c => c.id === this.selectedCompanyActivity.id);\n        this.onEventSelectionChange();\n      }\n\n      this.isLoading = false;\n    });\n  }\n\n  onRemoveCompany() {\n    this.modalService.confirm('danger').subscribe(confirm => {\n      if (confirm) {\n        this.isRemoving = true;\n        this.companyService.delete(this.companyId).subscribe(() => {\n          this.router.navigate(['../../'], {relativeTo: this.route});\n          this.isRemoving = false;\n        });\n      }\n    });\n  }\n\n  onEditCompany() {\n    this.companyService.createEditCompanyModal('edit', this.company).subscribe(company => {\n      if (company) {\n\n      }\n    });\n  }\n\n  onAddContactPerson() {\n    this.contactPersonService.createEditContactPersonModal(this.companyId, 'create').subscribe(contactPerson => {\n      if (contactPerson) {\n        this.company.contact_persons.push(contactPerson);\n        this.company.contact_persons = this.company.contact_persons.map(c => c);\n      }\n    });\n  }\n\n  ngOnDestroy() {\n    this.destroy$.next(true);\n    this.destroy$.complete();\n  }\n\n  onEditContactPerson() {\n    this.contactPersonService.createEditContactPersonModal(this.companyId, 'edit', this.selectedContactPerson).subscribe(contactPerson => {\n      if (contactPerson) {\n        const index = this.company.contact_persons.findIndex(c => c.id === contactPerson.id);\n        this.company.contact_persons[index] = contactPerson;\n        this.company.contact_persons = this.company.contact_persons.map(c => c);\n      }\n    });\n  }\n\n  onRemoveContactPerson() {\n    this.modalService.confirm('danger').subscribe(confirm => {\n      if (confirm) {\n        this.contactPersonService.delete(this.selectedContactPerson.id).subscribe(() => {\n          const index = this.company.contact_persons.findIndex(c => c.id === this.selectedContactPerson.id);\n          this.company.contact_persons.splice(index, 1);\n          this.selectedContactPerson = null;\n          this.company.contact_persons = this.company.contact_persons.map(c => c);\n        });\n      }\n    });\n  }\n\n  onAddLinkedCompany() {\n    this.companyService.createEditLinkedCompanyModal(this.companyId, 'create').subscribe(linkedCompany => {\n      if (linkedCompany) {\n        this.getCompany();\n      }\n    });\n  }\n\n  onEditLinkedCompany() {\n    this.companyService.createEditLinkedCompanyModal(this.companyId, 'edit', this.selectedLinkedCompany).subscribe(linkedCompany => {\n      if (linkedCompany) {\n        this.getCompany();\n      }\n    });\n  }\n\n  onRemoveLinkedCompany() {\n    this.modalService.confirm('danger').subscribe(confirm => {\n      if (confirm) {\n        this.companyService.deleteLinkedCompany(this.selectedLinkedCompany.id)\n          .subscribe(() => {\n            const index = this.company.linked_companies.findIndex(c => c.id === this.selectedLinkedCompany.id);\n            this.company.linked_companies.splice(index, 1);\n            this.selectedLinkedCompany = null;\n            this.company.linked_companies = this.company.linked_companies.map(c => c);\n          });\n      }\n    });\n  }\n\n  goToInvoice() {\n    const link = `${this.link}accounting/invoices/products/view/${this.selectedInvoice.id}`;\n    window.open(link, '_blank');\n  }\n\n  onAddFile() {\n    this.companyFileService.openAddFileModal(this.companyId).subscribe(file => {\n      if (file) {\n        this.files.push(file);\n        this.files = this.files.map(f => f);\n      }\n    });\n  }\n\n  getFileName(name: string) {\n    let nameArr = name.split('/');\n    return nameArr[nameArr.length - 1];\n  }\n\n\n  getFiles() {\n    this.companyFileService.get([\n      {name: 'company_id', value: this.companyId}\n    ]).pipe(\n      takeUntil(this.destroy$)\n    ).subscribe(files => {\n      this.files = files;\n      this.isLoadingFiles = false;\n    });\n  }\n\n  onDownloadFile(file: CompanyFile) {\n    if (!this.isPendingFile) {\n      this.isPendingFile = true;\n      this.addition.add(file.id);\n      this.companyFileService.downloadFile(file).pipe(\n        finalize(() => {\n          this.isPendingFile = false;\n          this.addition.clear();\n        })\n      ).subscribe(response => {\n        const filename = this.getFileName(file.file);\n        this.adapterService.downloadFile(filename, response);\n      });\n    }\n  }\n\n  onRemoveFile(id: number) {\n    this.modalService.confirm('danger').subscribe(confirm => {\n      if (confirm) {\n        this.deletion.add(id);\n        this.companyFileService.delete(id).pipe(\n          finalize(() => {\n            this.deletion.clear();\n          })\n        ).subscribe(() => {\n          const index = this.files.findIndex(f => f.id === id);\n          this.files.splice(index, 1);\n          this.selectedFile = null;\n          this.files = this.files.map(f => f);\n        });\n      }\n    });\n  }\n\n  onEventSelectionChange() {\n    this.eventMenuItems[0].items[0].disabled = !!this.selectedCompanyActivity?.is_done;\n  }\n\n  onRemoveEvent() {\n    this.modalService.confirm('danger').subscribe(confirm => {\n      if (confirm) {\n        this.eventCompanyService.delete(this.selectedCompanyActivity.id).subscribe(() => {\n          const index = this.companyActivities.findIndex(c => c.id === this.selectedCompanyActivity.id);\n          this.companyActivities.splice(index, 1);\n          this.selectedCompanyActivity = null;\n        });\n      }\n    });\n  }\n\n  onDoneEvent() {\n    this.modalService.confirm('success').subscribe(confirm => {\n      if (confirm) {\n        this.eventCompanyService.update(\n          this.selectedCompanyActivity.id, {is_done: true} as EventCompany\n        ).subscribe(event => {\n          this.getCompany();\n        });\n      }\n    });\n  }\n\n  onAddEventToCompany(type: AddEventModalType) {\n    this.companyService.openAddEventToCompanyModal(type, this.company).subscribe(response => {\n      if (response) {\n        this.getCompany();\n      }\n    });\n  }\n\n  onEditEvent() {\n    this.eventCompanyService.openEditCompanyActivityModal(this.selectedCompanyActivity).subscribe(event => {\n      if (event) {\n        this.getCompany();\n      }\n    });\n  }\n\n  onGoContactPersonPage() {\n    this.router.navigate(['../../', 'contact-person', this.selectedContactPerson.id], {relativeTo: this.route});\n    const link = `crm/business-partners/contact-person/${this.selectedContactPerson.id}`;\n    window.open(link, '_blank');\n  }\n\n  linkedGoContactPersonPage() {\n    const link = `crm/business-partners/contact-person/${this.selectedLinkedCompany.contact_person.id}`;\n    window.open(link, '_blank');\n  }\n\n  linkedGoCompanyPage() {\n    const link = `crm/business-partners/company-page/${this.selectedLinkedCompany.to_company.id}`;\n    window.open(link, '_blank');\n  }\n}\n","<div class=\"company-page\">\n  <div class=\"page\">\n    <div class=\"page__header\">\n      <div class=\"page__title\">\n        <pek-module-icon [module]=\"'contacts-events'\" [isActive]=\"true\"></pek-module-icon>\n        <h1>Company Card</h1>\n      </div>\n      <div class=\"page__tools\">\n        <button\n          pButton\n          type=\"button\"\n          icon=\"pi pi-pencil\"\n          label=\"Edit Company Information\"\n          (click)=\"onEditCompany()\"\n          class=\"mr-2\"\n          [disabled]=\"isLoading\"\n        >\n        </button>\n        <button\n          pButton\n          type=\"button\"\n          class=\"p-button-danger p-button-icon\"\n          icon=\"pi pi-times\"\n          label=\"Remove Company\"\n          [loading]=\"isRemoving\"\n          (click)=\"onRemoveCompany()\"\n          [disabled]=\"isLoading\"\n        >\n        </button>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"page__content\">\n    <h2 class=\"mb-4\">Company Information</h2>\n\n    <div class=\"page__card company-information-card mb-4\">\n      <div class=\"company-information\" *ngIf=\"!isLoading; else infoLoading\">\n        <div class=\"row\">\n          <div class=\"col-md-5\">\n            <h4>Name: <span>{{ company.name }}</span></h4>\n            <h4>\n              Category:\n              <ng-container *ngFor=\"let item of company.categories; let idx = index\">\n                <span>{{ item.name }}</span>\n                <span *ngIf=\"idx !== company.categories.length - 1\">,</span>\n              </ng-container>\n            </h4>\n            <h4>Address: <span>{{ company.address }}</span></h4>\n            <h4>Email: <span>{{ company.email }}</span></h4>\n            <h4>Phone Number: <span>{{ company.phone_number }}</span></h4>\n            <h4>Website:\n              <span>\n              <a [href]=\"company.website\" target=\"_blank\">{{ company.website }}</a>\n            </span>\n            </h4>\n            <h4>Tax Number: <span>{{ company.tax_number }}</span></h4>\n            <h4>Register Number: <span>{{ company.registration_number }}</span></h4>\n          </div>\n          <div class=\"col-md-7\">\n            <h4>Nomenclature: <span>{{ company.supplier_nomenclature }}</span></h4>\n            <h4>Description: <span>{{ company.comment }}</span></h4>\n            <h4>\n              Country:\n              <span *ngIf=\"company.country\">{{company.country.name}}</span>\n            </h4>\n\n            <h4>\n              Region:\n              <span *ngIf=\"company.region\">{{company.region.name}}</span>\n            </h4>\n            <h4>Connected Companies:</h4>\n            <p *ngFor=\"let linked_company of company.linked_companies\">\n              <span>{{ linked_company.name }}</span>\n            </p>\n            <h4>\n              Dont have VAT:\n              <i class=\"pi pi-check text-success\" *ngIf=\"company.has_not_vat\"></i>\n              <i class=\"pi pi-times text-danger\" *ngIf=\"!company.has_not_vat\"></i>\n            </h4>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <h2 class=\"mb-4\">Contact Persons</h2>\n\n    <div class=\"page__card mb-4\">\n      <div class=\"page__table\">\n        <p-table\n          #dt\n          selectionMode=\"single\"\n          scrollHeight=\"calc(100vh - 18.8rem)\"\n          [scrollable]=\"true\"\n          [paginator]=\"company?.contact_persons.length > 0\"\n          [rows]=\"10\"\n          [(selection)]=\"selectedContactPerson\"\n          [value]=\"company?.contact_persons\"\n        >\n          <ng-template pTemplate=\"caption\">\n            <div class=\"d-flex\">\n              <p class=\"subtitle\" *ngIf=\"!selectedContactPerson\">Choose the Contact Person to edit</p>\n              <p-menubar\n                class=\"ml-auto\"\n                [model]=\"contactPersonMenuItems\"\n                [class.disabled]=\"!selectedContactPerson\"></p-menubar>\n              <button\n                (click)=\"onAddContactPerson()\"\n                pButton type=\"button\"\n                icon=\"pi pi-plus\"\n                class=\"ml-2\"\n                label=\"Create Contact Person\"\n                [disabled]=\"isLoading\"\n              >\n              </button>\n            </div>\n          </ng-template>\n          <ng-template pTemplate=\"header\">\n            <tr>\n              <th class=\"text-center\" style=\"width: 5%\">#</th>\n              <th style=\"width: 20%\">Name</th>\n              <th style=\"width: 20%\">Email</th>\n              <th style=\"width: 20%\">Position</th>\n              <th style=\"width: 15%\">Phone</th>\n              <th style=\"width: 20%\">Comment</th>\n            </tr>\n          </ng-template>\n          <ng-template pTemplate=\"body\" let-contact let-i=\"rowIndex\">\n            <tr [pSelectableRow]=\"contact\">\n              <td class=\"text-center\" style=\"width: 5%\">{{ i + 1 }}</td>\n              <td style=\"width: 20%\">{{ contact.first_name }} {{ contact.last_name }}</td>\n              <td style=\"width: 20%\">{{ contact.email }}</td>\n              <td style=\"width: 20%\">{{ contact.position }}</td>\n              <td style=\"width: 15%\">{{ contact.phone_number }}</td>\n              <td style=\"width: 20%\">{{ contact.comment }}</td>\n            </tr>\n          </ng-template>\n          <ng-template pTemplate=\"emptymessage\">\n            <tr>\n              <td class=\"text-center p-4\" [attr.colspan]=\"6\">\n                <i *ngIf=\"isLoading\" class=\"pi pi-spin pi-spinner\" style=\"font-size: 2.25rem\"></i>\n                <span *ngIf=\"!isLoading\">No Records Found</span>\n              </td>\n            </tr>\n          </ng-template>\n          <ng-template pTemplate=\"paginatorright\">\n            <p-button\n              type=\"button\"\n              (click)=\"dt.paginator=false\"\n              styleClass=\"p-button-text\"\n            >\n              All\n            </p-button>\n          </ng-template>\n        </p-table>\n      </div>\n      <div *ngIf=\"!dt.paginator && !isLoading && company?.contact_persons.length > 0\"\n           class=\"paginator-return-pagination\">\n        <p-button\n          type=\"button\"\n          (click)=\"dt.paginator=true\"\n          styleClass=\"p-button-text\"\n        >\n          Return pagination\n        </p-button>\n      </div>\n    </div>\n\n    <h2 class=\"mb-4\">Linked Companies</h2>\n\n    <div class=\"page__card mb-4\">\n      <div class=\"page__table\">\n        <p-table\n          #st\n          selectionMode=\"single\"\n          scrollHeight=\"calc(100vh - 18.8rem)\"\n          [scrollable]=\"true\"\n          [paginator]=\"company?.linked_companies.length > 0\"\n          [rows]=\"10\"\n          [(selection)]=\"selectedLinkedCompany\"\n          [value]=\"company?.linked_companies\"\n        >\n          <ng-template pTemplate=\"caption\">\n            <div class=\"d-flex\">\n              <p class=\"subtitle\" *ngIf=\"!selectedLinkedCompany\">Choose the Linked Company to edit</p>\n              <p-menubar\n                class=\"ml-auto\"\n                [model]=\"linkedCompanyMenuItems\"\n                [class.disabled]=\"!selectedLinkedCompany\"></p-menubar>\n              <button\n                pButton type=\"button\"\n                icon=\"pi pi-plus\"\n                class=\"ml-2\"\n                label=\"Add Connection\"\n                (click)=\"onAddLinkedCompany()\"\n                [disabled]=\"isLoading\"\n              >\n              </button>\n            </div>\n          </ng-template>\n          <ng-template pTemplate=\"header\">\n            <tr>\n              <th style=\"width: 5%\" class=\"text-center\">#</th>\n              <th style=\"width: 15%\">Company Name</th>\n              <th style=\"width: 15%\">Company Email</th>\n              <th style=\"width: 15%\">Contact Name</th>\n              <th style=\"width: 15%\">Contact Email</th>\n              <th style=\"width: 15%\">Contact Position</th>\n              <th style=\"width: 10%\">Contact Phone</th>\n              <th style=\"width: 10%\" class=\"text-center\">Link Weight</th>\n            </tr>\n          </ng-template>\n          <ng-template pTemplate=\"body\" let-link let-i=\"rowIndex\">\n            <tr [pSelectableRow]=\"link\">\n              <td style=\"width: 5%\" class=\"text-center\">{{ i + 1 }}</td>\n              <td>\n                {{ link.to_company.name }}\n              </td>\n              <td style=\"width: 15%\">\n                {{ link.to_company.email }}\n              </td>\n              <td style=\"width: 15%\">\n                {{ link.contact_person?.first_name }}\n                {{ link.contact_person?.last_name }}\n              </td>\n              <td style=\"width: 15%\">\n                {{ link.contact_person?.email }}\n              </td>\n              <td style=\"width: 15%\">\n                {{ link.contact_person?.position }}\n              </td>\n              <td style=\"width: 10%\">\n                {{ link.contact_person?.phone_number }}\n              </td>\n              <td style=\"width: 10%\" class=\"text-center\">\n                {{ link.link_weight }}\n              </td>\n            </tr>\n          </ng-template>\n          <ng-template pTemplate=\"emptymessage\">\n            <tr>\n              <td class=\"text-center p-4\" [attr.colspan]=\"8\">\n                <i *ngIf=\"isLoading\" class=\"pi pi-spin pi-spinner\" style=\"font-size: 2.25rem\"></i>\n                <span *ngIf=\"!isLoading\">No Records Found</span>\n              </td>\n            </tr>\n          </ng-template>\n          <ng-template pTemplate=\"paginatorright\">\n            <p-button\n              type=\"button\"\n              (click)=\"st.paginator=false\"\n              styleClass=\"p-button-text\"\n            >\n              All\n            </p-button>\n          </ng-template>\n        </p-table>\n      </div>\n      <div *ngIf=\"!st.paginator && !isLoading && company?.linked_companies.length > 0\"\n           class=\"paginator-return-pagination\">\n        <p-button\n          type=\"button\"\n          (click)=\"st.paginator=true\"\n          styleClass=\"p-button-text\"\n        >\n          Return pagination\n        </p-button>\n      </div>\n    </div>\n\n    <h2 class=\"mb-4\">Events</h2>\n\n    <div class=\"page__card mb-4\">\n      <div class=\"page__table\">\n        <p-table\n          #at\n          selectionMode=\"single\"\n          scrollHeight=\"calc(100vh - 18.8rem)\"\n          [scrollable]=\"true\"\n          [paginator]=\"companyActivities.length > 0\"\n          [rows]=\"10\"\n          [(selection)]=\"selectedCompanyActivity\"\n          [value]=\"companyActivities\"\n          (selectionChange)=\"onEventSelectionChange()\"\n        >\n          <ng-template pTemplate=\"caption\">\n            <div class=\"d-flex\">\n              <p class=\"subtitle\" *ngIf=\"!selectedCompanyActivity\">Choose the Event to edit</p>\n              <p-menubar\n                class=\"ml-auto\"\n                [model]=\"eventMenuItems\"\n                [class.disabled]=\"!selectedCompanyActivity\"></p-menubar>\n              <button\n                pButton type=\"button\"\n                icon=\"pi pi-plus\"\n                class=\"ml-2 mr-2\"\n                label=\"Add Event to Company with Employee\"\n                (click)=\"onAddEventToCompany('withEmployee')\"\n                [disabled]=\"isLoading\"\n              >\n              </button>\n              <button\n                pButton type=\"button\"\n                icon=\"pi pi-plus\"\n                class=\"ml-2\"\n                label=\"Add Event to Company without Employee\"\n                (click)=\"onAddEventToCompany('withoutEmployee')\"\n                [disabled]=\"isLoading\"\n              >\n              </button>\n            </div>\n          </ng-template>\n          <ng-template pTemplate=\"header\">\n            <tr>\n              <th class=\"index-header text-center\" style=\"width: 5%\">#</th>\n              <th style=\"width: 15%\">Event Name</th>\n              <th pSortableColumn=\"event.start\" style=\"width: 12%\">\n                Event Start\n                <p-sortIcon field=\"event.start\">\n                </p-sortIcon>\n              </th>\n              <th pSortableColumn=\"event.end\" style=\"width: 12%\">\n                Event End\n                <p-sortIcon field=\"event.end\">\n                </p-sortIcon>\n              </th>\n              <th style=\"width: 20%\">Event Description</th>\n              <th style=\"width: 11%\">Employee</th>\n              <th style=\"width: 15%\">Event Comment</th>\n              <th style=\"width: 10%\" class=\"text-center\">Is Done</th>\n            </tr>\n          </ng-template>\n          <ng-template pTemplate=\"body\" let-activity let-i=\"rowIndex\">\n            <tr\n              [pSelectableRow]=\"activity\">\n              <td style=\"width: 5%\" class=\"text-center\">{{ i + 1 }}</td>\n              <td style=\"width: 15%\">{{ activity.event.event_type.name }}</td>\n\n              <td\n                style=\"width: 12%\"\n                [routerLink]=\"['/dash/crm/events-list/event-card/', activity.event.id]\"\n              >\n                {{ activity.event.start | date: \"dd/MM/yyyy, HH:mm\" }}\n              </td>\n              <td style=\"width: 12%\">\n                {{ activity.event.end | date: \"dd/MM/yyyy, HH:mm\" }}\n              </td>\n              <td style=\"width: 20%\">\n                <span *ngIf=\"activity.event.sales_chain else emptySale\">\n                  <a target=\"blank\"\n                     [routerLink]=\"['/dash/sales/sales-chains/chain-page', activity.event.sales_chain]\">\n                    {{ activity.event.description }}\n                  </a>\n                </span>\n                <ng-template #emptySale>\n                  {{ activity.event.description }}\n                </ng-template>\n              </td>\n\n              <td style=\"width: 11%\">\n                <ng-container *ngIf=\"activity.event.employee.length === 0\">\n                  Not Related\n                </ng-container>\n\n                <ng-container *ngIf=\"activity.event.employee.length > 0\">\n                  <span *ngFor=\"let employee of activity.event.employee\">\n                    {{ employee.first_name + \" \" + employee.last_name }} <br>\n                  </span>\n                </ng-container>\n              </td>\n\n              <td style=\"width: 15%\">\n                {{ activity.comment }}\n              </td>\n              <td class=\"text-center\" style=\"width: 10%\">\n                <div class=\"icons\">\n                  <i class=\"pi pi-check text-success\" *ngIf=\"activity.is_done; else notGrouped\"></i>\n                </div>\n              </td>\n            </tr>\n          </ng-template>\n          <ng-template pTemplate=\"emptymessage\">\n            <tr>\n              <td class=\"text-center p-4\" [attr.colspan]=\"8\">\n                <i *ngIf=\"isLoading\" class=\"pi pi-spin pi-spinner\" style=\"font-size: 2.25rem\"></i>\n                <span *ngIf=\"!isLoading\">No Records Found</span>\n              </td>\n            </tr>\n          </ng-template>\n          <ng-template pTemplate=\"paginatorright\">\n            <p-button\n              type=\"button\"\n              (click)=\"at.paginator=false\"\n              styleClass=\"p-button-text\"\n            >\n              All\n            </p-button>\n          </ng-template>\n        </p-table>\n      </div>\n      <div *ngIf=\"!at.paginator && !isLoading && companyActivities.length > 0\"\n           class=\"paginator-return-pagination\">\n        <p-button\n          type=\"button\"\n          (click)=\"at.paginator=true\"\n          styleClass=\"p-button-text\"\n        >\n          Return pagination\n        </p-button>\n      </div>\n    </div>\n\n    <h2 class=\"mb-4\">Invoices</h2>\n\n    <div class=\"page__card mb-4\">\n      <div class=\"page__table\">\n        <p-table\n          #ft\n          selectionMode=\"single\"\n          scrollHeight=\"calc(100vh - 18.8rem)\"\n          [scrollable]=\"true\"\n          [paginator]=\"invoices.length > 0\"\n          [rows]=\"10\"\n          [value]=\"invoices\"\n          [(selection)]=\"selectedInvoice\"\n        >\n          <ng-template pTemplate=\"caption\">\n            <div class=\"d-flex\">\n              <button\n                (click)=\"goToInvoice()\"\n                pButton type=\"button\"\n                icon=\"pi pi-eye\"\n                class=\"ml-auto\"\n                label=\"View Invoice\"\n                [disabled]=\"isLoadingInvoice || !selectedInvoice\"\n              >\n              </button>\n            </div>\n          </ng-template>\n          <ng-template pTemplate=\"header\">\n            <tr>\n              <th style=\"width: 5%\" class=\"text-center\">#</th>\n              <th style=\"width: 10%\" class=\"text-center\">Creation Date</th>\n              <th style=\"width: 50%\" class=\"text-center\">Proforma Number</th>\n              <th style=\"width: 35%\" class=\"text-center\">Total Price</th>\n            </tr>\n          </ng-template>\n          <ng-template pTemplate=\"body\" let-invoice let-i=\"rowIndex\">\n            <tr [pSelectableRow]=\"invoice\">\n              <td style=\"width: 5%\" class=\"text-center\">{{ i + 1 }}</td>\n              <td style=\"width: 10%\" class=\"text-center\">\n                {{ invoice.system_creation_date | date: \"dd/MM/yyyy\" }}\n                <i *ngIf=\"invoice.related_files\" class=\"pi pi-link\"></i>\n              </td>\n              <td style=\"width: 50%\" class=\"text-center\">\n                {{ invoice.self_proforma_serial_number }}\n              </td>\n              <td style=\"width: 35%\" class=\"text-center\">\n                {{ invoice.total_price | moneyFormat }}\n                {{ invoice.currency?.symbol }}\n              </td>\n            </tr>\n          </ng-template>\n          <ng-template pTemplate=\"emptymessage\">\n            <tr>\n              <td class=\"text-center p-4\" [attr.colspan]=\"6\">\n                <i *ngIf=\"isLoading\" class=\"pi pi-spin pi-spinner\" style=\"font-size: 2.25rem\"></i>\n                <span *ngIf=\"!isLoading\">No Records Found</span>\n              </td>\n            </tr>\n          </ng-template>\n          <ng-template pTemplate=\"paginatorright\">\n            <p-button\n              type=\"button\"\n              (click)=\"ft.paginator=false\"\n              styleClass=\"p-button-text\"\n            >\n              All\n            </p-button>\n          </ng-template>\n        </p-table>\n      </div>\n      <div *ngIf=\"!ft.paginator && !isLoading && invoices.length > 0\"\n           class=\"paginator-return-pagination\">\n        <p-button\n          type=\"button\"\n          (click)=\"ft.paginator=true\"\n          styleClass=\"p-button-text\"\n        >\n          Return pagination\n        </p-button>\n      </div>\n    </div>\n\n    <h2 class=\"mb-4\">Files</h2>\n\n    <div class=\"page__card\">\n      <div class=\"page__table\">\n        <p-table\n          #mt\n          selectionMode=\"single\"\n          scrollHeight=\"calc(100vh - 18.8rem)\"\n          [scrollable]=\"true\"\n          [paginator]=\"files.length > 0\"\n          [rows]=\"10\"\n          [value]=\"files\"\n          [(selection)]=\"selectedFile\"\n        >\n          <ng-template pTemplate=\"caption\">\n            <div class=\"d-flex\">\n              <button\n                (click)=\"onAddFile()\"\n                pButton type=\"button\"\n                icon=\"pi pi-plus\"\n                class=\"ml-auto\"\n                label=\"Add File\"\n                [disabled]=\"isLoadingFiles\"\n              >\n              </button>\n            </div>\n          </ng-template>\n          <ng-template pTemplate=\"header\">\n            <tr>\n              <th style=\"width: 5%\" class=\"text-center\">#</th>\n              <th style=\"width: 85%\">Name</th>\n              <th style=\"width: 10%\" class=\"text-center\">Actions</th>\n            </tr>\n          </ng-template>\n          <ng-template pTemplate=\"body\" let-file let-rowIndex=\"rowIndex\">\n            <tr [pSelectableRow]=\"file\">\n              <td style=\"width: 5%\" class=\"text-center\">{{ rowIndex + 1 }}</td>\n              <td style=\"width: 85%\">\n                <a (click)=\"onDownloadFile(file)\">{{ getFileName(file.file) }}</a>\n              </td>\n              <td style=\"width: 10%\" class=\"text-center\">\n                <div class=\"d-flex justify-content-center\">\n                  <button\n                    pButton\n                    (click)=\"onDownloadFile(file)\"\n                    [loading]=\"addition.has(file.id)\"\n                    type=\"button\"\n                    class=\"p-button-primary p-button-rounded p-button-outlined p-button-rounded_small mr-2\"\n                    icon=\"pi pi-download\"\n                  ></button>\n                  <button\n                    pButton\n                    (click)=\"onRemoveFile(file.id)\"\n                    [loading]=\"deletion.has(file.id)\"\n                    type=\"button\"\n                    class=\"p-button-danger p-button-rounded p-button-outlined p-button-rounded_small\"\n                    icon=\"pi pi-trash\"\n                  ></button>\n                </div>\n              </td>\n            </tr>\n          </ng-template>\n          <ng-template pTemplate=\"emptymessage\">\n            <tr>\n              <td class=\"text-center p-4\" [attr.colspan]=\"3\">\n                <i *ngIf=\"isLoadingFiles\" class=\"pi pi-spin pi-spinner\" style=\"font-size: 2.25rem\"></i>\n                <span *ngIf=\"!isLoadingFiles\">No Records Found</span>\n              </td>\n            </tr>\n          </ng-template>\n          <ng-template pTemplate=\"paginatorright\">\n            <p-button\n              type=\"button\"\n              (click)=\"mt.paginator=false\"\n              styleClass=\"p-button-text\"\n            >\n              All\n            </p-button>\n          </ng-template>\n        </p-table>\n      </div>\n      <div *ngIf=\"!mt.paginator && !isLoading && files.length > 0\"\n           class=\"paginator-return-pagination\">\n        <p-button\n          type=\"button\"\n          (click)=\"mt.paginator=true\"\n          styleClass=\"p-button-text\"\n        >\n          Return pagination\n        </p-button>\n      </div>\n    </div>\n  </div>\n</div>\n\n<ng-template #infoLoading>\n  <div class=\"info-loading\">\n    <i class=\"pi pi-spin pi-spinner\" style=\"font-size: 2.25rem\"></i>\n  </div>\n</ng-template>\n\n<ng-template #notGrouped>\n  <i class=\"pi pi-times text-danger\"></i>\n</ng-template>\n","import {Component, OnDestroy, OnInit} from '@angular/core';\nimport {Subject, takeUntil} from 'rxjs';\nimport {ActivatedRoute} from '@angular/router';\nimport {ModalService} from '@shared/services/modal.service';\nimport {ContactPersonService} from '../../services/contact-person.service';\nimport {AddEventModalType, Company} from '../../models/company';\nimport {ContactPerson} from '@shared/models/contact-person';\nimport {MenuItem} from 'primeng/api';\nimport {map, tap} from 'rxjs/operators';\nimport {CompanyService} from '../../services/company.service';\nimport {EventContactPersonService} from '../../services/event-contact-person.service';\nimport {EventContactPerson} from '../../models/event-contact-person';\n\n@Component({\n  selector: 'pek-contact-person-page',\n  templateUrl: './contact-person-page.component.html',\n  styleUrls: ['./contact-person-page.component.scss']\n})\nexport class ContactPersonPageComponent implements OnInit, OnDestroy {\n  contactPersonMenuItems: MenuItem[] = [{\n    label: 'Selected Linked Contact',\n    items: [\n      {\n        label: 'Edit',\n        icon: 'pi pi-pencil',\n        command: () => this.onEditLinkedContact()\n      },\n      {\n        label: 'Remove',\n        icon: 'pi pi-trash',\n        command: () => this.onRemoveLinkedContact()\n      }\n    ]\n  }];\n\n  companyMenuItems: MenuItem[] = [{\n    label: 'Selected Linked Company',\n    items: [\n      {\n        label: 'Remove',\n        icon: 'pi pi-trash',\n        command: () => this.onDeleteLinkedCompany()\n      }\n    ]\n  }];\n\n  eventMenuItems: MenuItem[] = [{\n    label: 'Selected Event',\n    items: [\n      {\n        label: 'Done',\n        icon: 'pi pi-check',\n        command: () => this.onDoneEvent()\n      },\n      {\n        label: 'Edit',\n        icon: 'pi pi-pencil',\n        command: () => this.onEditEvent()\n      },\n      {\n        label: 'Remove',\n        icon: 'pi pi-trash',\n        command: () => this.onDeleteEvent()\n      }\n    ]\n  }];\n\n  isLoading = true;\n  contactPersonId: number;\n\n  selectedEvent: EventContactPerson;\n  selectedLinkedContact: ContactPerson;\n  selectedLinkedCompany: Company;\n\n  contact: ContactPerson;\n\n  private destroy$: Subject<any> = new Subject<any>();\n\n  constructor(\n    private readonly route: ActivatedRoute,\n    private readonly contactPersonService: ContactPersonService,\n    private readonly eventContactPersonService: EventContactPersonService,\n    private readonly companyService: CompanyService,\n    private readonly modalService: ModalService,\n  ) {\n  }\n\n  ngOnInit(): void {\n    this.route.paramMap.pipe(\n      map(params => params.get('id')),\n      tap(id => this.contactPersonId = +id),\n      tap(() => this.getPerson())\n    ).subscribe();\n  }\n\n  getPerson() {\n    this.contactPersonService.getById(this.contactPersonId).pipe(\n      takeUntil(this.destroy$)\n    ).subscribe(contactPerson => {\n      this.contact = contactPerson;\n\n      this.contact.activities.sort((a, b) => {\n        const dateA = new Date(a.event.start);\n        const dateB = new Date(b.event.start);\n        // @ts-ignore\n        return (dateB - dateA);\n      });\n\n      if (this.selectedLinkedCompany) {\n        this.selectedLinkedCompany = contactPerson.linked_companies.find(c => c.id === this.selectedLinkedCompany.id);\n        this.contact.linked_companies = this.contact.linked_companies.map(c => c);\n      }\n\n      if (this.selectedLinkedContact) {\n        this.selectedLinkedContact = contactPerson.linked_contacts.find(c => c.id === this.selectedLinkedContact.id);\n        this.contact.linked_contacts = this.contact.linked_contacts.map(c => c);\n      }\n\n      if (this.selectedEvent) {\n        this.selectedEvent = contactPerson.activities.find(c => c.id === this.selectedEvent.id);\n        this.contact.activities = this.contact.activities.map(c => c);\n\n        this.onEventSelect();\n      }\n\n      this.isLoading = false;\n    });\n  }\n\n  onAddLinkedContact() {\n    this.contactPersonService.openCreateEditLinkedContactModal('create', this.contact).subscribe(contactPerson => {\n      if (contactPerson) {\n        this.getPerson();\n      }\n    });\n  }\n\n  onEditLinkedContact() {\n    this.contactPersonService.openCreateEditLinkedContactModal('edit', this.contact, this.selectedLinkedContact).subscribe(contactPerson => {\n      if (contactPerson) {\n        this.getPerson();\n      }\n    });\n  }\n\n  ngOnDestroy() {\n    this.destroy$.next(true);\n    this.destroy$.complete();\n  }\n\n  onRemoveLinkedContact() {\n    this.modalService.confirm('danger').subscribe(confirm => {\n      if (confirm) {\n        this.contactPersonService.deleteLinkedContact(this.selectedLinkedContact).subscribe(() => {\n          const index = this.contact.linked_contacts.findIndex(c => c.id === this.selectedLinkedContact.id);\n          this.contact.linked_contacts.splice(index, 1);\n          this.contact.linked_contacts = this.contact.linked_contacts.map(c => c);\n        });\n      }\n    });\n  }\n\n  onDeleteLinkedCompany() {\n    this.modalService.confirm('danger').subscribe(confirm => {\n      if (confirm)\n        this.companyService.deleteLinkedCompany(this.selectedLinkedCompany.id).subscribe(() => {\n          const index = this.contact.linked_companies.findIndex(c => c.id === this.selectedLinkedCompany.id);\n          this.contact.linked_companies.splice(index, 1);\n          this.contact.linked_companies = this.contact.linked_companies.map(c => c);\n        });\n    });\n  }\n\n  onDoneEvent() {\n    this.modalService.confirm('success')\n      .subscribe(confirm => {\n        if (confirm) {\n          this.eventContactPersonService.update(this.selectedEvent.id, {is_done: true,} as EventContactPerson)\n            .subscribe(() => this.getPerson());\n        }\n      });\n  }\n\n  onEventSelect() {\n    this.eventMenuItems[0].items[0].disabled = this.selectedEvent.is_done;\n  }\n\n  onDeleteEvent() {\n    this.modalService.confirm('danger').subscribe(confirm => {\n      if (confirm) {\n        this.eventContactPersonService.delete(this.selectedEvent.id).subscribe(() => {\n          const index = this.contact.activities.findIndex(c => c.id === this.selectedEvent.id);\n          this.contact.activities.splice(index, 1);\n          this.contact.activities = this.contact.activities.map(c => c);\n        });\n      }\n    });\n  }\n\n  onEditEvent() {\n    this.eventContactPersonService.openEditModal(this.selectedEvent).subscribe(event => {\n      if (event) {\n        this.getPerson();\n      }\n    });\n  }\n\n  onAddEventToCompany(type: AddEventModalType) {\n    this.contactPersonService.openAddEventToContactPersonModal(type, this.contact).subscribe(response => {\n      if (response) {\n        this.getPerson();\n      }\n    });\n  }\n}\n","<div class=\"page\">\n  <div class=\"page__header\">\n    <div class=\"page__title\">\n      <pek-module-icon [module]=\"'contacts-events'\" [isActive]=\"true\"></pek-module-icon>\n      <h1>Contact Page</h1>\n    </div>\n  </div>\n</div>\n\n<div class=\"page__content\">\n  <h2 class=\"mb-4\">Contact Information</h2>\n\n  <div class=\"page__card contact-information-card mb-4\">\n    <div class=\"contact-information\" *ngIf=\"!isLoading; else infoLoading\">\n      <div class=\"row\">\n        <div class=\"col-md-5\">\n          <h4>Name: {{ contact.first_name }} {{ contact.last_name }}</h4>\n          <h4>Email: {{ contact.email }}</h4>\n          <h4>Phone Number: {{ contact.phone_number }}</h4>\n        </div>\n        <div class=\"col-md-7\">\n          <h4>Description:</h4>\n          <p>{{ contact.comment }}</p>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <h2 class=\"mb-4\">Linked Contacts</h2>\n\n  <div class=\"page__card mb-4\">\n    <div class=\"page__table\">\n      <p-table\n        #dt\n        selectionMode=\"single\"\n        scrollHeight=\"calc(100vh - 18.8rem)\"\n        [scrollable]=\"true\"\n        [paginator]=\"contact?.linked_contacts.length > 0\"\n        [rows]=\"10\"\n        [(selection)]=\"selectedLinkedContact\"\n        [value]=\"contact?.linked_contacts\"\n      >\n        <ng-template pTemplate=\"caption\">\n          <div class=\"d-flex\">\n            <p class=\"subtitle\" *ngIf=\"!selectedLinkedContact\">Choose the Linked Contact to edit</p>\n            <p-menubar\n              class=\"ml-auto\"\n              [model]=\"contactPersonMenuItems\"\n              [class.disabled]=\"!selectedLinkedContact\"></p-menubar>\n            <button\n              pButton type=\"button\"\n              icon=\"pi pi-plus\"\n              class=\"ml-2\"\n              label=\"Add Connection\"\n              (click)=\"onAddLinkedContact()\"\n              [disabled]=\"isLoading\"\n            >\n            </button>\n          </div>\n        </ng-template>\n        <ng-template pTemplate=\"header\">\n          <tr>\n            <th class=\"text-center\" style=\"width: 5%\">#</th>\n            <th style=\"width: 20%\">Name</th>\n            <th style=\"width: 15%\">Email</th>\n            <th style=\"width: 15%\">Position</th>\n            <th style=\"width: 15%\">Phone</th>\n            <th style=\"width: 20%\">Comment</th>\n            <th class=\"text-center\" style=\"width: 10%\">Link Weight</th>\n          </tr>\n        </ng-template>\n        <ng-template pTemplate=\"body\" let-contact let-i=\"rowIndex\">\n          <tr [pSelectableRow]=\"contact\">\n            <td class=\"text-center\" style=\"width: 5%\">{{ i + 1 }}</td>\n            <td style=\"width: 20%\">\n              {{ contact.from_contact.first_name }} {{ contact.from_contact.last_name }}\n            </td>\n            <td style=\"width: 15%\">{{ contact.from_contact.email }}</td>\n            <td style=\"width: 15%\">{{ contact.from_contact.position }}</td>\n            <td style=\"width: 15%\">{{ contact.from_contact.phone_number }}</td>\n            <td style=\"width: 20%\">{{ contact.from_contact.comment }}</td>\n            <td class=\"text-center\" style=\"width: 10%\">{{ contact.link_weight }}</td>\n          </tr>\n        </ng-template>\n        <ng-template pTemplate=\"emptymessage\">\n          <tr>\n            <td class=\"text-center p-4\" [attr.colspan]=\"7\">\n              <i *ngIf=\"isLoading\" class=\"pi pi-spin pi-spinner\" style=\"font-size: 2.25rem\"></i>\n              <span *ngIf=\"!isLoading\">No Records Found</span>\n            </td>\n          </tr>\n        </ng-template>\n        <ng-template pTemplate=\"paginatorright\">\n          <p-button\n            type=\"button\"\n            (click)=\"dt.paginator=false\"\n            styleClass=\"p-button-text\"\n          >\n            All\n          </p-button>\n        </ng-template>\n      </p-table>\n    </div>\n    <div *ngIf=\"!dt.paginator && !isLoading && contact?.linked_contacts.length > 0\"\n         class=\"paginator-return-pagination\">\n      <p-button\n        type=\"button\"\n        (click)=\"dt.paginator=true\"\n        styleClass=\"p-button-text\"\n      >\n        Return pagination\n      </p-button>\n    </div>\n  </div>\n\n  <h2 class=\"mb-4\">Linked Companies</h2>\n\n  <div class=\"page__card mb-4\">\n    <div class=\"page__table\">\n      <p-table\n        #st\n        selectionMode=\"single\"\n        scrollHeight=\"calc(100vh - 18.8rem)\"\n        [scrollable]=\"true\"\n        [paginator]=\"contact?.linked_companies.length > 0\"\n        [rows]=\"10\"\n        [(selection)]=\"selectedLinkedCompany\"\n        [value]=\"contact?.linked_companies\"\n      >\n        <ng-template pTemplate=\"caption\">\n          <div class=\"d-flex\">\n            <p class=\"subtitle\" *ngIf=\"!selectedLinkedCompany\">Choose the Linked Company to edit</p>\n            <p-menubar\n              class=\"ml-auto\"\n              [model]=\"companyMenuItems\"\n              [class.disabled]=\"!selectedLinkedCompany\">\n            </p-menubar>\n          </div>\n        </ng-template>\n        <ng-template pTemplate=\"header\">\n          <tr>\n            <th style=\"width: 5%\" class=\"text-center\">#</th>\n            <th style=\"width: 20%\">Company Name</th>\n            <th style=\"width: 15%\">Company Email</th>\n            <th style=\"width: 20%\">Company Address</th>\n            <th style=\"width: 15%\">Phone</th>\n            <th style=\"width: 10%\">Tax Number</th>\n            <th style=\"width: 15%\">Website</th>\n          </tr>\n        </ng-template>\n        <ng-template pTemplate=\"body\" let-company let-i=\"rowIndex\">\n          <tr [pSelectableRow]=\"company\">\n            <td style=\"width: 5%\" class=\"text-center\">{{ i + 1 }}</td>\n            <td style=\"width: 20%\">{{ company.to_company.name }}</td>\n            <td style=\"width: 15%\">{{ company.to_company.email }}</td>\n            <td style=\"width: 20%\">{{ company.to_company.address }}</td>\n            <td style=\"width: 15%\">{{ company.to_company.phone_number }}</td>\n            <td style=\"width: 10%\">{{ company.to_company.tax_number }}</td>\n            <td style=\"width: 15%\" class=\"word-break\">\n              <a [href]=\"company.to_company.website\" target=\"_blank\">{{ company.to_company.website }}</a>\n            </td>\n          </tr>\n        </ng-template>\n        <ng-template pTemplate=\"emptymessage\">\n          <tr>\n            <td class=\"text-center p-4\" [attr.colspan]=\"7\">\n              <i *ngIf=\"isLoading\" class=\"pi pi-spin pi-spinner\" style=\"font-size: 2.25rem\"></i>\n              <span *ngIf=\"!isLoading\">No Records Found</span>\n            </td>\n          </tr>\n        </ng-template>\n        <ng-template pTemplate=\"paginatorright\">\n          <p-button\n            type=\"button\"\n            (click)=\"st.paginator=false\"\n            styleClass=\"p-button-text\"\n          >\n            All\n          </p-button>\n        </ng-template>\n      </p-table>\n    </div>\n    <div *ngIf=\"!st.paginator && !isLoading && contact?.linked_companies.length > 0\"\n         class=\"paginator-return-pagination\">\n      <p-button\n        type=\"button\"\n        (click)=\"st.paginator=true\"\n        styleClass=\"p-button-text\"\n      >\n        Return pagination\n      </p-button>\n    </div>\n  </div>\n\n  <h2 class=\"mb-4\">Events</h2>\n\n  <div class=\"page__card\">\n    <div class=\"page__table\">\n      <p-table\n        #et\n        selectionMode=\"single\"\n        scrollHeight=\"calc(100vh - 18.8rem)\"\n        [scrollable]=\"true\"\n        [paginator]=\"contact?.activities.length > 0\"\n        [rows]=\"10\"\n        [(selection)]=\"selectedEvent\"\n        [value]=\"contact?.activities\"\n        (selectionChange)=\"onEventSelect()\"\n      >\n        <ng-template pTemplate=\"caption\">\n          <div class=\"d-flex\">\n            <p class=\"subtitle\" *ngIf=\"!selectedEvent\">Choose the Event to edit</p>\n            <p-menubar\n              class=\"ml-auto\"\n              [model]=\"eventMenuItems\"\n              [class.disabled]=\"!selectedEvent\">\n            </p-menubar>\n            <button\n              pButton type=\"button\"\n              icon=\"pi pi-plus\"\n              class=\"ml-2 mr-2\"\n              label=\"Add Event to Contact with Employee\"\n              [disabled]=\"isLoading\"\n              (click)=\"onAddEventToCompany('withEmployee')\"\n            >\n            </button>\n            <button\n              pButton type=\"button\"\n              icon=\"pi pi-plus\"\n              class=\"ml-2\"\n              label=\"Add Event to Contact without Employee\"\n              [disabled]=\"isLoading\"\n              (click)=\"onAddEventToCompany('withoutEmployee')\"\n            >\n            </button>\n          </div>\n        </ng-template>\n        <ng-template pTemplate=\"header\">\n          <tr>\n            <th class=\" text-center\" style=\"width: 5%\">#</th>\n            <th style=\"width: 15%\">Event Name</th>\n            <th style=\"width: 20%\">Event Description</th>\n            <th style=\"width: 12%\" pSortableColumn=\"event.start\">\n              Event Start\n              <p-sortIcon field=\"event.start\">\n              </p-sortIcon>\n            </th>\n            <th style=\"width: 12%\" pSortableColumn=\"event.end\">\n              Event End\n              <p-sortIcon field=\"event.end\">\n              </p-sortIcon>\n            </th>\n            <th style=\"width: 11%\">Employee</th>\n            <th style=\"width: 15%\">Comment</th>\n            <th style=\"width: 10%\" class=\" text-center\">Is Done</th>\n          </tr>\n        </ng-template>\n        <ng-template pTemplate=\"body\" let-activity let-i=\"rowIndex\">\n          <tr [pSelectableRow]=\"activity\">\n            <td class=\" text-center\" style=\"width: 5%\">{{ i + 1 }}</td>\n            <td style=\"width: 15%\">{{ activity.event.event_type.name }}</td>\n            <td style=\"width: 20%\">{{ activity.event.description }}</td>\n            <td style=\"width: 12%\">{{ activity.event.start | date: \"dd/MM/yyyy, HH:mm\" }}</td>\n            <td style=\"width: 12%\">{{ activity.event.end | date: \"dd/MM/yyyy, HH:mm\" }}</td>\n\n            <td style=\"width: 11%\">\n              <ng-container *ngIf=\"activity.event.employee.length === 0\"\n              >Not Related\n              </ng-container>\n\n              <ng-container *ngIf=\"activity.event.employee.length > 0\">\n                <span *ngFor=\"let employee of activity.event.employee\">\n                  {{ employee.first_name + \" \" + employee.last_name }} <br>\n                </span>\n              </ng-container>\n            </td>\n            <td style=\"width: 15%\">{{ activity.comment }}</td>\n            <td style=\"width: 10%\"  class=\" text-center\">\n              <div class=\"icons\">\n                <i class=\"pi pi-check text-success\" *ngIf=\"activity.is_done; else notGrouped\"></i>\n              </div>\n            </td>\n          </tr>\n        </ng-template>\n        <ng-template pTemplate=\"emptymessage\">\n          <tr>\n            <td class=\"text-center p-4\" [attr.colspan]=\"8\">\n              <i *ngIf=\"isLoading\" class=\"pi pi-spin pi-spinner\" style=\"font-size: 2.25rem\"></i>\n              <span *ngIf=\"!isLoading\">No Records Found</span>\n            </td>\n          </tr>\n        </ng-template>\n        <ng-template pTemplate=\"paginatorright\">\n          <p-button\n            type=\"button\"\n            (click)=\"et.paginator=false\"\n            styleClass=\"p-button-text\"\n          >\n            All\n          </p-button>\n        </ng-template>\n      </p-table>\n    </div>\n    <div *ngIf=\"!et.paginator && !isLoading && contact?.activities.length > 0\"\n         class=\"paginator-return-pagination\">\n      <p-button\n        type=\"button\"\n        (click)=\"et.paginator=true\"\n        styleClass=\"p-button-text\"\n      >\n        Return pagination\n      </p-button>\n    </div>\n  </div>\n</div>\n\n<ng-template #infoLoading>\n  <div class=\"info-loading\">\n    <i class=\"pi pi-spin pi-spinner\" style=\"font-size: 2.25rem\"></i>\n  </div>\n</ng-template>\n\n<ng-template #notGrouped>\n  <i class=\"pi pi-times text-danger\"></i>\n</ng-template>\n","import {Component, OnDestroy, OnInit} from '@angular/core';\nimport {CrmEmployeeService} from '../../services/crm-employee.service';\nimport {Subject} from 'rxjs';\nimport {CRMEmployee} from '../../models/crm-employee';\nimport {MenuItem} from 'primeng/api';\nimport {ModalService} from '@shared/services/modal.service';\n\n@Component({\n  selector: 'pek-crm-employees',\n  templateUrl: './crm-employees.component.html',\n  styleUrls: ['./crm-employees.component.scss']\n})\nexport class CrmEmployeesComponent implements OnInit, OnDestroy {\n\n  menuItems: MenuItem[] = [{\n    label: 'Selected Employee',\n    items: [\n      {\n        label: 'Edit',\n        icon: 'pi pi-pencil',\n        command: () => this.onEditEmployee()\n      },\n      {\n        label: 'Remove',\n        icon: 'pi pi-trash',\n        command: () => this.onRemoveEmployee()\n      }\n    ]\n  }];\n\n  private destroy$ = new Subject();\n\n  employees: CRMEmployee[] = [];\n  selectedEmployee: CRMEmployee;\n  isLoading = true;\n\n  constructor(\n    private readonly crmEmployeeService: CrmEmployeeService,\n    private readonly modalService: ModalService,\n  ) {\n  }\n\n  ngOnInit(): void {\n    this.crmEmployeeService.get().subscribe(employees => {\n      this.employees = employees;\n      this.isLoading = false;\n    });\n  }\n\n  onAddEmployee() {\n    this.crmEmployeeService.createEditEmployeeModal('create').subscribe(employee => {\n      if (employee) {\n        this.employees.unshift(employee);\n        this.renderTable();\n      }\n    });\n  }\n\n  onEditEmployee() {\n    this.crmEmployeeService.createEditEmployeeModal('edit', this.selectedEmployee).subscribe(employee => {\n      if (employee) {\n        const index = this.employees.findIndex(t => t.id === this.selectedEmployee.id);\n        this.employees[index] = employee;\n        this.selectedEmployee = this.employees[index];\n        this.renderTable();\n      }\n    })\n  }\n\n  onRemoveEmployee() {\n    this.modalService.confirm('danger').subscribe(confirm => {\n      if (confirm) {\n        this.crmEmployeeService.delete(this.selectedEmployee).subscribe(() => {\n          const index = this.employees.findIndex(w => w.id === this.selectedEmployee.id);\n          this.employees.splice(index, 1);\n          this.selectedEmployee = null;\n          this.renderTable();\n        });\n      }\n    });\n  }\n\n  renderTable() {\n    this.employees = this.employees.map(el => el);\n  }\n\n  ngOnDestroy() {\n    this.destroy$.next(true);\n    this.destroy$.complete();\n  }\n}\n","<div class=\"page\">\n  <div class=\"page__header\">\n    <div class=\"page__title\">\n      <pek-module-icon [module]=\"'contacts-events'\" [isActive]=\"true\"></pek-module-icon>\n      <h1>Employees</h1>\n    </div>\n    <div class=\"page__tools\">\n      <button pButton type=\"button\" icon=\"pi pi-plus\" label=\"New Event Type\" (click)=\"onAddEmployee()\"></button>\n    </div>\n  </div>\n</div>\n\n<div class=\"page__content\">\n  <div class=\"page__card\">\n    <div class=\"page__table\">\n      <p-table\n        #dt\n        selectionMode=\"single\"\n        scrollHeight=\"calc(100vh - 18.8rem)\"\n        [scrollable]=\"true\"\n        [paginator]=\"employees.length > 0\"\n        [rows]=\"10\"\n        [(selection)]=\"selectedEmployee\"\n        [value]=\"employees\"\n      >\n        <ng-template pTemplate=\"caption\">\n          <div class=\"d-flex\">\n            <p class=\"subtitle\" *ngIf=\"!selectedEmployee\">Choose the Employee to edit</p>\n            <p-menubar class=\"ml-auto\" [model]=\"menuItems\" [class.disabled]=\"!selectedEmployee\"></p-menubar>\n          </div>\n        </ng-template>\n        <ng-template pTemplate=\"header\">\n          <tr>\n            <th style=\"width: 5%\" class=\"text-center\">#</th>\n            <th style=\"width: 45%\">First Name</th>\n            <th style=\"width: 50%\">Last Name</th>\n          </tr>\n        </ng-template>\n        <ng-template pTemplate=\"body\" let-employee let-i=\"rowIndex\">\n          <tr [pSelectableRow]=\"employee\">\n            <td style=\"width: 5%\" class=\"text-center\">{{ i + 1 }}</td>\n            <td style=\"width: 45%\">{{ employee.first_name }}</td>\n            <td style=\"width: 50%\">{{ employee.last_name }}</td>\n          </tr>\n        </ng-template>\n        <ng-template pTemplate=\"emptymessage\">\n          <tr>\n            <td class=\"text-center p-4\" [attr.colspan]=\"5\">\n              <i *ngIf=\"isLoading\" class=\"pi pi-spin pi-spinner\" style=\"font-size: 2.25rem\"></i>\n              <span *ngIf=\"!isLoading\">No Records Found</span>\n            </td>\n          </tr>\n        </ng-template>\n        <ng-template pTemplate=\"paginatorright\">\n          <p-button\n            type=\"button\"\n            (click)=\"dt.paginator=false\"\n            styleClass=\"p-button-text\"\n          >All\n          </p-button>\n        </ng-template>\n      </p-table>\n    </div>\n    <div *ngIf=\"!dt.paginator && !isLoading && employees.length > 0\" class=\"paginator-return-pagination\">\n      <p-button\n        type=\"button\"\n        (click)=\"dt.paginator=true\"\n        styleClass=\"p-button-text\"\n      >\n        Return pagination\n      </p-button>\n    </div>\n  </div>\n</div>\n","import {Component, OnDestroy, OnInit} from '@angular/core';\nimport {EventItem} from '../../models/event-item';\nimport {EventsListService} from '../../services/events-list.service';\nimport {map, switchMap, tap} from 'rxjs/operators';\nimport {Subject, takeUntil} from 'rxjs';\nimport {ActivatedRoute} from '@angular/router';\nimport {MenuItem} from 'primeng/api';\nimport {ModalService} from '@shared/services/modal.service';\nimport {EventCompanyService} from '../../services/event-company.service';\nimport {EventCompany} from '../../models/event-company';\nimport {EventContactPerson} from '../../models/event-contact-person';\nimport {EventContactPersonService} from '../../services/event-contact-person.service';\n\n@Component({\n  selector: 'pek-crm-event-card',\n  templateUrl: './crm-event-card.component.html',\n  styleUrls: ['./crm-event-card.component.scss']\n})\nexport class CrmEventCardComponent implements OnInit, OnDestroy {\n\n  eventCompanyMenuItems: MenuItem[] = [{\n    label: 'Selected Company',\n    items: [\n      {\n        label: 'Create Linked Event',\n        icon: 'pi pi-share-alt',\n        command: () => this.onCreateLinkedEvent()\n      },\n      {\n        label: 'Done',\n        icon: 'pi pi-check',\n        command: () => this.onDoneCompany()\n      },\n      {\n        label: 'Edit',\n        icon: 'pi pi-pencil',\n        command: () => this.onEditTechnology()\n      },\n      {\n        label: 'Remove',\n        icon: 'pi pi-trash',\n        command: () => this.onRemoveTechnology()\n      }\n    ]\n  }];\n\n  contactPersonMenuItems: MenuItem[] = [{\n    label: 'Selected Contact Person',\n    items: [\n      {\n        label: 'Done',\n        icon: 'pi pi-check',\n        command: () => this.onDoneContactPerson()\n      },\n      {\n        label: 'Edit',\n        icon: 'pi pi-pencil',\n        command: () => this.onEditContactPerson()\n      },\n      {\n        label: 'Remove',\n        icon: 'pi pi-trash',\n        command: () => this.onRemoveContactPerson()\n      }\n    ]\n  }];\n\n  selectedEventCompany: EventCompany;\n  selectedContactPerson: EventContactPerson;\n\n  event: EventItem;\n  eventId: number;\n  isLoading = true;\n\n  private destroy$: Subject<any> = new Subject<any>();\n\n  constructor(\n    private readonly eventListService: EventsListService,\n    private readonly route: ActivatedRoute,\n    private readonly modalService: ModalService,\n    private readonly eventCompanyService: EventCompanyService,\n    private readonly eventContactPersonService: EventContactPersonService,\n  ) {\n  }\n\n  ngOnInit(): void {\n    this.getEvent();\n  }\n\n  getEvent() {\n    this.route.paramMap.pipe(\n      map(params => params.get('id')),\n      tap(id => this.eventId = +id),\n      switchMap(() => this.eventListService.getById(this.eventId)),\n      takeUntil(this.destroy$)\n    ).subscribe(event => {\n      this.event = event;\n\n      if (this.selectedEventCompany) {\n        this.selectedEventCompany = event.on_companies.find(c => c.id === this.selectedEventCompany.id) as EventCompany;\n        this.onEventCompanySelectionChange();\n      }\n\n      if (this.selectedContactPerson) {\n        // @ts-ignore\n        this.selectedContactPerson = event.on_contacts.find(c => c.id === this.selectedContactPerson.id) as EventContactPerson;\n        this.onEventContactPersonSelectionChange();\n      }\n\n      this.isLoading = false;\n    });\n  }\n\n  onDoneCompany() {\n    this.modalService.confirm('success').subscribe(confirm => {\n      if (confirm) {\n        this.eventCompanyService.update(this.selectedEventCompany.id, {is_done: true}).subscribe(() => this.getEvent());\n      }\n    });\n  }\n\n  onEditTechnology() {\n    if (this.selectedEventCompany) {\n      this.eventCompanyService.openEditModal(this.selectedEventCompany).subscribe(company => {\n        if (company) {\n          this.getEvent();\n        }\n      });\n    }\n  }\n\n  onRemoveTechnology() {\n    this.modalService.confirm('danger').subscribe(confirm => {\n      if (confirm) {\n        this.eventCompanyService.delete(this.selectedEventCompany.id).subscribe(() => this.getEvent());\n        this.selectedEventCompany = null;\n      }\n    });\n  }\n\n  onAddCompanyToEvent() {\n    this.eventListService.openAddCompanyToEventModal(this.eventId).subscribe(event => {\n      if (event) {\n        this.getEvent();\n      }\n    });\n  }\n\n  onEventCompanySelectionChange() {\n    this.eventCompanyMenuItems[0].items[0].disabled = !!this.selectedEventCompany?.is_done;\n  }\n\n  onEventContactPersonSelectionChange() {\n    this.contactPersonMenuItems[0].items[0].disabled = !!this.selectedContactPerson?.is_done;\n  }\n\n  onDoneContactPerson() {\n    this.modalService.confirm('success').subscribe(confirm => {\n      if (confirm) {\n        this.eventContactPersonService.update(this.selectedContactPerson.id, {is_done: true}).subscribe(() => this.getEvent());\n      }\n    });\n  }\n\n  onEditContactPerson() {\n    if (this.selectedContactPerson) {\n      this.eventContactPersonService.openEditModal(this.selectedContactPerson).subscribe(contactPerson => {\n        if (contactPerson) {\n          this.getEvent();\n        }\n      });\n    }\n  }\n\n  onRemoveContactPerson() {\n    this.modalService.confirm('danger').subscribe(confirm => {\n      if (confirm) {\n        this.eventContactPersonService.delete(this.selectedContactPerson.id).subscribe(() => this.getEvent());\n        this.selectedContactPerson = null;\n      }\n    });\n  }\n\n  onAddContactPerson() {\n    this.eventListService.openAddContactPersonToEventModal(this.eventId).subscribe(event => {\n      if (event) {\n        this.getEvent();\n      }\n    });\n  }\n\n  onCreateLinkedEvent() {\n    this.eventListService.openCreateEventEventModal('create', 'withEmployee', this.event, this.selectedEventCompany.company.id).subscribe(event => {\n      if (event) {\n        this.getEvent();\n      }\n    })\n  }\n\n  ngOnDestroy() {\n    this.destroy$.next(true);\n    this.destroy$.complete();\n  }\n}\n","<div class=\"page\">\n  <div class=\"page__header\">\n    <div class=\"page__title\">\n      <pek-module-icon [module]=\"'contacts-events'\" [isActive]=\"true\"></pek-module-icon>\n      <h1>Event Card</h1>\n    </div>\n  </div>\n</div>\n\n<div class=\"page__content\">\n\n  <h2 class=\"mb-4\">Event Information</h2>\n\n  <div class=\"page__card event-card mb-4\">\n    <div class=\"event-card__info\" *ngIf=\"!isLoading; else infoLoading\">\n      <div class=\"row\">\n        <div class=\"col-md-5\" *ngIf=\"event\">\n          <h4>Name: <span>{{ event.event_type.name }}</span></h4>\n          <h4>Event Start: <span>{{ event.start | date: \"dd/MM/yyyy, HH:mm\" }}</span></h4>\n          <h4>Event End: <span>{{ event.end | date: \"dd/MM/yyyy, HH:mm\" }}</span></h4>\n          <h4>Event Description: <span>{{ event.description }}</span></h4>\n          <h4 *ngIf=\"event.employee.length === 1\">\n            Employee:\n            <span *ngFor=\"let employee of event.employee\">\n              {{ employee.first_name + \" \" + employee.last_name }}\n            </span>\n          </h4>\n          <h4 *ngIf=\"event.employee.length > 1\">\n            Employees:\n            <span *ngFor=\"let employee of event.employee\">\n              {{ employee.first_name + \" \" + employee.last_name  }},\n            </span>\n          </h4>\n          <h4 *ngIf=\"event.employee.length === 0\">\n            Employee:\n            <span> Not Related </span>\n          </h4>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <h2 class=\"mb-4\">Event Companies</h2>\n\n  <div class=\"page__card mb-4 card-event\">\n    <div class=\"page__table\">\n      <p-table\n        #dt\n        selectionMode=\"single\"\n        scrollHeight=\"calc(100vh - 18.8rem)\"\n        [scrollable]=\"true\"\n        [paginator]=\"event?.on_companies.length > 0\"\n        [rows]=\"10\"\n        [(selection)]=\"selectedEventCompany\"\n        [value]=\"event?.on_companies\"\n        (selectionChange)=\"onEventCompanySelectionChange()\"\n      >\n        <ng-template pTemplate=\"caption\">\n          <div class=\"d-flex\">\n            <p class=\"subtitle\" *ngIf=\"!selectedEventCompany\">Choose the Company to edit</p>\n            <p-menubar class=\"ml-auto\" [model]=\"eventCompanyMenuItems\"\n                       [class.disabled]=\"!selectedEventCompany\"></p-menubar>\n            <button (click)=\"onAddCompanyToEvent()\" pButton type=\"button\" icon=\"pi pi-plus\" class=\"ml-2\"\n                    label=\"Add Company\"></button>\n          </div>\n        </ng-template>\n        <ng-template pTemplate=\"header\">\n          <tr>\n            <th class=\"text-center\" style=\"width: 5%;\">#</th>\n            <th style=\"width: 35%;\">Name</th>\n            <th style=\"width: 45%;\">Comment</th>\n            <th class=\"text-center\" style=\"width: 15%;\">Is Done</th>\n          </tr>\n        </ng-template>\n        <ng-template pTemplate=\"body\" let-company let-i=\"rowIndex\">\n          <tr [pSelectableRow]=\"company\">\n            <td class=\"text-center\">{{ i + 1 }}</td>\n            <td>\n              <a [routerLink]=\"'/dash/crm/businnes-partners/company-page/' + company.company.id\">\n                {{ company.company.name }}\n              </a>\n            </td>\n            <td>\n              {{ company.comment }}\n            </td>\n            <td class=\"text-center\">\n              <div class=\"icons\">\n                <i class=\"pi pi-check text-success\" *ngIf=\"company.is_done; else notGrouped\"></i>\n              </div>\n            </td>\n          </tr>\n        </ng-template>\n        <ng-template pTemplate=\"emptymessage\">\n          <tr>\n            <td class=\"text-center p-4\" [attr.colspan]=\"4\">\n              <i *ngIf=\"isLoading\" class=\"pi pi-spin pi-spinner\" style=\"font-size: 2.25rem\"></i>\n              <span *ngIf=\"!isLoading\">No Records Found</span>\n            </td>\n          </tr>\n        </ng-template>\n        <ng-template pTemplate=\"paginatorright\">\n          <p-button\n            type=\"button\"\n            (click)=\"dt.paginator=false\"\n            styleClass=\"p-button-text\"\n          >\n            All\n          </p-button>\n        </ng-template>\n      </p-table>\n    </div>\n    <div *ngIf=\"!dt.paginator && !isLoading && event?.on_companies.length > 0\" class=\"paginator-return-pagination\">\n      <p-button\n        type=\"button\"\n        (click)=\"dt.paginator=true\"\n        styleClass=\"p-button-text\"\n      >\n        Return pagination\n      </p-button>\n    </div>\n  </div>\n\n  <h2 class=\"mb-4\">Contact Persons</h2>\n\n  <div class=\"page__card\">\n    <div class=\"page__table\">\n      <p-table\n        #st\n        selectionMode=\"single\"\n        scrollHeight=\"calc(100vh - 18.8rem)\"\n        [scrollable]=\"true\"\n        [paginator]=\"event?.on_contacts.length > 0\"\n        [rows]=\"10\"\n        [(selection)]=\"selectedContactPerson\"\n        [value]=\"event?.on_contacts\"\n        (selectionChange)=\"onEventContactPersonSelectionChange()\"\n      >\n        <ng-template pTemplate=\"caption\">\n          <div class=\"d-flex\">\n            <p class=\"subtitle\" *ngIf=\"!selectedContactPerson\">Choose the Contact Person to edit</p>\n            <p-menubar class=\"ml-auto\" [model]=\"contactPersonMenuItems\"\n                       [class.disabled]=\"!selectedContactPerson\"></p-menubar>\n            <button (click)=\"onAddContactPerson()\" pButton type=\"button\" icon=\"pi pi-plus\" class=\"ml-2\"\n                    label=\"Add Contact Person\"></button>\n          </div>\n        </ng-template>\n        <ng-template pTemplate=\"header\">\n          <tr>\n            <th style=\"width: 5%;\" class=\"text-center\">#</th>\n            <th style=\"width: 35%;\">Name</th>\n            <th style=\"width: 45%;\">Comment</th>\n            <th style=\"width: 15%;\" class=\"text-center\">Is Done</th>\n          </tr>\n        </ng-template>\n        <ng-template pTemplate=\"body\" let-contact_person let-i=\"rowIndex\">\n          <tr [pSelectableRow]=\"contact_person\">\n            <td class=\"text-center\" style=\"width: 5%;\">{{ i + 1 }}</td>\n            <td style=\"width: 35%;\">\n              {{ contact_person.contact_person.first_name }} {{ contact_person.contact_person.last_name }}\n            </td>\n            <td style=\"width: 45%;\">\n              {{ contact_person.comment }}\n            </td>\n            <td style=\"width: 15%;\" class=\"text-center\">\n              <div class=\"icons\">\n                <i class=\"pi pi-check text-success\" *ngIf=\"contact_person.is_done; else notGrouped\"></i>\n              </div>\n            </td>\n          </tr>\n        </ng-template>\n        <ng-template pTemplate=\"emptymessage\">\n          <tr>\n            <td class=\"text-center p-4\" [attr.colspan]=\"4\">\n              <i *ngIf=\"isLoading\" class=\"pi pi-spin pi-spinner\" style=\"font-size: 2.25rem\"></i>\n              <span *ngIf=\"!isLoading\">No Records Found</span>\n            </td>\n          </tr>\n        </ng-template>\n        <ng-template pTemplate=\"paginatorright\">\n          <p-button\n            type=\"button\"\n            (click)=\"st.paginator=false\"\n            styleClass=\"p-button-text\"\n          >\n            All\n          </p-button>\n        </ng-template>\n      </p-table>\n    </div>\n    <div *ngIf=\"!st.paginator && !isLoading && event?.on_contacts.length > 0\" class=\"paginator-return-pagination\">\n      <p-button\n        type=\"button\"\n        (click)=\"st.paginator=true\"\n        styleClass=\"p-button-text\"\n      >\n        Return pagination\n      </p-button>\n    </div>\n  </div>\n</div>\n\n<ng-template #notGrouped>\n  <i class=\"pi pi-times text-danger\"></i>\n</ng-template>\n\n<ng-template #infoLoading>\n  <div class=\"info-loading\">\n    <i class=\"pi pi-spin pi-spinner\" style=\"font-size: 2.25rem\"></i>\n  </div>\n</ng-template>\n","import {Component, OnDestroy, OnInit, ViewChild} from '@angular/core';\nimport {EventReport} from '../../models/event-report';\nimport {FormBuilder, FormGroup} from '@angular/forms';\nimport {QuerySearch} from '@shared/models/other';\nimport {EventsReportService} from '../../services/events-report.service';\nimport {Paginator} from 'primeng/paginator';\nimport {Table} from 'primeng/table';\nimport {EventType} from '../../models/event-type';\nimport {Subject, takeUntil} from 'rxjs';\n\n@Component({\n  selector: 'pek-crm-events-reports',\n  templateUrl: './crm-events-reports.component.html',\n  styleUrls: ['./crm-events-reports.component.scss']\n})\nexport class CrmEventsReportsComponent implements OnInit, OnDestroy {\n  @ViewChild('dt') dt: Table;\n  @ViewChild('paginator') paginator: Paginator;\n\n  private destroy$ = new Subject();\n\n  isShowAll = false;\n  isStartOnePage = false;\n  reportsCount = 0;\n\n  public dateRangeLimit: Date;\n\n  get() {\n    this.eventsReportService.get(this.query).pipe(\n      takeUntil(this.destroy$)\n    ).subscribe(response => {\n      this.eventsReports = response;\n      this.reportsCount = this.eventsReports.length;\n\n      if (this.isStartOnePage) {\n        this.paginator?.changePage(0);\n      }\n\n      this.isStartOnePage = false;\n\n      this.breakForGroupedEvents();\n\n      this.isLoading = false;\n    });\n  }\n\n  breakForGroupedEvents(): void {\n    this.eventsReports.forEach(report => {\n      report.groupedLastEvents = [];\n      report.groupedNextEvents = [];\n      this.createGroups(report);\n      this.groupLastEvents(report);\n      this.groupNextEvents(report);\n\n      report.groupedLastEvents.filter(group => group.root_id >= 0).forEach(group => {\n        const groupInNextEvents = report.groupedNextEvents.find(el => el.root_id === group.root_id);\n        if (groupInNextEvents) {\n          const groupedLastEventsAmount = group.events.length;\n          const groupedNextEventsAmount = groupInNextEvents.events.length;\n          if (groupedLastEventsAmount > groupedNextEventsAmount) {\n            const difference = groupedLastEventsAmount - groupedNextEventsAmount;\n            const emptyCell = Array(difference).fill(null);\n            groupInNextEvents.events.push(...emptyCell);\n          } else {\n            const difference = groupedNextEventsAmount - groupedLastEventsAmount;\n            const emptyCell = Array(difference).fill(null);\n            group.events.push(...emptyCell);\n          }\n        }\n      });\n\n      report.groupedLastEvents.sort((a, b) => b.root_id - a.root_id);\n      report.groupedNextEvents.sort((a, b) => b.root_id - a.root_id);\n      report.groupedLastEvents.forEach(group => {\n        group.events = group.events.sort((a, b) => {\n          if (a && b) {\n            b.start = new Date(b.start);\n            a.start = new Date(a.start);\n            return a.start.getTime() - b.start.getTime();\n          }\n        });\n      });\n      report.groupedNextEvents.forEach(group => {\n        group.events = group.events.sort((a, b) => {\n          if (a && b) {\n            b.start = new Date(b.start);\n            a.start = new Date(a.start);\n            return a.start.getTime() - b.start.getTime();\n          }\n        });\n      });\n    });\n  }\n\n  createGroups(report: EventReport): void {\n    const lastRootIds = report.last_events.map(event => event.root);\n    const nextRootIds = report.next_events.map(event => event.root);\n    const allIds = [...lastRootIds, ...nextRootIds];\n    allIds.filter((id, index) =>\n      allIds.findIndex(inId => inId === id) === index\n    ).forEach(id => {\n      const rootId = id ? id : -1;\n      report.groupedLastEvents.push({\n        root_id: rootId,\n        label: rootId > -1 ? 'Connected Events' : 'Events',\n        events: []\n      });\n      report.groupedNextEvents.push({\n        root_id: rootId,\n        label: rootId > -1 ? 'Connected Events' : 'Events',\n        events: []\n      });\n    });\n  }\n\n  groupLastEvents(report: EventReport): void {\n    // group by last event root id\n    report.last_events.forEach(event => {\n      const isGroupRootEvent = report.groupedLastEvents.find(el => el.root_id === event.id);\n      if (!isGroupRootEvent) {\n        const rootId = event.root ? event.root : -1;\n        const isInListIndex = report.groupedLastEvents.findIndex(eventInside => eventInside.root_id === rootId);\n        if (isInListIndex > -1) {\n          report.groupedLastEvents[isInListIndex].events.push(event);\n        }\n      }\n    });\n    // find last event root if it is existing\n    report.groupedLastEvents.forEach(group => {\n      const groupRootEvent = report.last_events.find(event => event.id === group.root_id);\n      if (groupRootEvent) {\n        group.events.splice(0, 0, groupRootEvent);\n      }\n    });\n  }\n\n  groupNextEvents(report: EventReport): void {\n    // group by next event root id\n    report.next_events.forEach(event => {\n      const isGroupRootEvent = report.groupedNextEvents.find(el => el.root_id === event.id);\n      if (!isGroupRootEvent) {\n        const rootId = event.root ? event.root : -1;\n        const isInListIndex = report.groupedNextEvents.findIndex(eventInside => eventInside.root_id === rootId);\n        if (isInListIndex > -1) {\n          report.groupedNextEvents[isInListIndex].events.push(event);\n        }\n      }\n    });\n    // find event root if it is existing\n    report.groupedNextEvents.forEach(group => {\n      const groupRootEvent = report.next_events.find(event => event.id === group.root_id);\n      if (groupRootEvent) {\n        group.events.splice(0, 0, groupRootEvent);\n      }\n    });\n  }\n\n  getForPagination() {\n    this.eventsReportService.getForPagination(this.query).pipe(\n      takeUntil(this.destroy$)\n    ).subscribe(response => {\n      this.eventsReports = response.results;\n      this.reportsCount = response.count;\n\n      if (this.isStartOnePage) {\n        this.paginator.changePage(0);\n      }\n\n      this.isStartOnePage = false;\n      this.breakForGroupedEvents();\n\n      this.isLoading = false;\n    });\n  }\n\n  searchForm: FormGroup = this.fb.group({\n    page: [1],\n    name: [null],\n    categories_ids: [null],\n    chain_status_ids: [null],\n    employees_ids: [null],\n    is_null_chain_status: [null],\n    order_by_name: [null],\n    order_by_date: [true],\n    order_by_date_end: [null],\n    order_by_next_event_date: [null],\n    order_by_next_event_date_end: [null],\n    event_date_start: [null],\n    event_date_end: [null],\n    last_events_date_start: [null],\n    last_events_date_end: [null],\n    feature_events_date_start: [null],\n    feature_events_date_end: [null],\n    dateFilterType: [null],\n    datesLastFilterType: [null],\n    datesFutureFilterType: [null],\n    autoEvents: [true],\n    groupView: [false]\n  });\n\n  rangeCalendar: any = [new Date(), new Date()];\n\n  today: Date;\n  isLoading = false;\n\n  lastTenDays: Date;\n  nextYear: Date;\n\n  eventsReports: EventReport[];\n  selectedEventsReport: EventReport;\n\n  selectedFilterType = 'lastNextDate';\n\n  queryKey = 'name:null/categories_ids:null/chain_status_ids:null/employees_ids:null/is_null_chain_status:null';\n\n  dateLastFilterTypes = [\n    {name: 'Last events date start', value: 'lastStart'},\n    {name: 'Last events date end', value: 'lastEnd'}\n  ];\n\n  dateFutureFilterTypes = [\n    {name: 'Future events date start', value: 'futureStart'},\n    {name: 'Future events date end', value: 'futureEnd'}\n  ];\n\n  query: QuerySearch[] = [\n    {name: 'page', value: this.searchForm.get('page').value},\n    {name: 'ordering', value: '-last_event_start'},\n    {name: 'test_method', value: 'true'},\n  ];\n\n  constructor(\n    private readonly fb: FormBuilder,\n    private readonly eventsReportService: EventsReportService\n  ) {\n  }\n\n  ngOnInit(): void {\n    this.dateRangeLimit = new Date();\n    let date = new Date();\n    this.lastTenDays = new Date(date.setDate(date.getDate() - 10));\n    date = new Date();\n    this.nextYear = new Date(date.setDate(date.getDate() + 365.2422));\n    this.today = new Date();\n    this.search();\n  }\n\n  search() {\n    this.destroy$.next(true);\n    // console.log('search');\n\n    const hour = new Date().getHours();\n    const minutes = new Date().getMinutes();\n\n    this.isLoading = true;\n    this.eventsReports = [];\n    this.selectedEventsReport = null;\n\n    const newQueryKey = `name:${this.searchForm.get('name').value}/categories_ids:${this.searchForm.get('categories_ids').value}/chain_status_ids:${this.searchForm.get('chain_status_ids').value}/employees_ids:${this.searchForm.get('employees_ids').value}/is_null_chain_status:${this.searchForm.get('is_null_chain_status').value}`;\n    if (newQueryKey !== this.queryKey) {\n      this.queryKey = newQueryKey;\n      this.searchForm.get('page').patchValue(1);\n      this.isStartOnePage = true;\n    }\n\n\n    this.query = [\n      {name: 'page', value: this.searchForm.get('page').value},\n    ];\n\n    if (this.searchForm.get('name').value) this.query.push({name: 'name', value: this.searchForm.get('name').value});\n    if (this.searchForm.get('categories_ids').value && this.searchForm.get('categories_ids').value.length > 0) {\n      this.query.push({\n        name: 'categories_ids',\n        value: this.preSearch(this.searchForm.get('categories_ids').value)\n      });\n    }\n\n    if (this.searchForm.get('chain_status_ids').value && this.searchForm.get('chain_status_ids').value.length > 0) {\n      this.query.push({\n        name: 'chain_status_ids',\n        value: this.searchForm.get('chain_status_ids').value\n      });\n    }\n\n    if (this.searchForm.get('datesLastFilterType').value) {\n      let startDateValue = null;\n      let endDateValue = null;\n\n      if (this.searchForm.get('last_events_date_start').value) {\n        startDateValue = new Date(this.searchForm.get('last_events_date_start')\n          .value.setHours(hour, minutes)).toISOString();\n      }\n\n      if (this.searchForm.get('last_events_date_end').value) {\n        endDateValue = new Date(this.searchForm.get('last_events_date_end')\n          .value.setHours(hour, minutes)).toISOString();\n      }\n\n      if (startDateValue && endDateValue) {\n        if (this.searchForm.get('datesLastFilterType').value === 'lastStart') {\n          this.query.push({\n            name: 'last_events_date_start_after',\n            value: startDateValue\n          });\n          this.query.push({\n            name: 'last_events_date_start_before',\n            value: endDateValue\n          });\n        }\n\n        if (this.searchForm.get('datesLastFilterType').value === 'lastEnd') {\n          this.query.push({\n            name: 'last_events_date_end_after',\n            value: startDateValue\n          });\n          this.query.push({\n            name: 'last_events_date_end_before',\n            value: endDateValue\n          });\n        }\n      }\n    } else {\n      this.query.push({\n        name: 'last_events_date_start_after',\n        value: new Date(this.lastTenDays.setHours(hour, minutes)).toISOString()\n      });\n      this.query.push({\n        name: 'last_events_date_start_before',\n        value: new Date(this.today.setHours(hour, minutes)).toISOString()\n      });\n    }\n\n    if (this.searchForm.get('datesFutureFilterType').value) {\n      let startDateValue = null;\n      let endDateValue = null;\n\n      if (this.searchForm.get('feature_events_date_start').value) {\n        startDateValue = new Date(this.searchForm.get('feature_events_date_start')\n          .value.setHours(hour, minutes)).toISOString();\n      }\n\n      if (this.searchForm.get('feature_events_date_end').value) {\n        endDateValue = new Date(this.searchForm.get('feature_events_date_end')\n          .value.setHours(hour, minutes)).toISOString();\n      }\n\n      if (startDateValue && endDateValue) {\n        if (this.searchForm.get('datesFutureFilterType').value === 'futureStart') {\n          this.query.push({\n            name: 'next_events_date_start_after',\n            value: startDateValue\n          });\n          this.query.push({\n            name: 'next_events_date_start_before',\n            value: endDateValue\n          });\n        }\n\n        if (this.searchForm.get('datesFutureFilterType').value === 'futureEnd') {\n          this.query.push({\n            name: 'next_events_date_end_after',\n            value: startDateValue\n          });\n          this.query.push({\n            name: 'next_events_date_end_before',\n            value: endDateValue\n          });\n        }\n      }\n    } else {\n      this.query.push({\n        name: 'next_events_date_start_after',\n        value: new Date(this.today.setHours(hour, minutes)).toISOString()\n      });\n      this.query.push({\n        name: 'next_events_date_start_before',\n        value: new Date(this.nextYear.setHours(hour, minutes)).toISOString()\n      });\n    }\n\n    const ordering = this.prepareSortingField();\n    if (ordering) {\n      this.query.push({\n        name: 'ordering',\n        value: ordering\n      });\n    }\n\n    if (this.searchForm.get('autoEvents').value) {\n      this.query.push({\n        name: 'hide_auto_events',\n        value: this.searchForm.get('autoEvents').value\n      });\n    }\n\n    if (this.searchForm.get('employees_ids').value && this.searchForm.get('employees_ids').value.length > 0) {\n      this.query.push({\n        name: 'employees_ids',\n        value: this.preSearch(this.searchForm.get('employees_ids').value)\n      });\n    }\n\n    if (this.searchForm.get('is_null_chain_status').value !== null) this.query.push({\n      name: 'is_null_chain_status',\n      value: this.searchForm.get('is_null_chain_status').value\n    });\n\n    if (this.isShowAll) {\n      this.searchForm.get('page').patchValue(1);\n      this.get();\n    } else this.getForPagination();\n  }\n\n  preSearch(value: number[]) {\n    if (value && value.length > 0) return value.join(',');\n  }\n\n  prepareSortingField(): string {\n    let sorting = '';\n    if (this.searchForm.get('order_by_name').value !== null) {\n      if (this.searchForm.get('order_by_name').value) {\n        sorting += '-name,';\n      } else {\n        sorting += 'name,';\n      }\n    }\n\n    if (this.searchForm.get('order_by_date').value !== null) {\n      if (this.searchForm.get('order_by_date').value) {\n        sorting += '-last_event_start,';\n      } else {\n        sorting += 'last_event_start,';\n      }\n    }\n\n    if (this.searchForm.get('order_by_next_event_date').value !== null) {\n      if (this.searchForm.get('order_by_next_event_date').value) {\n        sorting += '-next_event_start,';\n      } else {\n        sorting += 'next_event_start,';\n      }\n    }\n\n    if (this.searchForm.get('order_by_next_event_date_end').value !== null) {\n      if (this.searchForm.get('order_by_next_event_date_end').value) {\n        sorting += '-next_event_end,';\n      } else {\n        sorting += 'next_event_end,';\n      }\n    }\n\n    if (this.searchForm.get('order_by_date_end').value !== null) {\n      if (this.searchForm.get('order_by_date_end').value) {\n        sorting += '-last_event_end,';\n      } else {\n        sorting += 'last_event_end,';\n      }\n    }\n\n    return sorting;\n  }\n\n  sorting(value: boolean, field: string) {\n    if (value === null) {\n      this.searchForm.get(field).patchValue(false);\n    } else if (value === false) {\n      this.searchForm.get(field).patchValue(true);\n    } else if (value === true) {\n      this.searchForm.get(field).patchValue(null);\n    }\n    this.search();\n  }\n\n\n  searchByLastDate(): void {\n    const startDateValue = this.searchForm.get('last_events_date_start').value;\n    const endDateValue = this.searchForm.get('last_events_date_end').value;\n\n    if (startDateValue && endDateValue) {\n      this.rangeCalendar = [this.searchForm.get('event_date_start').value, this.searchForm.get('event_date_end').value];\n      this.search();\n    }\n  }\n\n  getSmallComment(comment: string) {\n    if (comment) return comment.substring(0, 13) + '...';\n  }\n\n  searchByFeatureDate(): void {\n    const startDateValue = this.searchForm.get('feature_events_date_start').value;\n    const endDateValue = this.searchForm.get('feature_events_date_end').value;\n\n    if (startDateValue && endDateValue) {\n      this.rangeCalendar = [this.searchForm.get('event_date_start').value, this.searchForm.get('event_date_end').value];\n      this.search();\n    }\n  }\n\n  changeLastsDateFilterType(evt: any) {\n    if (!evt.value) {\n      this.searchForm.get('last_events_date_start').setValue(null);\n      this.searchForm.get('last_events_date_end').setValue(null);\n      this.search();\n    } else {\n      this.searchByLastDate();\n    }\n  }\n\n  changeFeatureDateFilterType(evt: any) {\n    if (!evt.value) {\n      this.searchForm.get('feature_events_date_start').setValue(null);\n      this.searchForm.get('feature_events_date_end').setValue(null);\n      this.search();\n    } else {\n      this.searchByFeatureDate();\n    }\n  }\n\n  onShowAll() {\n    this.isShowAll = true;\n    this.dt.scrollable = true;\n    this.search();\n  }\n\n  onShowPartial() {\n    this.isShowAll = false;\n    this.dt.scrollable = false;\n    this.search();\n  }\n\n  paginate(evt: any) {\n    // Если начинаем с первой страницы, не выполняем запрос повторно, т.к. он и так выполняется\n    if (!this.isStartOnePage) {\n      this.searchForm.get('page').patchValue(evt.page + 1);\n      this.search();\n    }\n  }\n\n  onSelectCompany(id: number) {\n    this.searchForm.get('name').patchValue(id);\n    this.search();\n  }\n\n  onSelectEventTypes(eventTypes: EventType[]) {\n    if (eventTypes) {\n      this.searchForm.get('categories_ids').patchValue(eventTypes);\n    } else {\n      this.searchForm.get('categories_ids').patchValue(null);\n    }\n    this.search();\n  }\n\n  onSelectStatuses(ids: string) {\n    this.searchForm.get('chain_status_ids').patchValue(ids);\n    this.search();\n  }\n\n  onSelectEmployees(ids: number[]) {\n    if (ids) {\n      this.searchForm.get('employees_ids').patchValue(ids);\n    } else {\n      this.searchForm.get('employees_ids').patchValue(null);\n    }\n\n    this.search();\n  }\n\n  ngOnDestroy() {\n    this.destroy$.next(true);\n    this.destroy$.complete();\n  }\n}\n","<div class=\"page\">\n  <div class=\"page__header\">\n    <div class=\"page__title\">\n      <pek-module-icon [module]=\"'contacts-events'\" [isActive]=\"true\"></pek-module-icon>\n      <h1>Events Reports Date: {{today | date: \"dd.MM\"}} Time: {{today | date: \"HH:mm\"}}</h1>\n    </div>\n  </div>\n</div>\n\n<div class=\"page__content\">\n  <div class=\"page__card\">\n    <form [formGroup]=\"searchForm\" class=\"pb-2\">\n      <div class=\"row\">\n        <div class=\"col-3\">\n          <div class=\"form-group\">\n            <label>Company</label>\n            <pek-company-picker (selectCompany)=\"onSelectCompany($event)\"></pek-company-picker>\n          </div>\n        </div>\n        <div class=\"col-3\">\n          <div class=\"form-group\">\n            <label>Event Types</label>\n            <pek-crm-multi-event-types-picker\n              (selectEventTypes)=\"onSelectEventTypes($event)\"></pek-crm-multi-event-types-picker>\n          </div>\n        </div>\n        <div class=\"col-2\">\n          <div class=\"form-group\">\n            <label>Sales Chain Statuses</label>\n            <pek-multi-sales-status-picker (selectStatuses)=\"onSelectStatuses($event)\"></pek-multi-sales-status-picker>\n          </div>\n        </div>\n        <div class=\"col-4\">\n          <div class=\"event-row-filters\">\n            <div class=\"form-group mr-3\">\n              <label>Employees</label>\n              <pek-crm-employee-picker (selectEmployees)=\"onSelectEmployees($event)\"></pek-crm-employee-picker>\n            </div>\n            <div class=\"form-group mr-3\">\n              <label for=\"auto-events\">Hide Status Events</label>\n              <p-checkbox\n                class=\"checkbox-big\"\n                name=\"group1\"\n                [binary]=\"true\"\n                inputId=\"auto-events\"\n                (onChange)=\"search()\"\n                formControlName=\"autoEvents\"\n              >\n              </p-checkbox>\n            </div>\n            <div class=\"form-group\">\n              <label for=\"group-linked-events\">Group Linked Events</label>\n              <p-checkbox\n                class=\"checkbox-big\"\n                name=\"group2\"\n                [binary]=\"true\"\n                inputId=\"group-linked-events\"\n                formControlName=\"groupView\"\n              >\n              </p-checkbox>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"row\">\n        <div class=\"col-3\">\n          <div class=\"form-group\">\n            <label>Event Date Filter</label>\n            <p-dropdown\n              formControlName=\"datesLastFilterType\"\n              [options]=\"dateLastFilterTypes\"\n              [showClear]=\"true\"\n              placeholder=\"Select Date Filter Type\"\n              optionLabel=\"name\"\n              (onChange)=\"changeLastsDateFilterType($event)\"\n              optionValue=\"value\"\n            >\n            </p-dropdown>\n          </div>\n        </div>\n        <div class=\"col-3\" *ngIf=\"searchForm.get('datesLastFilterType').value\">\n          <div class=\"form-group\">\n            <label>Event Date From</label>\n            <p-calendar\n              [firstDayOfWeek]=\"1\"\n              [showButtonBar]=\"true\"\n              inputId=\"basic\"\n              dateFormat=\"dd/mm/yy\"\n              formControlName=\"last_events_date_start\"\n              (ngModelChange)=\"searchByLastDate()\"\n              [readonlyInput]=\"true\"\n              [maxDate]=\"dateRangeLimit\"\n            ></p-calendar>\n          </div>\n        </div>\n        <div class=\"col-3\" *ngIf=\"searchForm.get('datesLastFilterType').value\">\n          <div class=\"form-group\">\n            <label>Event Date To</label>\n            <p-calendar\n              [firstDayOfWeek]=\"1\"\n              [showButtonBar]=\"true\"\n              inputId=\"basic\"\n              formControlName=\"last_events_date_end\"\n              (ngModelChange)=\"searchByLastDate()\"\n              dateFormat=\"dd/mm/yy\"\n              [readonlyInput]=\"true\"\n              [maxDate]=\"dateRangeLimit\"\n            ></p-calendar>\n          </div>\n        </div>\n        <!--          </div>-->\n        <!--        </ng-template>-->\n\n        <!--     DATE RANGE FILTERS   -->\n        <!--        <ng-template [ngIf]=\"selectedFilterType === 'nextDate'\">-->\n\n      </div>\n      <div class=\"row\">\n        <div class=\"col-3\">\n          <div class=\"form-group\">\n            <label>Event Date Filter</label>\n            <p-dropdown\n              formControlName=\"datesFutureFilterType\"\n              [options]=\"dateFutureFilterTypes\"\n              [showClear]=\"true\"\n              placeholder=\"Select Date Filter Type\"\n              optionLabel=\"name\"\n              (onChange)=\"changeFeatureDateFilterType($event)\"\n              optionValue=\"value\"\n            >\n            </p-dropdown>\n          </div>\n        </div>\n        <div class=\"col-3\" *ngIf=\"searchForm.get('datesFutureFilterType').value\">\n          <div class=\"form-group\">\n            <label>Event Date From</label>\n            <p-calendar\n              [firstDayOfWeek]=\"1\"\n              [showButtonBar]=\"true\"\n              inputId=\"basic\"\n              dateFormat=\"dd/mm/yy\"\n              formControlName=\"feature_events_date_start\"\n              (ngModelChange)=\"searchByFeatureDate()\"\n              [readonlyInput]=\"true\"\n              [minDate]=\"dateRangeLimit\"\n            ></p-calendar>\n          </div>\n        </div>\n        <div class=\"col-3\" *ngIf=\"searchForm.get('datesFutureFilterType').value\">\n          <div class=\"form-group\">\n            <label>Event Date To</label>\n            <p-calendar\n              [firstDayOfWeek]=\"1\"\n              [showButtonBar]=\"true\"\n              inputId=\"basic\"\n              formControlName=\"feature_events_date_end\"\n              (ngModelChange)=\"searchByFeatureDate()\"\n              dateFormat=\"dd/mm/yy\"\n              [readonlyInput]=\"true\"\n              [minDate]=\"dateRangeLimit\"\n            ></p-calendar>\n          </div>\n        </div>\n      </div>\n    </form>\n    <div class=\"page__table\" *ngIf=\"!searchForm.get('groupView').value else groupedView\">\n      <div class=\"table-pagination-preloader\">\n        <p-table\n          #dt\n          class=\"table-full-loading events-reports\"\n          [rows]=\"10\"\n          [value]=\"eventsReports\"\n          [globalFilterFields]=\"['name']\"\n          selectionMode=\"single\"\n          [(selection)]=\"selectedEventsReport\"\n        >\n          <ng-template pTemplate=\"header\">\n            <tr class=\"bord-all\">\n              <th rowspan=\"3\" style=\"width: 5%\" class=\"text-center bord-top bord-left bord-dark\">#</th>\n              <th rowspan=\"3\" style=\"width: 15%;\" class=\"bord-dark bord-top sort-label\"\n                  (click)=\"sorting(searchForm.get('order_by_name').value, 'order_by_name')\">\n                Company\n                <pek-sort-icon [value]=\"searchForm.get('order_by_name').value\"></pek-sort-icon>\n              </th>\n            </tr>\n            <tr class=\"bord-all\">\n              <th colspan=\"5\" class=\"bord text-center dark-two bord-top\" style=\"width: 40%\">Last Event</th>\n              <th colspan=\"3\" class=\"bord text-center bord-top dark\" style=\"width: 40%\">Future\n                Event\n              </th>\n            </tr>\n            <tr>\n              <th class=\"bord text-center dark-two\" style=\"width: 10%\">Name</th>\n              <th\n                class=\"text-center dark-two sort-label\"\n                style=\"width: 10%\"\n                (click)=\"sorting(searchForm.get('order_by_date').value, 'order_by_date')\"\n              >\n                Start Date\n                <pek-sort-icon [value]=\"searchForm.get('order_by_date').value\"></pek-sort-icon>\n              </th>\n              <th\n                (click)=\"sorting(searchForm.get('order_by_date_end').value, 'order_by_date_end')\"\n                class=\"text-center dark-two sort-label\"\n                style=\"width: 10%\"\n              >\n                End Date\n                <pek-sort-icon [value]=\"searchForm.get('order_by_date_end').value\"></pek-sort-icon>\n              </th>\n              <th class=\"text-center dark-two\" style=\"width: 10%\">Comment</th>\n              <th class=\"text-center dark-two\" style=\"width: 10%\">Status</th>\n              <th class=\"bord text-center dark\" style=\"width: 10%\">Name</th>\n              <th\n                class=\"text-center dark sort-label\"\n                style=\"width: 10%\"\n                (click)=\"sorting(searchForm.get('order_by_next_event_date').value, 'order_by_next_event_date')\"\n              >\n                Start Date\n                <pek-sort-icon [value]=\"searchForm.get('order_by_next_event_date').value\"></pek-sort-icon>\n              </th>\n              <th\n                class=\"text-center dark border-right  sort-label\"\n                style=\"width: 10%\"\n                (click)=\"sorting(searchForm.get('order_by_next_event_date_end').value, 'order_by_next_event_date_end')\"\n              >\n                End Date\n                <pek-sort-icon [value]=\"searchForm.get('order_by_next_event_date_end').value\"></pek-sort-icon>\n              </th>\n            </tr>\n          </ng-template>\n\n          <ng-template pTemplate=\"body\" let-report let-i=\"rowIndex\">\n            <tr>\n              <td style=\"width: 5%\" class=\"text-center bord-dark\">\n                <div class=\"event-item justify-content-center\">\n                  {{(this.searchForm.get('page').value - 1) * 10 + i + 1}}\n                </div>\n              </td>\n              <td style=\"width: 15%\" class=\"table-comment small-comment bord-dark\">\n                <div class=\"event-item justify-content-center\">\n                        <span>\n                          <a\n                            [routerLink]=\"'/crm/business-partners/company-page/' + report.id\"\n                            target=\"_blank\"\n                          >\n                            {{ report.name }}\n                          </a>\n                        </span>\n                  <div class=\"full-comment full-comment_big\">\n                    <div class=\"row\">\n                      <div class=\"col-md-5\">\n                        <h4>Name: <i>{{ report.name }}</i></h4>\n                        <h4>\n                          Category:\n                          <i>\n                            <ng-container *ngFor=\"let item of report.categories\"\n                            >{{ item.name }},\n                            </ng-container>\n                          </i>\n                        </h4>\n                        <h4>Address: <i>{{ report.address }}</i></h4>\n                        <h4>Email: <i>{{ report.email }}</i></h4>\n                        <h4>Phone Number: <i>{{ report.phone_number }}</i></h4>\n                        <h4>Website: <i><a [href]=\"report.website\" target=\"_blank\">{{ report.website }}</a></i></h4>\n                        <h4>Tax Number: <i>{{ report.tax_number }}</i></h4>\n                        <h4>Register Number: <i>{{ report.registration_number }}</i></h4>\n                      </div>\n                      <div class=\"col-md-7\">\n                        <h4>Nomenclature: <i>{{ report.supplier_nomenclature }}</i></h4>\n                        <h4>Description: <i>{{ report.comment }}</i></h4>\n                        <h4>Connected Companies</h4>\n                        <p *ngFor=\"let linked_company of report.linked_companies\">\n                          <i>{{ linked_company.name }}</i>\n                        </p>\n                        <h4>Dont have VAT:\n                          <i class=\"pi pi-check text-success\" *ngIf=\"report.has_not_vat\"></i>\n                          <i class=\"pi pi-times text-danger\" *ngIf=\"!report.has_not_vat\"></i>\n                        </h4>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </td>\n\n              <td style=\"width: 10%\" class=\"text-center bord dark-two no-padding\">\n                <div class=\"event-item event-type-name\" [class.event-item-col]=\"report.last_events.length > 1\">\n                  <div *ngIf=\"report.last_events && report.last_events.length > 0\">\n                    <div class=\"report-event\" *ngFor=\"let event of report.last_events\">\n                      <a [routerLink]=\"'/crm/events/' + event?.id\"\n                         target=\"_blank\">{{ event?.event_name }}</a>\n                    </div>\n                  </div>\n                </div>\n              </td>\n\n              <td style=\"width: 10%\" class=\"text-center dark-two no-padding\">\n                <div class=\"event-item\" [class.event-item-col]=\"report.last_events.length > 1\">\n                  <div *ngIf=\"report.last_events && report.last_events.length > 0\">\n                    <div class=\"report-event\" *ngFor=\"let event of report.last_events\">\n                      {{ event?.start | date: \"dd/MM/yyyy, HH:mm\" }}\n                    </div>\n                  </div>\n                </div>\n              </td>\n\n              <td style=\"width: 10%\" class=\"text-center dark-two no-padding\">\n                <div class=\"event-item\" [class.event-item-col]=\"report.last_events.length > 1\">\n                  <div *ngIf=\"report.last_events && report.last_events.length > 0\">\n                    <div class=\"report-event\" *ngFor=\"let event of report.last_events\">\n                      {{ event?.end | date: \"dd/MM/yyyy, HH:mm\" }}\n                    </div>\n                  </div>\n                </div>\n              </td>\n\n              <td style=\"width: 10%\" class=\"table-comment  text-center dark-two no-padding\">\n                <div class=\"event-item\" [class.event-item-col]=\"report.last_events.length > 1\">\n                  <div *ngIf=\"report.last_events && report.last_events.length > 0\">\n                    <div class=\"report-event\" *ngFor=\"let event of report.last_events\">\n                      <div class=\"small-comment\">\n                              <span>\n                                {{getSmallComment(event?.event_comment)}}\n                              </span>\n                        <span\n                          *ngIf=\"getSmallComment(event?.event_comment)\"\n                          class=\"full-comment\"\n                        >\n                                {{event?.event_comment}}\n                              </span>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </td>\n              <td style=\"width: 10%\" class=\"text-center dark-two no-padding\">\n                <div class=\"event-item\" [class.event-item-col]=\"report.last_events.length > 1\">\n                  <div *ngIf=\"report.last_events && report.last_events.length > 0\">\n                    <div class=\"report-event\" *ngFor=\"let event of report.last_events\">\n                            <span [ngSwitch]=\"event?.is_done\">\n                              <ng-container *ngSwitchCase=\"true\">Done</ng-container>\n                              <ng-container *ngSwitchCase=\"false\">Not Done</ng-container>\n                            </span>\n                    </div>\n                  </div>\n                </div>\n              </td>\n              <!-- FutureEvents -->\n              <td style=\"width: 10%\" class=\"text-center bord dark no-padding\">\n                <div class=\"event-item event-type-name\" [class.event-item-col]=\"report.next_events.length > 1\">\n                  <div>\n                    <div class=\"report-event\" *ngFor=\"let event of report.next_events\">\n                      <a [routerLink]=\"'/crm/events/' + event?.id\"\n                         target=\"_blank\">\n                        {{ event?.event_name }}\n                      </a>\n                    </div>\n                  </div>\n                </div>\n              </td>\n              <td style=\"width: 10%\" class=\"text-center dark no-padding\">\n                <div class=\"event-item\">\n                  <div>\n                    <div class=\"report-event\" *ngFor=\"let event of report.next_events\">\n                      {{ event?.start | date: \"dd/MM/yyyy, HH:mm\" }}\n                    </div>\n                  </div>\n                </div>\n              </td>\n              <td style=\"width: 10%\" class=\"text-center dark border-right no-padding\">\n                <div class=\"event-item\">\n                  <div>\n                    <div class=\"report-event\" *ngFor=\"let event of report.next_events\">\n                      {{ event?.end | date: \"dd/MM/yyyy, HH:mm\" }}\n                    </div>\n                  </div>\n                </div>\n              </td>\n            </tr>\n          </ng-template>\n          <ng-template pTemplate=\"emptymessage\">\n            <tr>\n              <td class=\"text-center p-4\" [attr.colspan]=\"12\">\n                <i *ngIf=\"isLoading\" class=\"pi pi-spin pi-spinner\" style=\"font-size: 2.25rem\"></i>\n                <span *ngIf=\"!isLoading\">No Records Found</span>\n              </td>\n            </tr>\n          </ng-template>\n        </p-table>\n        <div class=\"pagination-preloader pagination-preloader_bord\" *ngIf=\"isLoading\">\n          <i class=\"pi pi-spin pi-spinner\" style=\"font-size: 2.25rem\"></i>\n        </div>\n      </div>\n      <div\n        class=\"paginator-wrapper\"\n        *ngIf=\"!isShowAll\"\n        [class.hidden]=\"eventsReports.length === 0\"\n      >\n        <p-paginator\n          #paginator\n          [rows]=\"10\"\n          [totalRecords]=\"reportsCount\"\n          (onPageChange)=\"paginate($event)\"\n        >\n        </p-paginator>\n        <p-button\n          (click)=\"onShowAll()\"\n          class=\"paginator-all\"\n          type=\"button\"\n          styleClass=\"p-button-text\"\n        >\n          All\n        </p-button>\n      </div>\n\n      <div *ngIf=\"isShowAll\" class=\"paginator-return-pagination\">\n        <p-button\n          type=\"button\"\n          (click)=\"onShowPartial()\"\n          styleClass=\"p-button-text\"\n        >\n          Return pagination\n        </p-button>\n      </div>\n    </div>\n  </div>\n</div>\n\n\n<ng-template #groupedView>\n  <div class=\"page__table\">\n    <div class=\"table-pagination-preloader\">\n      <p-table\n        #dt\n        class=\"table-full-loading events-reports\"\n        [rows]=\"10\"\n        [value]=\"eventsReports\"\n        [globalFilterFields]=\"['name']\"\n        selectionMode=\"single\"\n        [(selection)]=\"selectedEventsReport\"\n      >\n        <ng-template pTemplate=\"header\">\n          <tr class=\"bord-all\">\n            <th rowspan=\"3\" style=\"width: 5%\" class=\"text-center bord-top bord-left bord-dark\">#</th>\n            <th rowspan=\"3\" style=\"width: 15%;\" class=\"bord-dark bord-top sort-label\"\n                (click)=\"sorting(searchForm.get('order_by_name').value, 'order_by_name')\">\n              Company\n              <pek-sort-icon [value]=\"searchForm.get('order_by_name').value\"></pek-sort-icon>\n            </th>\n          </tr>\n          <tr class=\"bord-all\">\n            <th colspan=\"5\" class=\"bord text-center dark-two bord-top\" style=\"width: 40%\">Last Event</th>\n            <th colspan=\"3\" class=\"bord text-center bord-top dark\" style=\"width: 40%\">Future\n              Event\n            </th>\n          </tr>\n          <tr>\n            <th class=\"bord text-center dark-two\" style=\"width: 10%\">Name</th>\n            <th\n              class=\"text-center dark-two sort-label\"\n              style=\"width: 10%\"\n              (click)=\"sorting(searchForm.get('order_by_date').value, 'order_by_date')\"\n            >\n              Start Date\n              <pek-sort-icon [value]=\"searchForm.get('order_by_date').value\"></pek-sort-icon>\n            </th>\n            <th\n              (click)=\"sorting(searchForm.get('order_by_date_end').value, 'order_by_date_end')\"\n              class=\"text-center dark-two sort-label\"\n              style=\"width: 10%\"\n            >\n              End Date\n              <pek-sort-icon [value]=\"searchForm.get('order_by_date_end').value\"></pek-sort-icon>\n            </th>\n            <th class=\"text-center dark-two\" style=\"width: 10%\">Comment</th>\n            <th class=\"text-center dark-two\" style=\"width: 10%\">Status</th>\n            <th class=\"bord text-center dark\" style=\"width: 10%\">Name</th>\n            <th\n              class=\"text-center dark sort-label\"\n              style=\"width: 10%\"\n              (click)=\"sorting(searchForm.get('order_by_next_event_date').value, 'order_by_next_event_date')\"\n            >\n              Start Date\n              <pek-sort-icon [value]=\"searchForm.get('order_by_next_event_date').value\"></pek-sort-icon>\n            </th>\n            <th\n              class=\"text-center dark border-right  sort-label\"\n              style=\"width: 10%\"\n              (click)=\"sorting(searchForm.get('order_by_next_event_date_end').value, 'order_by_next_event_date_end')\"\n            >\n              End Date\n              <pek-sort-icon [value]=\"searchForm.get('order_by_next_event_date_end').value\"></pek-sort-icon>\n            </th>\n          </tr>\n        </ng-template>\n\n        <ng-template pTemplate=\"body\" let-report let-i=\"rowIndex\">\n          <tr>\n            <td style=\"width: 5%\" class=\"text-center bord-dark\">\n              <div class=\"event-item justify-content-center\">\n                {{(this.searchForm.get('page').value - 1) * 10 + i + 1}}\n              </div>\n            </td>\n            <td style=\"width: 15%\" class=\"table-comment small-comment bord-dark\">\n              <div class=\"event-item justify-content-center\">\n                <span>\n                  <a [routerLink]=\"'/crm/business-partners/company-page/' + report.id\"\n                     target=\"_blank\">{{ report.name }}</a>\n                </span>\n                <div class=\"full-comment full-comment_big\">\n                  <div class=\"row\">\n                    <div class=\"col-md-5\">\n                      <h4>Name: <i>{{ report.name }}</i></h4>\n                      <h4>\n                        Category:\n                        <i>\n                          <ng-container *ngFor=\"let item of report.categories\"\n                          >{{ item.name }},\n                          </ng-container>\n                        </i>\n                      </h4>\n                      <h4>Address: <i>{{ report.address }}</i></h4>\n                      <h4>Email: <i>{{ report.email }}</i></h4>\n                      <h4>Phone Number: <i>{{ report.phone_number }}</i></h4>\n                      <h4>Website: <i><a [href]=\"report.website\" target=\"_blank\">{{ report.website }}</a></i></h4>\n                      <h4>Tax Number: <i>{{ report.tax_number }}</i></h4>\n                      <h4>Register Number: <i>{{ report.registration_number }}</i></h4>\n                    </div>\n                    <div class=\"col-md-7\">\n                      <h4>Nomenclature: <i>{{ report.supplier_nomenclature }}</i></h4>\n                      <h4>Description: <i>{{ report.comment }}</i></h4>\n                      <h4>Connected Companies</h4>\n                      <p *ngFor=\"let linked_company of report.linked_companies\">\n                        <i>{{ linked_company.name }}</i>\n                      </p>\n                      <h4>Dont have VAT:\n                        <i class=\"pi pi-check text-success\" *ngIf=\"report.has_not_vat\"></i>\n                        <i class=\"pi pi-times text-danger\" *ngIf=\"!report.has_not_vat\"></i>\n                      </h4>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </td>\n\n            <td style=\"width: 10%\" class=\"text-center bord dark-two no-padding\">\n              <div class=\"event-item event-type-name\">\n                <div class=\"report-event-group\" *ngIf=\"report.groupedLastEvents && report.groupedLastEvents.length > 0\">\n                  <div *ngFor=\"let eventGroup of report.groupedLastEvents; let index=index\"\n                       [class]=\"eventGroup.root_id > -1 ?'row-' + index : ''\">\n                    <div class=\"report-event pl-1 unhide\">\n                        <span *ngIf=\"eventGroup.root_id > -1\">\n                           <b>\n                             <a [routerLink]=\"'/crm/events/' + eventGroup.root_id\"\n                                target=\"_blank\">\n                               {{eventGroup.label}}\n                               {{eventGroup.root_id}}</a>\n                          </b>\n                        </span>\n                      <span *ngIf=\"eventGroup.root_id === -1\">\n                          <b>\n                               {{eventGroup.label}}\n                          </b>\n                        </span>\n\n                    </div>\n                    <div *ngFor=\"let event of eventGroup.events\" class=\"report-event hide\">\n                      <a *ngIf=\"event\" class=\"pl-2\" [routerLink]=\"'/crm/events/' + event.id\"\n                         target=\"_blank\">{{event.event_name}}</a>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </td>\n            <td style=\"width: 10%\" class=\"text-center dark-two no-padding\">\n              <div class=\"event-item\">\n                <div class=\"report-event-group\" *ngIf=\"report.groupedLastEvents && report.groupedLastEvents.length > 0\">\n                  <div *ngFor=\"let eventGroup of report.groupedLastEvents; let index=index\"\n                       [class]=\"eventGroup.root_id > -1 ?'row-' + index : ''\">\n                    <div class=\"report-event\">\n\n                    </div>\n                    <div *ngFor=\"let event of eventGroup.events\" class=\"report-event\">\n                      {{ event?.start | date: \"dd/MM/yyyy, HH:mm\" }}\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </td>\n            <td style=\"width: 10%\" class=\"text-center dark-two no-padding\">\n              <div class=\"event-item\">\n                <div class=\"report-event-group\" *ngIf=\"report.groupedLastEvents && report.groupedLastEvents.length > 0\">\n                  <div *ngFor=\"let eventGroup of report.groupedLastEvents; let index=index\"\n                       [class]=\"eventGroup.root_id > -1 ?'row-' + index : ''\">\n                    <div class=\"report-event\">\n\n                    </div>\n                    <div *ngFor=\"let event of eventGroup.events\" class=\"report-event\">\n                      {{ event?.end | date: \"dd/MM/yyyy, HH:mm\" }}\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </td>\n            <td style=\"width: 10%\" class=\"table-comment  text-center dark-two no-padding\">\n              <div class=\"event-item\">\n                <div class=\"report-event-group\" *ngIf=\"report.groupedLastEvents && report.groupedLastEvents.length > 0\">\n                  <div *ngFor=\"let eventGroup of report.groupedLastEvents; let index=index\"\n                       [class]=\"eventGroup.root_id > -1 ?'row-' + index : ''\">\n                    <div class=\"report-event\">\n\n                    </div>\n                    <div *ngFor=\"let event of eventGroup.events\" class=\"report-event\">\n                      <div class=\"small-comment\">\n                        <span>\n                          {{getSmallComment(event?.event_comment)}}\n                        </span>\n                        <span *ngIf=\"getSmallComment(event?.event_comment)\"\n                              class=\"full-comment\">\n                          {{ event?.event_comment}}\n                        </span>\n                      </div>\n                    </div>\n\n                  </div>\n                </div>\n              </div>\n            </td>\n            <td style=\"width: 10%\" class=\"text-center dark-two no-padding\">\n              <div class=\"event-item\">\n                <div class=\"report-event-group\" *ngIf=\"report.groupedLastEvents && report.groupedLastEvents.length > 0\">\n                  <div *ngFor=\"let eventGroup of report.groupedLastEvents; let index=index\"\n                       [class]=\"eventGroup.root_id > -1 ?'row-' + index : ''\">\n                    <div class=\"report-event\">\n\n                    </div>\n                    <div *ngFor=\"let event of eventGroup.events\" class=\"report-event\">\n                            <span [ngSwitch]=\"event?.is_done\">\n                              <ng-container *ngSwitchCase=\"true\">Done</ng-container>\n                              <ng-container *ngSwitchCase=\"false\">Not Done</ng-container>\n                            </span>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </td>\n            <!-- FutureEvents -->\n            <td style=\"width: 10%\" class=\"bord text-center dark no-padding\">\n              <div class=\"event-item event-type-name\">\n                <div class=\"report-event-group\">\n                  <div *ngFor=\"let eventGroup of report.groupedNextEvents; let index=index\"\n                       [class]=\"eventGroup.root_id > -1 ?'row-' + index : ''\">\n                    <div class=\"report-event pl-1 unhide\">\n                      <!--                          <b>-->\n                      <!--                            {{eventGroup.label}}-->\n                      <!--                            <a *ngIf=\"eventGroup.root_id > -1\" [routerLink]=\"'/dash/crm/events-list/event-card/' + eventGroup.root_id\"-->\n                      <!--                               target=\"_blank\">{{eventGroup.root_id}}-->\n                      <!--                            </a>-->\n                      <!--                          </b>-->\n                    </div>\n                    <div *ngFor=\"let event of eventGroup.events\" class=\"report-event hide\">\n                      <a *ngIf=\"event\" class=\"pl-2\" [routerLink]=\"'/crm/events/' + event.id\"\n                         target=\"_blank\">{{event.event_name}}</a>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </td>\n            <td style=\"width: 10%\" class=\"text-center dark no-padding\">\n              <div class=\"event-item\">\n                <div class=\"report-event-group\">\n                  <div *ngFor=\"let eventGroup of report.groupedNextEvents; let index=index\"\n                       [class]=\"eventGroup.root_id > -1 ?'row-' + index : ''\">\n                    <div class=\"report-event\">\n\n                    </div>\n                    <div *ngFor=\"let event of eventGroup.events\" class=\"report-event\">\n                        <span *ngIf=\"event\">\n                            {{ event?.start | date: \"dd/MM/yyyy, HH:mm\" }}\n                        </span>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </td>\n            <td style=\"width: 10%\" class=\"text-center dark border-right no-padding\">\n              <div class=\"event-item\">\n                <div class=\"report-event-group\">\n                  <div *ngFor=\"let eventGroup of report.groupedNextEvents; let index=index\"\n                       [class]=\"eventGroup.root_id > -1 ?'row-' + index : ''\">\n                    <div class=\"report-event\">\n\n                    </div>\n                    <div *ngFor=\"let event of eventGroup.events\" class=\"report-event\">\n                        <span *ngIf=\"event\">\n                          {{ event?.end | date: \"dd/MM/yyyy, HH:mm\" }}\n                        </span>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </td>\n          </tr>\n        </ng-template>\n        <ng-template pTemplate=\"emptymessage\">\n          <tr>\n            <td class=\"text-center p-4\" [attr.colspan]=\"12\">\n              <i *ngIf=\"isLoading\" class=\"pi pi-spin pi-spinner\" style=\"font-size: 2.25rem\"></i>\n              <span *ngIf=\"!isLoading\">No Records Found</span>\n            </td>\n          </tr>\n        </ng-template>\n      </p-table>\n      <div class=\"pagination-preloader pagination-preloader_bord\" *ngIf=\"isLoading\">\n        <i class=\"pi pi-spin pi-spinner\" style=\"font-size: 2.25rem\"></i>\n      </div>\n    </div>\n    <div\n      class=\"paginator-wrapper\"\n      *ngIf=\"!isShowAll\"\n      [class.hidden]=\"eventsReports.length === 0\"\n    >\n      <p-paginator\n        #paginator\n        [rows]=\"10\"\n        [totalRecords]=\"reportsCount\"\n        (onPageChange)=\"paginate($event)\"\n      >\n      </p-paginator>\n      <p-button\n        (click)=\"onShowAll()\"\n        class=\"paginator-all\"\n        type=\"button\"\n        styleClass=\"p-button-text\"\n      >\n        All\n      </p-button>\n    </div>\n\n    <div *ngIf=\"isShowAll\" class=\"paginator-return-pagination\">\n      <p-button\n        type=\"button\"\n        (click)=\"onShowPartial()\"\n        styleClass=\"p-button-text\"\n      >\n        Return pagination\n      </p-button>\n    </div>\n  </div>\n</ng-template>\n","import {AfterViewInit, Component, OnDestroy, OnInit, ViewChild} from '@angular/core';\nimport {FormBuilder} from '@angular/forms';\nimport {CrmEmployeeService} from '../../services/crm-employee.service';\nimport {EventsListService} from '../../services/events-list.service';\nimport {AdapterService} from '@shared/services/adapter.service';\nimport {ModalService} from '@shared/services/modal.service';\nimport {EventService} from '../../services/event.service';\nimport {EventItem} from '../../models/event-item';\nimport {QuerySearch} from '@shared/models/other';\nimport {Paginator} from 'primeng/paginator';\nimport {fromEvent, Subject, Subscription, takeUntil} from 'rxjs';\nimport {debounceTime, map, tap} from 'rxjs/operators';\nimport {MenuItem} from 'primeng/api';\nimport {CRMEmployee} from '../../models/crm-employee';\nimport {EventType} from '../../models/event-type';\nimport {AddEventModalType} from '../../models/company';\n\n@Component({\n  selector: 'pek-crm-events',\n  templateUrl: './crm-events.component.html',\n  styleUrls: ['./crm-events.component.scss']\n})\nexport class CrmEventsComponent implements OnInit, OnDestroy, AfterViewInit {\n  @ViewChild('paginator') paginator: Paginator;\n  @ViewChild('searchBoxDescription') searchBoxDescription;\n\n  menuItems: MenuItem[] = [{\n    label: 'Selected Event',\n    items: [\n      {\n        label: 'Event Card',\n        icon: 'pi pi-calendar',\n        command: () => this.onGoEventCard()\n      },\n      {\n        label: 'Edit',\n        icon: 'pi pi-pencil',\n        command: () => this.onEditEvent(),\n      },\n      {\n        label: 'Remove',\n        icon: 'pi pi-trash',\n        command: () => this.onRemoveEvent()\n      }\n    ]\n  }];\n\n  isShowAll = false;\n\n  tableScrollHeight = '29.625rem';\n  isHideFilters = false;\n\n  searchForm = this.fb.group({\n    employee: [[]],\n    description: [null],\n    start: [null],\n    end: [null],\n    events: [[]],\n    externalEvent: [[]],\n  });\n\n  destroy$ = new Subject();\n\n  isLoading = false;\n\n  query: QuerySearch[] = [];\n\n  rangeCalendar: any = [new Date(), new Date()];\n  minDateRange = null;\n\n  eventsList: EventItem[] = [];\n  selectedEventItem: EventItem;\n\n  hideAutoEvents = true;\n\n  minDate = null;\n  maxDate = null;\n\n  internal: any = {};\n  external: any = {};\n  autoEvents: any = {};\n\n  dSub: Subscription;\n\n  constructor(\n    private fb: FormBuilder,\n    private crmEmployeesService: CrmEmployeeService,\n    private eventsListService: EventsListService,\n    private eventsService: EventService,\n    private adapterService: AdapterService,\n    private modalService: ModalService\n  ) {\n  }\n\n  ngOnInit(): void {\n    this.getEventsDays();\n  }\n\n  ngAfterViewInit() {\n    this.dSub = fromEvent(this.searchBoxDescription.nativeElement, 'keyup')\n      .pipe(\n        tap(() => this.selectedEventItem = null),\n        map(() => this.searchBoxDescription.nativeElement.value),\n        debounceTime(350),\n      ).subscribe(() => {\n        this.search();\n      });\n  }\n\n  getEvents() {\n    this.eventsListService.get(this.query).pipe(\n      takeUntil(this.destroy$)\n    ).subscribe(eventsList => {\n      eventsList.sort((a, b) => {\n        b.start = new Date(b.start);\n        a.start = new Date(a.start);\n        return b.start.getTime() - a.start.getTime();\n      });\n\n      this.eventsList = eventsList;\n      this.isLoading = false;\n    });\n  }\n\n  getEventsDays() {\n    this.eventsListService.getByEventsDays().pipe(\n      takeUntil(this.destroy$)\n    ).subscribe(dayEvents => {\n      dayEvents.forEach(x => {\n        if (x.external_events > 0) {\n          this.external[x.date] = x;\n        }\n        if (x.internal_events > 0) {\n          this.internal[x.date] = x;\n        }\n        if (x.auto_events > 0) {\n          this.autoEvents[x.date] = x;\n        }\n      });\n    });\n  }\n\n  onEventsRange() {\n    if (this.rangeCalendar[0] && this.rangeCalendar[1]) {\n      this.searchForm.get('start').patchValue(this.rangeCalendar[0]);\n      this.searchForm.get('end').patchValue(this.rangeCalendar[1]);\n      this.search();\n      this.minDateRange = null;\n    } else if (this.rangeCalendar[0]) {\n      this.minDateRange = this.rangeCalendar[0];\n    }\n\n    console.log(this.rangeCalendar);\n  }\n\n  search() {\n    this.isLoading = true;\n    this.eventsList = [];\n    this.query = [];\n    this.selectedEventItem = null;\n    this.destroy$.next(true);\n\n    if (this.searchForm.get('start').value) {\n      this.query.push({\n        name: 'from_datetime',\n        value: this.adapterService.dateTimeAdapter(new Date(this.searchForm.get('start').value.setHours(0, 0, 0, 0))),\n      });\n    }\n\n    if (this.searchForm.get('end').value) {\n      this.query.push({\n        name: 'to_datetime',\n        value: this.adapterService.dateTimeAdapter(new Date(this.searchForm.get('end').value.setHours(23, 59, 59, 999))),\n      });\n    }\n\n    if (this.searchForm.get('employee').value.length > 0) {\n      this.query.push({\n        name: 'employee_ids',\n        value: this.searchForm.value.employee.join(','),\n      });\n    }\n\n    if (this.searchForm.get('description').value) {\n      this.query.push({\n        name: 'description',\n        value: this.searchForm.get('description').value,\n      });\n    }\n\n    if (this.searchForm.get('events').value || this.searchForm.get('externalEvent').value) {\n      const eventsIds: number[] = [];\n\n      if (this.searchForm.get('events').value.length > 0) {\n        this.searchForm.get('events').value.forEach(id => eventsIds.push(id));\n      }\n\n      if (this.searchForm.get('externalEvent').value.length > 0) {\n        this.searchForm.get('externalEvent').value.forEach(id => eventsIds.push(id));\n      }\n\n      if (eventsIds.length > 0) {\n        this.query.push({name: 'event_type_ids', value: eventsIds.join(',')});\n      }\n    }\n\n    if (this.hideAutoEvents) {\n      this.query.push({\n        name: 'hide_auto_events',\n        value: this.hideAutoEvents,\n      });\n    }\n\n    this.getEvents();\n  }\n\n  getEventsCount(date) {\n    const month = date.month < 9 ? `0${date.month + 1}` : date.month + 1;\n    const day = date.day < 10 ? `0${date.day}` : date.day;\n    const formatted = `${date.year}` + '-' + month + '-' + day;\n    return this.internal[formatted]\n      ? this.internal[formatted]['internal_events']\n        ? this.internal[formatted]['internal_events']\n        : false\n      : false;\n  }\n\n  getExternalEventsCount(date) {\n    const month = date.month < 9 ? `0${date.month + 1}` : date.month + 1;\n    const day = date.day < 10 ? `0${date.day}` : date.day;\n    const formatted = `${date.year}` + '-' + month + '-' + day;\n    return this.external[formatted]\n      ? this.external[formatted]['external_events']\n        ? this.external[formatted]['external_events']\n        : false\n      : false;\n  }\n\n  getAutoStatusCount(date) {\n    if (this.hideAutoEvents) {\n      return false;\n    }\n    const month = date.month < 9 ? `0${date.month + 1}` : date.month + 1;\n    const day = date.day < 10 ? `0${date.day}` : date.day;\n    const formatted = `${date.year}` + '-' + month + '-' + day;\n\n    return this.autoEvents[formatted]\n      ? this.autoEvents[formatted]['auto_events']\n        ? this.autoEvents[formatted]['auto_events']\n        : false\n      : false;\n  }\n\n  toggleAutoEvents() {\n    this.hideAutoEvents = !this.hideAutoEvents;\n    this.search();\n  }\n\n  setTableScrollHeight() {\n    if (this.isHideFilters && !this.isShowAll) {\n      this.tableScrollHeight = '20.875rem';\n      return;\n    }\n\n    if (this.isHideFilters && this.isShowAll) {\n      this.tableScrollHeight = '18.75rem';\n      return;\n    }\n\n    if (!this.isHideFilters && this.isShowAll) {\n      this.tableScrollHeight = '27.5rem';\n      return;\n    }\n\n    if (!this.isHideFilters && !this.isShowAll) {\n      this.tableScrollHeight = '29.625rem';\n      return;\n    }\n  }\n\n  toggleFilterVisibility() {\n    this.isHideFilters = !this.isHideFilters;\n    this.setTableScrollHeight();\n    // this.search();\n  }\n\n  changeRangeEventStart(startDate: Date) {\n    this.minDate = startDate;\n    this.rangeCalendar = [this.minDate, this.searchForm.get('end').value];\n    this.search();\n  }\n\n  changeRangeEventEnd(endDate: Date) {\n    this.maxDate = endDate;\n    this.rangeCalendar = [this.searchForm.get('start').value, this.searchForm.get('end').value];\n    this.search();\n  }\n\n  ngOnDestroy() {\n    this.dSub.unsubscribe();\n    this.destroy$.next(true);\n    this.destroy$.complete();\n  }\n\n  onSelectEmployees(ids: number[]) {\n    if (ids) {\n      this.searchForm.get('employee').patchValue(ids);\n    } else {\n      this.searchForm.get('employee').patchValue([]);\n    }\n\n    this.search();\n  }\n\n  onSelectEventType(ids: EventType[]) {\n    if (ids) {\n      this.searchForm.get('events').patchValue(ids);\n    } else {\n      this.searchForm.get('events').patchValue([]);\n    }\n\n    this.search();\n  }\n\n  onSelectExternalEventType(ids: EventType[]) {\n    if (ids) {\n      this.searchForm.get('externalEvent').patchValue(ids);\n    } else {\n      this.searchForm.get('externalEvent').patchValue([]);\n    }\n\n    this.search();\n  }\n\n  onRemoveEvent() {\n    this.modalService.confirm('danger').subscribe(confirm => {\n      if (confirm) {\n        this.eventsListService.delete(this.selectedEventItem.id).subscribe(() => {\n          this.search();\n          this.getEventsDays();\n        });\n      }\n    });\n  }\n\n  onGoEventCard() {\n    const link = `/crm/events/${this.selectedEventItem.id}`;\n    window.open(link, '_blank');\n  }\n\n  onAddEvent(type: AddEventModalType) {\n    this.eventsListService.openCreateEventEventModal('create', type).subscribe(event => {\n      if (event) {\n        this.search();\n      }\n    })\n  }\n\n  private onEditEvent() {\n    this.eventsListService.openCreateEventEventModal('edit', 'withEmployee', this.selectedEventItem).subscribe(event => {\n      if (event) {\n        this.search();\n      }\n    })\n  }\n}\n","<div class=\"page\">\n  <div class=\"page__header\">\n    <div class=\"page__title\">\n      <pek-module-icon [module]=\"'contacts-events'\" [isActive]=\"true\"></pek-module-icon>\n      <h1>Events</h1>\n    </div>\n    <div class=\"page__tools\">\n      <button\n        class=\"mr-2 p-button-warning\"\n        pButton\n        type=\"button\"\n        (click)=\"toggleAutoEvents()\"\n        [icon]=\"'pi' + ' ' + (hideAutoEvents ? 'pi-eye' : 'pi-eye-slash')\"\n        [label]=\"hideAutoEvents ? 'Show Auto Events' : 'Hide Auto Events'\"\n      >\n      </button>\n      <button\n        class=\"mr-2\"\n        pButton\n        type=\"button\"\n        icon=\"pi pi-plus\"\n        label=\"New Event with Employee\"\n        (click)=\"onAddEvent('withEmployee')\"\n      >\n      </button>\n      <button\n        pButton\n        type=\"button\"\n        icon=\"pi pi-plus\"\n        label=\"New Event without Employee\"\n        (click)=\"onAddEvent('withoutEmployee')\"\n      >\n      </button>\n    </div>\n  </div>\n</div>\n\n<div class=\"page__content\">\n  <div class=\"page__card calendar mb-4\">\n    <div class=\"main-calendar\">\n      <p-calendar\n        class=\"events-calendar\"\n        [firstDayOfWeek]=\"1\"\n        [numberOfMonths]=\"3\"\n        (onSelect)=\"onEventsRange()\"\n        [inline]=\"true\"\n        [(ngModel)]=\"rangeCalendar\"\n        selectionMode=\"range\"\n        [minDate]=\"minDateRange\"\n      >\n        <ng-template pTemplate=\"date\" let-date>\n          <b *ngIf=\"getEventsCount(date)\" class=\"event-count\">{{getEventsCount(date)}}</b>\n          <b *ngIf=\"getExternalEventsCount(date)\" class=\"external-event-count\">{{ getExternalEventsCount(date)}}</b>\n          <b *ngIf=\"getAutoStatusCount(date)\" class=\"event-count auto-event-count\">{{ getAutoStatusCount(date)}}</b>\n          <span>{{ date.day }}</span>\n        </ng-template>\n      </p-calendar>\n    </div>\n  </div>\n\n  <h2 class=\"mb-4\">Filter Events</h2>\n\n  <div class=\"page__card\">\n\n    <div class=\"filters-visibility\" [class.filters-visibility_hide]=\"isHideFilters\">\n      <div class=\"filters-visibility__header\">\n        <ng-container *ngTemplateOutlet=\"actionButtons\"></ng-container>\n      </div>\n\n      <button\n        class=\"icon pi\"\n        [class.pi-angle-double-up]=\"!isHideFilters\"\n        [class.pi-angle-double-down]=\"isHideFilters\"\n        (click)=\"toggleFilterVisibility()\"\n      ></button>\n\n      <form\n        [formGroup]=\"searchForm\"\n        class=\"form mb-3\"\n      >\n        <div class=\"row\">\n          <div class=\"col-3\">\n            <div class=\"form-group\">\n              <label>Employees</label>\n              <pek-crm-employee-picker (selectEmployees)=\"onSelectEmployees($event)\"></pek-crm-employee-picker>\n            </div>\n          </div>\n          <div class=\"col-3\">\n            <div class=\"form-group\">\n              <label>Event Types</label>\n              <pek-crm-multi-event-types-picker\n                [isInner]=\"true\"\n                (selectEventTypes)=\"onSelectEventType($event)\"\n              ></pek-crm-multi-event-types-picker>\n            </div>\n          </div>\n          <div class=\"col-3\">\n            <div class=\"form-group\">\n              <label>Date From</label>\n              <p-calendar\n                [firstDayOfWeek]=\"1\"\n                [showButtonBar]=\"true\"\n                inputId=\"basic\"\n                dateFormat=\"dd/mm/yy\"\n                formControlName=\"start\"\n\n                (onSelect)=\"changeRangeEventStart($event)\"\n                [readonlyInput]=\"true\"\n                [maxDate]=\"maxDate\"\n              ></p-calendar>\n            </div>\n          </div>\n          <div class=\"col-3\">\n            <div class=\"form-group\">\n              <label>Date To</label>\n              <p-calendar\n                [firstDayOfWeek]=\"1\"\n                [showButtonBar]=\"true\"\n                inputId=\"basic\"\n                formControlName=\"end\"\n                (onSelect)=\"changeRangeEventEnd($event)\"\n                dateFormat=\"dd/mm/yy\"\n                [readonlyInput]=\"true\"\n                [minDate]=\"minDate\"\n              ></p-calendar>\n            </div>\n          </div>\n          <div class=\"col-3\">\n            <div class=\"form-group\">\n              <label>External Calendars</label>\n              <pek-crm-multi-event-types-picker\n                [isExternal]=\"true\"\n                (selectEventTypes)=\"onSelectExternalEventType($event)\"\n              ></pek-crm-multi-event-types-picker>\n            </div>\n          </div>\n          <div class=\"col-3\">\n            <div class=\"form-group\">\n              <label>Description</label>\n              <input class=\"form-control\" formControlName=\"description\" pInputText #searchBoxDescription>\n            </div>\n          </div>\n          <div class=\"col-3\"></div>\n          <div class=\"col-3\">\n            <ng-container *ngTemplateOutlet=\"actionButtons\"></ng-container>\n          </div>\n        </div>\n      </form>\n    </div>\n    <div class=\"table-pagination-preloader\">\n      <p-table\n        #dt\n        selectionMode=\"single\"\n        [scrollHeight]=\"'calc(100vh - ' + tableScrollHeight + ')'\"\n        [scrollable]=\"true\"\n        [paginator]=\"eventsList.length > 0\"\n        dataKey=\"id\"\n        [rows]=\"10\"\n        [(selection)]=\"selectedEventItem\"\n        [value]=\"eventsList\"\n      >\n        <ng-template pTemplate=\"header\">\n          <tr>\n            <th style=\"width: 5%\" class=\"text-center\">#</th>\n            <th style=\"width: 20%\">Name</th>\n            <th style=\"width: 30%\">Description</th>\n            <th style=\"width: 15%\" class=\"text-center\">Employee Name</th>\n            <th style=\"width: 15%\" class=\"text-center\">Event Start</th>\n            <th style=\"width: 15%\" class=\"text-center\">Event End</th>\n          </tr>\n        </ng-template>\n        <ng-template pTemplate=\"body\" let-filterEvent let-i=\"rowIndex\">\n          <tr [pSelectableRow]=\"filterEvent\">\n            <td style=\"width: 5%\" class=\"text-center\">{{ i + 1 }}</td>\n            <td style=\"width: 20%\">\n              {{ filterEvent.event_type?.name }}\n            </td>\n            <td style=\"width: 30%\">\n                  <span *ngIf=\"filterEvent.sales_chain else emptySale\">\n                  <a target=\"blank\"\n                     [routerLink]=\"['/dash/sales/sales-chains/chain-page', filterEvent.sales_chain]\">\n                    {{ filterEvent.description }}\n                  </a>\n              </span>\n              <ng-template #emptySale>\n                {{ filterEvent.description }}\n              </ng-template>\n            </td>\n\n            <td style=\"width: 15%\" class=\"text-center\">\n              <ng-container *ngIf=\"filterEvent.employee.length === 0\">\n                Not Related\n              </ng-container>\n\n              <ng-container *ngIf=\"filterEvent.employee.length > 0\">\n                <span *ngFor=\"let employee of filterEvent.employee\">\n                  {{ employee.first_name + \" \" + employee.last_name }} <br>\n                </span>\n              </ng-container>\n            </td>\n            <td style=\"width: 15%\" class=\"text-center\">\n              {{ filterEvent.start | date: \"dd/MM/yyyy, HH:mm\" }}\n            </td>\n            <td style=\"width: 15%\" class=\"text-center\">\n              {{ filterEvent.end | date: \"dd/MM/yyyy, HH:mm\" }}\n            </td>\n          </tr>\n        </ng-template>\n        <ng-template pTemplate=\"emptymessage\">\n          <tr>\n            <td class=\"text-center p-4\" [attr.colspan]=\"12\">\n              <i *ngIf=\"isLoading\" class=\"pi pi-spin pi-spinner\" style=\"font-size: 2.25rem\"></i>\n              <span *ngIf=\"!isLoading\">No Records Found</span>\n            </td>\n          </tr>\n        </ng-template>\n        <ng-template pTemplate=\"paginatorright\">\n          <p-button\n            type=\"button\"\n            (click)=\"dt.paginator=false\"\n            styleClass=\"p-button-text\"\n          >All\n          </p-button>\n        </ng-template>\n      </p-table>\n      <div class=\"pagination-preloader pagination-preloader_bord\" *ngIf=\"isLoading\">\n        <i class=\"pi pi-spin pi-spinner\" style=\"font-size: 2.25rem\"></i>\n      </div>\n    </div>\n    <div *ngIf=\"!dt.paginator && !isLoading && eventsList.length > 0\" class=\"paginator-return-pagination\">\n      <p-button\n        type=\"button\"\n        (click)=\"dt.paginator=true\"\n        styleClass=\"p-button-text\"\n      >\n        Return pagination\n      </p-button>\n    </div>\n  </div>\n\n  <div class=\"event-full-calendar mt-5\" *ngIf=\"eventsList.length > 0\">\n    <pek-crm-full-calendar\n      [eventList]=\"eventsList\"\n      [startDate]=\"searchForm.get('start').value\"\n      [endDate]=\"searchForm.get('end').value\"\n    ></pek-crm-full-calendar>\n  </div>\n</div>\n\n<ng-template #actionButtons>\n  <div class=\"action-buttons\">\n    <p-menubar class=\"ml-auto\" [model]=\"menuItems\" [class.disabled]=\"!selectedEventItem\"></p-menubar>\n  </div>\n</ng-template>\n","import {Component, OnDestroy, OnInit} from '@angular/core';\nimport {EventTypesService} from '../../services/event-types.service';\nimport {EventType} from '../../models/event-type';\nimport {MenuItem} from 'primeng/api';\nimport {ModalService} from '@shared/services/modal.service';\nimport {Subject, takeUntil} from 'rxjs';\n\n@Component({\n  selector: 'pek-crm-external-events',\n  templateUrl: './crm-external-events.component.html',\n  styleUrls: ['./crm-external-events.component.scss']\n})\nexport class CrmExternalEventsComponent implements OnInit, OnDestroy {\n\n  menuItems: MenuItem[] = [{\n    label: 'Selected External Event Type',\n    items: [\n      {\n        label: 'Edit',\n        icon: 'pi pi-pencil',\n        command: () => this.onEditEventType()\n      },\n      {\n        label: 'Remove',\n        icon: 'pi pi-trash',\n        command: () => this.onRemoveEventType()\n      }\n    ]\n  }];\n\n  private destroy$ = new Subject();\n\n  isLoading = true;\n  externalEvents: EventType[] = [];\n  selectedExternalEvent: EventType;\n\n  constructor(\n    private readonly eventTypesService: EventTypesService,\n    private readonly modalService: ModalService,\n  ) { }\n\n  ngOnInit(): void {\n    this.getEventTypes();\n  }\n\n  getEventTypes() {\n    this.eventTypesService.get([{name: 'is_inner', value: false}]).pipe(\n      takeUntil(this.destroy$)\n    ).subscribe(eventTypes => {\n      this.externalEvents = eventTypes;\n      this.isLoading = false;\n    })\n  }\n\n  onAddEventType() {\n    this.eventTypesService.createEditExternalEventType('create').subscribe(eventType => {\n      if (eventType) {\n        this.externalEvents.unshift(eventType);\n        this.renderTable();\n      }\n    });\n  }\n\n  onEditEventType() {\n    this.eventTypesService.createEditExternalEventType('edit', this.selectedExternalEvent).subscribe(eventType => {\n      if (eventType) {\n        const index = this.externalEvents.findIndex(t => t.id === this.selectedExternalEvent.id);\n        this.externalEvents[index] = eventType;\n        this.selectedExternalEvent = this.externalEvents[index];\n        this.renderTable();\n      }\n    })\n  }\n\n  onRemoveEventType() {\n    this.modalService.confirm('danger').subscribe(confirm => {\n      if (confirm) {\n        this.eventTypesService.delete(this.selectedExternalEvent).subscribe(() => {\n          const index = this.externalEvents.findIndex(w => w.id === this.selectedExternalEvent.id);\n          this.externalEvents.splice(index, 1);\n          this.selectedExternalEvent = null;\n          this.renderTable();\n        });\n      }\n    });\n  }\n\n  renderTable() {\n    this.externalEvents = this.externalEvents.map(el => el);\n  }\n\n  ngOnDestroy() {\n    this.destroy$.next(true);\n    this.destroy$.complete();\n  }\n}\n","<div class=\"page\">\n  <div class=\"page__header\">\n    <div class=\"page__title\">\n      <pek-module-icon [module]=\"'contacts-events'\" [isActive]=\"true\"></pek-module-icon>\n      <h1>External Event Types</h1>\n    </div>\n    <div class=\"page__tools\">\n      <button pButton type=\"button\" icon=\"pi pi-plus\" label=\"New External Event Type\" (click)=\"onAddEventType()\"></button>\n    </div>\n  </div>\n</div>\n\n<div class=\"page__content\">\n  <div class=\"page__card\">\n    <div class=\"page__table\">\n      <p-table\n        #dt\n        selectionMode=\"single\"\n        scrollHeight=\"calc(100vh - 18.8rem)\"\n        [scrollable]=\"true\"\n        [paginator]=\"externalEvents.length > 0\"\n        [rows]=\"10\"\n        [(selection)]=\"selectedExternalEvent\"\n        [value]=\"externalEvents\"\n      >\n        <ng-template pTemplate=\"caption\">\n          <div class=\"d-flex\">\n            <p class=\"subtitle\" *ngIf=\"!selectedExternalEvent\">Choose the External Event Type to edit</p>\n            <p-menubar class=\"ml-auto\" [model]=\"menuItems\" [class.disabled]=\"!selectedExternalEvent\"></p-menubar>\n          </div>\n        </ng-template>\n        <ng-template pTemplate=\"header\">\n          <tr>\n            <th style=\"width: 5%\" class=\"text-center\">#</th>\n            <th style=\"width: 30%\">Google Calendar ID</th>\n            <th style=\"width: 20%\">Name</th>\n            <th style=\"width: 10%\">First Name</th>\n            <th style=\"width: 10%\">Last Name</th>\n            <th style=\"width: 15%;\">Gmail</th>\n            <th style=\"width: 10%\" class=\"text-center\">Color</th>\n          </tr>\n        </ng-template>\n        <ng-template pTemplate=\"body\" let-externalEvent let-i=\"rowIndex\">\n          <tr [pSelectableRow]=\"externalEvent\">\n            <td class=\"text-center\">{{ i + 1 }}</td>\n            <td>{{ externalEvent.google_calendar_id }}</td>\n            <td>{{ externalEvent.name }}</td>\n            <td>{{ externalEvent.google_owner_first_name }}</td>\n            <td>{{ externalEvent.google_owner_last_name }}</td>\n            <td>{{ externalEvent.google_owner_gmail }}</td>\n            <td style=\"width: 10%\" class=\"text-center\">\n              <div class=\"event-color\" [style.backgroundColor]=\"externalEvent.color_hex ? externalEvent.color_hex : '#3788d8'\"></div>\n            </td>\n          </tr>\n        </ng-template>\n        <ng-template pTemplate=\"emptymessage\">\n          <tr>\n            <td class=\"text-center p-4\" [attr.colspan]=\"7\">\n              <i *ngIf=\"isLoading\" class=\"pi pi-spin pi-spinner\" style=\"font-size: 2.25rem\"></i>\n              <span *ngIf=\"!isLoading\">No Records Found</span>\n            </td>\n          </tr>\n        </ng-template>\n        <ng-template pTemplate=\"paginatorright\">\n          <p-button\n            type=\"button\"\n            (click)=\"dt.paginator=false\"\n            styleClass=\"p-button-text\"\n          >All\n          </p-button>\n        </ng-template>\n      </p-table>\n    </div>\n    <div *ngIf=\"!dt.paginator && !isLoading && externalEvents.length > 0\" class=\"paginator-return-pagination\">\n      <p-button\n        type=\"button\"\n        (click)=\"dt.paginator=true\"\n        styleClass=\"p-button-text\"\n      >\n        Return pagination\n      </p-button>\n    </div>\n  </div>\n</div>\n","import {Component, ElementRef, Input, OnInit, SimpleChanges, ViewChild} from '@angular/core';\nimport {AdapterService} from '@shared/services/adapter.service';\nimport {ModalService} from '@shared/services/modal.service';\nimport {EventItem} from '../../models/event-item';\nimport {CalendarOptions, EventInput} from '@fullcalendar/core';\nimport {EventsListService} from '../../services/events-list.service';\nimport tippy from 'tippy.js';\n\n@Component({\n  selector: 'pek-crm-full-calendar',\n  templateUrl: './crm-full-calendar.component.html',\n  styleUrls: ['./crm-full-calendar.component.scss']\n})\nexport class CrmFullCalendarComponent implements OnInit {\n\n  @ViewChild('template') template: ElementRef;\n  @Input() eventList: EventItem[] = [];\n  @Input() startDate: Date;\n  @Input() endDate: Date;\n\n  events: EventInput[] = [];\n\n  currentEvent: EventItem;\n\n  calendarOptions: CalendarOptions = {\n    initialView: 'dayGridMonth',\n    firstDay: 1,\n    eventClick: this.handleDateClick.bind(this),\n    eventMouseEnter: this.handleDateMouseEnter.bind(this),\n    headerToolbar: {\n      left: 'prev,next today',\n      center: 'title',\n      right: 'dayGridMonth,dayGridWeek,listWeek'\n    },\n    eventDidMount: (info) => {\n      const findEvent = this.findEvent(info.event._def.publicId);\n\n      let str = ``;\n\n      findEvent.on_companies.forEach(company => {\n        str += `<li>\n            <a target=\"_blank\" href=\"/crm/business-partners/company-page/${company.company_id}\">${company.company_name}</a>\n        </li>`;\n      });\n\n      let content = ``;\n\n      if (findEvent.on_companies.length > 0) {\n        content = `\n        <ol>${str}</ol>\n        `;\n      } else {\n        content = `There are no companies`;\n      }\n\n      tippy(info.el, {\n        content,\n        allowHTML: true,\n        interactive: true,\n        duration: 0,\n        placement: 'right',\n      });\n    },\n    eventMaxStack: 2,\n    events: [],\n  };\n\n  constructor(\n    private adapterService: AdapterService,\n    private readonly eventS: EventsListService,\n    private modalService: ModalService,\n  ) {\n  }\n\n  ngOnInit(): void {\n  }\n\n  handleDateClick(arg) {\n    const findEvent = this.findEvent(arg.event._def.publicId);\n    this.openCalendarEvent(findEvent);\n  }\n\n  handleDateMouseEnter(arg) {\n    this.currentEvent = this.findEvent(arg.event._def.publicId);\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if ('eventList' in changes) {\n      this.prepareForView();\n    }\n  }\n\n  openCalendarEvent(event) {\n    // this.modalService.openCalendarEvent(event).subscribe();\n  }\n\n  prepareForView() {\n    this.eventList.forEach(eventItem => {\n      this.events.push({\n        // @ts-ignore\n        id: eventItem.id,\n        title: eventItem.event_type.name,\n        allDay: false,\n        overlap: false,\n        end: eventItem.end,\n        start: eventItem.start,\n        backgroundColor: eventItem.event_type.color_hex ? eventItem.event_type.color_hex : '#3788d8',\n        borderColor: eventItem.event_type.color_hex ? eventItem.event_type.color_hex : '#3788d8',\n      });\n    });\n\n    let date: string;\n\n    if (this.startDate) {\n      date = this.adapterService.dateAdapter(new Date(this.startDate));\n    } else {\n      date = this.adapterService.dateAdapter(new Date(Math.min(...this.eventList.filter(e => e.start).map(e => new Date(e.start).getTime()))));\n    }\n\n    if (date === '1970-01-01') {\n      date = this.adapterService.dateAdapter(new Date());\n    }\n\n    this.calendarOptions.initialDate = date;\n    this.calendarOptions.events = [...this.events];\n  }\n\n  findEvent(id) {\n    return this.eventList.find(e => e.id === parseInt(id, 10));\n  }\n\n}\n","<div class=\"full-calendar\">\n  <full-calendar  [options]=\"calendarOptions\"></full-calendar>\n</div>\n","import {Component, OnInit} from '@angular/core';\nimport {NavigationLink} from '../../../layout/navigation-route';\n\n@Component({\n  selector: 'pek-crm-layout',\n  templateUrl: './crm-layout.component.html',\n  styleUrls: ['./crm-layout.component.scss']\n})\nexport class CrmLayoutComponent implements OnInit {\n\n  routes: NavigationLink[] = [\n    {label: 'Company Card', commands: ['business-partners']},\n    {label: 'Events', commands: ['events']},\n    {label: 'Events Reports', commands: ['events-reports']},\n    {label: 'Schedules', commands: ['schedules']},\n    {label: 'Company Categories', commands: ['company-categories']},\n    {label: 'Event Types', commands: ['event-types']},\n    {label: 'Employees', commands: ['employees']},\n    {label: 'External Event Types', commands: ['external-events']},\n    {label: 'Users Profiles', commands: ['users-profiles']},\n  ];\n\n  constructor() {\n  }\n\n  ngOnInit(): void {\n  }\n\n}\n","<pek-header\n  [module]=\"'Contacts & Events'\"\n  [routes]=\"routes\"\n></pek-header>\n<router-outlet></router-outlet>\n","import {Component, OnDestroy, OnInit} from '@angular/core';\nimport {Schedule} from '../../models/schedule';\nimport {MenuItem} from 'primeng/api';\nimport {CrmScheduleService} from '../../services/crm-schedule.service';\nimport {ModalService} from '@shared/services/modal.service';\nimport {Subject, takeUntil} from 'rxjs';\nimport {take} from 'rxjs/operators';\n\n@Component({\n  selector: 'pek-crm-schedules',\n  templateUrl: './crm-schedules.component.html',\n  styleUrls: ['./crm-schedules.component.scss']\n})\n\nexport class CrmSchedulesComponent implements OnInit, OnDestroy {\n  menuItems: MenuItem[] = [{\n    label: 'Selected Schedule',\n    items: [\n      {\n        label: 'Edit',\n        icon: 'pi pi-pencil',\n        command: () => this.onEditSchedule()\n      },\n      {\n        label: 'Remove',\n        icon: 'pi pi-trash',\n        command: () => this.onRemoveSchedule()\n      }\n    ]\n  }];\n\n  destroy$ = new Subject();\n  isLoading = true;\n  schedules: Schedule[] = [];\n  selectedSchedule: Schedule;\n\n  constructor(\n    private readonly crmSchedulesService: CrmScheduleService,\n    private readonly modalService: ModalService,\n  ) {\n  }\n\n  ngOnInit(): void {\n    this.getSchedules();\n  }\n\n  getSchedules() {\n    this.crmSchedulesService.get().pipe(\n      takeUntil(this.destroy$)\n    ).subscribe(schedules => {\n      this.schedules = schedules;\n      this.isLoading = false;\n    })\n  }\n\n  onAddSchedule() {\n    this.crmSchedulesService.createEditScheduleModal('create').subscribe(schedules => {\n      if (schedules) {\n        this.schedules.unshift(schedules);\n        this.renderTable();\n      }\n    });\n  }\n\n  onEditSchedule() {\n    this.crmSchedulesService.createEditScheduleModal('edit', this.selectedSchedule).subscribe(schedule => {\n      if (schedule) {\n        const index = this.schedules.findIndex(t => t.id === this.selectedSchedule.id);\n        this.schedules[index] = schedule;\n        this.selectedSchedule = this.schedules[index];\n        this.renderTable();\n      }\n    })\n  }\n\n  onRemoveSchedule() {\n    this.modalService.confirm('danger').subscribe(confirm => {\n      if (confirm) {\n        this.crmSchedulesService.delete(this.selectedSchedule).subscribe(() => {\n          const index = this.schedules.findIndex(s => s.id === this.selectedSchedule.id);\n          this.schedules.splice(index, 1);\n          this.selectedSchedule = null;\n          this.renderTable();\n        });\n      }\n    });\n  }\n\n  renderTable() {\n    this.schedules = this.schedules.map(el => el);\n  }\n\n  ngOnDestroy() {\n    this.destroy$.next(true);\n    this.destroy$.complete();\n  }\n}\n","<div class=\"page\">\n  <div class=\"page__header\">\n    <div class=\"page__title\">\n      <pek-module-icon [module]=\"'contacts-events'\" [isActive]=\"true\"></pek-module-icon>\n      <h1>Schedules</h1>\n    </div>\n    <div class=\"page__tools\">\n      <button pButton type=\"button\" icon=\"pi pi-plus\" label=\"New Schedule\" (click)=\"onAddSchedule()\"></button>\n    </div>\n  </div>\n</div>\n\n<div class=\"page__content\">\n  <div class=\"page__card\">\n    <div class=\"page__table\">\n      <p-table\n        #dt\n        selectionMode=\"single\"\n        scrollHeight=\"calc(100vh - 18.8rem)\"\n        [scrollable]=\"true\"\n        [paginator]=\"schedules.length > 0\"\n        [rows]=\"10\"\n        [(selection)]=\"selectedSchedule\"\n        [value]=\"schedules\"\n      >\n        <ng-template pTemplate=\"caption\">\n          <div class=\"d-flex\">\n            <p class=\"subtitle\" *ngIf=\"!selectedSchedule\">Choose the Schedule to edit</p>\n            <p-menubar class=\"ml-auto\" [model]=\"menuItems\" [class.disabled]=\"!selectedSchedule\"></p-menubar>\n          </div>\n        </ng-template>\n        <ng-template pTemplate=\"header\">\n          <tr>\n            <th style=\"width: 5%\" class=\"index-header text-center\">#</th>\n            <th style=\"width: 10%\" class=\"text-center\">ID</th>\n            <th style=\"width: 85%\" class=\"text-center\">Description</th>\n          </tr>\n        </ng-template>\n        <ng-template pTemplate=\"body\" let-schedule let-i=\"rowIndex\">\n          <tr [pSelectableRow]=\"schedule\">\n            <td  style=\"width: 5%\" class=\"text-center\">{{i + 1}}</td>\n            <td  style=\"width: 10%\" class=\"text-center\">{{schedule.id}}</td>\n            <td  style=\"width: 85%\" class=\"text-center\">{{schedule.description}}</td>\n          </tr>\n        </ng-template>\n        <ng-template pTemplate=\"emptymessage\">\n          <tr>\n            <td class=\"text-center p-4\" [attr.colspan]=\"7\">\n              <i *ngIf=\"isLoading\" class=\"pi pi-spin pi-spinner\" style=\"font-size: 2.25rem\"></i>\n              <span *ngIf=\"!isLoading\">No Records Found</span>\n            </td>\n          </tr>\n        </ng-template>\n        <ng-template pTemplate=\"paginatorright\">\n          <p-button\n            type=\"button\"\n            (click)=\"dt.paginator=false\"\n            styleClass=\"p-button-text\"\n          >All\n          </p-button>\n        </ng-template>\n      </p-table>\n    </div>\n    <div *ngIf=\"!dt.paginator && !isLoading && schedules.length > 0\" class=\"paginator-return-pagination\">\n      <p-button\n        type=\"button\"\n        (click)=\"dt.paginator=true\"\n        styleClass=\"p-button-text\"\n      >\n        Return pagination\n      </p-button>\n    </div>\n  </div>\n</div>\n","import {Component, OnInit} from '@angular/core';\nimport {UserProfile} from '../../models/user-profile';\nimport {ModalService} from '@shared/services/modal.service';\nimport {UserProfileService} from '../../services/user-profile.service';\nimport {MenuItem} from 'primeng/api';\nimport {Subject, takeUntil} from 'rxjs';\n\n@Component({\n  selector: 'pek-crm-users-profiles',\n  templateUrl: './crm-users-profiles.component.html',\n  styleUrls: ['./crm-users-profiles.component.scss']\n})\nexport class CrmUsersProfilesComponent implements OnInit {\n  isLoading = true;\n  destroy$ = new Subject();\n\n  menuItems: MenuItem[] = [{\n    label: 'Selected User Profile',\n    items: [\n      {\n        label: 'Edit',\n        icon: 'pi pi-pencil',\n        command: () => this.onEditUserProfile()\n      },\n      {\n        label: 'Remove',\n        icon: 'pi pi-trash',\n        command: () => this.onRemoveUserProfile()\n      }\n    ]\n  }];\n\n  usersProfiles: UserProfile[] = [];\n  selectedUserProfile: UserProfile;\n\n  constructor(\n    private modalService: ModalService,\n    private userProfileService: UserProfileService\n  ) {\n  }\n\n  ngOnInit(): void {\n    this.getUserProfiles();\n  }\n\n  getUserProfiles() {\n    this.userProfileService.get().pipe(\n      takeUntil(this.destroy$)\n    ).subscribe(usersProfiles => {\n      this.usersProfiles = usersProfiles;\n      this.isLoading = false;\n    })\n  }\n\n  onAddUserProfile() {\n    this.userProfileService.createEditUserProfileModel('create').subscribe(userProfile => {\n      if (userProfile) {\n        this.usersProfiles.unshift(userProfile);\n        this.renderTable();\n      }\n    });\n  }\n\n  onEditUserProfile() {\n    this.userProfileService.createEditUserProfileModel('edit', this.selectedUserProfile).subscribe(userProfile => {\n      if (userProfile) {\n        const index = this.usersProfiles.findIndex(t => t.id === this.selectedUserProfile.id);\n        this.usersProfiles[index] = userProfile;\n        this.selectedUserProfile = this.usersProfiles[index];\n        this.renderTable();\n      }\n    })\n  }\n\n  onRemoveUserProfile() {\n    this.modalService.confirm('danger').subscribe(confirm => {\n      if (confirm) {\n        this.userProfileService.delete(this.selectedUserProfile).subscribe(() => {\n          const index = this.usersProfiles.findIndex(w => w.id === this.selectedUserProfile.id);\n          this.usersProfiles.splice(index, 1);\n          this.selectedUserProfile = null;\n          this.renderTable();\n        });\n      }\n    });\n  }\n\n  renderTable() {\n    this.usersProfiles = this.usersProfiles.map(el => el);\n  }\n\n  ngOnDestroy() {\n    this.destroy$.next(true);\n    this.destroy$.complete();\n  }\n}\n","<div class=\"page\">\n  <div class=\"page__header\">\n    <div class=\"page__title\">\n      <pek-module-icon [module]=\"'contacts-events'\" [isActive]=\"true\"></pek-module-icon>\n      <h1>Employees</h1>\n    </div>\n    <div class=\"page__tools\">\n      <button pButton type=\"button\" icon=\"pi pi-plus\" label=\"New User Profile\" (click)=\"onAddUserProfile()\"></button>\n    </div>\n  </div>\n</div>\n\n<div class=\"page__content\">\n  <div class=\"page__card\">\n    <div class=\"page__table\">\n      <p-table\n        #dt\n        selectionMode=\"single\"\n        scrollHeight=\"calc(100vh - 18.8rem)\"\n        [scrollable]=\"true\"\n        [paginator]=\"usersProfiles.length > 0\"\n        [rows]=\"10\"\n        [(selection)]=\"selectedUserProfile\"\n        [value]=\"usersProfiles\"\n      >\n        <ng-template pTemplate=\"caption\">\n          <div class=\"d-flex\">\n            <p class=\"subtitle\" *ngIf=\"!selectedUserProfile\">Choose the User Profile to edit</p>\n            <p-menubar class=\"ml-auto\" [model]=\"menuItems\" [class.disabled]=\"!selectedUserProfile\"></p-menubar>\n          </div>\n        </ng-template>\n        <ng-template pTemplate=\"header\">\n          <tr>\n            <th style=\"width: 5%\" class=\"text-center\">#</th>\n            <th style=\"width: 30%;\">First Name</th>\n            <th style=\"width: 30%;\">Last Name</th>\n            <th style=\"width: 35%;\">Gmail</th>\n          </tr>\n        </ng-template>\n        <ng-template pTemplate=\"body\" let-user let-i=\"rowIndex\">\n          <tr [pSelectableRow]=\"user\">\n            <td style=\"width: 5%\" class=\"text-center\">{{ i + 1 }}</td>\n            <td style=\"width: 30%;\">{{ user.first_name }}</td>\n            <td style=\"width: 30%;\">{{ user.last_name }}</td>\n            <td style=\"width: 35%;\">{{ user.gmail }}</td>\n          </tr>\n        </ng-template>\n        <ng-template pTemplate=\"emptymessage\">\n          <tr>\n            <td class=\"text-center p-4\" [attr.colspan]=\"4\">\n              <i *ngIf=\"isLoading\" class=\"pi pi-spin pi-spinner\" style=\"font-size: 2.25rem\"></i>\n              <span *ngIf=\"!isLoading\">No Records Found</span>\n            </td>\n          </tr>\n        </ng-template>\n        <ng-template pTemplate=\"paginatorright\">\n          <p-button\n            type=\"button\"\n            (click)=\"dt.paginator=false\"\n            styleClass=\"p-button-text\"\n          >All\n          </p-button>\n        </ng-template>\n      </p-table>\n    </div>\n    <div *ngIf=\"!dt.paginator && !isLoading && usersProfiles.length > 0\" class=\"paginator-return-pagination\">\n      <p-button\n        type=\"button\"\n        (click)=\"dt.paginator=true\"\n        styleClass=\"p-button-text\"\n      >\n        Return pagination\n      </p-button>\n    </div>\n  </div>\n</div>\n","import {Component, OnInit} from '@angular/core';\nimport {Subject} from 'rxjs';\nimport {MenuItem} from 'primeng/api';\nimport {EventTypesService} from '../../services/event-types.service';\nimport {EventType} from '../../models/event-type';\nimport {ModalService} from '@shared/services/modal.service';\n\n@Component({\n  selector: 'pek-event-types',\n  templateUrl: './event-types.component.html',\n  styleUrls: ['./event-types.component.scss']\n})\nexport class EventTypesComponent implements OnInit {\n\n  private destroy$ = new Subject();\n\n  eventTypes: EventType[] = [];\n  selectedEventType: EventType;\n  isLoading = true;\n\n  menuItems: MenuItem[] = [{\n    label: 'Selected Event Type',\n    items: [\n      {\n        label: 'Edit',\n        icon: 'pi pi-pencil',\n        command: () => this.onEditEventType()\n      },\n      {\n        label: 'Remove',\n        icon: 'pi pi-trash',\n        command: () => this.onRemoveEventType()\n      }\n    ]\n  }];\n\n  constructor(\n    private readonly eventTypesService: EventTypesService,\n    private readonly modalService: ModalService,\n  ) {\n  }\n\n  ngOnInit(): void {\n    this.getEventTypes();\n  }\n\n  getEventTypes() {\n    this.eventTypesService.get([\n      {name: 'is_inner', value: true,},\n      {name: 'is_auto', value: false,},\n    ]).subscribe(types => {\n      this.eventTypes = types;\n      this.isLoading = false;\n    });\n  }\n\n  ngOnDestroy() {\n    this.destroy$.next(true);\n    this.destroy$.complete();\n  }\n\n  onAddEventType() {\n    this.eventTypesService.createEditEventType('create').subscribe(type => {\n      if (type) {\n        this.eventTypes.push(type);\n        this.renderTable();\n      }\n    });\n  }\n\n  onEditEventType() {\n    this.eventTypesService.createEditEventType('edit', this.selectedEventType).subscribe(type => {\n      if (type) {\n        const index = this.eventTypes.findIndex(t => t.id === this.selectedEventType.id);\n        this.eventTypes[index] = type;\n        this.selectedEventType = this.eventTypes[index];\n        this.renderTable();\n      }\n    });\n  }\n\n  onRemoveEventType() {\n    this.modalService.confirm('danger').subscribe(confirm => {\n      if (confirm) {\n        this.eventTypesService.delete(this.selectedEventType).subscribe(() => {\n          const index = this.eventTypes.findIndex(w => w.id === this.selectedEventType.id);\n          this.eventTypes.splice(index, 1);\n          this.selectedEventType= null;\n          this.renderTable();\n        });\n      }\n    });\n  }\n\n  renderTable() {\n    this.eventTypes = this.eventTypes.map(el => el);\n  }\n}\n","<div class=\"page\">\n  <div class=\"page__header\">\n    <div class=\"page__title\">\n      <pek-module-icon [module]=\"'contacts-events'\" [isActive]=\"true\"></pek-module-icon>\n      <h1>Event Types</h1>\n    </div>\n    <div class=\"page__tools\">\n      <button pButton type=\"button\" icon=\"pi pi-plus\" label=\"New Event Type\" (click)=\"onAddEventType()\"></button>\n    </div>\n  </div>\n</div>\n\n<div class=\"page__content\">\n  <div class=\"page__card\">\n    <div class=\"page__table\">\n      <p-table\n        #dt\n        selectionMode=\"single\"\n        scrollHeight=\"calc(100vh - 18.8rem)\"\n        [scrollable]=\"true\"\n        [paginator]=\"eventTypes.length > 0\"\n        [rows]=\"10\"\n        [(selection)]=\"selectedEventType\"\n        [value]=\"eventTypes\"\n      >\n        <ng-template pTemplate=\"caption\">\n          <div class=\"d-flex\">\n            <p class=\"subtitle\" *ngIf=\"!selectedEventType\">Choose the Event Type to edit</p>\n            <p-menubar class=\"ml-auto\" [model]=\"menuItems\" [class.disabled]=\"!selectedEventType\"></p-menubar>\n          </div>\n        </ng-template>\n        <ng-template pTemplate=\"header\">\n          <tr>\n            <th style=\"width: 5%\" class=\"text-center\">#</th>\n            <th style=\"width: 25%\">Name</th>\n            <th style=\"width: 35%\">Description</th>\n            <th style=\"width: 25%\" class=\"text-center\">User Profiles</th>\n            <th style=\"width: 10%\" class=\"text-center\">Color</th>\n          </tr>\n        </ng-template>\n        <ng-template pTemplate=\"body\" let-event let-i=\"rowIndex\">\n          <tr [pSelectableRow]=\"event\">\n            <td style=\"width: 5%\" class=\"text-center\">{{ i + 1 }}</td>\n            <td style=\"width: 25%\">{{ event.name }}</td>\n            <td style=\"width: 35%\">{{ event.description }}</td>\n            <td style=\"width: 25%\" class=\"text-center\">\n              <ng-container *ngIf=\"event.access_users.length === 0\">\n                <div>Not Related</div>\n              </ng-container>\n\n              <ng-container *ngIf=\"event.access_users.length > 0\">\n                <div *ngFor=\"let user of event.access_users\">\n                  {{user.user_profile.first_name + \" \" + user.user_profile.last_name + \", \" + user.user_profile.gmail}}\n                </div>\n              </ng-container>\n            </td>\n            <td style=\"width: 10%\" class=\"text-center\">\n              <div class=\"event-color\" [style.backgroundColor]=\"event.color_hex ? event.color_hex : '#3788d8'\"></div>\n            </td>\n          </tr>\n        </ng-template>\n        <ng-template pTemplate=\"emptymessage\">\n          <tr>\n            <td class=\"text-center p-4\" [attr.colspan]=\"5\">\n              <i *ngIf=\"isLoading\" class=\"pi pi-spin pi-spinner\" style=\"font-size: 2.25rem\"></i>\n              <span *ngIf=\"!isLoading\">No Records Found</span>\n            </td>\n          </tr>\n        </ng-template>\n        <ng-template pTemplate=\"paginatorright\">\n          <p-button\n            type=\"button\"\n            (click)=\"dt.paginator=false\"\n            styleClass=\"p-button-text\"\n          >All\n          </p-button>\n        </ng-template>\n      </p-table>\n    </div>\n    <div *ngIf=\"!dt.paginator && !isLoading && eventTypes.length > 0\" class=\"paginator-return-pagination\">\n      <p-button\n        type=\"button\"\n        (click)=\"dt.paginator=true\"\n        styleClass=\"p-button-text\"\n      >\n        Return pagination\n      </p-button>\n    </div>\n  </div>\n</div>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { CrmRouting } from './crm.routing';\nimport { CompaniesComponent } from './components/companies/companies.component';\nimport { CrmLayoutComponent } from './components/crm-layout/crm-layout.component';\nimport {SharedModule} from '@shared/shared.module';\nimport {LayoutModule} from '../layout/layout.module';\nimport { CompanyCategoriesComponent } from './components/company-categories/company-categories.component';\nimport { CreateEditCompanyCategoryComponent } from './modals/create-edit-company-category/create-edit-company-category.component';\nimport { EventTypesComponent } from './components/event-types/event-types.component';\nimport { CreateEditEventTypeComponent } from './modals/create-edit-event-type/create-edit-event-type.component';\nimport {ColorPickerModule} from 'primeng/colorpicker';\nimport { CrmEmployeePickerComponent } from './pickers/crm-employee-picker/crm-employee-picker.component';\nimport {MultiSelectModule} from 'primeng/multiselect';\nimport { CrmEmployeesComponent } from './components/crm-employees/crm-employees.component';\nimport { CreateEditCrmEmployeeComponent } from './modals/create-edit-crm-employee/create-edit-crm-employee.component';\nimport { CrmExternalEventsComponent } from './components/crm-external-events/crm-external-events.component';\nimport { CreateEditExternalEventTypeComponent } from './modals/create-edit-external-event-type/create-edit-external-event-type.component';\nimport { CrmUsersProfilesComponent } from './components/crm-users-profiles/crm-users-profiles.component';\nimport { CreateEditUserProfileComponent } from './modals/create-edit-user-profile/create-edit-user-profile.component';\nimport { CrmSchedulesComponent } from './components/crm-schedules/crm-schedules.component';\nimport { CreateEditScheduleComponent } from './modals/create-edit-schedule/create-edit-schedule.component';\nimport { CrmEventTypePickerComponent } from './pickers/crm-event-type-picker/crm-event-type-picker.component';\nimport { CrmEventsReportsComponent } from './components/crm-events-reports/crm-events-reports.component';\nimport { CrmMultiEventTypesPickerComponent } from './pickers/crm-multi-event-types-picker/crm-multi-event-types-picker.component';\nimport { CrmEventCardComponent } from './components/crm-event-card/crm-event-card.component';\nimport { AddCompanyToEventComponent } from './modals/add-company-to-event/add-company-to-event.component';\nimport { AddContactPersonToEventComponent } from './modals/add-contact-person-to-event/add-contact-person-to-event.component';\nimport { CrmContactPersonPickerComponent } from './pickers/crm-contact-person-picker/crm-contact-person-picker.component';\nimport { EditCrmEventContactPersonComponent } from './modals/edit-crm-event-contact-person/edit-crm-event-contact-person.component';\nimport {EditCrmEventCompanyComponent} from './modals/edit-crm-event-company/edit-crm-event-company.component';\nimport { CreateEditCompanyComponent } from './modals/create-edit-company/create-edit-company.component';\nimport { CompanyPageComponent } from './components/company-page/company-page.component';\nimport { CreateEditContactPersonComponent } from './modals/create-edit-contact-person/create-edit-contact-person.component';\nimport { CreateEditLinkedCompanyComponent } from './modals/create-edit-linked-company/create-edit-linked-company.component';\nimport {SliderModule} from 'primeng/slider';\nimport { AddCompanyFileModalComponent } from './modals/add-company-file-modal/add-company-file-modal.component';\nimport {\n  CrmEditCompanyActivityComponent\n} from './modals/crm-edit-company-activity-event/crm-edit-company-activity.component';\nimport { AddEventToCompanyComponent } from './modals/add-event-to-company/add-event-to-company.component';\nimport { CrmMultiContactPersonsPickerComponent } from './pickers/crm-multi-contact-persons-picker/crm-multi-contact-persons-picker.component';\nimport { EditEmployeeEventDateComponent } from './modals/edit-employee-event-date/edit-employee-event-date.component';\nimport { ContactPersonPageComponent } from './components/contact-person-page/contact-person-page.component';\nimport { CrmEventsComponent } from './components/crm-events/crm-events.component';\nimport { CrmFullCalendarComponent } from './components/crm-full-calendar/crm-full-calendar.component';\nimport {FullCalendarModule} from '@fullcalendar/angular';\nimport dayGridPlugin from '@fullcalendar/daygrid';\nimport timeGridPlugin from '@fullcalendar/timegrid';\nimport interactionPlugin from '@fullcalendar/interaction';\nimport listPlugin from '@fullcalendar/list';\nimport { CreateEditEventComponent } from './modals/create-edit-event/create-edit-event.component';\nimport {InputSwitchModule} from 'primeng/inputswitch';\nimport { CreateEditLinkedContactComponent } from './modals/create-edit-linked-contact/create-edit-linked-contact.component';\nimport { AddEventToContactPersonComponent } from './modals/add-event-to-contact-person/add-event-to-contact-person.component';\n\nFullCalendarModule.registerPlugins([\n  dayGridPlugin,\n  timeGridPlugin,\n  listPlugin,\n  interactionPlugin,\n]);\n\n@NgModule({\n  declarations: [\n    CompaniesComponent,\n    CrmLayoutComponent,\n    CompanyCategoriesComponent,\n    CreateEditCompanyCategoryComponent,\n    EventTypesComponent,\n    CreateEditEventTypeComponent,\n    CrmEmployeePickerComponent,\n    CrmEmployeesComponent,\n    CreateEditCrmEmployeeComponent,\n    CrmExternalEventsComponent,\n    CreateEditExternalEventTypeComponent,\n    CrmUsersProfilesComponent,\n    CreateEditUserProfileComponent,\n    CrmSchedulesComponent,\n    CreateEditScheduleComponent,\n    CrmEventTypePickerComponent,\n    CrmEventsReportsComponent,\n    CrmMultiEventTypesPickerComponent,\n    CrmEventCardComponent,\n    AddCompanyToEventComponent,\n    EditCrmEventCompanyComponent,\n    AddContactPersonToEventComponent,\n    CrmContactPersonPickerComponent,\n    EditCrmEventContactPersonComponent,\n    CreateEditCompanyComponent,\n    CompanyPageComponent,\n    CreateEditContactPersonComponent,\n    CreateEditLinkedCompanyComponent,\n    AddCompanyFileModalComponent,\n    CrmEditCompanyActivityComponent,\n    AddEventToCompanyComponent,\n    CrmMultiContactPersonsPickerComponent,\n    EditEmployeeEventDateComponent,\n    ContactPersonPageComponent,\n    CrmEventsComponent,\n    CrmFullCalendarComponent,\n    CreateEditEventComponent,\n    CreateEditLinkedContactComponent,\n    AddEventToContactPersonComponent,\n  ],\n  imports: [\n    CommonModule,\n    CrmRouting,\n    SharedModule,\n    LayoutModule,\n    ColorPickerModule,\n    MultiSelectModule,\n    SliderModule,\n    FullCalendarModule,\n    InputSwitchModule\n  ]\n})\nexport class CrmModule { }\n","import {NgModule} from '@angular/core';\nimport {RouterModule, Routes} from '@angular/router';\nimport {CrmLayoutComponent} from './components/crm-layout/crm-layout.component';\nimport {CompaniesComponent} from './components/companies/companies.component';\nimport {CompanyCategoriesComponent} from './components/company-categories/company-categories.component';\nimport {EventTypesComponent} from './components/event-types/event-types.component';\nimport {CrmEmployeesComponent} from './components/crm-employees/crm-employees.component';\nimport {CrmExternalEventsComponent} from './components/crm-external-events/crm-external-events.component';\nimport {CrmUsersProfilesComponent} from './components/crm-users-profiles/crm-users-profiles.component';\nimport {CrmSchedulesComponent} from './components/crm-schedules/crm-schedules.component';\nimport {CrmEventsReportsComponent} from './components/crm-events-reports/crm-events-reports.component';\nimport {CrmEventCardComponent} from './components/crm-event-card/crm-event-card.component';\nimport {CompanyPageComponent} from './components/company-page/company-page.component';\nimport {ContactPersonPageComponent} from './components/contact-person-page/contact-person-page.component';\nimport {CrmEventsComponent} from './components/crm-events/crm-events.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CrmLayoutComponent,\n    children: [\n      {path: '', redirectTo: 'business-partners', pathMatch: 'full'},\n      {\n        path: 'business-partners',\n        children: [\n          {path: '', title: 'Business partners', component: CompaniesComponent},\n          {path: 'company-page/:id', title: 'Company card', component: CompanyPageComponent},\n          {path: 'contact-person/:id', title: 'Contact Person Card', component: ContactPersonPageComponent},\n        ]\n      },\n      {path: 'events-reports', title: 'Events Reports', component: CrmEventsReportsComponent},\n      {path: 'schedules', title: 'Schedules', component: CrmSchedulesComponent},\n      {path: 'company-categories', title: 'Company categories', component: CompanyCategoriesComponent},\n      {path: 'event-types', title: 'Event Types', component: EventTypesComponent},\n      {path: 'employees', title: 'Employees', component: CrmEmployeesComponent},\n      {path: 'external-events', title: 'External Event Types', component: CrmExternalEventsComponent},\n      {path: 'users-profiles', title: 'Users Profiles', component: CrmUsersProfilesComponent},\n      {\n        path: 'events',\n        children: [\n          {path: '', title: 'Events', component: CrmEventsComponent},\n          {path: ':id', title: 'Event Card', component: CrmEventCardComponent}\n        ]\n      },\n    ]\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class CrmRouting {\n}\n","import {Component, Inject, OnInit} from '@angular/core';\nimport {MAT_DIALOG_DATA, MatDialogRef} from '@angular/material/dialog';\nimport {CompanyFileService} from '../../services/company-file.service';\nimport {finalize} from 'rxjs';\n\n@Component({\n  selector: 'pek-add-company-file-modal',\n  templateUrl: './add-company-file-modal.component.html',\n  styleUrls: ['./add-company-file-modal.component.scss']\n})\nexport class AddCompanyFileModalComponent implements OnInit {\n  isSaving = false;\n  uploadFile: File = null;\n\n  constructor(\n    private readonly companyFileService: CompanyFileService,\n    private dialogRef: MatDialogRef<AddCompanyFileModalComponent>,\n    @Inject(MAT_DIALOG_DATA) public data: { companyId: number }\n  ) {\n  }\n\n  ngOnInit(): void {\n  }\n\n  onSave() {\n    this.isSaving = true;\n\n    const formData = new FormData();\n    formData.append('file', this.uploadFile);\n    formData.append('company', this.data.companyId.toString());\n    this.companyFileService.create(formData).pipe(\n      finalize(() => this.isSaving = false)\n    ).subscribe(file => this.dialogRef.close(file));\n  }\n\n  onSelectFiles(files: File[]) {\n    if (files) {\n      this.uploadFile = files[0];\n    }\n  }\n\n  onRemoveFile() {\n    this.uploadFile = null;\n  }\n}\n","<div class=\"modal-header\">\n  <h2 class=\"modal-header__title\">\n    Add File To Company\n  </h2>\n</div>\n\n<mat-dialog-content>\n  <pek-upload-file\n    (selectFile)=\"onSelectFiles($event)\"\n    (removeFile)=\"onRemoveFile()\"\n  ></pek-upload-file>\n</mat-dialog-content>\n\n<mat-dialog-actions class=\"justify-content-between\">\n  <button pButton type=\"button\" label=\"Cancel\" [mat-dialog-close]=\"false\" class=\"p-button-danger\"></button>\n  <button\n    pButton\n    type=\"button\"\n    class=\"p-button-success\"\n    label=\"Add File\"\n    [disabled]=\"!uploadFile\"\n    [loading]=\"isSaving\"\n    (click)=\"onSave()\"\n  ></button>\n</mat-dialog-actions>\n","import {Component, Inject, OnInit} from '@angular/core';\nimport {FormBuilder, FormControl, FormGroup, Validators} from '@angular/forms';\nimport {MAT_DIALOG_DATA, MatDialogRef} from '@angular/material/dialog';\nimport {EventsListService} from '../../services/events-list.service';\nimport {AdapterService} from '@shared/services/adapter.service';\nimport {AddEventModalType, Company} from '../../models/company';\nimport {finalize} from 'rxjs';\nimport {ContactPerson} from '@shared/models/contact-person';\n\n@Component({\n  selector: 'pek-add-event-to-contact-person',\n  templateUrl: './add-event-to-contact-person.component.html',\n  styleUrls: ['./add-event-to-contact-person.component.scss']\n})\nexport class AddEventToContactPersonComponent implements OnInit {\n\n  isSaving = false;\n\n  form: FormGroup = this.fb.group({\n    event_type: [null, [Validators.required]],\n    start: [null, Validators.required],\n    end: [null, Validators.required],\n    contact_person_ids: [[this.data.contactPerson.id]],\n    description: [''],\n    company_ids: [[]],\n    contact_ids: [[this.data.contactPerson.id]],\n    employee_ids: [[]],\n  });\n\n  constructor(\n    private dialogRef: MatDialogRef<AddEventToContactPersonComponent>,\n    private readonly fb: FormBuilder,\n    private readonly eventListService: EventsListService,\n    private readonly adapterService: AdapterService,\n    @Inject(MAT_DIALOG_DATA) public data: { type: AddEventModalType, contactPerson: ContactPerson },\n  ) {\n  }\n\n  ngOnInit(): void {\n\n  }\n\n  onSave() {\n    if (this.form.valid) {\n      this.isSaving = true;\n      const send = this.form.value;\n      send.start = this.adapterService.dateTimeAdapter(this.form.value.start);\n      send.end = this.adapterService.dateTimeAdapter(this.form.value.end);\n      this.eventListService.create(send).pipe(\n        finalize(() => this.isSaving = false)\n      ).subscribe(event => this.dialogRef.close(event));\n    }\n  }\n\n  onSelectEventType(id: number) {\n    this.form.get('event_type').patchValue(id);\n  }\n\n  onSelectEmployees(ids: number[]) {\n    if (ids) {\n      this.form.get('employee_ids').patchValue(ids);\n    } else {\n      this.form.get('employee_ids').patchValue([]);\n    }\n  }\n\n  onOpenDatesEmployees() {\n    this.eventListService.openEditEmployeeEventDatesModal(this.form.get('employee_ids').value).subscribe(data => {\n      if (data) {\n        this.form.patchValue(data);\n      }\n    })\n  }\n\n}\n","<div class=\"modal-header\">\n  <h2 class=\"modal-header__title\">\n    Add Event to Contact {{data.type === 'withEmployee' ? 'with' : 'without'}} Employee\n  </h2>\n</div>\n\n<mat-dialog-content>\n  <form [formGroup]=\"form\">\n    <div class=\"form-group\">\n      <label>Event Type*</label>\n      <pek-crm-event-type-picker\n        [filters]=\"[\n          {name: 'is_inner', value: true},\n          {name: 'is_auto', value: false}\n        ]\"\n        (selectEventType)=\"onSelectEventType($event)\"\n      >\n      </pek-crm-event-type-picker>\n    </div>\n    <div class=\"form-group\" *ngIf=\"data.type === 'withEmployee'\">\n      <label>Employees*</label>\n      <pek-crm-employee-picker (selectEmployees)=\"onSelectEmployees($event)\"></pek-crm-employee-picker>\n    </div>\n\n    <ng-container *ngIf=\"data.type === 'withoutEmployee'\">\n      <div class=\"row\">\n        <div class=\"col-6\">\n          <div class=\"form-group\">\n            <label>Start Date and Time*</label>\n            <p-calendar\n              [minDate]=\"form.get('end')?.value\"\n              [showTime]=\"true\"\n              [showClear]=\"true\"\n              [showButtonBar]=\"true\"\n              dateFormat=\"dd/mm/yy\"\n              hourFormat=\"24\"\n              formControlName=\"start\"\n              placeholder=\"Choice Start Date and Time\"\n            >\n            </p-calendar>\n          </div>\n        </div>\n        <div class=\"col-6\">\n          <div class=\"form-group\">\n            <label>End Date and Time*</label>\n            <p-calendar\n              [minDate]=\"form.get('start')?.value\"\n              [showTime]=\"true\"\n              [showClear]=\"true\"\n              [showButtonBar]=\"true\"\n              dateFormat=\"dd/mm/yy\"\n              hourFormat=\"24\"\n              formControlName=\"end\"\n              placeholder=\"Choice End Date and Time\"\n            >\n            </p-calendar>\n          </div>\n        </div>\n      </div>\n    </ng-container>\n\n    <ng-container *ngIf=\"data.type === 'withEmployee'\">\n      <div\n        (click)=\"onOpenDatesEmployees()\"\n        [class.disabled]=\"form.get('employee_ids').value.length === 0\"\n        class=\"row select-date\"\n      >\n        <div class=\"col-6\">\n          <div class=\"form-group\">\n            <label>Start Date and Time*</label>\n            <p-calendar\n              [minDate]=\"form.get('end')?.value\"\n              [showTime]=\"true\"\n              [showClear]=\"true\"\n              [showButtonBar]=\"true\"\n              dateFormat=\"dd/mm/yy\"\n              hourFormat=\"24\"\n              formControlName=\"start\"\n              placeholder=\"Choice Start Date and Time\"\n            >\n            </p-calendar>\n          </div>\n        </div>\n        <div class=\"col-6\">\n          <div class=\"form-group\">\n            <label>End Date and Time*</label>\n            <p-calendar\n              [minDate]=\"form.get('start')?.value\"\n              [showTime]=\"true\"\n              [showClear]=\"true\"\n              [showButtonBar]=\"true\"\n              dateFormat=\"dd/mm/yy\"\n              hourFormat=\"24\"\n              formControlName=\"end\"\n              placeholder=\"Choice End Date and Time\"\n            >\n            </p-calendar>\n          </div>\n        </div>\n      </div>\n    </ng-container>\n\n    <div class=\"form-group\">\n      <label for=\"description\">Description</label>\n      <textarea\n        id=\"description\"\n        [rows]=\"2\"\n        pInputTextarea\n        formControlName=\"description\"\n        [autoResize]=\"true\"\n      ></textarea>\n    </div>\n  </form>\n</mat-dialog-content>\n\n<mat-dialog-actions class=\"justify-content-between\">\n  <button pButton type=\"button\" label=\"Cancel\" [mat-dialog-close]=\"false\" class=\"p-button-danger\"></button>\n  <button\n    pButton\n    type=\"button\"\n    class=\"p-button-success\"\n    [label]=\"'Add'\"\n    [loading]=\"isSaving\"\n    [disabled]=\"form.invalid\"\n    (click)=\"onSave()\"\n  ></button>\n</mat-dialog-actions>\n","import {Component, Inject, OnInit} from '@angular/core';\nimport {FormBuilder, FormControl, Validators} from '@angular/forms';\nimport {MAT_DIALOG_DATA, MatDialogRef} from '@angular/material/dialog';\nimport {ModalActionType} from '@shared/models/modal-action';\nimport {ContactPerson} from '@shared/models/contact-person';\nimport {ContactPersonService} from '../../services/contact-person.service';\n\n@Component({\n  selector: 'pek-create-edit-contact-person',\n  templateUrl: './create-edit-contact-person.component.html',\n  styleUrls: ['./create-edit-contact-person.component.scss']\n})\nexport class CreateEditContactPersonComponent implements OnInit {\n  isSaving = false;\n\n  form = this.fb.group({\n    first_name: [null, [Validators.required]],\n    last_name: [null, [Validators.required]],\n    email: ['', [Validators.email]],\n    position: [''],\n    phone_number: [''],\n    comment: [''],\n    company: [this.data.companyId],\n  });\n\n  constructor(\n    private readonly fb: FormBuilder,\n    private readonly contactPersonService: ContactPersonService,\n    private dialogRef: MatDialogRef<CreateEditContactPersonComponent>,\n    @Inject(MAT_DIALOG_DATA) public data: { companyId: number, type: ModalActionType, contactPerson: ContactPerson }\n  ) {\n  }\n\n  ngOnInit(): void {\n    if (this.data.type === 'edit') {\n      this.form.addControl('id' as any, new FormControl(this.data.contactPerson.id));\n      this.form.patchValue(<any>this.data.contactPerson);\n    }\n  }\n\n  onSave() {\n    this.isSaving = true;\n\n    switch (this.data.type) {\n      case 'create': {\n        this.createContactPerson();\n        break;\n      }\n      case 'edit': {\n        this.editContactPerson();\n        break;\n      }\n    }\n  }\n\n  createContactPerson() {\n    const send = <any>this.form.value;\n    this.contactPersonService.create(send).subscribe({\n      next: contactPerson => this.dialogRef.close(contactPerson),\n      error: () => this.isSaving = false,\n    });\n  }\n\n  editContactPerson() {\n    const send = <any>this.form.value;\n    this.contactPersonService.update(send).subscribe({\n      next: contactPerson => this.dialogRef.close(contactPerson),\n      error: () => this.isSaving = false,\n    });\n  }\n}\n","<div class=\"modal-header\">\n  <h2 class=\"modal-header__title\">\n    {{data.type}} Contact Person\n  </h2>\n</div>\n\n<mat-dialog-content>\n  <form [formGroup]=\"form\">\n    <div class=\"row\">\n      <div class=\"col-6\">\n        <div class=\"form-group\">\n          <label for=\"first_name\">First Name*</label>\n          <input\n            pInputText\n            formControlName=\"first_name\"\n            class=\"form-control\"\n            type=\"text\"\n            id=\"first_name\"\n            required=\"required\"\n          >\n        </div>\n      </div>\n      <div class=\"col-6\">\n        <div class=\"form-group\">\n          <label for=\"last_name\">Last Name*</label>\n          <input\n            pInputText\n            formControlName=\"last_name\"\n            class=\"form-control\"\n            type=\"text\"\n            id=\"last_name\"\n            required=\"required\"\n          >\n        </div>\n      </div>\n    </div>\n    <div class=\"form-group\">\n      <label for=\"email\"> Email </label>\n      <input pInputText formControlName=\"email\" class=\"form-control\" type=\"text\" id=\"email\">\n    </div>\n    <div class=\"form-group\">\n      <label for=\"position\"> Position </label>\n      <input pInputText formControlName=\"position\" class=\"form-control\" type=\"text\" id=\"position\">\n    </div>\n    <div class=\"form-group\">\n      <label for=\"phone_number\"> Phone</label>\n      <input pInputText formControlName=\"phone_number\" class=\"form-control\" type=\"text\" id=\"phone_number\">\n    </div>\n    <div class=\"form-group\">\n      <label for=\"comment\"> Comment </label>\n      <textarea\n        id=\"comment\"\n        [rows]=\"2\"\n        pInputTextarea\n        [autoResize]=\"false\"\n        formControlName=\"comment\"\n      ></textarea>\n    </div>\n  </form>\n</mat-dialog-content>\n\n<mat-dialog-actions class=\"justify-content-between\">\n  <button pButton type=\"button\" label=\"Cancel\" [mat-dialog-close]=\"false\" class=\"p-button-danger\"></button>\n  <button\n    pButton\n    type=\"button\"\n    class=\"p-button-success\"\n    [label]=\"data.type\"\n    [loading]=\"isSaving\"\n    [disabled]=\"form.invalid\"\n    (click)=\"onSave()\"\n  ></button>\n</mat-dialog-actions>\n","import {Component, Inject, OnInit} from '@angular/core';\nimport {FormBuilder, FormControl, Validators} from '@angular/forms';\nimport {MAT_DIALOG_DATA, MatDialogRef} from '@angular/material/dialog';\nimport {ModalActionType} from '@shared/models/modal-action';\nimport {CrmEmployeeService} from '../../services/crm-employee.service';\nimport {CRMEmployee} from '../../models/crm-employee';\n\n@Component({\n  selector: 'pek-create-edit-crm-employee',\n  templateUrl: './create-edit-crm-employee.component.html',\n  styleUrls: ['./create-edit-crm-employee.component.scss']\n})\nexport class CreateEditCrmEmployeeComponent implements OnInit {\n  isSaving = false;\n\n  form = this.fb.group({\n    first_name: ['', Validators.required],\n    last_name: ['', Validators.required],\n  });\n\n  constructor(\n    private readonly fb: FormBuilder,\n    private readonly crmEmployeeService: CrmEmployeeService,\n    private dialogRef: MatDialogRef<CreateEditCrmEmployeeComponent>,\n    @Inject(MAT_DIALOG_DATA) public data: { type: ModalActionType, employee: CRMEmployee }\n  ) {\n  }\n\n  ngOnInit(): void {\n    if (this.data.type === 'edit') {\n      this.form.addControl('id' as any, new FormControl(this.data.employee.id));\n      this.form.patchValue(<any>this.data.employee);\n    }\n  }\n\n  onSave() {\n    this.isSaving = true;\n\n    switch (this.data.type) {\n      case 'create': {\n        this.createEmployee();\n        break;\n      }\n\n      case 'edit': {\n        this.editEmployee();\n        break;\n      }\n    }\n  }\n\n  createEmployee() {\n    const send = <any>this.form.value;\n    this.crmEmployeeService.create(send).subscribe({\n      next: employee => this.dialogRef.close(employee),\n      error: () => this.isSaving = false,\n    });\n  }\n\n  editEmployee() {\n    const send = <any>this.form.value;\n    this.crmEmployeeService.update(send).subscribe({\n      next: employee => this.dialogRef.close(employee),\n      error: () => this.isSaving = false,\n    });\n  }\n\n}\n","<div class=\"modal-header\">\n  <h2 class=\"modal-header__title\">\n    {{data.type}} Employee\n  </h2>\n</div>\n\n<mat-dialog-content>\n  <form [formGroup]=\"form\">\n    <div class=\"form-group\">\n      <label for=\"name\">First Name*</label>\n      <input type=\"text\" id=\"name\" pInputText formControlName=\"first_name\">\n    </div>\n    <div class=\"form-group\">\n      <label for=\"last-name\">Last Name*</label>\n      <input type=\"text\" id=\"last-name\" pInputText formControlName=\"last_name\">\n    </div>\n  </form>\n</mat-dialog-content>\n\n<mat-dialog-actions class=\"justify-content-between\">\n  <button pButton type=\"button\" label=\"Cancel\" [mat-dialog-close]=\"false\" class=\"p-button-danger\"></button>\n  <button\n    pButton\n    type=\"button\"\n    class=\"p-button-success\"\n    [label]=\"data.type\"\n    [loading]=\"isSaving\"\n    [disabled]=\"form.invalid\"\n    (click)=\"onSave()\"\n  ></button>\n</mat-dialog-actions>\n","import {Component, Inject, OnInit} from '@angular/core';\nimport {AbstractControl, FormArray, FormBuilder, FormControl, Validators} from '@angular/forms';\nimport {EventTypesService} from '../../services/event-types.service';\nimport {MAT_DIALOG_DATA, MatDialogRef} from '@angular/material/dialog';\nimport {ModalActionType} from '@shared/models/modal-action';\nimport {EventType} from '../../models/event-type';\nimport {CRMEmployee} from '../../models/crm-employee';\n\n@Component({\n  selector: 'pek-create-edit-event-type',\n  templateUrl: './create-edit-event-type.component.html',\n  styleUrls: ['./create-edit-event-type.component.scss']\n})\nexport class CreateEditEventTypeComponent implements OnInit {\n  isSaving = false;\n\n  form = this.fb.group({\n    name: [null, [Validators.required]],\n    description: [null, Validators.required],\n    google_calendar_id: [null],\n    google_owner_first_name: [null],\n    google_owner_last_name: [null],\n    google_owner_gmail: [null],\n    profiles_ids: this.fb.array([\n      // this.fb.group({\n      //   profile_id: [null, Validators.required],\n      //   employees_ids: [null, Validators.required],\n      // })\n    ], Validators.required),\n    is_inner: [true],\n    color_hex: ['#3788d8', Validators.required]\n  });\n\n  constructor(\n    private dialogRef: MatDialogRef<CreateEditEventTypeComponent>,\n    private eventTypesService: EventTypesService,\n    private readonly fb: FormBuilder,\n    @Inject(MAT_DIALOG_DATA) public data: { type: ModalActionType, eventType: EventType }\n  ) {\n  }\n\n  ngOnInit(): void {\n    if (this.data.type === 'edit') {\n      this.data.eventType.color_hex = this.data.eventType.color_hex ? this.data.eventType.color_hex : '#3788d8';\n      this.form.addControl(<any>'id', new FormControl(this.data.eventType.id));\n      this.form.patchValue(<any>this.data.eventType);\n\n      if (this.data.eventType.access_users.length > 0) {\n        this.data.eventType.access_users.forEach(user => {\n          (this.form.get('profiles_ids') as FormArray).push(this.fb.group({\n            // @ts-ignore\n            profile_id: [user.user_profile.id, Validators.required],\n            // @ts-ignore\n            employees_ids: [user.access_users_employees.map(u => u.employee.id), Validators.required],\n          }));\n        });\n      }\n    }\n\n    if (this.data.type === 'create') {\n      (this.form.get('profiles_ids') as FormArray).push(this.fb.group({\n        profile_id: [null, Validators.required],\n        employees_ids: [[], Validators.required],\n      }));\n    }\n  }\n\n  get users() {\n    return this.form.get('profiles_ids') as FormArray;\n  }\n\n  addUser() {\n    (this.form.get('profiles_ids') as FormArray).push(this.fb.group({\n      profile_id: [null, Validators.required],\n      employees_ids: [[], Validators.required],\n    }));\n  }\n\n  removeUser(index: number) {\n    (this.form.get('profiles_ids') as FormArray).removeAt(index);\n  }\n\n  onSave() {\n    this.isSaving = true;\n\n    switch (this.data.type) {\n      case 'create': {\n        this.createEventType();\n        break;\n      }\n      case 'edit': {\n        this.editEventType();\n        break;\n      }\n    }\n  }\n\n  createEventType() {\n    const send = <any>this.form.value;\n    this.eventTypesService.create(send).subscribe({\n      next: type => this.dialogRef.close(type),\n      error: () => this.isSaving = false,\n    });\n  }\n\n  editEventType() {\n    const send = <any>this.form.value;\n    this.eventTypesService.update(send).subscribe({\n      next: type => this.dialogRef.close(type),\n      error: () => this.isSaving = false,\n    });\n  }\n\n\n  onSelectUserProfile(userProfileId: number, user: AbstractControl<any>) {\n    user.get('profile_id').patchValue(userProfileId);\n  }\n\n  onSelectEmployees(ids: number[], user: AbstractControl<any>) {\n    if (ids) {\n      user.get('employees_ids').patchValue(ids);\n    } else {\n      user.get('employees_ids').patchValue(null);\n    }\n  }\n}\n","<div class=\"modal-header\">\n  <h2 class=\"modal-header__title\">\n    {{data.type}} Company Category\n  </h2>\n</div>\n\n<mat-dialog-content>\n  <form [formGroup]=\"form\">\n    <div class=\"row-1\">\n      <div class=\"form-group\">\n        <label for=\"name\">Name*</label>\n        <input\n          pInputText\n          formControlName=\"name\"\n          class=\"form-control\"\n          type=\"text\"\n          id=\"name\"\n        />\n      </div>\n      <div class=\"form-group ml-3 form-group_color\">\n        <label for=\"name\"> Color </label>\n        <p-colorPicker formControlName=\"color_hex\"></p-colorPicker>\n      </div>\n    </div>\n\n    <div class=\"employees\" formArrayName=\"profiles_ids\">\n      <div class=\"employees-row\" *ngFor=\"let user of users.controls; let idx = index\" [formGroupName]=\"idx\">\n        <div class=\"employees-col\">\n          <div class=\"form-group\">\n            <label>User Profiles*</label>\n            <pek-user-profile-picker\n              [currentUserProfileId]=\"user.get('profile_id').value\"\n              (selectUserProfile)=\"onSelectUserProfile($event, user)\"\n            ></pek-user-profile-picker>\n          </div>\n          <div class=\"form-group\">\n            <label>Employees*</label>\n            <pek-crm-employee-picker\n              (selectEmployees)=\"onSelectEmployees($event, user)\"\n              [currentEmployeeIds]=\"user.get('employees_ids').value\"\n            ></pek-crm-employee-picker>\n          </div>\n\n          <button\n            pButton\n            type=\"button\"\n            icon=\"pi pi-times\"\n            class=\"p-button-rounded p-button-danger mr-2\"\n            (click)=\"removeUser(idx)\"\n          ></button>\n        </div>\n      </div>\n    </div>\n    <button\n      pButton\n      type=\"button\"\n      icon=\"pi pi-plus\"\n      class=\"add-button mt-2 mb-2\"\n      label=\"Add User\"\n      (click)=\"addUser()\"\n    >\n    </button>\n    <div class=\"form-group\">\n      <label for=\"description\">Description*</label>\n      <textarea\n        id=\"description\"\n        [rows]=\"2\"\n        pInputTextarea\n        [autoResize]=\"false\"\n        formControlName=\"description\"\n      ></textarea>\n    </div>\n  </form>\n</mat-dialog-content>\n\n<mat-dialog-actions class=\"justify-content-between\">\n  <button pButton type=\"button\" label=\"Cancel\" [mat-dialog-close]=\"false\" class=\"p-button-danger\"></button>\n  <button\n    pButton\n    type=\"button\"\n    class=\"p-button-success\"\n    [label]=\"data.type\"\n    [loading]=\"isSaving\"\n    [disabled]=\"form.invalid\"\n    (click)=\"onSave()\"\n  ></button>\n</mat-dialog-actions>\n","import {Component, Inject, OnInit} from '@angular/core';\nimport {MAT_DIALOG_DATA, MatDialogRef} from '@angular/material/dialog';\nimport {EventTypesService} from '../../services/event-types.service';\nimport {FormBuilder, FormControl, Validators} from '@angular/forms';\nimport {ModalActionType} from '@shared/models/modal-action';\nimport {EventType} from '../../models/event-type';\n\n@Component({\n  selector: 'pek-create-edit-external-event-type',\n  templateUrl: './create-edit-external-event-type.component.html',\n  styleUrls: ['./create-edit-external-event-type.component.scss']\n})\nexport class CreateEditExternalEventTypeComponent implements OnInit {\n  isSaving = false;\n\n  form = this.fb.group({\n    google_calendar_id: [null, [Validators.required]],\n    google_owner_first_name: [null],\n    google_owner_last_name: [null],\n    color_hex: ['#3788d8'],\n    profiles_ids: [[]],\n    google_owner_gmail: [null, [Validators.email]],\n  });\n\n  constructor(\n    private dialogRef: MatDialogRef<CreateEditExternalEventTypeComponent>,\n    private eventTypesService: EventTypesService,\n    private readonly fb: FormBuilder,\n    @Inject(MAT_DIALOG_DATA) public data: { type: ModalActionType, eventType: EventType }\n  ) { }\n\n  ngOnInit(): void {\n    if (this.data.type === 'edit') {\n      this.data.eventType.color_hex = this.data.eventType.color_hex ? this.data.eventType.color_hex : '#3788d8';\n      this.form.addControl(<any>'id', new FormControl(this.data.eventType.id));\n      this.form.patchValue(<any>this.data.eventType);\n    }\n  }\n\n  onSave() {\n    this.isSaving = true;\n\n    switch (this.data.type) {\n      case 'create': {\n        this.createEventType();\n        break;\n      }\n      case 'edit': {\n        this.editEventType();\n        break;\n      }\n    }\n  }\n\n  createEventType() {\n    const send = <any>this.form.value;\n    this.eventTypesService.addCalendarFromGoogle(send).subscribe({\n      next: type => this.dialogRef.close(type),\n      error: () => this.isSaving = false,\n    });\n  }\n\n  editEventType() {\n    const send = <any>this.form.value;\n    this.eventTypesService.update(send).subscribe({\n      next: type => this.dialogRef.close(type),\n      error: () => this.isSaving = false,\n    });\n  }\n\n}\n","<div class=\"modal-header\">\n  <h2 class=\"modal-header__title\">\n    {{data.type}} Company Category\n  </h2>\n</div>\n\n<mat-dialog-content>\n  <form [formGroup]=\"form\">\n    <div class=\"form-group\">\n      <label for=\"calendar\">Google Calendar ID*</label>\n      <input\n        pInputText\n        formControlName=\"google_calendar_id\"\n        class=\"form-control\"\n        type=\"text\"\n        id=\"calendar\"\n      />\n    </div>\n    <div class=\"form-group\">\n      <label for=\"first-name\">First Name</label>\n      <input\n        pInputText\n        formControlName=\"google_owner_first_name\"\n        class=\"form-control\"\n        type=\"text\"\n        id=\"first-name\"\n      />\n    </div>\n    <div class=\"form-group\">\n      <label for=\"last-name\">Last Name</label>\n      <input\n        pInputText\n        formControlName=\"google_owner_last_name\"\n        class=\"form-control\"\n        type=\"text\"\n        id=\"last-name\"\n      />\n    </div>\n    <div class=\"form-group\">\n      <label for=\"gmail\">Gmail</label>\n      <input\n        pInputText\n        formControlName=\"google_owner_gmail\"\n        class=\"form-control\"\n        type=\"text\"\n        id=\"gmail\"\n      />\n    </div>\n\n    <div class=\"form-group form-group_color\">\n      <label> Color </label>\n      <p-colorPicker formControlName=\"color_hex\"></p-colorPicker>\n    </div>\n  </form>\n</mat-dialog-content>\n\n<mat-dialog-actions class=\"justify-content-between\">\n  <button pButton type=\"button\" label=\"Cancel\" [mat-dialog-close]=\"false\" class=\"p-button-danger\"></button>\n  <button\n    pButton\n    type=\"button\"\n    class=\"p-button-success\"\n    [label]=\"data.type\"\n    [loading]=\"isSaving\"\n    [disabled]=\"form.invalid\"\n    (click)=\"onSave()\"\n  ></button>\n</mat-dialog-actions>\n","import {Component, Inject, OnInit} from '@angular/core';\nimport {FormBuilder, FormControl, Validators} from '@angular/forms';\nimport {MAT_DIALOG_DATA, MatDialogRef} from '@angular/material/dialog';\nimport {ModalActionType} from '@shared/models/modal-action';\nimport {ContactPerson} from '@shared/models/contact-person';\nimport {ContactPersonService} from '../../services/contact-person.service';\n\n@Component({\n  selector: 'pek-create-edit-linked-contact',\n  templateUrl: './create-edit-linked-contact.component.html',\n  styleUrls: ['./create-edit-linked-contact.component.scss']\n})\nexport class CreateEditLinkedContactComponent implements OnInit {\n\n  isSaving = false;\n\n  form = this.fb.group({\n    to_contact: [null, [Validators.required]],\n    link_weight: [0, [Validators.required]],\n  });\n\n  constructor(\n    private readonly fb: FormBuilder,\n    private dialogRef: MatDialogRef<CreateEditLinkedContactComponent>,\n    private readonly contactPersonService: ContactPersonService,\n    @Inject(MAT_DIALOG_DATA) public data: { type: ModalActionType, person: ContactPerson, contactPerson: any }\n  ) {\n  }\n\n  ngOnInit(): void {\n    if (this.data.type === 'edit') {\n      this.form.get('link_weight').patchValue(this.data.contactPerson.link_weight);\n      this.form.get('to_contact').patchValue(this.data.contactPerson.to_contact);\n      this.form.addControl(<any>'from_contact', new FormControl(this.data.contactPerson.from_contact.id));\n    }\n  }\n\n  onSave() {\n    this.isSaving = true;\n\n    switch (this.data.type) {\n      case 'create': {\n        this.createLinkedContact();\n        break;\n      }\n      case 'edit': {\n        this.editLinkedContact();\n        break;\n      }\n    }\n  }\n\n  createLinkedContact() {\n    const send = <Partial<ContactPerson>>this.form.value;\n    this.contactPersonService.linkContact(this.data.person.id, send).subscribe({\n      next: contactPerson => this.dialogRef.close(contactPerson),\n      error: () => this.isSaving = false,\n    });\n  }\n\n  editLinkedContact() {\n    const send = <Partial<ContactPerson>>this.form.value;\n    this.contactPersonService.linkContact(this.data.person.id, send).subscribe({\n      next: contactPerson => this.dialogRef.close(contactPerson),\n      error: () => this.isSaving = false,\n    });\n  }\n\n  onSelectContactPerson(id: number) {\n    this.form.get('to_contact').patchValue(<any>id);\n  }\n\n  onSelectContactPersonFromContact(id: number) {\n    this.form.get('from_contact').patchValue(<never>id);\n  }\n}\n","<div class=\"modal-header\">\n  <h2 class=\"modal-header__title\">\n    {{data.type}} Linked Company\n  </h2>\n</div>\n\n<mat-dialog-content>\n  <form [formGroup]=\"form\">\n    <div class=\"form-group\">\n      <label> Contact Person* </label>\n      <ng-container *ngIf=\"data.type === 'create'\">\n        <pek-crm-contact-person-picker\n          [currentContactPersonId]=\"form.get('to_contact').value\"\n          (selectContactPerson)=\"onSelectContactPerson($event)\"\n        ></pek-crm-contact-person-picker>\n      </ng-container>\n      <ng-container *ngIf=\"data.type === 'edit'\">\n        <pek-crm-contact-person-picker\n          [currentContactPersonId]=\"form.get('from_contact').value\"\n          (selectContactPerson)=\"onSelectContactPersonFromContact($event)\"\n        ></pek-crm-contact-person-picker>\n      </ng-container>\n    </div>\n    <div class=\"form-group\">\n      <div class=\"form-group\">\n        <label>Connection Weight*: {{ form.get('link_weight').value }}</label>\n        <p-slider formControlName=\"link_weight\" [min]=\"0\" [max]=\"10\"></p-slider>\n      </div>\n    </div>\n  </form>\n</mat-dialog-content>\n\n<mat-dialog-actions class=\"justify-content-between\">\n  <button pButton type=\"button\" label=\"Cancel\" [mat-dialog-close]=\"false\" class=\"p-button-danger\"></button>\n  <button\n    pButton\n    type=\"button\"\n    class=\"p-button-success\"\n    [label]=\"data.type\"\n    [loading]=\"isSaving\"\n    [disabled]=\"form.invalid\"\n    (click)=\"onSave()\"\n  ></button>\n</mat-dialog-actions>\n","import {Component, Inject, OnInit} from '@angular/core';\nimport {FormBuilder, FormControl, Validators} from '@angular/forms';\nimport {MAT_DIALOG_DATA, MatDialogRef} from '@angular/material/dialog';\nimport {ModalActionType} from '@shared/models/modal-action';\nimport {CrmScheduleService} from '../../services/crm-schedule.service';\nimport {Schedule} from '../../models/schedule';\nimport {CRMEmployee} from '../../models/crm-employee';\n\n@Component({\n  selector: 'pek-create-edit-schedule',\n  templateUrl: './create-edit-schedule.component.html',\n  styleUrls: ['./create-edit-schedule.component.scss']\n})\nexport class CreateEditScheduleComponent implements OnInit {\n  isSaving = false;\n\n  scheduleDays = [\n    {value: 0, name: 'Monday'},\n    {value: 1, name: 'Tuesday'},\n    {value: 2, name: 'Wednesday'},\n    {value: 3, name: 'Thursday'},\n    {value: 4, name: 'Friday'},\n    {value: 5, name: 'Saturday'},\n    {value: 6, name: 'Sunday'},\n  ];\n\n  form = this.fb.group({\n    start: [null, [Validators.required]],\n    end: [null, [Validators.required]],\n    schedule_values: [[], [Validators.required]],\n    event_type: [null, [Validators.required]],\n    employee: [[]],\n    description: [null, [Validators.required]],\n  });\n\n  constructor(\n    private dialogRef: MatDialogRef<CreateEditScheduleComponent>,\n    private crmScheduleService: CrmScheduleService,\n    private readonly fb: FormBuilder,\n    @Inject(MAT_DIALOG_DATA) public data: { type: ModalActionType, schedule: Schedule }\n  ) {\n  }\n\n  ngOnInit(): void {\n\n    if (this.data.type === 'edit') {\n      this.form.addControl(<any>'id', new FormControl(this.data.schedule.id));\n      this.form.get('start').patchValue(<any>new Date(this.data.schedule.start));\n      this.form.get('end').patchValue(<any>new Date(this.data.schedule.end));\n      this.form.get('description').patchValue(<any>this.data.schedule.description);\n      this.form.get('event_type').patchValue(<any>this.data.schedule.event_type?.id);\n      this.form.get('schedule_values').patchValue(<any>this.data.schedule.values);\n      this.form.get('employee').patchValue(<any>this.data.schedule.employee.map(e => e.id));\n    }\n  }\n\n  onSave() {\n    this.isSaving = true;\n\n    switch (this.data.type) {\n      case 'create': {\n        this.createSchedule();\n        break;\n      }\n      case 'edit': {\n        this.editSchedule();\n        break;\n      }\n    }\n  }\n\n  createSchedule() {\n    const send = <any>this.form.value;\n    this.crmScheduleService.create(send).subscribe({\n      next: schedule => this.dialogRef.close(schedule),\n      error: () => this.isSaving = false,\n    });\n  }\n\n  editSchedule() {\n    const send = <any>this.form.value;\n    this.crmScheduleService.update(send).subscribe({\n      next: schedule => this.dialogRef.close(schedule),\n      error: () => this.isSaving = false,\n    });\n  }\n\n  onSelectEventType(id: number) {\n    this.form.get('event_type').patchValue(<any>id);\n  }\n\n  onSelectEmployees(ids: number[]) {\n    if (ids) {\n      this.form.get('employee').patchValue(ids);\n    } else {\n      this.form.get('employee').patchValue([]);\n    }\n  }\n}\n","<div class=\"modal-header\">\n  <h2 class=\"modal-header__title\">\n    {{data.type}} Schedule\n  </h2>\n</div>\n\n<mat-dialog-content>\n  <form [formGroup]=\"form\">\n    <div class=\"form-group\">\n      <label>Employees</label>\n      <pek-crm-employee-picker\n        (selectEmployees)=\"onSelectEmployees($event)\"\n        [currentEmployeeIds]=\"form.get('employee').value\"\n      ></pek-crm-employee-picker>\n    </div>\n    <div class=\"form-group\">\n      <label>Event Type*</label>\n      <pek-crm-event-type-picker\n        [currentEventTypeId]=\"form.get('event_type').value\"\n        (selectEventType)=\"onSelectEventType($event)\"\n      ></pek-crm-event-type-picker>\n    </div>\n    <div class=\"form-group\">\n      <label for=\"description\">Description*</label>\n      <textarea\n        id=\"description\"\n        [rows]=\"2\"\n        pInputTextarea\n        [autoResize]=\"false\"\n        formControlName=\"description\"\n      ></textarea>\n    </div>\n\n    <div class=\"col-group\">\n      <div class=\"form-group\">\n        <label for=\"start\">Start Time*</label>\n        <p-calendar\n          id=\"start\"\n          [showButtonBar]=\"true\"\n          formControlName=\"start\"\n          [showTime]=\"true\"\n          [timeOnly]=\"true\"\n          [hourFormat]=\"'24'\"\n          inputId=\"timeonly\"\n        >\n        </p-calendar>\n      </div>\n      <div class=\"form-group col-6\">\n        <label for=\"end\">End Time*</label>\n        <p-calendar\n          id=\"end\"\n          [showButtonBar]=\"true\"\n          formControlName=\"end\"\n          [showTime]=\"true\"\n          [timeOnly]=\"true\"\n          [hourFormat]=\"'24'\"\n          inputId=\"timeonly\"\n        >\n        </p-calendar>\n      </div>\n    </div>\n    <div class=\"form-group\">\n      <label> Week days* </label>\n      <p-multiSelect\n        formControlName=\"schedule_values\"\n        optionLabel=\"name\"\n        optionValue=\"value\"\n        [options]=\"scheduleDays\"\n      ></p-multiSelect>\n    </div>\n  </form>\n</mat-dialog-content>\n\n<mat-dialog-actions class=\"justify-content-between\">\n  <button pButton type=\"button\" label=\"Cancel\" [mat-dialog-close]=\"false\" class=\"p-button-danger\"></button>\n  <button\n    pButton\n    type=\"button\"\n    class=\"p-button-success\"\n    [label]=\"data.type\"\n    [loading]=\"isSaving\"\n    [disabled]=\"form.invalid\"\n    (click)=\"onSave()\"\n  ></button>\n</mat-dialog-actions>\n","import {Component, Inject, OnInit} from '@angular/core';\nimport {FormBuilder, FormGroup} from '@angular/forms';\nimport {MAT_DIALOG_DATA, MatDialogRef} from '@angular/material/dialog';\nimport {EventCompanyService} from '../../services/event-company.service';\nimport {EventCompany} from '../../models/event-company';\nimport {finalize} from 'rxjs';\nimport {CompanyActivity} from '../../models/company-activity';\n\n@Component({\n  selector: 'pek-crm-edit-company-activity-event',\n  templateUrl: './crm-edit-company-activity.component.html',\n  styleUrls: ['./crm-edit-company-activity.component.scss']\n})\nexport class CrmEditCompanyActivityComponent implements OnInit {\n\n  isSaving = false;\n\n  form: FormGroup = this.fb.group({\n    comment: ['']\n  });\n\n  constructor(\n    private dialogRef: MatDialogRef<CrmEditCompanyActivityComponent>,\n    private readonly fb: FormBuilder,\n    private readonly eventCompanyService: EventCompanyService,\n    @Inject(MAT_DIALOG_DATA) public companyActivity: CompanyActivity,\n  ) {\n  }\n\n  ngOnInit(): void {\n    this.form.patchValue(this.companyActivity);\n  }\n\n  onSave() {\n    if (this.form.valid) {\n      this.isSaving = true;\n\n      this.eventCompanyService.update(this.companyActivity.id, this.form.value).pipe(\n        finalize(() => this.isSaving = false)\n      ).subscribe(eventCompany => {\n        this.dialogRef.close(eventCompany);\n      });\n    }\n  }\n\n}\n","<div class=\"modal-header\">\n  <h2 class=\"modal-header__title\">\n    Edit Event\n  </h2>\n</div>\n\n<mat-dialog-content>\n  <form [formGroup]=\"form\">\n    <div class=\"form-group\">\n      <label for=\"comment\">Comment</label>\n      <textarea\n        id=\"comment\"\n        [rows]=\"2\"\n        pInputTextarea\n        [autoResize]=\"true\"\n        formControlName=\"comment\"\n      ></textarea>\n    </div>\n  </form>\n</mat-dialog-content>\n\n<mat-dialog-actions class=\"justify-content-between\">\n  <button pButton type=\"button\" label=\"Cancel\" [mat-dialog-close]=\"false\" class=\"p-button-danger\"></button>\n  <button\n    pButton\n    type=\"button\"\n    class=\"p-button-success\"\n    [label]=\"'Save'\"\n    [loading]=\"isSaving\"\n    [disabled]=\"form.invalid\"\n    (click)=\"onSave()\"\n  ></button>\n</mat-dialog-actions>\n","import {Component, Inject, OnInit} from '@angular/core';\nimport {MAT_DIALOG_DATA, MatDialogRef} from '@angular/material/dialog';\nimport {FormBuilder, FormGroup, Validators} from '@angular/forms';\nimport {EventCompany} from '../../models/event-company';\nimport {EventCompanyService} from '../../services/event-company.service';\nimport {finalize} from 'rxjs';\n\n@Component({\n  selector: 'pek-crm-edit-card-event-company',\n  templateUrl: './edit-crm-event-company.component.html',\n  styleUrls: ['./edit-crm-event-company.component.scss']\n})\nexport class EditCrmEventCompanyComponent implements OnInit {\n  isSaving = false;\n\n  form: FormGroup = this.fb.group({\n    comment: ['']\n  });\n\n  constructor(\n    private dialogRef: MatDialogRef<EditCrmEventCompanyComponent>,\n    private readonly fb: FormBuilder,\n    private readonly eventCompanyService: EventCompanyService,\n    @Inject(MAT_DIALOG_DATA) public eventCompany: EventCompany,\n  ) {\n  }\n\n  ngOnInit(): void {\n    this.form.patchValue(this.eventCompany);\n  }\n\n  onSave() {\n    if (this.form.valid) {\n      this.isSaving = true;\n\n      this.eventCompanyService.update(this.eventCompany.id, this.form.value).pipe(\n        finalize(() => this.isSaving = false)\n      ).subscribe(eventCompany => {\n        this.dialogRef.close(eventCompany);\n      });\n    }\n  }\n}\n","<div class=\"modal-header\">\n  <h2 class=\"modal-header__title\">\n    Edit Event Company\n  </h2>\n</div>\n\n<mat-dialog-content>\n  <form [formGroup]=\"form\">\n    <div class=\"form-group\">\n      <label for=\"comment\">Comment</label>\n      <textarea\n        id=\"comment\"\n        [rows]=\"2\"\n        pInputTextarea\n        [autoResize]=\"true\"\n        formControlName=\"comment\"\n      ></textarea>\n    </div>\n  </form>\n</mat-dialog-content>\n\n<mat-dialog-actions class=\"justify-content-between\">\n  <button pButton type=\"button\" label=\"Cancel\" [mat-dialog-close]=\"false\" class=\"p-button-danger\"></button>\n  <button\n    pButton\n    type=\"button\"\n    class=\"p-button-success\"\n    [label]=\"'Save'\"\n    [loading]=\"isSaving\"\n    [disabled]=\"form.invalid\"\n    (click)=\"onSave()\"\n  ></button>\n</mat-dialog-actions>\n","import {Component, Inject, OnInit} from '@angular/core';\nimport {FormBuilder, FormGroup} from '@angular/forms';\nimport {MAT_DIALOG_DATA, MatDialogRef} from '@angular/material/dialog';\nimport {finalize} from 'rxjs';\nimport {EventContactPerson} from '../../models/event-contact-person';\nimport {EventContactPersonService} from '../../services/event-contact-person.service';\n\n@Component({\n  selector: 'pek-edit-crm-event-contact-person',\n  templateUrl: './edit-crm-event-contact-person.component.html',\n  styleUrls: ['./edit-crm-event-contact-person.component.scss']\n})\nexport class EditCrmEventContactPersonComponent implements OnInit {\n\n  isSaving = false;\n\n  form: FormGroup = this.fb.group({\n    comment: ['']\n  });\n\n  constructor(\n    private dialogRef: MatDialogRef<EditCrmEventContactPersonComponent>,\n    private readonly fb: FormBuilder,\n    private readonly eventContactPersonService: EventContactPersonService,\n    @Inject(MAT_DIALOG_DATA) public eventContactPerson: EventContactPerson,\n  ) {\n  }\n\n  ngOnInit(): void {\n    this.form.patchValue(this.eventContactPerson);\n  }\n\n  onSave() {\n    if (this.form.valid) {\n      this.isSaving = true;\n\n      this.eventContactPersonService.update(this.eventContactPerson.id, this.form.value).pipe(\n        finalize(() => this.isSaving = false)\n      ).subscribe(eventCompany => {\n        this.dialogRef.close(eventCompany);\n      });\n    }\n  }\n\n}\n","<div class=\"modal-header\">\n  <h2 class=\"modal-header__title\">\n    Edit Event Contact Person\n  </h2>\n</div>\n\n<mat-dialog-content>\n  <form [formGroup]=\"form\">\n    <div class=\"form-group\">\n      <label for=\"comment\">Comment</label>\n      <textarea\n        id=\"comment\"\n        [rows]=\"2\"\n        pInputTextarea\n        [autoResize]=\"true\"\n        formControlName=\"comment\"\n      ></textarea>\n    </div>\n  </form>\n</mat-dialog-content>\n\n<mat-dialog-actions class=\"justify-content-between\">\n  <button pButton type=\"button\" label=\"Cancel\" [mat-dialog-close]=\"false\" class=\"p-button-danger\"></button>\n  <button\n    pButton\n    type=\"button\"\n    class=\"p-button-success\"\n    [label]=\"'Save'\"\n    [loading]=\"isSaving\"\n    [disabled]=\"form.invalid\"\n    (click)=\"onSave()\"\n  ></button>\n</mat-dialog-actions>\n","import {EventItem} from './event-item';\r\n\r\nexport class CompanyActivity {\r\n    comment: string;\r\n    company: number;\r\n    event: EventItem;\r\n    id: number;\r\n    is_done: boolean;\r\n}\r\n","import {EventItem} from './event-item';\r\nimport {Company} from './company';\r\n\r\nexport class EventCompany {\r\n  readonly id: number;\r\n  event: EventItem;\r\n  company: Company;\r\n  comment: string;\r\n  is_done: boolean;\r\n}\r\n","import {EventItem} from './event-item';\r\nimport {ContactPerson} from '@shared/models/contact-person';\r\n\r\nexport class EventContactPerson{\r\n  readonly id: number;\r\n  event: EventItem;\r\n  contact_person: ContactPerson;\r\n  comment:string;\r\n  is_done:boolean;\r\n}\r\n","import {Component, EventEmitter, Input, OnInit, Output} from '@angular/core';\nimport {Subject, takeUntil} from 'rxjs';\nimport {CompanyService} from '../../services/company.service';\nimport {ContactPerson} from '@shared/models/contact-person';\nimport {EventContactPersonService} from '../../services/event-contact-person.service';\nimport {ContactPersonService} from '../../services/contact-person.service';\n\n@Component({\n  selector: 'pek-crm-contact-person-picker',\n  templateUrl: './crm-contact-person-picker.component.html',\n  styleUrls: ['./crm-contact-person-picker.component.scss']\n})\nexport class CrmContactPersonPickerComponent implements OnInit {\n  @Output() selectContactPerson: EventEmitter<number> = new EventEmitter<number>();\n  @Input() currentContactPersonId: any;\n  isLoading = true;\n  contactPersons: Partial<ContactPerson>[] = [];\n  selectedContactPersonId: number;\n\n  private destroy$ = new Subject();\n\n  constructor(\n    private contactPersonService: ContactPersonService\n  ) {\n  }\n\n  ngOnInit(): void {\n    this.contactPersonService.get().pipe(\n      takeUntil(this.destroy$)\n    ).subscribe(contactPersons => {\n      this.contactPersons = contactPersons;\n\n      console.log(this.currentContactPersonId);\n\n      if (this.currentContactPersonId) {\n        this.selectedContactPersonId = this.currentContactPersonId;\n      }\n\n      this.isLoading = false;\n    });\n  }\n\n  onSelectContactPerson() {\n    this.selectContactPerson.emit(this.selectedContactPersonId);\n  }\n\n  ngOnDestroy() {\n    this.destroy$.next(true);\n    this.destroy$.complete();\n  }\n\n}\n","<div class=\"crm-contact-person-picker\">\n  <p-dropdown\n    *ngIf=\"!isLoading; else spinner\"\n    [options]=\"contactPersons\"\n    placeholder=\"Select Contact Person\"\n    [(ngModel)]=\"selectedContactPersonId\"\n    (ngModelChange)=\"onSelectContactPerson()\"\n    optionLabel=\"fullName\"\n    optionValue=\"id\"\n    [showClear]=\"true\"\n  >\n  </p-dropdown>\n</div>\n\n<ng-template #spinner>\n  <div class=\"spinner-input\">\n    <i class=\"pi pi-spin pi-spinner\" style=\"font-size: 1.25rem\"></i>\n  </div>\n</ng-template>\n","import {Component, EventEmitter, Input, OnDestroy, OnInit, Output, SimpleChanges} from '@angular/core';\nimport {Subject, takeUntil} from 'rxjs';\nimport {CrmEmployeeService} from '../../services/crm-employee.service';\nimport {CRMEmployee} from '../../models/crm-employee';\n\n@Component({\n  selector: 'pek-crm-employee-picker',\n  templateUrl: './crm-employee-picker.component.html',\n  styleUrls: ['./crm-employee-picker.component.scss']\n})\nexport class CrmEmployeePickerComponent implements OnInit, OnDestroy {\n  @Input() currentEmployeeIds: number[] = [];\n  @Output() selectEmployees: EventEmitter<number[]> = new EventEmitter<number[]>();\n\n  isLoading = true;\n  employees: CRMEmployee[] = [];\n  selectedEmployees: CRMEmployee[] = [];\n\n  private destroy$ = new Subject();\n\n  constructor(\n    private readonly crmEmployeeService: CrmEmployeeService,\n  ) {\n  }\n\n  ngOnInit(): void {\n    this.crmEmployeeService.get().pipe(\n      takeUntil(this.destroy$)\n    ).subscribe(employees => {\n      this.employees = employees;\n      this.findEmployees();\n      this.isLoading = false;\n    });\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if ('currentEmployeeIds' in changes) {\n      this.selectedEmployees = [];\n      this.findEmployees();\n    }\n  }\n\n  onSelectEmployees(employees: CRMEmployee[]) {\n    if (employees) {\n      this.selectEmployees.emit(employees.map(e => e.id));\n    } else {\n      this.selectEmployees.emit(null);\n    }\n  }\n\n  findEmployees() {\n    if (this.currentEmployeeIds.length > 0) {\n      this.currentEmployeeIds.forEach(id => {\n        const findEmployee = this.employees.find(t => t.id === id);\n\n        if (findEmployee) {\n          this.selectedEmployees.push(findEmployee);\n        }\n      });\n    }\n  }\n\n  ngOnDestroy() {\n    this.destroy$.next(true);\n    this.destroy$.complete();\n  }\n}\n","<div class=\"crm-employee-picker\">\n  <p-multiSelect\n    *ngIf=\"!isLoading; else spinner\"\n    [options]=\"employees\"\n    [(ngModel)]=\"selectedEmployees\"\n    optionLabel=\"fullName\"\n    placeholder=\"Select Employees\"\n    (ngModelChange)=\"onSelectEmployees($event)\"\n    [showClear]=\"true\"\n  ></p-multiSelect>\n\n  <ng-template #spinner>\n    <div class=\"spinner-input\">\n      <i class=\"pi pi-spin pi-spinner\" style=\"font-size: 1.25rem\"></i>\n    </div>\n  </ng-template>\n</div>\n","import {Component, EventEmitter, Input, OnInit, Output} from '@angular/core';\nimport {Subject, takeUntil} from 'rxjs';\nimport {EventType} from '../../models/event-type';\nimport {EventTypesService} from '../../services/event-types.service';\nimport {QuerySearch} from '@shared/models/other';\n\n@Component({\n  selector: 'pek-crm-event-type-picker',\n  templateUrl: './crm-event-type-picker.component.html',\n  styleUrls: ['./crm-event-type-picker.component.scss']\n})\nexport class CrmEventTypePickerComponent implements OnInit {\n  @Output() selectEventType: EventEmitter<number> = new EventEmitter<number>();\n  @Input() currentEventTypeId: any;\n  @Input() filters: QuerySearch[] = [];\n  isLoading = true;\n  eventTypes: EventType[] = [];\n  selectedEventTypeId: number;\n\n  private destroy$ = new Subject();\n\n  constructor(\n    private readonly eventTypeService: EventTypesService,\n  ) {\n  }\n\n  ngOnInit(): void {\n    if (this.filters.length > 0) {\n      this.eventTypeService.getByFilters(this.filters).pipe(\n        takeUntil(this.destroy$)\n      ).subscribe(eventTypes => {\n        this.eventTypes = eventTypes;\n\n        if (this.currentEventTypeId) {\n          this.selectedEventTypeId = this.currentEventTypeId;\n        }\n\n        this.isLoading = false;\n      });\n    } else {\n      this.eventTypeService.get().pipe(\n        takeUntil(this.destroy$)\n      ).subscribe(eventTypes => {\n        this.eventTypes = eventTypes;\n\n        if (this.currentEventTypeId) {\n          this.selectedEventTypeId = this.currentEventTypeId;\n        }\n\n        this.isLoading = false;\n      });\n    }\n  }\n\n  onSelectEventType() {\n    this.selectEventType.emit(this.selectedEventTypeId);\n  }\n\n  ngOnDestroy() {\n    this.destroy$.next(true);\n    this.destroy$.complete();\n  }\n\n}\n","<div class=\"crm-event-type-picker\">\n  <p-dropdown\n    *ngIf=\"!isLoading; else spinner\"\n    [options]=\"eventTypes\"\n    placeholder=\"Select Event Type\"\n    [(ngModel)]=\"selectedEventTypeId\"\n    (ngModelChange)=\"onSelectEventType()\"\n    optionLabel=\"name\"\n    optionValue=\"id\"\n    [showClear]=\"true\"\n  >\n  </p-dropdown>\n</div>\n\n<ng-template #spinner>\n  <div class=\"spinner-input\">\n    <i class=\"pi pi-spin pi-spinner\" style=\"font-size: 1.25rem\"></i>\n  </div>\n</ng-template>\n","import {Component, EventEmitter, Input, OnInit, Output, SimpleChanges} from '@angular/core';\nimport {ContactPerson} from '@shared/models/contact-person';\nimport {Subject, takeUntil} from 'rxjs';\nimport {ContactPersonService} from '../../services/contact-person.service';\n\n@Component({\n  selector: 'pek-crm-multi-contact-persons-picker',\n  templateUrl: './crm-multi-contact-persons-picker.component.html',\n  styleUrls: ['./crm-multi-contact-persons-picker.component.scss']\n})\nexport class CrmMultiContactPersonsPickerComponent implements OnInit {\n  @Input() currentContactPersonsIds: number[] = [];\n  @Output() selectContactPersons: EventEmitter<number[]> = new EventEmitter<number[]>();\n\n  isLoading = true;\n  contactPersons: ContactPerson[] = [];\n  selectedContactPersons: ContactPerson[] = [];\n\n  private destroy$ = new Subject();\n\n  constructor(\n    private contactPersonService: ContactPersonService\n  ) {\n  }\n\n  ngOnInit(): void {\n    this.contactPersonService.get().pipe(\n      takeUntil(this.destroy$)\n    ).subscribe(contactPersons => {\n      this.contactPersons = contactPersons;\n      this.findContactPersons();\n      this.isLoading = false;\n    });\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if ('currentContactPersonsIds' in changes) {\n      this.selectedContactPersons = [];\n      this.findContactPersons();\n    }\n  }\n\n  onSelectEventTypes(contactPersons: ContactPerson[]) {\n    if (contactPersons) {\n      this.selectContactPersons.emit(contactPersons.map(c => c.id));\n    } else {\n      this.selectContactPersons.emit(null);\n    }\n  }\n\n  findContactPersons() {\n    if (this.currentContactPersonsIds.length > 0) {\n      this.currentContactPersonsIds.forEach(id => {\n        const findContactPerson = this.contactPersons.find(t => t.id === id);\n\n        if (findContactPerson) {\n          this.selectedContactPersons.push(findContactPerson);\n        }\n\n        console.log(this.selectedContactPersons);\n      });\n    }\n  }\n\n  ngOnDestroy() {\n    this.destroy$.next(true);\n    this.destroy$.complete();\n  }\n}\n","<div class=\"crm-multi-contact-persons-picker\">\n  <p-multiSelect\n    *ngIf=\"!isLoading; else spinner\"\n    [options]=\"contactPersons\"\n    [(ngModel)]=\"selectedContactPersons\"\n    optionLabel=\"fullName\"\n    placeholder=\"Select Contact Persons\"\n    (ngModelChange)=\"onSelectEventTypes($event)\"\n    [showClear]=\"true\"\n  ></p-multiSelect>\n\n  <ng-template #spinner>\n    <div class=\"spinner-input\">\n      <i class=\"pi pi-spin pi-spinner\" style=\"font-size: 1.25rem\"></i>\n    </div>\n  </ng-template>\n</div>\n","import {Component, EventEmitter, Input, OnInit, Output, SimpleChanges} from '@angular/core';\nimport {Subject, takeUntil} from 'rxjs';\nimport {CrmEmployeeService} from '../../services/crm-employee.service';\nimport {EventType} from '../../models/event-type';\nimport {EventTypesService} from '../../services/event-types.service';\n\n@Component({\n  selector: 'pek-crm-multi-event-types-picker',\n  templateUrl: './crm-multi-event-types-picker.component.html',\n  styleUrls: ['./crm-multi-event-types-picker.component.scss']\n})\nexport class CrmMultiEventTypesPickerComponent implements OnInit {\n  @Input() isInner = false;\n  @Input() isExternal = false;\n  @Input() currentEventTypesIds: number[] = [];\n  @Output() selectEventTypes: EventEmitter<EventType[]> = new EventEmitter<EventType[]>();\n\n  isLoading = true;\n  eventTypes: EventType[] = [];\n  selectedEventType: EventType[] = [];\n\n  private destroy$ = new Subject();\n\n  constructor(\n    private readonly crmEmployeeService: CrmEmployeeService,\n    private readonly eventTypesService: EventTypesService,\n  ) {\n  }\n\n  ngOnInit(): void {\n    this.eventTypesService.get().pipe(\n      takeUntil(this.destroy$)\n    ).subscribe(eventTypes => {\n      this.eventTypes = eventTypes;\n\n      if (this.isInner) {\n        this.eventTypes = this.eventTypes.filter(e => e.is_inner);\n      }\n\n      if (this.isExternal) this.eventTypes = this.eventTypes.filter(e => !e.is_inner);\n\n      this.findEventTypes();\n      this.isLoading = false;\n    });\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if ('currentEmployeeIds' in changes) {\n      this.selectedEventType = [];\n      this.findEventTypes();\n    }\n  }\n\n  onSelectEventTypes(eventTypes: EventType[]) {\n    this.selectEventTypes.emit(eventTypes);\n  }\n\n  findEventTypes() {\n    if (this.currentEventTypesIds.length > 0) {\n      this.currentEventTypesIds.forEach(id => {\n        const findEventType = this.eventTypes.find(t => t.id === id);\n\n        if (findEventType) {\n          this.selectedEventType.push(findEventType);\n        }\n      });\n    }\n  }\n\n  ngOnDestroy() {\n    this.destroy$.next(true);\n    this.destroy$.complete();\n  }\n}\n","<div class=\"crm-multi-event-types-picker\">\n  <p-multiSelect\n    *ngIf=\"!isLoading; else spinner\"\n    [options]=\"eventTypes\"\n    [(ngModel)]=\"selectedEventType\"\n    optionLabel=\"name\"\n    optionValue=\"id\"\n    [placeholder]=\"isExternal ? 'Select External Type' : 'Select Event Types'\"\n    (ngModelChange)=\"onSelectEventTypes($event)\"\n    [showClear]=\"true\"\n  ></p-multiSelect>\n\n  <ng-template #spinner>\n    <div class=\"spinner-input\">\n      <i class=\"pi pi-spin pi-spinner\" style=\"font-size: 1.25rem\"></i>\n    </div>\n  </ng-template>\n</div>\n","import {Injectable} from '@angular/core';\nimport {environment} from '@env/environment';\nimport {HttpClient} from '@angular/common/http';\nimport {QuerySearch} from '@shared/models/other';\nimport {Observable} from 'rxjs';\nimport {map} from 'rxjs/operators';\nimport {CompanyFile} from '../models/company-file';\nimport {\n  CreateEditLinkedCompanyComponent\n} from '../modals/create-edit-linked-company/create-edit-linked-company.component';\nimport {MatDialog} from '@angular/material/dialog';\nimport {AddCompanyFileModalComponent} from '../modals/add-company-file-modal/add-company-file-modal.component';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class CompanyFileService {\n  API_URL = environment.base_url + environment.business_partners_url;\n  readonly url = 'company_files/';\n\n  constructor(\n    private httpClient: HttpClient,\n    private readonly dialog: MatDialog,\n  ) {\n  }\n\n  get(query?: QuerySearch[]): Observable<CompanyFile[]> {\n    let queryParams = '';\n\n    if (query) {\n      query.forEach((element, index) => {\n        if (index > 0) {\n          queryParams += '&' + element.name + '=' + element.value;\n        } else {\n          queryParams += '?' + element.name + '=' + element.value;\n        }\n      });\n    }\n\n    return this.httpClient.get<{ data: CompanyFile[] }>(this.API_URL + this.url + 'all/' + queryParams).pipe(\n      map(response => response.data)\n    );\n  }\n\n  getById(id: number): Observable<CompanyFile> {\n    return this.httpClient.get<{ data: CompanyFile }>(this.API_URL + this.url + id + '/').pipe(\n      map(response => response.data)\n    );\n  }\n\n  create(file: FormData): Observable<CompanyFile> {\n    return this.httpClient.post<{ data: CompanyFile }>(this.API_URL + this.url, file).pipe(\n      map(response => response.data)\n    );\n  }\n\n  update(file: CompanyFile): Observable<CompanyFile> {\n    return this.httpClient.put<{ data: CompanyFile }>(this.API_URL + this.url + file.id + '/', file).pipe(\n      map(response => response.data)\n    );\n  }\n\n  downloadFile(file: CompanyFile): Observable<any> {\n    return this.httpClient.get(this.API_URL + this.url + file.id + '/download/', {responseType: 'blob'});\n  }\n\n  delete(id: number): Observable<any> {\n    return this.httpClient.delete(this.API_URL + this.url + id + '/');\n  }\n\n  openAddFileModal(companyId: number): Observable<any> {\n    return this.dialog\n      .open<AddCompanyFileModalComponent>(AddCompanyFileModalComponent, {\n        width: '35rem',\n        height: 'auto',\n        data: {companyId},\n        autoFocus: false,\n        enterAnimationDuration: '250ms'\n      })\n      .afterClosed();\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {HttpClient} from '@angular/common/http';\nimport {environment} from '@env/environment';\nimport {QuerySearch} from '@shared/models/other';\nimport {ContactPerson} from '@shared/models/contact-person';\nimport {Observable, of} from 'rxjs';\nimport {map} from 'rxjs/operators';\nimport {ModalActionType} from '@shared/models/modal-action';\nimport {MatDialog} from '@angular/material/dialog';\nimport {\n  CreateEditContactPersonComponent\n} from '../modals/create-edit-contact-person/create-edit-contact-person.component';\nimport {\n  CreateEditLinkedContactComponent\n} from '../modals/create-edit-linked-contact/create-edit-linked-contact.component';\nimport {AddEventModalType, Company} from '../models/company';\nimport {AddEventToCompanyComponent} from '../modals/add-event-to-company/add-event-to-company.component';\nimport {\n  AddEventToContactPersonComponent\n} from '../modals/add-event-to-contact-person/add-event-to-contact-person.component';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ContactPersonService {\n  API_URL = environment.base_url + environment.business_partners_url;\n  readonly url = 'contact_persons/';\n\n  contactPersons: ContactPerson[];\n\n  constructor(\n    private httpClient: HttpClient,\n    private readonly dialog: MatDialog,\n  ) {\n  }\n\n  get(query?: QuerySearch[]): Observable<ContactPerson[]> {\n    if (this.contactPersons) {\n      return of(this.contactPersons);\n    }\n\n    let queryParams = '';\n    if (query) {\n      query.forEach((element, index) => {\n        if (index > 0) {\n          queryParams += '&' + element.name + '=' + element.value;\n        } else {\n          queryParams += '?' + element.name + '=' + element.value;\n        }\n      });\n    }\n\n    return this.httpClient.get<{ data: ContactPerson[] }>(this.API_URL + this.url + 'all/' + queryParams).pipe(\n      map(response => {\n        const contactPersons = response.data.map(p => {\n          return {\n            ...p,\n            fullName: `${p.first_name} ${p.last_name}`\n          };\n        });\n        this.contactPersons = contactPersons;\n        return contactPersons;\n      })\n    );\n  }\n\n  getById(id: number): Observable<ContactPerson> {\n    return this.httpClient.get<{ data: ContactPerson }>(this.API_URL + this.url + id + '/').pipe(\n      map(response => response.data)\n    );\n  }\n\n  create(contactPerson: ContactPerson): Observable<ContactPerson> {\n    return this.httpClient.post<{ data: ContactPerson }>(this.API_URL + this.url, contactPerson).pipe(\n      map(response => response.data)\n    );\n  }\n\n  update(contactPerson: ContactPerson): Observable<ContactPerson> {\n    return this.httpClient.put<{ data: ContactPerson }>(this.API_URL + this.url + contactPerson.id + '/', contactPerson).pipe(\n      map(response => response.data)\n    );\n  }\n\n  delete(id: number): any {\n    return this.httpClient.delete(this.API_URL + this.url + id + '/');\n  }\n\n  linkContact(id: number, contactPerson: Partial<ContactPerson>): Observable<ContactPerson> {\n    return this.httpClient.post<{ data: ContactPerson }>(this.API_URL + this.url + id + '/link_contact/', contactPerson).pipe(\n      map(response => response.data)\n    );\n  }\n\n  deleteLinkedContact(contactPerson: ContactPerson): Observable<any> {\n    return this.httpClient.delete(this.API_URL + 'linked_contacts/' + contactPerson.id + '/');\n  }\n\n  openCreateEditLinkedContactModal(type: ModalActionType, person: ContactPerson, contactPerson?: ContactPerson) {\n    return this.dialog\n      .open<CreateEditLinkedContactComponent>(CreateEditLinkedContactComponent, {\n        width: '35rem',\n        height: 'auto',\n        panelClass: 'modal-overflow-visible',\n        data: {type, person, contactPerson},\n        autoFocus: false,\n        enterAnimationDuration: '250ms'\n      })\n      .afterClosed();\n  }\n\n  createEditContactPersonModal(companyId: number, type: ModalActionType, contactPerson?: ContactPerson): Observable<ContactPerson> {\n    return this.dialog\n      .open<CreateEditContactPersonComponent>(CreateEditContactPersonComponent, {\n        width: '50rem',\n        height: 'auto',\n        data: {companyId, type, contactPerson},\n        autoFocus: false,\n        enterAnimationDuration: '250ms'\n      })\n      .afterClosed();\n  }\n\n  openAddEventToContactPersonModal(type: AddEventModalType, contactPerson: ContactPerson): Observable<any> {\n    return this.dialog\n      .open<AddEventToContactPersonComponent>(AddEventToContactPersonComponent, {\n        width: '50rem',\n        height: 'auto',\n        panelClass: 'modal-overflow-visible',\n        data: {type, contactPerson},\n        autoFocus: false,\n        enterAnimationDuration: '250ms'\n      })\n      .afterClosed();\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {environment} from '@env/environment';\nimport {HttpClient} from '@angular/common/http';\nimport {MatDialog} from '@angular/material/dialog';\nimport {QuerySearch} from '@shared/models/other';\nimport {CRMEmployee} from '../models/crm-employee';\nimport {Observable, of} from 'rxjs';\nimport {map} from 'rxjs/operators';\nimport {ModalActionType} from '@shared/models/modal-action';\nimport {EventType} from '../models/event-type';\nimport {CreateEditEventTypeComponent} from '../modals/create-edit-event-type/create-edit-event-type.component';\nimport {CreateEditCrmEmployeeComponent} from '../modals/create-edit-crm-employee/create-edit-crm-employee.component';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class CrmEmployeeService {\n\n  API_URL = environment.base_url + environment.business_partners_url;\n  readonly url = 'employees/';\n\n  employees: CRMEmployee[];\n\n  constructor(\n    private httpClient: HttpClient,\n    private dialog: MatDialog\n  ) {\n  }\n\n  get(query?: QuerySearch[]): Observable<CRMEmployee[]> {\n    if (this.employees) {\n      return of(this.employees);\n    }\n\n    let queryParams = '';\n\n    if (query) {\n      query.forEach((element, index) => {\n        if (index > 0) {\n          queryParams += '&' + element.name + '=' + element.value;\n        } else {\n          queryParams += '?' + element.name + '=' + element.value;\n        }\n      });\n    }\n\n    return this.httpClient.get<{ data: CRMEmployee[] }>(this.API_URL + this.url + 'all/' + queryParams).pipe(\n      map(response => {\n        const employees = response.data.map(e => {\n          return {\n            ...e,\n            fullName: `${e.first_name} ${e.last_name}`\n          };\n        });\n        this.employees = employees;\n        return employees;\n      }));\n  }\n\n  create(employee: Partial<CRMEmployee>): Observable<CRMEmployee> {\n    return this.httpClient.post<{ data: CRMEmployee }>(this.API_URL + this.url, employee).pipe(\n      map(response => response.data)\n    );\n  }\n\n  update(employee: Partial<CRMEmployee>): Observable<CRMEmployee> {\n    return this.httpClient.patch<{ data: CRMEmployee }>(this.API_URL + this.url + employee.id + '/', employee).pipe(\n      map(response => response.data)\n    );\n  }\n\n  delete(employee: CRMEmployee): Observable<any> {\n    return this.httpClient.delete(this.API_URL + this.url + employee.id + '/');\n  }\n\n  createEditEmployeeModal(type: ModalActionType, employee?: CRMEmployee): Observable<CRMEmployee> {\n    return this.dialog\n      .open<CreateEditCrmEmployeeComponent>(CreateEditCrmEmployeeComponent, {\n        width: '50rem',\n        height: 'auto',\n        panelClass: 'modal-overflow-visible',\n        data: {type, employee},\n        autoFocus: false,\n        enterAnimationDuration: '250ms'\n      })\n      .afterClosed();\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {environment} from '@env/environment';\nimport {HttpClient} from '@angular/common/http';\nimport {map} from 'rxjs/operators';\nimport {Observable} from 'rxjs';\nimport {Schedule} from '../models/schedule';\nimport {QuerySearch} from '@shared/models/other';\nimport {ModalActionType} from '@shared/models/modal-action';\nimport {MatDialog} from '@angular/material/dialog';\nimport {CreateEditScheduleComponent} from '../modals/create-edit-schedule/create-edit-schedule.component';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class CrmScheduleService {\n\n  API_URL = environment.base_url + environment.business_partners_url;\n  readonly url = 'schedules/';\n\n  constructor(\n    private httpClient: HttpClient,\n    private readonly dialog: MatDialog,\n  ) {\n  }\n\n  getById(id: number): Observable<Schedule> {\n    return this.httpClient.get<{ data: Schedule }>(this.API_URL + this.url + id + '/').pipe(\n      map(response => response.data)\n    );\n  }\n\n  get(query?: QuerySearch[]): Observable<Schedule[]> {\n    let queryParams = '';\n\n    if (query) {\n      query.forEach((element, index) => {\n        if (index > 0) {\n          queryParams += '&' + element.name + '=' + element.value;\n        } else {\n          queryParams += '?' + element.name + '=' + element.value;\n        }\n      });\n    }\n\n    return this.httpClient.get<{ data: Schedule[] }>(this.API_URL + this.url + queryParams).pipe(\n      map(response => response.data)\n    );\n  }\n\n  create(schedule): Observable<Schedule> {\n    return this.httpClient.post<{ data: Schedule }>(this.API_URL + this.url, schedule).pipe(\n      map(response => response.data)\n    );\n  }\n\n  update(schedule: Schedule): Observable<Schedule> {\n    return this.httpClient.put<{ data: Schedule }>(this.API_URL + this.url + schedule.id + '/', schedule).pipe(\n      map(response => response.data)\n    );\n  }\n\n  delete(schedule: Schedule): Observable<any> {\n    return this.httpClient.delete(this.API_URL + this.url + schedule.id + '/');\n  }\n\n  createEditScheduleModal(type: ModalActionType, schedule?: Schedule): Observable<Schedule> {\n    return this.dialog\n      .open<CreateEditScheduleComponent>(CreateEditScheduleComponent, {\n        width: '50rem',\n        height: 'auto',\n        panelClass: 'modal-overflow-visible',\n        data: {type, schedule},\n        autoFocus: false,\n        enterAnimationDuration: '250ms'\n      })\n      .afterClosed();\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {environment} from '@env/environment';\nimport {HttpClient} from '@angular/common/http';\nimport {Observable} from 'rxjs';\nimport {map} from 'rxjs/operators';\nimport {EventCompany} from '../models/event-company';\nimport {QuerySearch} from '@shared/models/other';\nimport {MatDialog} from '@angular/material/dialog';\nimport {EditCrmEventCompanyComponent} from '../modals/edit-crm-event-company/edit-crm-event-company.component';\nimport {CompanyActivity} from '../models/company-activity';\nimport {\n  CrmEditCompanyActivityComponent\n} from '../modals/crm-edit-company-activity-event/crm-edit-company-activity.component';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class EventCompanyService {\n\n  API_URL = environment.base_url + environment.business_partners_url;\n  readonly url = 'event_companies/';\n\n  constructor(\n    private httpClient: HttpClient,\n    private readonly dialog: MatDialog,\n  ) {\n  }\n\n  get(query?: QuerySearch[]): Observable<EventCompany[]> {\n    let queryParams = '';\n\n    if (query) {\n      query.forEach((element, index) => {\n        if (index > 0) {\n          queryParams += '&' + element.name + '=' + element.value;\n        } else {\n          queryParams += '?' + element.name + '=' + element.value;\n        }\n      });\n    }\n\n    return this.httpClient.get<{ data: EventCompany[] }>(this.API_URL + this.url + 'all/' + queryParams).pipe(\n      map(response => response.data)\n    );\n  }\n\n  getById(id): Observable<EventCompany> {\n    return this.httpClient.get<{ data: EventCompany }>(this.API_URL + this.url + id + '/').pipe(\n      map(response => response.data)\n    );\n  }\n\n  create(company: Partial<EventCompany>): Observable<EventCompany> {\n    return this.httpClient.post<{ data: EventCompany }>(this.API_URL + this.url, company).pipe(\n      map(response => response.data)\n    );\n  }\n\n  update(id: number, company: Partial<EventCompany>): Observable<EventCompany> {\n    return this.httpClient.patch<{ data: EventCompany }>(this.API_URL + this.url + id + '/', company).pipe(\n      map(response => response.data)\n    );\n  }\n\n  delete(id: number): Observable<any> {\n    return this.httpClient.delete(this.API_URL + this.url + id + '/');\n  }\n\n  openEditModal(eventCompany: EventCompany): Observable<EventCompany> {\n    return this.dialog\n      .open<EditCrmEventCompanyComponent>(EditCrmEventCompanyComponent, {\n        width: '35rem',\n        height: 'auto',\n        data: eventCompany,\n        autoFocus: false,\n        panelClass: 'modal-overflow-visible',\n        enterAnimationDuration: '250ms'\n      })\n      .afterClosed();\n  }\n\n  openEditCompanyActivityModal(companyActivity: CompanyActivity): Observable<CompanyActivity> {\n    return this.dialog\n      .open<CrmEditCompanyActivityComponent>(CrmEditCompanyActivityComponent, {\n        width: '35rem',\n        height: 'auto',\n        data: companyActivity,\n        autoFocus: false,\n        panelClass: 'modal-overflow-visible',\n        enterAnimationDuration: '250ms'\n      })\n      .afterClosed();\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {environment} from '@env/environment';\nimport {HttpClient} from '@angular/common/http';\nimport {Observable} from 'rxjs';\nimport {EventContactPerson} from '../models/event-contact-person';\nimport {map} from 'rxjs/operators';\nimport {QuerySearch} from '@shared/models/other';\nimport {EventCompany} from '../models/event-company';\nimport {EditCrmEventCompanyComponent} from '../modals/edit-crm-event-company/edit-crm-event-company.component';\nimport {MatDialog} from '@angular/material/dialog';\nimport {\n  EditCrmEventContactPersonComponent\n} from '../modals/edit-crm-event-contact-person/edit-crm-event-contact-person.component';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class EventContactPersonService {\n\n  API_URL = environment.base_url + environment.business_partners_url;\n  readonly url = 'event_contact_persons/';\n\n  constructor(\n    private httpClient: HttpClient,\n    private readonly dialog: MatDialog,\n  ) {\n  }\n\n  getById(id: number): Observable<EventContactPerson> {\n    return this.httpClient.get<{ data: EventContactPerson }>(this.API_URL + this.url + id + '/').pipe(\n      map(response => response.data)\n    );\n  }\n\n  get(query?: QuerySearch[]): Observable<EventContactPerson[]> {\n    let queryParams = '';\n\n    if (query) {\n      query.forEach((element, index) => {\n        if (index > 0) {\n          queryParams += '&' + element.name + '=' + element.value;\n        } else {\n          queryParams += '?' + element.name + '=' + element.value;\n        }\n      });\n    }\n    return this.httpClient.get<{ data: EventContactPerson[] }>(this.API_URL + this.url + 'all/' + queryParams).pipe(\n      map(response => response.data)\n    );\n  }\n\n  create(person: EventContactPerson): Observable<EventContactPerson> {\n    return this.httpClient.post<{ data: EventContactPerson }>(this.API_URL + this.url, person).pipe(\n      map(response => response.data)\n    );\n  }\n\n  update(eventId: number, person: Partial<EventContactPerson>): Observable<EventContactPerson> {\n    return this.httpClient.patch<{ data: EventContactPerson }>(this.API_URL + this.url + eventId + '/', person).pipe(\n      map(response => response.data)\n    );\n  }\n\n  delete(id: number): Observable<any> {\n    return this.httpClient.delete(this.API_URL + this.url + id + '/');\n  }\n\n  openEditModal(eventContactPerson: EventContactPerson): Observable<EventContactPerson> {\n    return this.dialog\n      .open<EditCrmEventContactPersonComponent>(EditCrmEventContactPersonComponent, {\n        width: '35rem',\n        height: 'auto',\n        data: eventContactPerson,\n        autoFocus: false,\n        panelClass: 'modal-overflow-visible',\n        enterAnimationDuration: '250ms'\n      })\n      .afterClosed();\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {Observable, of} from 'rxjs';\nimport {QuerySearch} from '@shared/models/other';\nimport {map} from 'rxjs/operators';\nimport {environment} from '@env/environment';\nimport {HttpClient} from '@angular/common/http';\nimport {ModalActionType} from '@shared/models/modal-action';\nimport {MatDialog} from '@angular/material/dialog';\nimport {CreateEditEventTypeComponent} from '../modals/create-edit-event-type/create-edit-event-type.component';\nimport {EventType} from '../models/event-type';\nimport {\n  CreateEditExternalEventTypeComponent\n} from '../modals/create-edit-external-event-type/create-edit-external-event-type.component';\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class EventTypesService {\n  API_URL = environment.base_url + environment.business_partners_url;\n  readonly url = 'event_types/';\n\n  eventTypes: EventType[];\n\n  constructor(\n    private httpClient: HttpClient,\n    private readonly dialog: MatDialog,\n  ) {\n  }\n\n  get(query?: QuerySearch[]): Observable<EventType[]> {\n    if (this.eventTypes) {\n      return of(this.eventTypes);\n    }\n\n    let queryParams = '';\n    if (query) {\n      query.forEach((element, index) => {\n        if (index > 0) {\n          queryParams += '&' + element.name + '=' + element.value;\n        } else {\n          queryParams += '?' + element.name + '=' + element.value;\n        }\n      });\n    }\n\n    return this.httpClient.get<{ data: EventType[] }>(this.API_URL + this.url + queryParams).pipe(\n      map(response => {\n        const eventTypes = response.data;\n        this.eventTypes = eventTypes;\n        return eventTypes;\n      }));\n  }\n\n  getByFilters(query?: QuerySearch[]): Observable<EventType[]> {\n    let queryParams = '';\n    if (query) {\n      query.forEach((element, index) => {\n        if (index > 0) {\n          queryParams += '&' + element.name + '=' + element.value;\n        } else {\n          queryParams += '?' + element.name + '=' + element.value;\n        }\n      });\n    }\n\n    return this.httpClient.get<{ data: EventType[] }>(this.API_URL + this.url + queryParams).pipe(\n      map(response => response.data)\n    );\n  }\n\n\n  create(eventType: EventType): Observable<EventType> {\n    return this.httpClient.post<{ data: EventType }>(this.API_URL + this.url, eventType).pipe(\n      map(response => response.data)\n    );\n  }\n\n  update(eventType: EventType): Observable<EventType> {\n    return this.httpClient.patch<{ data: EventType }>(this.API_URL + this.url + eventType.id + '/', eventType).pipe(\n      map(response => response.data)\n    );\n  }\n\n  delete(eventType: EventType): Observable<any> {\n    return this.httpClient.delete(this.API_URL + this.url + eventType.id + '/');\n  }\n\n  addCalendarFromGoogle(eventType: Partial<EventType>): Observable<EventType> {\n    return this.httpClient.post<{ data }>(this.API_URL + this.url + 'add_calendar_from_google/', eventType).pipe(\n      map(response => response.data)\n    );\n  }\n\n  createEditEventType(type: ModalActionType, eventType?: EventType): Observable<EventType> {\n    return this.dialog\n      .open<CreateEditEventTypeComponent>(CreateEditEventTypeComponent, {\n        width: '50rem',\n        height: 'auto',\n        panelClass: 'modal-overflow-visible',\n        data: {type, eventType},\n        autoFocus: false,\n        enterAnimationDuration: '250ms'\n      })\n      .afterClosed();\n  }\n\n  createEditExternalEventType(type: ModalActionType, eventType?: EventType): Observable<EventType> {\n    return this.dialog\n      .open<CreateEditExternalEventTypeComponent>(CreateEditExternalEventTypeComponent, {\n        width: '50rem',\n        height: 'auto',\n        panelClass: 'modal-overflow-visible',\n        data: {type, eventType},\n        autoFocus: false,\n        enterAnimationDuration: '250ms'\n      })\n      .afterClosed();\n  }\n}\n","import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class EventService {\n\n  constructor() { }\n}\n","import {Injectable} from '@angular/core';\nimport {environment} from '@env/environment';\nimport {HttpClient} from '@angular/common/http';\nimport {QuerySearch} from '@shared/models/other';\nimport {EventReport, EventsReports} from '../models/event-report';\nimport {Observable} from 'rxjs';\nimport {map} from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class EventsReportService {\n\n  API_URL = environment.base_url + environment.business_partners_url;\n\n  constructor(\n    private httpClient: HttpClient\n  ) {\n  }\n\n  getForPagination(query?: QuerySearch[]): Observable<EventsReports> {\n    query.push({name: 'paginated', value: true});\n\n    let queryParams = '';\n    if (query) {\n      query.forEach((element, index) => {\n        if (index > 0) {\n          queryParams += '&' + element.name + '=' + element.value;\n        } else {\n          queryParams += '?' + element.name + '=' + element.value;\n        }\n      });\n    }\n\n    return this.httpClient\n      .get<{ data: EventsReports }>(this.API_URL + 'events_reports/get_reports_events/' + queryParams)\n      .pipe(\n        map((response) => {\n          return response.data;\n        })\n      );\n  }\n\n  get(query?: QuerySearch[]): Observable<EventReport[]> {\n    let queryParams = '';\n\n    if (query) {\n      query.forEach((element, index) => {\n        if (index > 0) {\n          queryParams += '&' + element.name + '=' + element.value;\n        } else {\n          queryParams += '?' + element.name + '=' + element.value;\n        }\n      });\n    }\n\n    return this.httpClient\n      .get<{ data: EventReport[] }>(this.API_URL + 'events_reports/get_reports_events/' + queryParams)\n      .pipe(\n        map((response) => {\n          return response.data;\n        })\n      );\n  }\n}\n","import deepEqual from 'fast-deep-equal';\nimport { Component, ViewEncapsulation, ElementRef, Input, NgModule } from '@angular/core';\nimport { Calendar, globalPlugins } from '@fullcalendar/core';\nimport * as ɵngcc0 from '@angular/core';\nexport * from '@fullcalendar/core';\n\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\n/*\nReally simple clone utility. Only copies plain arrays, objects, and Dates. Transfers everything else as-is.\nWanted to use a third-party lib, but none did exactly this.\n*/\nfunction deepCopy(input) {\n    if (Array.isArray(input)) {\n        return input.map(deepCopy);\n    }\n    else if (input instanceof Date) {\n        return new Date(input.valueOf());\n    }\n    else if (typeof input === 'object' && input) { // non-null object\n        return mapHash(input, deepCopy);\n    }\n    else { // everything else (null, function, etc)\n        return input;\n    }\n}\nfunction shallowCopy(val) {\n    if (typeof val === 'object') {\n        if (Array.isArray(val)) {\n            val = Array.prototype.slice.call(val);\n        }\n        else if (val) { // non-null\n            val = Object.assign({}, val);\n        }\n    }\n    return val;\n}\nfunction mapHash(input, func) {\n    const output = {};\n    for (const key in input) {\n        if (hasOwnProperty.call(input, key)) {\n            output[key] = func(input[key], key);\n        }\n    }\n    return output;\n}\n\nconst OPTION_IS_DEEP = {\n    headerToolbar: true,\n    footerToolbar: true,\n    events: true,\n    eventSources: true,\n    resources: true\n};\n\nclass FullCalendarComponent {\n    constructor(element) {\n        this.element = element;\n        this.optionSnapshot = {}; // for diffing only\n    }\n    ngAfterViewInit() {\n        const { deepChangeDetection } = this;\n        const options = this.options || {};\n        // initialize snapshot\n        this.optionSnapshot = mapHash(options, (optionVal, optionName) => ((deepChangeDetection && OPTION_IS_DEEP[optionName])\n            ? deepCopy(optionVal)\n            : optionVal));\n        this.calendar = new Calendar(this.element.nativeElement, options);\n        this.calendar.render();\n    }\n    /*\n    allows us to manually detect complex input changes, internal mutations to certain options.\n    called before ngOnChanges. called much more often than ngOnChanges.\n    */\n    ngDoCheck() {\n        if (this.calendar) { // not the initial render\n            const { deepChangeDetection, optionSnapshot } = this;\n            const newOptions = this.options || {};\n            const newProcessedOptions = {};\n            let anyChanges = false;\n            // detect adds and updates (and update snapshot)\n            for (const optionName in newOptions) {\n                if (newOptions.hasOwnProperty(optionName)) {\n                    let optionVal = newOptions[optionName];\n                    if (deepChangeDetection && OPTION_IS_DEEP[optionName]) {\n                        if (!deepEqual(optionSnapshot[optionName], optionVal)) {\n                            optionSnapshot[optionName] = deepCopy(optionVal);\n                            anyChanges = true;\n                            // trick FC into knowing about a nested change.\n                            // TODO: future versions won't need this.\n                            // can't use the previously-made deep copy because it blows away prototype-association.\n                            optionVal = shallowCopy(optionVal);\n                        }\n                    }\n                    else {\n                        if (optionSnapshot[optionName] !== optionVal) {\n                            optionSnapshot[optionName] = optionVal;\n                            anyChanges = true;\n                        }\n                    }\n                    newProcessedOptions[optionName] = optionVal;\n                }\n            }\n            const oldOptionNames = Object.keys(optionSnapshot);\n            // detect removals (and update snapshot)\n            for (const optionName of oldOptionNames) {\n                if (!(optionName in newOptions)) { // doesn't exist in new options?\n                    delete optionSnapshot[optionName];\n                    anyChanges = true;\n                }\n            }\n            if (anyChanges) {\n                this.calendar.pauseRendering();\n                this.calendar.resetOptions(newProcessedOptions);\n            }\n        }\n    }\n    ngAfterContentChecked() {\n        if (this.calendar) { // too defensive?\n            this.calendar.resumeRendering();\n        }\n    }\n    ngOnDestroy() {\n        if (this.calendar) { // too defensive?\n            this.calendar.destroy();\n            this.calendar = null;\n        }\n    }\n    getApi() {\n        return this.calendar;\n    }\n}\nFullCalendarComponent.ɵfac = function FullCalendarComponent_Factory(t) { return new (t || FullCalendarComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef)); };\nFullCalendarComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: FullCalendarComponent, selectors: [[\"full-calendar\"]], inputs: { options: \"options\", deepChangeDetection: \"deepChangeDetection\" }, decls: 0, vars: 0, template: function FullCalendarComponent_Template(rf, ctx) { }, styles: [\"@charset \\\"UTF-8\\\";.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc-unselectable{-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-touch-callout:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{vertical-align:top;padding:0}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;src:url(\\\"data:application/x-font-ttf;charset=utf-8;base64,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\\\") format(\\\"truetype\\\");font-weight:400;font-style:normal}.fc-icon{display:inline-block;width:1em;height:1em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;font-family:fcicons!important;speak:none;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.fc-icon-chevron-left:before{content:\\\"\\\\e900\\\"}.fc-icon-chevron-right:before{content:\\\"\\\\e901\\\"}.fc-icon-chevrons-left:before{content:\\\"\\\\e902\\\"}.fc-icon-chevrons-right:before{content:\\\"\\\\e903\\\"}.fc-icon-minus-square:before{content:\\\"\\\\e904\\\"}.fc-icon-plus-square:before{content:\\\"\\\\e905\\\"}.fc-icon-x:before{content:\\\"\\\\e906\\\"}.fc .fc-button{border-radius:0;overflow:visible;text-transform:none;margin:0;font-family:inherit;font-size:inherit;line-height:inherit}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button::-moz-focus-inner{padding:0;border-style:none}.fc .fc-button{display:inline-block;font-weight:400;text-align:center;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;user-select:none;background-color:transparent;border:1px solid transparent;padding:.4em .65em;font-size:1em;line-height:1.5;border-radius:.25em}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{outline:0;box-shadow:0 0 0 .2rem rgba(44,62,80,.25)}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{color:#fff;color:var(--fc-button-text-color,#fff);background-color:#2c3e50;background-color:var(--fc-button-bg-color,#2c3e50);border-color:#2c3e50;border-color:var(--fc-button-border-color,#2c3e50)}.fc .fc-button-primary:hover{color:#fff;color:var(--fc-button-text-color,#fff);background-color:#1e2b37;background-color:var(--fc-button-hover-bg-color,#1e2b37);border-color:#1a252f;border-color:var(--fc-button-hover-border-color,#1a252f)}.fc .fc-button-primary:disabled{color:#fff;color:var(--fc-button-text-color,#fff);background-color:#2c3e50;background-color:var(--fc-button-bg-color,#2c3e50);border-color:#2c3e50;border-color:var(--fc-button-border-color,#2c3e50)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{color:#fff;color:var(--fc-button-text-color,#fff);background-color:#1a252f;background-color:var(--fc-button-active-bg-color,#1a252f);border-color:#151e27;border-color:var(--fc-button-active-border-color,#151e27)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{vertical-align:middle;font-size:1.5em}.fc .fc-button-group{position:relative;display:inline-flex;vertical-align:middle}.fc .fc-button-group>.fc-button{position:relative;flex:1 1 auto}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-top-right-radius:0;border-bottom-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){margin-right:-1px;border-top-right-radius:0;border-bottom-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-top-left-radius:0;border-bottom-left-radius:0}.fc .fc-toolbar{display:flex;justify-content:space-between;align-items:center}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{position:absolute;top:0;right:0;left:0;bottom:0}.fc .fc-scroller-harness{position:relative;overflow:hidden;direction:ltr}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{width:100%;table-layout:fixed}.fc .fc-scrollgrid table{border-top-style:hidden;border-left-style:hidden;border-right-style:hidden}.fc .fc-scrollgrid{border-collapse:separate;border-right-width:0;border-bottom-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section>td,.fc .fc-scrollgrid-section table{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-top-width:0;border-left-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:#fff;background:var(--fc-page-bg-color,#fff);position:-webkit-sticky;position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:-webkit-sticky;position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{position:absolute;top:0;right:0;bottom:0;left:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{position:absolute;top:0;left:0;right:0;bottom:0}.fc .fc-non-business{background:hsla(0,0%,84.3%,.3);background:var(--fc-non-business-color,hsla(0,0%,84.3%,.3))}.fc .fc-bg-event{background:#8fdf82;background:var(--fc-bg-event-color,#8fdf82);opacity:.3;opacity:var(--fc-bg-event-opacity,.3)}.fc .fc-bg-event .fc-event-title{margin:.5em;font-size:.85em;font-size:var(--fc-small-font-size,.85em);font-style:italic}.fc .fc-highlight{background:rgba(188,232,241,.3);background:var(--fc-highlight-color,rgba(188,232,241,.3))}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{border-radius:4px;border-radius:calc(var(--fc-event-resizer-dot-total-width, 8px) / 2);border-width:1px;width:8px;width:var(--fc-event-resizer-dot-total-width,8px);height:8px;height:var(--fc-event-resizer-dot-total-width,8px);border:var(--fc-event-resizer-dot-border-width,1px) solid;border-color:inherit;background:#fff;background:var(--fc-page-bg-color,#fff)}.fc-event-selected .fc-event-resizer:before{content:\\\"\\\";position:absolute;top:-20px;left:-20px;right:-20px;bottom:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{content:\\\"\\\";position:absolute;z-index:3;top:0;left:0;right:0;bottom:0}.fc-event-selected:after,.fc-event:focus:after{content:\\\"\\\";background:rgba(0,0,0,.25);background:var(--fc-event-selected-overlay-color,rgba(0,0,0,.25));position:absolute;z-index:1;top:-1px;left:-1px;right:-1px;bottom:-1px}.fc-h-event{display:block;border:1px solid #3788d8;border:1px solid var(--fc-event-border-color,#3788d8);background-color:#3788d8;background-color:var(--fc-event-bg-color,#3788d8)}.fc-h-event .fc-event-main{color:#fff;color:var(--fc-event-text-color,#fff)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;vertical-align:top;left:0;right:0;max-width:100%;overflow:hidden}.fc-h-event.fc-event-selected:before{top:-10px;bottom:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-top-left-radius:0;border-bottom-left-radius:0;border-left-width:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-top-right-radius:0;border-bottom-right-radius:0;border-right-width:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{top:0;bottom:0;width:8px;width:var(--fc-event-resizer-thickness,8px)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:-4px;left:calc(-.5 * var(--fc-event-resizer-thickness, 8px))}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:-4px;right:calc(-.5 * var(--fc-event-resizer-thickness, 8px))}.fc-h-event.fc-event-selected .fc-event-resizer{top:50%;margin-top:-4px;margin-top:calc(-.5 * var(--fc-event-resizer-dot-total-width, 8px))}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:-4px;left:calc(-.5 * var(--fc-event-resizer-dot-total-width, 8px))}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:-4px;right:calc(-.5 * var(--fc-event-resizer-dot-total-width, 8px))}.fc .fc-popover{position:absolute;z-index:9999;box-shadow:0 2px 6px rgba(0,0,0,.15)}.fc .fc-popover-header{display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;opacity:.65;font-size:1.1em}.fc-theme-standard .fc-popover{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd);background:#fff;background:var(--fc-page-bg-color,#fff)}.fc-theme-standard .fc-popover-header{background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}:root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{content:\\\"\\\";clear:both;display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:rgba(255,220,40,.15);background-color:var(--fc-today-bg-color,rgba(255,220,40,.15))}.fc .fc-daygrid-day-frame{position:relative;min-height:100%}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{position:relative;z-index:4;padding:4px}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{position:absolute;left:0;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{position:relative;min-height:2em}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{position:absolute;top:0;left:0;right:0}.fc .fc-daygrid-bg-harness{position:absolute;top:0;bottom:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{z-index:6;margin-top:1px}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;padding:2px 3px 0}.fc .fc-daygrid-day-bottom:before{content:\\\"\\\";clear:both;display:table}.fc .fc-daygrid-more-link{position:relative;z-index:4;cursor:pointer}.fc .fc-daygrid-week-number{position:absolute;z-index:5;top:0;padding:2px;min-width:1.5em;text-align:center;background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3));color:grey;color:var(--fc-neutral-text-color,grey)}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-week-number{left:0;border-radius:0 0 3px 0}.fc-direction-rtl .fc-daygrid-week-number{right:0;border-radius:0 0 0 3px}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{position:relative;white-space:nowrap;border-radius:3px;font-size:.85em;font-size:var(--fc-small-font-size,.85em)}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{display:flex;align-items:center;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;min-width:0;overflow:hidden;font-weight:700}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{top:-10px;bottom:-10px}.fc-daygrid-event-dot{margin:0 4px;box-sizing:content-box;width:0;height:0;border:4px solid #3788d8;border:calc(var(--fc-daygrid-event-dot-width, 8px) / 2) solid var(--fc-event-border-color,#3788d8);border-radius:4px;border-radius:calc(var(--fc-daygrid-event-dot-width, 8px) / 2)}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}.fc-v-event{display:block;border:1px solid #3788d8;border:1px solid var(--fc-event-border-color,#3788d8);background-color:#3788d8;background-color:var(--fc-event-bg-color,#3788d8)}.fc-v-event .fc-event-main{color:#fff;color:var(--fc-event-text-color,#fff);height:100%}.fc-v-event .fc-event-main-frame{height:100%;display:flex;flex-direction:column}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{top:0;bottom:0;max-height:100%;overflow:hidden}.fc-v-event:not(.fc-event-start){border-top-width:0;border-top-left-radius:0;border-top-right-radius:0}.fc-v-event:not(.fc-event-end){border-bottom-width:0;border-bottom-left-radius:0;border-bottom-right-radius:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:8px;height:var(--fc-event-resizer-thickness,8px);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:-4px;top:calc(var(--fc-event-resizer-thickness, 8px) / -2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:-4px;bottom:calc(var(--fc-event-resizer-thickness, 8px) / -2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:-4px;margin-left:calc(var(--fc-event-resizer-dot-total-width, 8px) / -2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:-4px;top:calc(var(--fc-event-resizer-dot-total-width, 8px) / -2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:-4px;bottom:calc(var(--fc-event-resizer-dot-total-width, 8px) / -2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{position:relative;z-index:1;min-height:100%}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{height:1.5em;border-bottom:0}.fc .fc-timegrid-slot:empty:before{content:\\\"\\u00A0\\\"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{overflow:hidden;display:flex;align-items:center;justify-content:flex-end}.fc .fc-timegrid-axis-cushion{max-width:60px;flex-shrink:0}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{height:auto;position:absolute;top:0;right:0;bottom:0;left:0}.fc .fc-timegrid-col.fc-day-today{background-color:rgba(255,220,40,.15);background-color:var(--fc-today-bg-color,rgba(255,220,40,.15))}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{height:auto;position:absolute;top:0;right:0;bottom:0;left:0}.fc-media-screen .fc-timegrid-cols{position:absolute;top:0;left:0;right:0;bottom:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{position:absolute;top:0;left:0;right:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{position:absolute;left:0;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{position:absolute;top:0;bottom:0;left:0;right:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px #fff;box-shadow:0 0 0 1px var(--fc-page-bg-color,#fff)}.fc-timegrid-event,.fc-timegrid-more-link{font-size:.85em;font-size:var(--fc-small-font-size,.85em);border-radius:3px}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{white-space:nowrap;font-size:.85em;font-size:var(--fc-small-font-size,.85em);margin-bottom:1px}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:\\\"\\u00A0-\\u00A0\\\"}.fc-timegrid-event-short .fc-event-title{font-size:.85em;font-size:var(--fc-small-font-size,.85em)}.fc-timegrid-more-link{position:absolute;z-index:9999;color:inherit;color:var(--fc-more-link-text-color,inherit);background:#d0d0d0;background:var(--fc-more-link-bg-color,#d0d0d0);cursor:pointer;margin-bottom:1px}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-line{position:absolute;z-index:4;left:0;right:0;border:0 solid red;border-color:var(--fc-now-indicator-color,red);border-top:1px solid var(--fc-now-indicator-color,red)}.fc .fc-timegrid-now-indicator-arrow{position:absolute;z-index:4;margin-top:-5px;border-style:solid;border-color:red;border-color:var(--fc-now-indicator-color,red)}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{left:0;border-width:5px 0 5px 6px;border-top-color:transparent;border-bottom-color:transparent}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{right:0;border-width:5px 6px 5px 0;border-top-color:transparent;border-bottom-color:transparent}:root{--fc-list-event-dot-width:10px;--fc-list-event-hover-bg-color:#f5f5f5}.fc-theme-standard .fc-list{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc .fc-list-empty{background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3));height:100%;display:flex;justify-content:center;align-items:center}.fc .fc-list-empty-cushion{margin:5em 0}.fc .fc-list-table{width:100%;border-style:hidden}.fc .fc-list-table tr>*{border-left:0;border-right:0}.fc .fc-list-sticky .fc-list-day>*{position:-webkit-sticky;position:sticky;top:0;background:#fff;background:var(--fc-page-bg-color,#fff)}.fc .fc-list-table thead{position:absolute;left:-10000px}.fc .fc-list-table tbody>tr:first-child th{border-top:0}.fc .fc-list-table th{padding:0}.fc .fc-list-day-cushion,.fc .fc-list-table td{padding:8px 14px}.fc .fc-list-day-cushion:after{content:\\\"\\\";clear:both;display:table}.fc-theme-standard .fc-list-day-cushion{background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}.fc-direction-ltr .fc-list-day-text,.fc-direction-rtl .fc-list-day-side-text{float:left}.fc-direction-ltr .fc-list-day-side-text,.fc-direction-rtl .fc-list-day-text{float:right}.fc-direction-ltr .fc-list-table .fc-list-event-graphic{padding-right:0}.fc-direction-rtl .fc-list-table .fc-list-event-graphic{padding-left:0}.fc .fc-list-event.fc-event-forced-url{cursor:pointer}.fc .fc-list-event:hover td{background-color:#f5f5f5;background-color:var(--fc-list-event-hover-bg-color,#f5f5f5)}.fc .fc-list-event-graphic,.fc .fc-list-event-time{white-space:nowrap;width:1px}.fc .fc-list-event-dot{display:inline-block;box-sizing:content-box;width:0;height:0;border:5px solid #3788d8;border:calc(var(--fc-list-event-dot-width, 10px) / 2) solid var(--fc-event-border-color,#3788d8);border-radius:5px;border-radius:calc(var(--fc-list-event-dot-width, 10px) / 2)}.fc .fc-list-event-title a{color:inherit;text-decoration:none}.fc .fc-list-event.fc-event-forced-url:hover a{text-decoration:underline}.fc-theme-bootstrap a:not([href]){color:inherit}.fc .fc-event,.fc .fc-scrollgrid table tr{-moz-column-break-inside:avoid;break-inside:avoid}.fc-media-print{display:block;max-width:100%}.fc-media-print .fc-bg-event,.fc-media-print .fc-non-business,.fc-media-print .fc-timegrid-axis-chunk,.fc-media-print .fc-timegrid-slots,.fc-media-print .fc-timeline-slots{display:none}.fc-media-print .fc-h-event,.fc-media-print .fc-toolbar button,.fc-media-print .fc-v-event{color:#000!important;background:#fff!important}.fc-media-print .fc-event,.fc-media-print .fc-event-main{color:#000!important}.fc-media-print .fc-timegrid-event{margin:.5em 0}.fc .fc-timeline-body{min-height:100%;position:relative;z-index:1}.fc .fc-timeline-slots{position:absolute;z-index:1;top:0;bottom:0}.fc .fc-timeline-slots>table{height:100%}.fc .fc-timeline-slot-minor{border-style:dotted}.fc .fc-timeline-slot-frame{display:flex;align-items:center;justify-content:center}.fc .fc-timeline-header-row-chrono .fc-timeline-slot-frame{justify-content:flex-start}.fc .fc-timeline-header-row:last-child .fc-timeline-slot-frame{overflow:hidden}.fc .fc-timeline-slot-cushion{padding:4px 5px;white-space:nowrap}.fc-direction-ltr .fc-timeline-slot{border-right:0!important}.fc-direction-rtl .fc-timeline-slot{border-left:0!important}.fc .fc-timeline-now-indicator-container{position:absolute;z-index:4;top:0;bottom:0;left:0;right:0;width:0}.fc .fc-timeline-now-indicator-arrow,.fc .fc-timeline-now-indicator-line{position:absolute;top:0;border-style:solid;border-color:red;border-color:var(--fc-now-indicator-color,red)}.fc .fc-timeline-now-indicator-arrow{margin:0 -6px;border-width:6px 5px 0;border-left-color:transparent;border-right-color:transparent}.fc .fc-timeline-now-indicator-line{margin:0 -1px;bottom:0;border-width:0 0 0 1px}.fc .fc-timeline-events{position:relative;z-index:3;width:0}.fc .fc-timeline-event-harness,.fc .fc-timeline-more-link{position:absolute;top:0}.fc-timeline-event{z-index:1}.fc-timeline-event.fc-event-mirror{z-index:2}.fc-timeline-event{position:relative;display:flex;align-items:center;border-radius:0;padding:2px 1px;margin-bottom:1px;font-size:.85em;font-size:var(--fc-small-font-size,.85em)}.fc-timeline-event .fc-event-main{flex-grow:1;flex-shrink:1;min-width:0}.fc-timeline-event .fc-event-time{font-weight:700}.fc-timeline-event .fc-event-time,.fc-timeline-event .fc-event-title{white-space:nowrap;padding:0 2px}.fc-direction-ltr .fc-timeline-event.fc-event-end,.fc-direction-ltr .fc-timeline-more-link{margin-right:1px}.fc-direction-rtl .fc-timeline-event.fc-event-end,.fc-direction-rtl .fc-timeline-more-link{margin-left:1px}.fc-timeline-overlap-disabled .fc-timeline-event{padding-top:5px;padding-bottom:5px;margin-bottom:0}.fc-timeline-event:not(.fc-event-end):after,.fc-timeline-event:not(.fc-event-start):before{content:\\\"\\\";flex-grow:0;flex-shrink:0;opacity:.5;width:0;height:0;margin:0 1px;border-color:transparent #000;border-style:solid;border-width:5px}.fc-direction-ltr .fc-timeline-event:not(.fc-event-start):before,.fc-direction-rtl .fc-timeline-event:not(.fc-event-end):after{border-left:0}.fc-direction-ltr .fc-timeline-event:not(.fc-event-end):after,.fc-direction-rtl .fc-timeline-event:not(.fc-event-start):before{border-right:0}.fc-timeline-more-link{font-size:.85em;font-size:var(--fc-small-font-size,.85em);color:inherit;color:var(--fc-more-link-text-color,inherit);background:#d0d0d0;background:var(--fc-more-link-bg-color,#d0d0d0);padding:1px;cursor:pointer}.fc-timeline-more-link-inner{display:inline-block;left:0;right:0;padding:2px}.fc .fc-timeline-bg{position:absolute;z-index:2;top:0;bottom:0;width:0;left:0;right:0}.fc .fc-timeline-bg .fc-non-business{z-index:1}.fc .fc-timeline-bg .fc-bg-event{z-index:2}.fc .fc-timeline-bg .fc-highlight{z-index:3}.fc .fc-timeline-bg-harness{position:absolute;top:0;bottom:0}.fc .fc-resource-timeline-divider{width:3px;cursor:col-resize}.fc .fc-resource-group{font-weight:inherit;text-align:inherit}.fc .fc-resource-timeline .fc-resource-group:not([rowspan]){background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}.fc .fc-timeline-lane-frame{position:relative}.fc .fc-timeline-overlap-enabled .fc-timeline-lane-frame .fc-timeline-events{box-sizing:content-box;padding-bottom:10px}.fc-timeline-body-expandrows td.fc-timeline-lane{position:relative}.fc-timeline-body-expandrows .fc-timeline-lane-frame{position:static}.fc-datagrid-cell-frame-liquid{height:100%}.fc-liquid-hack .fc-datagrid-cell-frame-liquid{height:auto;position:absolute;top:0;right:0;bottom:0;left:0}.fc .fc-datagrid-header .fc-datagrid-cell-frame{position:relative;display:flex;justify-content:flex-start;align-items:center}.fc .fc-datagrid-cell-resizer{position:absolute;z-index:1;top:0;bottom:0;width:5px;cursor:col-resize}.fc .fc-datagrid-cell-cushion{padding:8px;white-space:nowrap;overflow:hidden}.fc .fc-datagrid-expander{cursor:pointer;opacity:.65}.fc .fc-datagrid-expander .fc-icon{display:inline-block;width:1em}.fc .fc-datagrid-expander-placeholder{cursor:auto}.fc .fc-resource-timeline-flat .fc-datagrid-expander-placeholder{display:none}.fc-direction-ltr .fc-datagrid-cell-resizer{right:-3px}.fc-direction-rtl .fc-datagrid-cell-resizer{left:-3px}.fc-direction-ltr .fc-datagrid-expander{margin-right:3px}.fc-direction-rtl .fc-datagrid-expander{margin-left:3px}\"], encapsulation: 2 });\nFullCalendarComponent.ctorParameters = () => [\n    { type: ElementRef }\n];\nFullCalendarComponent.propDecorators = {\n    options: [{ type: Input }],\n    deepChangeDetection: [{ type: Input }]\n};\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(FullCalendarComponent, [{\n        type: Component,\n        args: [{ selector: 'full-calendar', template: '', encapsulation: ViewEncapsulation.None // the styles are root-level, not scoped within the component\n                , styles: [\"@charset \\\"UTF-8\\\";.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc-unselectable{-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-touch-callout:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{vertical-align:top;padding:0}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;src:url(\\\"data:application/x-font-ttf;charset=utf-8;base64,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\\\") format(\\\"truetype\\\");font-weight:400;font-style:normal}.fc-icon{display:inline-block;width:1em;height:1em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;font-family:fcicons!important;speak:none;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.fc-icon-chevron-left:before{content:\\\"\\\\e900\\\"}.fc-icon-chevron-right:before{content:\\\"\\\\e901\\\"}.fc-icon-chevrons-left:before{content:\\\"\\\\e902\\\"}.fc-icon-chevrons-right:before{content:\\\"\\\\e903\\\"}.fc-icon-minus-square:before{content:\\\"\\\\e904\\\"}.fc-icon-plus-square:before{content:\\\"\\\\e905\\\"}.fc-icon-x:before{content:\\\"\\\\e906\\\"}.fc .fc-button{border-radius:0;overflow:visible;text-transform:none;margin:0;font-family:inherit;font-size:inherit;line-height:inherit}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button::-moz-focus-inner{padding:0;border-style:none}.fc .fc-button{display:inline-block;font-weight:400;text-align:center;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;user-select:none;background-color:transparent;border:1px solid transparent;padding:.4em .65em;font-size:1em;line-height:1.5;border-radius:.25em}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{outline:0;box-shadow:0 0 0 .2rem rgba(44,62,80,.25)}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{color:#fff;color:var(--fc-button-text-color,#fff);background-color:#2c3e50;background-color:var(--fc-button-bg-color,#2c3e50);border-color:#2c3e50;border-color:var(--fc-button-border-color,#2c3e50)}.fc .fc-button-primary:hover{color:#fff;color:var(--fc-button-text-color,#fff);background-color:#1e2b37;background-color:var(--fc-button-hover-bg-color,#1e2b37);border-color:#1a252f;border-color:var(--fc-button-hover-border-color,#1a252f)}.fc .fc-button-primary:disabled{color:#fff;color:var(--fc-button-text-color,#fff);background-color:#2c3e50;background-color:var(--fc-button-bg-color,#2c3e50);border-color:#2c3e50;border-color:var(--fc-button-border-color,#2c3e50)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{color:#fff;color:var(--fc-button-text-color,#fff);background-color:#1a252f;background-color:var(--fc-button-active-bg-color,#1a252f);border-color:#151e27;border-color:var(--fc-button-active-border-color,#151e27)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{vertical-align:middle;font-size:1.5em}.fc .fc-button-group{position:relative;display:inline-flex;vertical-align:middle}.fc .fc-button-group>.fc-button{position:relative;flex:1 1 auto}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-top-right-radius:0;border-bottom-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){margin-right:-1px;border-top-right-radius:0;border-bottom-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-top-left-radius:0;border-bottom-left-radius:0}.fc .fc-toolbar{display:flex;justify-content:space-between;align-items:center}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{position:absolute;top:0;right:0;left:0;bottom:0}.fc .fc-scroller-harness{position:relative;overflow:hidden;direction:ltr}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{width:100%;table-layout:fixed}.fc .fc-scrollgrid table{border-top-style:hidden;border-left-style:hidden;border-right-style:hidden}.fc .fc-scrollgrid{border-collapse:separate;border-right-width:0;border-bottom-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section>td,.fc .fc-scrollgrid-section table{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-top-width:0;border-left-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:#fff;background:var(--fc-page-bg-color,#fff);position:-webkit-sticky;position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:-webkit-sticky;position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{position:absolute;top:0;right:0;bottom:0;left:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{position:absolute;top:0;left:0;right:0;bottom:0}.fc .fc-non-business{background:hsla(0,0%,84.3%,.3);background:var(--fc-non-business-color,hsla(0,0%,84.3%,.3))}.fc .fc-bg-event{background:#8fdf82;background:var(--fc-bg-event-color,#8fdf82);opacity:.3;opacity:var(--fc-bg-event-opacity,.3)}.fc .fc-bg-event .fc-event-title{margin:.5em;font-size:.85em;font-size:var(--fc-small-font-size,.85em);font-style:italic}.fc .fc-highlight{background:rgba(188,232,241,.3);background:var(--fc-highlight-color,rgba(188,232,241,.3))}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{border-radius:4px;border-radius:calc(var(--fc-event-resizer-dot-total-width, 8px) / 2);border-width:1px;width:8px;width:var(--fc-event-resizer-dot-total-width,8px);height:8px;height:var(--fc-event-resizer-dot-total-width,8px);border:var(--fc-event-resizer-dot-border-width,1px) solid;border-color:inherit;background:#fff;background:var(--fc-page-bg-color,#fff)}.fc-event-selected .fc-event-resizer:before{content:\\\"\\\";position:absolute;top:-20px;left:-20px;right:-20px;bottom:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{content:\\\"\\\";position:absolute;z-index:3;top:0;left:0;right:0;bottom:0}.fc-event-selected:after,.fc-event:focus:after{content:\\\"\\\";background:rgba(0,0,0,.25);background:var(--fc-event-selected-overlay-color,rgba(0,0,0,.25));position:absolute;z-index:1;top:-1px;left:-1px;right:-1px;bottom:-1px}.fc-h-event{display:block;border:1px solid #3788d8;border:1px solid var(--fc-event-border-color,#3788d8);background-color:#3788d8;background-color:var(--fc-event-bg-color,#3788d8)}.fc-h-event .fc-event-main{color:#fff;color:var(--fc-event-text-color,#fff)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;vertical-align:top;left:0;right:0;max-width:100%;overflow:hidden}.fc-h-event.fc-event-selected:before{top:-10px;bottom:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-top-left-radius:0;border-bottom-left-radius:0;border-left-width:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-top-right-radius:0;border-bottom-right-radius:0;border-right-width:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{top:0;bottom:0;width:8px;width:var(--fc-event-resizer-thickness,8px)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:-4px;left:calc(-.5 * var(--fc-event-resizer-thickness, 8px))}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:-4px;right:calc(-.5 * var(--fc-event-resizer-thickness, 8px))}.fc-h-event.fc-event-selected .fc-event-resizer{top:50%;margin-top:-4px;margin-top:calc(-.5 * var(--fc-event-resizer-dot-total-width, 8px))}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:-4px;left:calc(-.5 * var(--fc-event-resizer-dot-total-width, 8px))}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:-4px;right:calc(-.5 * var(--fc-event-resizer-dot-total-width, 8px))}.fc .fc-popover{position:absolute;z-index:9999;box-shadow:0 2px 6px rgba(0,0,0,.15)}.fc .fc-popover-header{display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;opacity:.65;font-size:1.1em}.fc-theme-standard .fc-popover{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd);background:#fff;background:var(--fc-page-bg-color,#fff)}.fc-theme-standard .fc-popover-header{background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}:root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{content:\\\"\\\";clear:both;display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:rgba(255,220,40,.15);background-color:var(--fc-today-bg-color,rgba(255,220,40,.15))}.fc .fc-daygrid-day-frame{position:relative;min-height:100%}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{position:relative;z-index:4;padding:4px}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{position:absolute;left:0;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{position:relative;min-height:2em}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{position:absolute;top:0;left:0;right:0}.fc .fc-daygrid-bg-harness{position:absolute;top:0;bottom:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{z-index:6;margin-top:1px}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;padding:2px 3px 0}.fc .fc-daygrid-day-bottom:before{content:\\\"\\\";clear:both;display:table}.fc .fc-daygrid-more-link{position:relative;z-index:4;cursor:pointer}.fc .fc-daygrid-week-number{position:absolute;z-index:5;top:0;padding:2px;min-width:1.5em;text-align:center;background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3));color:grey;color:var(--fc-neutral-text-color,grey)}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-week-number{left:0;border-radius:0 0 3px 0}.fc-direction-rtl .fc-daygrid-week-number{right:0;border-radius:0 0 0 3px}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{position:relative;white-space:nowrap;border-radius:3px;font-size:.85em;font-size:var(--fc-small-font-size,.85em)}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{display:flex;align-items:center;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;min-width:0;overflow:hidden;font-weight:700}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{top:-10px;bottom:-10px}.fc-daygrid-event-dot{margin:0 4px;box-sizing:content-box;width:0;height:0;border:4px solid #3788d8;border:calc(var(--fc-daygrid-event-dot-width, 8px) / 2) solid var(--fc-event-border-color,#3788d8);border-radius:4px;border-radius:calc(var(--fc-daygrid-event-dot-width, 8px) / 2)}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}.fc-v-event{display:block;border:1px solid #3788d8;border:1px solid var(--fc-event-border-color,#3788d8);background-color:#3788d8;background-color:var(--fc-event-bg-color,#3788d8)}.fc-v-event .fc-event-main{color:#fff;color:var(--fc-event-text-color,#fff);height:100%}.fc-v-event .fc-event-main-frame{height:100%;display:flex;flex-direction:column}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{top:0;bottom:0;max-height:100%;overflow:hidden}.fc-v-event:not(.fc-event-start){border-top-width:0;border-top-left-radius:0;border-top-right-radius:0}.fc-v-event:not(.fc-event-end){border-bottom-width:0;border-bottom-left-radius:0;border-bottom-right-radius:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:8px;height:var(--fc-event-resizer-thickness,8px);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:-4px;top:calc(var(--fc-event-resizer-thickness, 8px) / -2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:-4px;bottom:calc(var(--fc-event-resizer-thickness, 8px) / -2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:-4px;margin-left:calc(var(--fc-event-resizer-dot-total-width, 8px) / -2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:-4px;top:calc(var(--fc-event-resizer-dot-total-width, 8px) / -2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:-4px;bottom:calc(var(--fc-event-resizer-dot-total-width, 8px) / -2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{position:relative;z-index:1;min-height:100%}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{height:1.5em;border-bottom:0}.fc .fc-timegrid-slot:empty:before{content:\\\"\\u00A0\\\"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{overflow:hidden;display:flex;align-items:center;justify-content:flex-end}.fc .fc-timegrid-axis-cushion{max-width:60px;flex-shrink:0}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{height:auto;position:absolute;top:0;right:0;bottom:0;left:0}.fc .fc-timegrid-col.fc-day-today{background-color:rgba(255,220,40,.15);background-color:var(--fc-today-bg-color,rgba(255,220,40,.15))}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{height:auto;position:absolute;top:0;right:0;bottom:0;left:0}.fc-media-screen .fc-timegrid-cols{position:absolute;top:0;left:0;right:0;bottom:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{position:absolute;top:0;left:0;right:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{position:absolute;left:0;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{position:absolute;top:0;bottom:0;left:0;right:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px #fff;box-shadow:0 0 0 1px var(--fc-page-bg-color,#fff)}.fc-timegrid-event,.fc-timegrid-more-link{font-size:.85em;font-size:var(--fc-small-font-size,.85em);border-radius:3px}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{white-space:nowrap;font-size:.85em;font-size:var(--fc-small-font-size,.85em);margin-bottom:1px}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:\\\"\\u00A0-\\u00A0\\\"}.fc-timegrid-event-short .fc-event-title{font-size:.85em;font-size:var(--fc-small-font-size,.85em)}.fc-timegrid-more-link{position:absolute;z-index:9999;color:inherit;color:var(--fc-more-link-text-color,inherit);background:#d0d0d0;background:var(--fc-more-link-bg-color,#d0d0d0);cursor:pointer;margin-bottom:1px}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-line{position:absolute;z-index:4;left:0;right:0;border:0 solid red;border-color:var(--fc-now-indicator-color,red);border-top:1px solid var(--fc-now-indicator-color,red)}.fc .fc-timegrid-now-indicator-arrow{position:absolute;z-index:4;margin-top:-5px;border-style:solid;border-color:red;border-color:var(--fc-now-indicator-color,red)}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{left:0;border-width:5px 0 5px 6px;border-top-color:transparent;border-bottom-color:transparent}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{right:0;border-width:5px 6px 5px 0;border-top-color:transparent;border-bottom-color:transparent}:root{--fc-list-event-dot-width:10px;--fc-list-event-hover-bg-color:#f5f5f5}.fc-theme-standard .fc-list{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc .fc-list-empty{background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3));height:100%;display:flex;justify-content:center;align-items:center}.fc .fc-list-empty-cushion{margin:5em 0}.fc .fc-list-table{width:100%;border-style:hidden}.fc .fc-list-table tr>*{border-left:0;border-right:0}.fc .fc-list-sticky .fc-list-day>*{position:-webkit-sticky;position:sticky;top:0;background:#fff;background:var(--fc-page-bg-color,#fff)}.fc .fc-list-table thead{position:absolute;left:-10000px}.fc .fc-list-table tbody>tr:first-child th{border-top:0}.fc .fc-list-table th{padding:0}.fc .fc-list-day-cushion,.fc .fc-list-table td{padding:8px 14px}.fc .fc-list-day-cushion:after{content:\\\"\\\";clear:both;display:table}.fc-theme-standard .fc-list-day-cushion{background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}.fc-direction-ltr .fc-list-day-text,.fc-direction-rtl .fc-list-day-side-text{float:left}.fc-direction-ltr .fc-list-day-side-text,.fc-direction-rtl .fc-list-day-text{float:right}.fc-direction-ltr .fc-list-table .fc-list-event-graphic{padding-right:0}.fc-direction-rtl .fc-list-table .fc-list-event-graphic{padding-left:0}.fc .fc-list-event.fc-event-forced-url{cursor:pointer}.fc .fc-list-event:hover td{background-color:#f5f5f5;background-color:var(--fc-list-event-hover-bg-color,#f5f5f5)}.fc .fc-list-event-graphic,.fc .fc-list-event-time{white-space:nowrap;width:1px}.fc .fc-list-event-dot{display:inline-block;box-sizing:content-box;width:0;height:0;border:5px solid #3788d8;border:calc(var(--fc-list-event-dot-width, 10px) / 2) solid var(--fc-event-border-color,#3788d8);border-radius:5px;border-radius:calc(var(--fc-list-event-dot-width, 10px) / 2)}.fc .fc-list-event-title a{color:inherit;text-decoration:none}.fc .fc-list-event.fc-event-forced-url:hover a{text-decoration:underline}.fc-theme-bootstrap a:not([href]){color:inherit}.fc .fc-event,.fc .fc-scrollgrid table tr{-moz-column-break-inside:avoid;break-inside:avoid}.fc-media-print{display:block;max-width:100%}.fc-media-print .fc-bg-event,.fc-media-print .fc-non-business,.fc-media-print .fc-timegrid-axis-chunk,.fc-media-print .fc-timegrid-slots,.fc-media-print .fc-timeline-slots{display:none}.fc-media-print .fc-h-event,.fc-media-print .fc-toolbar button,.fc-media-print .fc-v-event{color:#000!important;background:#fff!important}.fc-media-print .fc-event,.fc-media-print .fc-event-main{color:#000!important}.fc-media-print .fc-timegrid-event{margin:.5em 0}.fc .fc-timeline-body{min-height:100%;position:relative;z-index:1}.fc .fc-timeline-slots{position:absolute;z-index:1;top:0;bottom:0}.fc .fc-timeline-slots>table{height:100%}.fc .fc-timeline-slot-minor{border-style:dotted}.fc .fc-timeline-slot-frame{display:flex;align-items:center;justify-content:center}.fc .fc-timeline-header-row-chrono .fc-timeline-slot-frame{justify-content:flex-start}.fc .fc-timeline-header-row:last-child .fc-timeline-slot-frame{overflow:hidden}.fc .fc-timeline-slot-cushion{padding:4px 5px;white-space:nowrap}.fc-direction-ltr .fc-timeline-slot{border-right:0!important}.fc-direction-rtl .fc-timeline-slot{border-left:0!important}.fc .fc-timeline-now-indicator-container{position:absolute;z-index:4;top:0;bottom:0;left:0;right:0;width:0}.fc .fc-timeline-now-indicator-arrow,.fc .fc-timeline-now-indicator-line{position:absolute;top:0;border-style:solid;border-color:red;border-color:var(--fc-now-indicator-color,red)}.fc .fc-timeline-now-indicator-arrow{margin:0 -6px;border-width:6px 5px 0;border-left-color:transparent;border-right-color:transparent}.fc .fc-timeline-now-indicator-line{margin:0 -1px;bottom:0;border-width:0 0 0 1px}.fc .fc-timeline-events{position:relative;z-index:3;width:0}.fc .fc-timeline-event-harness,.fc .fc-timeline-more-link{position:absolute;top:0}.fc-timeline-event{z-index:1}.fc-timeline-event.fc-event-mirror{z-index:2}.fc-timeline-event{position:relative;display:flex;align-items:center;border-radius:0;padding:2px 1px;margin-bottom:1px;font-size:.85em;font-size:var(--fc-small-font-size,.85em)}.fc-timeline-event .fc-event-main{flex-grow:1;flex-shrink:1;min-width:0}.fc-timeline-event .fc-event-time{font-weight:700}.fc-timeline-event .fc-event-time,.fc-timeline-event .fc-event-title{white-space:nowrap;padding:0 2px}.fc-direction-ltr .fc-timeline-event.fc-event-end,.fc-direction-ltr .fc-timeline-more-link{margin-right:1px}.fc-direction-rtl .fc-timeline-event.fc-event-end,.fc-direction-rtl .fc-timeline-more-link{margin-left:1px}.fc-timeline-overlap-disabled .fc-timeline-event{padding-top:5px;padding-bottom:5px;margin-bottom:0}.fc-timeline-event:not(.fc-event-end):after,.fc-timeline-event:not(.fc-event-start):before{content:\\\"\\\";flex-grow:0;flex-shrink:0;opacity:.5;width:0;height:0;margin:0 1px;border-color:transparent #000;border-style:solid;border-width:5px}.fc-direction-ltr .fc-timeline-event:not(.fc-event-start):before,.fc-direction-rtl .fc-timeline-event:not(.fc-event-end):after{border-left:0}.fc-direction-ltr .fc-timeline-event:not(.fc-event-end):after,.fc-direction-rtl .fc-timeline-event:not(.fc-event-start):before{border-right:0}.fc-timeline-more-link{font-size:.85em;font-size:var(--fc-small-font-size,.85em);color:inherit;color:var(--fc-more-link-text-color,inherit);background:#d0d0d0;background:var(--fc-more-link-bg-color,#d0d0d0);padding:1px;cursor:pointer}.fc-timeline-more-link-inner{display:inline-block;left:0;right:0;padding:2px}.fc .fc-timeline-bg{position:absolute;z-index:2;top:0;bottom:0;width:0;left:0;right:0}.fc .fc-timeline-bg .fc-non-business{z-index:1}.fc .fc-timeline-bg .fc-bg-event{z-index:2}.fc .fc-timeline-bg .fc-highlight{z-index:3}.fc .fc-timeline-bg-harness{position:absolute;top:0;bottom:0}.fc .fc-resource-timeline-divider{width:3px;cursor:col-resize}.fc .fc-resource-group{font-weight:inherit;text-align:inherit}.fc .fc-resource-timeline .fc-resource-group:not([rowspan]){background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}.fc .fc-timeline-lane-frame{position:relative}.fc .fc-timeline-overlap-enabled .fc-timeline-lane-frame .fc-timeline-events{box-sizing:content-box;padding-bottom:10px}.fc-timeline-body-expandrows td.fc-timeline-lane{position:relative}.fc-timeline-body-expandrows .fc-timeline-lane-frame{position:static}.fc-datagrid-cell-frame-liquid{height:100%}.fc-liquid-hack .fc-datagrid-cell-frame-liquid{height:auto;position:absolute;top:0;right:0;bottom:0;left:0}.fc .fc-datagrid-header .fc-datagrid-cell-frame{position:relative;display:flex;justify-content:flex-start;align-items:center}.fc .fc-datagrid-cell-resizer{position:absolute;z-index:1;top:0;bottom:0;width:5px;cursor:col-resize}.fc .fc-datagrid-cell-cushion{padding:8px;white-space:nowrap;overflow:hidden}.fc .fc-datagrid-expander{cursor:pointer;opacity:.65}.fc .fc-datagrid-expander .fc-icon{display:inline-block;width:1em}.fc .fc-datagrid-expander-placeholder{cursor:auto}.fc .fc-resource-timeline-flat .fc-datagrid-expander-placeholder{display:none}.fc-direction-ltr .fc-datagrid-cell-resizer{right:-3px}.fc-direction-rtl .fc-datagrid-cell-resizer{left:-3px}.fc-direction-ltr .fc-datagrid-expander{margin-right:3px}.fc-direction-rtl .fc-datagrid-expander{margin-left:3px}\"] }]\n    }], function () { return [{ type: ɵngcc0.ElementRef }]; }, { options: [{\n            type: Input\n        }], deepChangeDetection: [{\n            type: Input\n        }] }); })();\n\nclass FullCalendarModule {\n    static registerPlugins(plugins) {\n        globalPlugins.push(...plugins);\n    }\n}\nFullCalendarModule.ɵfac = function FullCalendarModule_Factory(t) { return new (t || FullCalendarModule)(); };\nFullCalendarModule.ɵmod = /*@__PURE__*/ ɵngcc0.ɵɵdefineNgModule({ type: FullCalendarModule });\nFullCalendarModule.ɵinj = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjector({});\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(FullCalendarModule, [{\n        type: NgModule,\n        args: [{\n                declarations: [FullCalendarComponent],\n                imports: [],\n                exports: [FullCalendarComponent]\n            }]\n    }], null, null); })();\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(FullCalendarModule, { declarations: [FullCalendarComponent], exports: [FullCalendarComponent] }); })();\n\n/*\n * Public API Surface of fullcalendar\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { FullCalendarComponent, FullCalendarModule };\n\n","/*!\nFullCalendar v5.11.3\nDocs & License: https://fullcalendar.io/\n(c) 2022 Adam Shaw\n*/\nimport './main.css';\n\nimport { __assign, __spreadArray, __extends } from 'tslib';\nimport { createContext, Component, createRef, createElement, Fragment, createPortal } from './vdom.js';\nexport * from './vdom.js';\n\n// no public types yet. when there are, export from:\n// import {} from './api-type-deps'\nvar EventSourceApi = /** @class */ (function () {\n    function EventSourceApi(context, internalEventSource) {\n        this.context = context;\n        this.internalEventSource = internalEventSource;\n    }\n    EventSourceApi.prototype.remove = function () {\n        this.context.dispatch({\n            type: 'REMOVE_EVENT_SOURCE',\n            sourceId: this.internalEventSource.sourceId,\n        });\n    };\n    EventSourceApi.prototype.refetch = function () {\n        this.context.dispatch({\n            type: 'FETCH_EVENT_SOURCES',\n            sourceIds: [this.internalEventSource.sourceId],\n            isRefetch: true,\n        });\n    };\n    Object.defineProperty(EventSourceApi.prototype, \"id\", {\n        get: function () {\n            return this.internalEventSource.publicId;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventSourceApi.prototype, \"url\", {\n        get: function () {\n            return this.internalEventSource.meta.url;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventSourceApi.prototype, \"format\", {\n        get: function () {\n            return this.internalEventSource.meta.format; // TODO: bad. not guaranteed\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return EventSourceApi;\n}());\n\nfunction removeElement(el) {\n    if (el.parentNode) {\n        el.parentNode.removeChild(el);\n    }\n}\n// Querying\n// ----------------------------------------------------------------------------------------------------------------\nfunction elementClosest(el, selector) {\n    if (el.closest) {\n        return el.closest(selector);\n        // really bad fallback for IE\n        // from https://developer.mozilla.org/en-US/docs/Web/API/Element/closest\n    }\n    if (!document.documentElement.contains(el)) {\n        return null;\n    }\n    do {\n        if (elementMatches(el, selector)) {\n            return el;\n        }\n        el = (el.parentElement || el.parentNode);\n    } while (el !== null && el.nodeType === 1);\n    return null;\n}\nfunction elementMatches(el, selector) {\n    var method = el.matches || el.matchesSelector || el.msMatchesSelector;\n    return method.call(el, selector);\n}\n// accepts multiple subject els\n// returns a real array. good for methods like forEach\n// TODO: accept the document\nfunction findElements(container, selector) {\n    var containers = container instanceof HTMLElement ? [container] : container;\n    var allMatches = [];\n    for (var i = 0; i < containers.length; i += 1) {\n        var matches = containers[i].querySelectorAll(selector);\n        for (var j = 0; j < matches.length; j += 1) {\n            allMatches.push(matches[j]);\n        }\n    }\n    return allMatches;\n}\n// accepts multiple subject els\n// only queries direct child elements // TODO: rename to findDirectChildren!\nfunction findDirectChildren(parent, selector) {\n    var parents = parent instanceof HTMLElement ? [parent] : parent;\n    var allMatches = [];\n    for (var i = 0; i < parents.length; i += 1) {\n        var childNodes = parents[i].children; // only ever elements\n        for (var j = 0; j < childNodes.length; j += 1) {\n            var childNode = childNodes[j];\n            if (!selector || elementMatches(childNode, selector)) {\n                allMatches.push(childNode);\n            }\n        }\n    }\n    return allMatches;\n}\n// Style\n// ----------------------------------------------------------------------------------------------------------------\nvar PIXEL_PROP_RE = /(top|left|right|bottom|width|height)$/i;\nfunction applyStyle(el, props) {\n    for (var propName in props) {\n        applyStyleProp(el, propName, props[propName]);\n    }\n}\nfunction applyStyleProp(el, name, val) {\n    if (val == null) {\n        el.style[name] = '';\n    }\n    else if (typeof val === 'number' && PIXEL_PROP_RE.test(name)) {\n        el.style[name] = val + \"px\";\n    }\n    else {\n        el.style[name] = val;\n    }\n}\n// Event Handling\n// ----------------------------------------------------------------------------------------------------------------\n// if intercepting bubbled events at the document/window/body level,\n// and want to see originating element (the 'target'), use this util instead\n// of `ev.target` because it goes within web-component boundaries.\nfunction getEventTargetViaRoot(ev) {\n    var _a, _b;\n    return (_b = (_a = ev.composedPath) === null || _a === void 0 ? void 0 : _a.call(ev)[0]) !== null && _b !== void 0 ? _b : ev.target;\n}\n// Shadow DOM consuderations\n// ----------------------------------------------------------------------------------------------------------------\nfunction getElRoot(el) {\n    return el.getRootNode ? el.getRootNode() : document;\n}\n// Unique ID for DOM attribute\nvar guid$1 = 0;\nfunction getUniqueDomId() {\n    guid$1 += 1;\n    return 'fc-dom-' + guid$1;\n}\n\n// Stops a mouse/touch event from doing it's native browser action\nfunction preventDefault(ev) {\n    ev.preventDefault();\n}\n// Event Delegation\n// ----------------------------------------------------------------------------------------------------------------\nfunction buildDelegationHandler(selector, handler) {\n    return function (ev) {\n        var matchedChild = elementClosest(ev.target, selector);\n        if (matchedChild) {\n            handler.call(matchedChild, ev, matchedChild);\n        }\n    };\n}\nfunction listenBySelector(container, eventType, selector, handler) {\n    var attachedHandler = buildDelegationHandler(selector, handler);\n    container.addEventListener(eventType, attachedHandler);\n    return function () {\n        container.removeEventListener(eventType, attachedHandler);\n    };\n}\nfunction listenToHoverBySelector(container, selector, onMouseEnter, onMouseLeave) {\n    var currentMatchedChild;\n    return listenBySelector(container, 'mouseover', selector, function (mouseOverEv, matchedChild) {\n        if (matchedChild !== currentMatchedChild) {\n            currentMatchedChild = matchedChild;\n            onMouseEnter(mouseOverEv, matchedChild);\n            var realOnMouseLeave_1 = function (mouseLeaveEv) {\n                currentMatchedChild = null;\n                onMouseLeave(mouseLeaveEv, matchedChild);\n                matchedChild.removeEventListener('mouseleave', realOnMouseLeave_1);\n            };\n            // listen to the next mouseleave, and then unattach\n            matchedChild.addEventListener('mouseleave', realOnMouseLeave_1);\n        }\n    });\n}\n// Animation\n// ----------------------------------------------------------------------------------------------------------------\nvar transitionEventNames = [\n    'webkitTransitionEnd',\n    'otransitionend',\n    'oTransitionEnd',\n    'msTransitionEnd',\n    'transitionend',\n];\n// triggered only when the next single subsequent transition finishes\nfunction whenTransitionDone(el, callback) {\n    var realCallback = function (ev) {\n        callback(ev);\n        transitionEventNames.forEach(function (eventName) {\n            el.removeEventListener(eventName, realCallback);\n        });\n    };\n    transitionEventNames.forEach(function (eventName) {\n        el.addEventListener(eventName, realCallback); // cross-browser way to determine when the transition finishes\n    });\n}\n// ARIA workarounds\n// ----------------------------------------------------------------------------------------------------------------\nfunction createAriaClickAttrs(handler) {\n    return __assign({ onClick: handler }, createAriaKeyboardAttrs(handler));\n}\nfunction createAriaKeyboardAttrs(handler) {\n    return {\n        tabIndex: 0,\n        onKeyDown: function (ev) {\n            if (ev.key === 'Enter' || ev.key === ' ') {\n                handler(ev);\n                ev.preventDefault(); // if space, don't scroll down page\n            }\n        },\n    };\n}\n\nvar guidNumber = 0;\nfunction guid() {\n    guidNumber += 1;\n    return String(guidNumber);\n}\n/* FullCalendar-specific DOM Utilities\n----------------------------------------------------------------------------------------------------------------------*/\n// Make the mouse cursor express that an event is not allowed in the current area\nfunction disableCursor() {\n    document.body.classList.add('fc-not-allowed');\n}\n// Returns the mouse cursor to its original look\nfunction enableCursor() {\n    document.body.classList.remove('fc-not-allowed');\n}\n/* Selection\n----------------------------------------------------------------------------------------------------------------------*/\nfunction preventSelection(el) {\n    el.classList.add('fc-unselectable');\n    el.addEventListener('selectstart', preventDefault);\n}\nfunction allowSelection(el) {\n    el.classList.remove('fc-unselectable');\n    el.removeEventListener('selectstart', preventDefault);\n}\n/* Context Menu\n----------------------------------------------------------------------------------------------------------------------*/\nfunction preventContextMenu(el) {\n    el.addEventListener('contextmenu', preventDefault);\n}\nfunction allowContextMenu(el) {\n    el.removeEventListener('contextmenu', preventDefault);\n}\nfunction parseFieldSpecs(input) {\n    var specs = [];\n    var tokens = [];\n    var i;\n    var token;\n    if (typeof input === 'string') {\n        tokens = input.split(/\\s*,\\s*/);\n    }\n    else if (typeof input === 'function') {\n        tokens = [input];\n    }\n    else if (Array.isArray(input)) {\n        tokens = input;\n    }\n    for (i = 0; i < tokens.length; i += 1) {\n        token = tokens[i];\n        if (typeof token === 'string') {\n            specs.push(token.charAt(0) === '-' ?\n                { field: token.substring(1), order: -1 } :\n                { field: token, order: 1 });\n        }\n        else if (typeof token === 'function') {\n            specs.push({ func: token });\n        }\n    }\n    return specs;\n}\nfunction compareByFieldSpecs(obj0, obj1, fieldSpecs) {\n    var i;\n    var cmp;\n    for (i = 0; i < fieldSpecs.length; i += 1) {\n        cmp = compareByFieldSpec(obj0, obj1, fieldSpecs[i]);\n        if (cmp) {\n            return cmp;\n        }\n    }\n    return 0;\n}\nfunction compareByFieldSpec(obj0, obj1, fieldSpec) {\n    if (fieldSpec.func) {\n        return fieldSpec.func(obj0, obj1);\n    }\n    return flexibleCompare(obj0[fieldSpec.field], obj1[fieldSpec.field])\n        * (fieldSpec.order || 1);\n}\nfunction flexibleCompare(a, b) {\n    if (!a && !b) {\n        return 0;\n    }\n    if (b == null) {\n        return -1;\n    }\n    if (a == null) {\n        return 1;\n    }\n    if (typeof a === 'string' || typeof b === 'string') {\n        return String(a).localeCompare(String(b));\n    }\n    return a - b;\n}\n/* String Utilities\n----------------------------------------------------------------------------------------------------------------------*/\nfunction padStart(val, len) {\n    var s = String(val);\n    return '000'.substr(0, len - s.length) + s;\n}\nfunction formatWithOrdinals(formatter, args, fallbackText) {\n    if (typeof formatter === 'function') {\n        return formatter.apply(void 0, args);\n    }\n    if (typeof formatter === 'string') { // non-blank string\n        return args.reduce(function (str, arg, index) { return (str.replace('$' + index, arg || '')); }, formatter);\n    }\n    return fallbackText;\n}\n/* Number Utilities\n----------------------------------------------------------------------------------------------------------------------*/\nfunction compareNumbers(a, b) {\n    return a - b;\n}\nfunction isInt(n) {\n    return n % 1 === 0;\n}\n/* FC-specific DOM dimension stuff\n----------------------------------------------------------------------------------------------------------------------*/\nfunction computeSmallestCellWidth(cellEl) {\n    var allWidthEl = cellEl.querySelector('.fc-scrollgrid-shrink-frame');\n    var contentWidthEl = cellEl.querySelector('.fc-scrollgrid-shrink-cushion');\n    if (!allWidthEl) {\n        throw new Error('needs fc-scrollgrid-shrink-frame className'); // TODO: use const\n    }\n    if (!contentWidthEl) {\n        throw new Error('needs fc-scrollgrid-shrink-cushion className');\n    }\n    return cellEl.getBoundingClientRect().width - allWidthEl.getBoundingClientRect().width + // the cell padding+border\n        contentWidthEl.getBoundingClientRect().width;\n}\n\nvar DAY_IDS = ['sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat'];\n// Adding\nfunction addWeeks(m, n) {\n    var a = dateToUtcArray(m);\n    a[2] += n * 7;\n    return arrayToUtcDate(a);\n}\nfunction addDays(m, n) {\n    var a = dateToUtcArray(m);\n    a[2] += n;\n    return arrayToUtcDate(a);\n}\nfunction addMs(m, n) {\n    var a = dateToUtcArray(m);\n    a[6] += n;\n    return arrayToUtcDate(a);\n}\n// Diffing (all return floats)\n// TODO: why not use ranges?\nfunction diffWeeks(m0, m1) {\n    return diffDays(m0, m1) / 7;\n}\nfunction diffDays(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60 * 60 * 24);\n}\nfunction diffHours(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60 * 60);\n}\nfunction diffMinutes(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60);\n}\nfunction diffSeconds(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / 1000;\n}\nfunction diffDayAndTime(m0, m1) {\n    var m0day = startOfDay(m0);\n    var m1day = startOfDay(m1);\n    return {\n        years: 0,\n        months: 0,\n        days: Math.round(diffDays(m0day, m1day)),\n        milliseconds: (m1.valueOf() - m1day.valueOf()) - (m0.valueOf() - m0day.valueOf()),\n    };\n}\n// Diffing Whole Units\nfunction diffWholeWeeks(m0, m1) {\n    var d = diffWholeDays(m0, m1);\n    if (d !== null && d % 7 === 0) {\n        return d / 7;\n    }\n    return null;\n}\nfunction diffWholeDays(m0, m1) {\n    if (timeAsMs(m0) === timeAsMs(m1)) {\n        return Math.round(diffDays(m0, m1));\n    }\n    return null;\n}\n// Start-Of\nfunction startOfDay(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n    ]);\n}\nfunction startOfHour(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n    ]);\n}\nfunction startOfMinute(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n        m.getUTCMinutes(),\n    ]);\n}\nfunction startOfSecond(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n        m.getUTCMinutes(),\n        m.getUTCSeconds(),\n    ]);\n}\n// Week Computation\nfunction weekOfYear(marker, dow, doy) {\n    var y = marker.getUTCFullYear();\n    var w = weekOfGivenYear(marker, y, dow, doy);\n    if (w < 1) {\n        return weekOfGivenYear(marker, y - 1, dow, doy);\n    }\n    var nextW = weekOfGivenYear(marker, y + 1, dow, doy);\n    if (nextW >= 1) {\n        return Math.min(w, nextW);\n    }\n    return w;\n}\nfunction weekOfGivenYear(marker, year, dow, doy) {\n    var firstWeekStart = arrayToUtcDate([year, 0, 1 + firstWeekOffset(year, dow, doy)]);\n    var dayStart = startOfDay(marker);\n    var days = Math.round(diffDays(firstWeekStart, dayStart));\n    return Math.floor(days / 7) + 1; // zero-indexed\n}\n// start-of-first-week - start-of-year\nfunction firstWeekOffset(year, dow, doy) {\n    // first-week day -- which january is always in the first week (4 for iso, 1 for other)\n    var fwd = 7 + dow - doy;\n    // first-week day local weekday -- which local weekday is fwd\n    var fwdlw = (7 + arrayToUtcDate([year, 0, fwd]).getUTCDay() - dow) % 7;\n    return -fwdlw + fwd - 1;\n}\n// Array Conversion\nfunction dateToLocalArray(date) {\n    return [\n        date.getFullYear(),\n        date.getMonth(),\n        date.getDate(),\n        date.getHours(),\n        date.getMinutes(),\n        date.getSeconds(),\n        date.getMilliseconds(),\n    ];\n}\nfunction arrayToLocalDate(a) {\n    return new Date(a[0], a[1] || 0, a[2] == null ? 1 : a[2], // day of month\n    a[3] || 0, a[4] || 0, a[5] || 0);\n}\nfunction dateToUtcArray(date) {\n    return [\n        date.getUTCFullYear(),\n        date.getUTCMonth(),\n        date.getUTCDate(),\n        date.getUTCHours(),\n        date.getUTCMinutes(),\n        date.getUTCSeconds(),\n        date.getUTCMilliseconds(),\n    ];\n}\nfunction arrayToUtcDate(a) {\n    // according to web standards (and Safari), a month index is required.\n    // massage if only given a year.\n    if (a.length === 1) {\n        a = a.concat([0]);\n    }\n    return new Date(Date.UTC.apply(Date, a));\n}\n// Other Utils\nfunction isValidDate(m) {\n    return !isNaN(m.valueOf());\n}\nfunction timeAsMs(m) {\n    return m.getUTCHours() * 1000 * 60 * 60 +\n        m.getUTCMinutes() * 1000 * 60 +\n        m.getUTCSeconds() * 1000 +\n        m.getUTCMilliseconds();\n}\n\nfunction createEventInstance(defId, range, forcedStartTzo, forcedEndTzo) {\n    return {\n        instanceId: guid(),\n        defId: defId,\n        range: range,\n        forcedStartTzo: forcedStartTzo == null ? null : forcedStartTzo,\n        forcedEndTzo: forcedEndTzo == null ? null : forcedEndTzo,\n    };\n}\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n// Merges an array of objects into a single object.\n// The second argument allows for an array of property names who's object values will be merged together.\nfunction mergeProps(propObjs, complexPropsMap) {\n    var dest = {};\n    if (complexPropsMap) {\n        for (var name_1 in complexPropsMap) {\n            var complexObjs = [];\n            // collect the trailing object values, stopping when a non-object is discovered\n            for (var i = propObjs.length - 1; i >= 0; i -= 1) {\n                var val = propObjs[i][name_1];\n                if (typeof val === 'object' && val) { // non-null object\n                    complexObjs.unshift(val);\n                }\n                else if (val !== undefined) {\n                    dest[name_1] = val; // if there were no objects, this value will be used\n                    break;\n                }\n            }\n            // if the trailing values were objects, use the merged value\n            if (complexObjs.length) {\n                dest[name_1] = mergeProps(complexObjs);\n            }\n        }\n    }\n    // copy values into the destination, going from last to first\n    for (var i = propObjs.length - 1; i >= 0; i -= 1) {\n        var props = propObjs[i];\n        for (var name_2 in props) {\n            if (!(name_2 in dest)) { // if already assigned by previous props or complex props, don't reassign\n                dest[name_2] = props[name_2];\n            }\n        }\n    }\n    return dest;\n}\nfunction filterHash(hash, func) {\n    var filtered = {};\n    for (var key in hash) {\n        if (func(hash[key], key)) {\n            filtered[key] = hash[key];\n        }\n    }\n    return filtered;\n}\nfunction mapHash(hash, func) {\n    var newHash = {};\n    for (var key in hash) {\n        newHash[key] = func(hash[key], key);\n    }\n    return newHash;\n}\nfunction arrayToHash(a) {\n    var hash = {};\n    for (var _i = 0, a_1 = a; _i < a_1.length; _i++) {\n        var item = a_1[_i];\n        hash[item] = true;\n    }\n    return hash;\n}\nfunction buildHashFromArray(a, func) {\n    var hash = {};\n    for (var i = 0; i < a.length; i += 1) {\n        var tuple = func(a[i], i);\n        hash[tuple[0]] = tuple[1];\n    }\n    return hash;\n}\nfunction hashValuesToArray(obj) {\n    var a = [];\n    for (var key in obj) {\n        a.push(obj[key]);\n    }\n    return a;\n}\nfunction isPropsEqual(obj0, obj1) {\n    if (obj0 === obj1) {\n        return true;\n    }\n    for (var key in obj0) {\n        if (hasOwnProperty.call(obj0, key)) {\n            if (!(key in obj1)) {\n                return false;\n            }\n        }\n    }\n    for (var key in obj1) {\n        if (hasOwnProperty.call(obj1, key)) {\n            if (obj0[key] !== obj1[key]) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\nfunction getUnequalProps(obj0, obj1) {\n    var keys = [];\n    for (var key in obj0) {\n        if (hasOwnProperty.call(obj0, key)) {\n            if (!(key in obj1)) {\n                keys.push(key);\n            }\n        }\n    }\n    for (var key in obj1) {\n        if (hasOwnProperty.call(obj1, key)) {\n            if (obj0[key] !== obj1[key]) {\n                keys.push(key);\n            }\n        }\n    }\n    return keys;\n}\nfunction compareObjs(oldProps, newProps, equalityFuncs) {\n    if (equalityFuncs === void 0) { equalityFuncs = {}; }\n    if (oldProps === newProps) {\n        return true;\n    }\n    for (var key in newProps) {\n        if (key in oldProps && isObjValsEqual(oldProps[key], newProps[key], equalityFuncs[key])) ;\n        else {\n            return false;\n        }\n    }\n    // check for props that were omitted in the new\n    for (var key in oldProps) {\n        if (!(key in newProps)) {\n            return false;\n        }\n    }\n    return true;\n}\n/*\nassumed \"true\" equality for handler names like \"onReceiveSomething\"\n*/\nfunction isObjValsEqual(val0, val1, comparator) {\n    if (val0 === val1 || comparator === true) {\n        return true;\n    }\n    if (comparator) {\n        return comparator(val0, val1);\n    }\n    return false;\n}\nfunction collectFromHash(hash, startIndex, endIndex, step) {\n    if (startIndex === void 0) { startIndex = 0; }\n    if (step === void 0) { step = 1; }\n    var res = [];\n    if (endIndex == null) {\n        endIndex = Object.keys(hash).length;\n    }\n    for (var i = startIndex; i < endIndex; i += step) {\n        var val = hash[i];\n        if (val !== undefined) { // will disregard undefined for sparse arrays\n            res.push(val);\n        }\n    }\n    return res;\n}\n\nfunction parseRecurring(refined, defaultAllDay, dateEnv, recurringTypes) {\n    for (var i = 0; i < recurringTypes.length; i += 1) {\n        var parsed = recurringTypes[i].parse(refined, dateEnv);\n        if (parsed) {\n            var allDay = refined.allDay;\n            if (allDay == null) {\n                allDay = defaultAllDay;\n                if (allDay == null) {\n                    allDay = parsed.allDayGuess;\n                    if (allDay == null) {\n                        allDay = false;\n                    }\n                }\n            }\n            return {\n                allDay: allDay,\n                duration: parsed.duration,\n                typeData: parsed.typeData,\n                typeId: i,\n            };\n        }\n    }\n    return null;\n}\nfunction expandRecurring(eventStore, framingRange, context) {\n    var dateEnv = context.dateEnv, pluginHooks = context.pluginHooks, options = context.options;\n    var defs = eventStore.defs, instances = eventStore.instances;\n    // remove existing recurring instances\n    // TODO: bad. always expand events as a second step\n    instances = filterHash(instances, function (instance) { return !defs[instance.defId].recurringDef; });\n    for (var defId in defs) {\n        var def = defs[defId];\n        if (def.recurringDef) {\n            var duration = def.recurringDef.duration;\n            if (!duration) {\n                duration = def.allDay ?\n                    options.defaultAllDayEventDuration :\n                    options.defaultTimedEventDuration;\n            }\n            var starts = expandRecurringRanges(def, duration, framingRange, dateEnv, pluginHooks.recurringTypes);\n            for (var _i = 0, starts_1 = starts; _i < starts_1.length; _i++) {\n                var start = starts_1[_i];\n                var instance = createEventInstance(defId, {\n                    start: start,\n                    end: dateEnv.add(start, duration),\n                });\n                instances[instance.instanceId] = instance;\n            }\n        }\n    }\n    return { defs: defs, instances: instances };\n}\n/*\nEvent MUST have a recurringDef\n*/\nfunction expandRecurringRanges(eventDef, duration, framingRange, dateEnv, recurringTypes) {\n    var typeDef = recurringTypes[eventDef.recurringDef.typeId];\n    var markers = typeDef.expand(eventDef.recurringDef.typeData, {\n        start: dateEnv.subtract(framingRange.start, duration),\n        end: framingRange.end,\n    }, dateEnv);\n    // the recurrence plugins don't guarantee that all-day events are start-of-day, so we have to\n    if (eventDef.allDay) {\n        markers = markers.map(startOfDay);\n    }\n    return markers;\n}\n\nvar INTERNAL_UNITS = ['years', 'months', 'days', 'milliseconds'];\nvar PARSE_RE = /^(-?)(?:(\\d+)\\.)?(\\d+):(\\d\\d)(?::(\\d\\d)(?:\\.(\\d\\d\\d))?)?/;\n// Parsing and Creation\nfunction createDuration(input, unit) {\n    var _a;\n    if (typeof input === 'string') {\n        return parseString(input);\n    }\n    if (typeof input === 'object' && input) { // non-null object\n        return parseObject(input);\n    }\n    if (typeof input === 'number') {\n        return parseObject((_a = {}, _a[unit || 'milliseconds'] = input, _a));\n    }\n    return null;\n}\nfunction parseString(s) {\n    var m = PARSE_RE.exec(s);\n    if (m) {\n        var sign = m[1] ? -1 : 1;\n        return {\n            years: 0,\n            months: 0,\n            days: sign * (m[2] ? parseInt(m[2], 10) : 0),\n            milliseconds: sign * ((m[3] ? parseInt(m[3], 10) : 0) * 60 * 60 * 1000 + // hours\n                (m[4] ? parseInt(m[4], 10) : 0) * 60 * 1000 + // minutes\n                (m[5] ? parseInt(m[5], 10) : 0) * 1000 + // seconds\n                (m[6] ? parseInt(m[6], 10) : 0) // ms\n            ),\n        };\n    }\n    return null;\n}\nfunction parseObject(obj) {\n    var duration = {\n        years: obj.years || obj.year || 0,\n        months: obj.months || obj.month || 0,\n        days: obj.days || obj.day || 0,\n        milliseconds: (obj.hours || obj.hour || 0) * 60 * 60 * 1000 + // hours\n            (obj.minutes || obj.minute || 0) * 60 * 1000 + // minutes\n            (obj.seconds || obj.second || 0) * 1000 + // seconds\n            (obj.milliseconds || obj.millisecond || obj.ms || 0), // ms\n    };\n    var weeks = obj.weeks || obj.week;\n    if (weeks) {\n        duration.days += weeks * 7;\n        duration.specifiedWeeks = true;\n    }\n    return duration;\n}\n// Equality\nfunction durationsEqual(d0, d1) {\n    return d0.years === d1.years &&\n        d0.months === d1.months &&\n        d0.days === d1.days &&\n        d0.milliseconds === d1.milliseconds;\n}\nfunction asCleanDays(dur) {\n    if (!dur.years && !dur.months && !dur.milliseconds) {\n        return dur.days;\n    }\n    return 0;\n}\n// Simple Math\nfunction addDurations(d0, d1) {\n    return {\n        years: d0.years + d1.years,\n        months: d0.months + d1.months,\n        days: d0.days + d1.days,\n        milliseconds: d0.milliseconds + d1.milliseconds,\n    };\n}\nfunction subtractDurations(d1, d0) {\n    return {\n        years: d1.years - d0.years,\n        months: d1.months - d0.months,\n        days: d1.days - d0.days,\n        milliseconds: d1.milliseconds - d0.milliseconds,\n    };\n}\nfunction multiplyDuration(d, n) {\n    return {\n        years: d.years * n,\n        months: d.months * n,\n        days: d.days * n,\n        milliseconds: d.milliseconds * n,\n    };\n}\n// Conversions\n// \"Rough\" because they are based on average-case Gregorian months/years\nfunction asRoughYears(dur) {\n    return asRoughDays(dur) / 365;\n}\nfunction asRoughMonths(dur) {\n    return asRoughDays(dur) / 30;\n}\nfunction asRoughDays(dur) {\n    return asRoughMs(dur) / 864e5;\n}\nfunction asRoughMinutes(dur) {\n    return asRoughMs(dur) / (1000 * 60);\n}\nfunction asRoughSeconds(dur) {\n    return asRoughMs(dur) / 1000;\n}\nfunction asRoughMs(dur) {\n    return dur.years * (365 * 864e5) +\n        dur.months * (30 * 864e5) +\n        dur.days * 864e5 +\n        dur.milliseconds;\n}\n// Advanced Math\nfunction wholeDivideDurations(numerator, denominator) {\n    var res = null;\n    for (var i = 0; i < INTERNAL_UNITS.length; i += 1) {\n        var unit = INTERNAL_UNITS[i];\n        if (denominator[unit]) {\n            var localRes = numerator[unit] / denominator[unit];\n            if (!isInt(localRes) || (res !== null && res !== localRes)) {\n                return null;\n            }\n            res = localRes;\n        }\n        else if (numerator[unit]) {\n            // needs to divide by something but can't!\n            return null;\n        }\n    }\n    return res;\n}\nfunction greatestDurationDenominator(dur) {\n    var ms = dur.milliseconds;\n    if (ms) {\n        if (ms % 1000 !== 0) {\n            return { unit: 'millisecond', value: ms };\n        }\n        if (ms % (1000 * 60) !== 0) {\n            return { unit: 'second', value: ms / 1000 };\n        }\n        if (ms % (1000 * 60 * 60) !== 0) {\n            return { unit: 'minute', value: ms / (1000 * 60) };\n        }\n        if (ms) {\n            return { unit: 'hour', value: ms / (1000 * 60 * 60) };\n        }\n    }\n    if (dur.days) {\n        if (dur.specifiedWeeks && dur.days % 7 === 0) {\n            return { unit: 'week', value: dur.days / 7 };\n        }\n        return { unit: 'day', value: dur.days };\n    }\n    if (dur.months) {\n        return { unit: 'month', value: dur.months };\n    }\n    if (dur.years) {\n        return { unit: 'year', value: dur.years };\n    }\n    return { unit: 'millisecond', value: 0 };\n}\n\n// timeZoneOffset is in minutes\nfunction buildIsoString(marker, timeZoneOffset, stripZeroTime) {\n    if (stripZeroTime === void 0) { stripZeroTime = false; }\n    var s = marker.toISOString();\n    s = s.replace('.000', '');\n    if (stripZeroTime) {\n        s = s.replace('T00:00:00Z', '');\n    }\n    if (s.length > 10) { // time part wasn't stripped, can add timezone info\n        if (timeZoneOffset == null) {\n            s = s.replace('Z', '');\n        }\n        else if (timeZoneOffset !== 0) {\n            s = s.replace('Z', formatTimeZoneOffset(timeZoneOffset, true));\n        }\n        // otherwise, its UTC-0 and we want to keep the Z\n    }\n    return s;\n}\n// formats the date, but with no time part\n// TODO: somehow merge with buildIsoString and stripZeroTime\n// TODO: rename. omit \"string\"\nfunction formatDayString(marker) {\n    return marker.toISOString().replace(/T.*$/, '');\n}\n// TODO: use Date::toISOString and use everything after the T?\nfunction formatIsoTimeString(marker) {\n    return padStart(marker.getUTCHours(), 2) + ':' +\n        padStart(marker.getUTCMinutes(), 2) + ':' +\n        padStart(marker.getUTCSeconds(), 2);\n}\nfunction formatTimeZoneOffset(minutes, doIso) {\n    if (doIso === void 0) { doIso = false; }\n    var sign = minutes < 0 ? '-' : '+';\n    var abs = Math.abs(minutes);\n    var hours = Math.floor(abs / 60);\n    var mins = Math.round(abs % 60);\n    if (doIso) {\n        return sign + padStart(hours, 2) + \":\" + padStart(mins, 2);\n    }\n    return \"GMT\" + sign + hours + (mins ? \":\" + padStart(mins, 2) : '');\n}\n\n// TODO: new util arrayify?\nfunction removeExact(array, exactVal) {\n    var removeCnt = 0;\n    var i = 0;\n    while (i < array.length) {\n        if (array[i] === exactVal) {\n            array.splice(i, 1);\n            removeCnt += 1;\n        }\n        else {\n            i += 1;\n        }\n    }\n    return removeCnt;\n}\nfunction isArraysEqual(a0, a1, equalityFunc) {\n    if (a0 === a1) {\n        return true;\n    }\n    var len = a0.length;\n    var i;\n    if (len !== a1.length) { // not array? or not same length?\n        return false;\n    }\n    for (i = 0; i < len; i += 1) {\n        if (!(equalityFunc ? equalityFunc(a0[i], a1[i]) : a0[i] === a1[i])) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction memoize(workerFunc, resEquality, teardownFunc) {\n    var currentArgs;\n    var currentRes;\n    return function () {\n        var newArgs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            newArgs[_i] = arguments[_i];\n        }\n        if (!currentArgs) {\n            currentRes = workerFunc.apply(this, newArgs);\n        }\n        else if (!isArraysEqual(currentArgs, newArgs)) {\n            if (teardownFunc) {\n                teardownFunc(currentRes);\n            }\n            var res = workerFunc.apply(this, newArgs);\n            if (!resEquality || !resEquality(res, currentRes)) {\n                currentRes = res;\n            }\n        }\n        currentArgs = newArgs;\n        return currentRes;\n    };\n}\nfunction memoizeObjArg(workerFunc, resEquality, teardownFunc) {\n    var _this = this;\n    var currentArg;\n    var currentRes;\n    return function (newArg) {\n        if (!currentArg) {\n            currentRes = workerFunc.call(_this, newArg);\n        }\n        else if (!isPropsEqual(currentArg, newArg)) {\n            if (teardownFunc) {\n                teardownFunc(currentRes);\n            }\n            var res = workerFunc.call(_this, newArg);\n            if (!resEquality || !resEquality(res, currentRes)) {\n                currentRes = res;\n            }\n        }\n        currentArg = newArg;\n        return currentRes;\n    };\n}\nfunction memoizeArraylike(// used at all?\nworkerFunc, resEquality, teardownFunc) {\n    var _this = this;\n    var currentArgSets = [];\n    var currentResults = [];\n    return function (newArgSets) {\n        var currentLen = currentArgSets.length;\n        var newLen = newArgSets.length;\n        var i = 0;\n        for (; i < currentLen; i += 1) {\n            if (!newArgSets[i]) { // one of the old sets no longer exists\n                if (teardownFunc) {\n                    teardownFunc(currentResults[i]);\n                }\n            }\n            else if (!isArraysEqual(currentArgSets[i], newArgSets[i])) {\n                if (teardownFunc) {\n                    teardownFunc(currentResults[i]);\n                }\n                var res = workerFunc.apply(_this, newArgSets[i]);\n                if (!resEquality || !resEquality(res, currentResults[i])) {\n                    currentResults[i] = res;\n                }\n            }\n        }\n        for (; i < newLen; i += 1) {\n            currentResults[i] = workerFunc.apply(_this, newArgSets[i]);\n        }\n        currentArgSets = newArgSets;\n        currentResults.splice(newLen); // remove excess\n        return currentResults;\n    };\n}\nfunction memoizeHashlike(workerFunc, resEquality, teardownFunc) {\n    var _this = this;\n    var currentArgHash = {};\n    var currentResHash = {};\n    return function (newArgHash) {\n        var newResHash = {};\n        for (var key in newArgHash) {\n            if (!currentResHash[key]) {\n                newResHash[key] = workerFunc.apply(_this, newArgHash[key]);\n            }\n            else if (!isArraysEqual(currentArgHash[key], newArgHash[key])) {\n                if (teardownFunc) {\n                    teardownFunc(currentResHash[key]);\n                }\n                var res = workerFunc.apply(_this, newArgHash[key]);\n                newResHash[key] = (resEquality && resEquality(res, currentResHash[key]))\n                    ? currentResHash[key]\n                    : res;\n            }\n            else {\n                newResHash[key] = currentResHash[key];\n            }\n        }\n        currentArgHash = newArgHash;\n        currentResHash = newResHash;\n        return newResHash;\n    };\n}\n\nvar EXTENDED_SETTINGS_AND_SEVERITIES = {\n    week: 3,\n    separator: 0,\n    omitZeroMinute: 0,\n    meridiem: 0,\n    omitCommas: 0,\n};\nvar STANDARD_DATE_PROP_SEVERITIES = {\n    timeZoneName: 7,\n    era: 6,\n    year: 5,\n    month: 4,\n    day: 2,\n    weekday: 2,\n    hour: 1,\n    minute: 1,\n    second: 1,\n};\nvar MERIDIEM_RE = /\\s*([ap])\\.?m\\.?/i; // eats up leading spaces too\nvar COMMA_RE = /,/g; // we need re for globalness\nvar MULTI_SPACE_RE = /\\s+/g;\nvar LTR_RE = /\\u200e/g; // control character\nvar UTC_RE = /UTC|GMT/;\nvar NativeFormatter = /** @class */ (function () {\n    function NativeFormatter(formatSettings) {\n        var standardDateProps = {};\n        var extendedSettings = {};\n        var severity = 0;\n        for (var name_1 in formatSettings) {\n            if (name_1 in EXTENDED_SETTINGS_AND_SEVERITIES) {\n                extendedSettings[name_1] = formatSettings[name_1];\n                severity = Math.max(EXTENDED_SETTINGS_AND_SEVERITIES[name_1], severity);\n            }\n            else {\n                standardDateProps[name_1] = formatSettings[name_1];\n                if (name_1 in STANDARD_DATE_PROP_SEVERITIES) { // TODO: what about hour12? no severity\n                    severity = Math.max(STANDARD_DATE_PROP_SEVERITIES[name_1], severity);\n                }\n            }\n        }\n        this.standardDateProps = standardDateProps;\n        this.extendedSettings = extendedSettings;\n        this.severity = severity;\n        this.buildFormattingFunc = memoize(buildFormattingFunc);\n    }\n    NativeFormatter.prototype.format = function (date, context) {\n        return this.buildFormattingFunc(this.standardDateProps, this.extendedSettings, context)(date);\n    };\n    NativeFormatter.prototype.formatRange = function (start, end, context, betterDefaultSeparator) {\n        var _a = this, standardDateProps = _a.standardDateProps, extendedSettings = _a.extendedSettings;\n        var diffSeverity = computeMarkerDiffSeverity(start.marker, end.marker, context.calendarSystem);\n        if (!diffSeverity) {\n            return this.format(start, context);\n        }\n        var biggestUnitForPartial = diffSeverity;\n        if (biggestUnitForPartial > 1 && // the two dates are different in a way that's larger scale than time\n            (standardDateProps.year === 'numeric' || standardDateProps.year === '2-digit') &&\n            (standardDateProps.month === 'numeric' || standardDateProps.month === '2-digit') &&\n            (standardDateProps.day === 'numeric' || standardDateProps.day === '2-digit')) {\n            biggestUnitForPartial = 1; // make it look like the dates are only different in terms of time\n        }\n        var full0 = this.format(start, context);\n        var full1 = this.format(end, context);\n        if (full0 === full1) {\n            return full0;\n        }\n        var partialDateProps = computePartialFormattingOptions(standardDateProps, biggestUnitForPartial);\n        var partialFormattingFunc = buildFormattingFunc(partialDateProps, extendedSettings, context);\n        var partial0 = partialFormattingFunc(start);\n        var partial1 = partialFormattingFunc(end);\n        var insertion = findCommonInsertion(full0, partial0, full1, partial1);\n        var separator = extendedSettings.separator || betterDefaultSeparator || context.defaultSeparator || '';\n        if (insertion) {\n            return insertion.before + partial0 + separator + partial1 + insertion.after;\n        }\n        return full0 + separator + full1;\n    };\n    NativeFormatter.prototype.getLargestUnit = function () {\n        switch (this.severity) {\n            case 7:\n            case 6:\n            case 5:\n                return 'year';\n            case 4:\n                return 'month';\n            case 3:\n                return 'week';\n            case 2:\n                return 'day';\n            default:\n                return 'time'; // really?\n        }\n    };\n    return NativeFormatter;\n}());\nfunction buildFormattingFunc(standardDateProps, extendedSettings, context) {\n    var standardDatePropCnt = Object.keys(standardDateProps).length;\n    if (standardDatePropCnt === 1 && standardDateProps.timeZoneName === 'short') {\n        return function (date) { return (formatTimeZoneOffset(date.timeZoneOffset)); };\n    }\n    if (standardDatePropCnt === 0 && extendedSettings.week) {\n        return function (date) { return (formatWeekNumber(context.computeWeekNumber(date.marker), context.weekText, context.weekTextLong, context.locale, extendedSettings.week)); };\n    }\n    return buildNativeFormattingFunc(standardDateProps, extendedSettings, context);\n}\nfunction buildNativeFormattingFunc(standardDateProps, extendedSettings, context) {\n    standardDateProps = __assign({}, standardDateProps); // copy\n    extendedSettings = __assign({}, extendedSettings); // copy\n    sanitizeSettings(standardDateProps, extendedSettings);\n    standardDateProps.timeZone = 'UTC'; // we leverage the only guaranteed timeZone for our UTC markers\n    var normalFormat = new Intl.DateTimeFormat(context.locale.codes, standardDateProps);\n    var zeroFormat; // needed?\n    if (extendedSettings.omitZeroMinute) {\n        var zeroProps = __assign({}, standardDateProps);\n        delete zeroProps.minute; // seconds and ms were already considered in sanitizeSettings\n        zeroFormat = new Intl.DateTimeFormat(context.locale.codes, zeroProps);\n    }\n    return function (date) {\n        var marker = date.marker;\n        var format;\n        if (zeroFormat && !marker.getUTCMinutes()) {\n            format = zeroFormat;\n        }\n        else {\n            format = normalFormat;\n        }\n        var s = format.format(marker);\n        return postProcess(s, date, standardDateProps, extendedSettings, context);\n    };\n}\nfunction sanitizeSettings(standardDateProps, extendedSettings) {\n    // deal with a browser inconsistency where formatting the timezone\n    // requires that the hour/minute be present.\n    if (standardDateProps.timeZoneName) {\n        if (!standardDateProps.hour) {\n            standardDateProps.hour = '2-digit';\n        }\n        if (!standardDateProps.minute) {\n            standardDateProps.minute = '2-digit';\n        }\n    }\n    // only support short timezone names\n    if (standardDateProps.timeZoneName === 'long') {\n        standardDateProps.timeZoneName = 'short';\n    }\n    // if requesting to display seconds, MUST display minutes\n    if (extendedSettings.omitZeroMinute && (standardDateProps.second || standardDateProps.millisecond)) {\n        delete extendedSettings.omitZeroMinute;\n    }\n}\nfunction postProcess(s, date, standardDateProps, extendedSettings, context) {\n    s = s.replace(LTR_RE, ''); // remove left-to-right control chars. do first. good for other regexes\n    if (standardDateProps.timeZoneName === 'short') {\n        s = injectTzoStr(s, (context.timeZone === 'UTC' || date.timeZoneOffset == null) ?\n            'UTC' : // important to normalize for IE, which does \"GMT\"\n            formatTimeZoneOffset(date.timeZoneOffset));\n    }\n    if (extendedSettings.omitCommas) {\n        s = s.replace(COMMA_RE, '').trim();\n    }\n    if (extendedSettings.omitZeroMinute) {\n        s = s.replace(':00', ''); // zeroFormat doesn't always achieve this\n    }\n    // ^ do anything that might create adjacent spaces before this point,\n    // because MERIDIEM_RE likes to eat up loading spaces\n    if (extendedSettings.meridiem === false) {\n        s = s.replace(MERIDIEM_RE, '').trim();\n    }\n    else if (extendedSettings.meridiem === 'narrow') { // a/p\n        s = s.replace(MERIDIEM_RE, function (m0, m1) { return m1.toLocaleLowerCase(); });\n    }\n    else if (extendedSettings.meridiem === 'short') { // am/pm\n        s = s.replace(MERIDIEM_RE, function (m0, m1) { return m1.toLocaleLowerCase() + \"m\"; });\n    }\n    else if (extendedSettings.meridiem === 'lowercase') { // other meridiem transformers already converted to lowercase\n        s = s.replace(MERIDIEM_RE, function (m0) { return m0.toLocaleLowerCase(); });\n    }\n    s = s.replace(MULTI_SPACE_RE, ' ');\n    s = s.trim();\n    return s;\n}\nfunction injectTzoStr(s, tzoStr) {\n    var replaced = false;\n    s = s.replace(UTC_RE, function () {\n        replaced = true;\n        return tzoStr;\n    });\n    // IE11 doesn't include UTC/GMT in the original string, so append to end\n    if (!replaced) {\n        s += \" \" + tzoStr;\n    }\n    return s;\n}\nfunction formatWeekNumber(num, weekText, weekTextLong, locale, display) {\n    var parts = [];\n    if (display === 'long') {\n        parts.push(weekTextLong);\n    }\n    else if (display === 'short' || display === 'narrow') {\n        parts.push(weekText);\n    }\n    if (display === 'long' || display === 'short') {\n        parts.push(' ');\n    }\n    parts.push(locale.simpleNumberFormat.format(num));\n    if (locale.options.direction === 'rtl') { // TODO: use control characters instead?\n        parts.reverse();\n    }\n    return parts.join('');\n}\n// Range Formatting Utils\n// 0 = exactly the same\n// 1 = different by time\n// and bigger\nfunction computeMarkerDiffSeverity(d0, d1, ca) {\n    if (ca.getMarkerYear(d0) !== ca.getMarkerYear(d1)) {\n        return 5;\n    }\n    if (ca.getMarkerMonth(d0) !== ca.getMarkerMonth(d1)) {\n        return 4;\n    }\n    if (ca.getMarkerDay(d0) !== ca.getMarkerDay(d1)) {\n        return 2;\n    }\n    if (timeAsMs(d0) !== timeAsMs(d1)) {\n        return 1;\n    }\n    return 0;\n}\nfunction computePartialFormattingOptions(options, biggestUnit) {\n    var partialOptions = {};\n    for (var name_2 in options) {\n        if (!(name_2 in STANDARD_DATE_PROP_SEVERITIES) || // not a date part prop (like timeZone)\n            STANDARD_DATE_PROP_SEVERITIES[name_2] <= biggestUnit) {\n            partialOptions[name_2] = options[name_2];\n        }\n    }\n    return partialOptions;\n}\nfunction findCommonInsertion(full0, partial0, full1, partial1) {\n    var i0 = 0;\n    while (i0 < full0.length) {\n        var found0 = full0.indexOf(partial0, i0);\n        if (found0 === -1) {\n            break;\n        }\n        var before0 = full0.substr(0, found0);\n        i0 = found0 + partial0.length;\n        var after0 = full0.substr(i0);\n        var i1 = 0;\n        while (i1 < full1.length) {\n            var found1 = full1.indexOf(partial1, i1);\n            if (found1 === -1) {\n                break;\n            }\n            var before1 = full1.substr(0, found1);\n            i1 = found1 + partial1.length;\n            var after1 = full1.substr(i1);\n            if (before0 === before1 && after0 === after1) {\n                return {\n                    before: before0,\n                    after: after0,\n                };\n            }\n        }\n    }\n    return null;\n}\n\nfunction expandZonedMarker(dateInfo, calendarSystem) {\n    var a = calendarSystem.markerToArray(dateInfo.marker);\n    return {\n        marker: dateInfo.marker,\n        timeZoneOffset: dateInfo.timeZoneOffset,\n        array: a,\n        year: a[0],\n        month: a[1],\n        day: a[2],\n        hour: a[3],\n        minute: a[4],\n        second: a[5],\n        millisecond: a[6],\n    };\n}\n\nfunction createVerboseFormattingArg(start, end, context, betterDefaultSeparator) {\n    var startInfo = expandZonedMarker(start, context.calendarSystem);\n    var endInfo = end ? expandZonedMarker(end, context.calendarSystem) : null;\n    return {\n        date: startInfo,\n        start: startInfo,\n        end: endInfo,\n        timeZone: context.timeZone,\n        localeCodes: context.locale.codes,\n        defaultSeparator: betterDefaultSeparator || context.defaultSeparator,\n    };\n}\n\n/*\nTODO: fix the terminology of \"formatter\" vs \"formatting func\"\n*/\n/*\nAt the time of instantiation, this object does not know which cmd-formatting system it will use.\nIt receives this at the time of formatting, as a setting.\n*/\nvar CmdFormatter = /** @class */ (function () {\n    function CmdFormatter(cmdStr) {\n        this.cmdStr = cmdStr;\n    }\n    CmdFormatter.prototype.format = function (date, context, betterDefaultSeparator) {\n        return context.cmdFormatter(this.cmdStr, createVerboseFormattingArg(date, null, context, betterDefaultSeparator));\n    };\n    CmdFormatter.prototype.formatRange = function (start, end, context, betterDefaultSeparator) {\n        return context.cmdFormatter(this.cmdStr, createVerboseFormattingArg(start, end, context, betterDefaultSeparator));\n    };\n    return CmdFormatter;\n}());\n\nvar FuncFormatter = /** @class */ (function () {\n    function FuncFormatter(func) {\n        this.func = func;\n    }\n    FuncFormatter.prototype.format = function (date, context, betterDefaultSeparator) {\n        return this.func(createVerboseFormattingArg(date, null, context, betterDefaultSeparator));\n    };\n    FuncFormatter.prototype.formatRange = function (start, end, context, betterDefaultSeparator) {\n        return this.func(createVerboseFormattingArg(start, end, context, betterDefaultSeparator));\n    };\n    return FuncFormatter;\n}());\n\nfunction createFormatter(input) {\n    if (typeof input === 'object' && input) { // non-null object\n        return new NativeFormatter(input);\n    }\n    if (typeof input === 'string') {\n        return new CmdFormatter(input);\n    }\n    if (typeof input === 'function') {\n        return new FuncFormatter(input);\n    }\n    return null;\n}\n\n// base options\n// ------------\nvar BASE_OPTION_REFINERS = {\n    navLinkDayClick: identity,\n    navLinkWeekClick: identity,\n    duration: createDuration,\n    bootstrapFontAwesome: identity,\n    buttonIcons: identity,\n    customButtons: identity,\n    defaultAllDayEventDuration: createDuration,\n    defaultTimedEventDuration: createDuration,\n    nextDayThreshold: createDuration,\n    scrollTime: createDuration,\n    scrollTimeReset: Boolean,\n    slotMinTime: createDuration,\n    slotMaxTime: createDuration,\n    dayPopoverFormat: createFormatter,\n    slotDuration: createDuration,\n    snapDuration: createDuration,\n    headerToolbar: identity,\n    footerToolbar: identity,\n    defaultRangeSeparator: String,\n    titleRangeSeparator: String,\n    forceEventDuration: Boolean,\n    dayHeaders: Boolean,\n    dayHeaderFormat: createFormatter,\n    dayHeaderClassNames: identity,\n    dayHeaderContent: identity,\n    dayHeaderDidMount: identity,\n    dayHeaderWillUnmount: identity,\n    dayCellClassNames: identity,\n    dayCellContent: identity,\n    dayCellDidMount: identity,\n    dayCellWillUnmount: identity,\n    initialView: String,\n    aspectRatio: Number,\n    weekends: Boolean,\n    weekNumberCalculation: identity,\n    weekNumbers: Boolean,\n    weekNumberClassNames: identity,\n    weekNumberContent: identity,\n    weekNumberDidMount: identity,\n    weekNumberWillUnmount: identity,\n    editable: Boolean,\n    viewClassNames: identity,\n    viewDidMount: identity,\n    viewWillUnmount: identity,\n    nowIndicator: Boolean,\n    nowIndicatorClassNames: identity,\n    nowIndicatorContent: identity,\n    nowIndicatorDidMount: identity,\n    nowIndicatorWillUnmount: identity,\n    showNonCurrentDates: Boolean,\n    lazyFetching: Boolean,\n    startParam: String,\n    endParam: String,\n    timeZoneParam: String,\n    timeZone: String,\n    locales: identity,\n    locale: identity,\n    themeSystem: String,\n    dragRevertDuration: Number,\n    dragScroll: Boolean,\n    allDayMaintainDuration: Boolean,\n    unselectAuto: Boolean,\n    dropAccept: identity,\n    eventOrder: parseFieldSpecs,\n    eventOrderStrict: Boolean,\n    handleWindowResize: Boolean,\n    windowResizeDelay: Number,\n    longPressDelay: Number,\n    eventDragMinDistance: Number,\n    expandRows: Boolean,\n    height: identity,\n    contentHeight: identity,\n    direction: String,\n    weekNumberFormat: createFormatter,\n    eventResizableFromStart: Boolean,\n    displayEventTime: Boolean,\n    displayEventEnd: Boolean,\n    weekText: String,\n    weekTextLong: String,\n    progressiveEventRendering: Boolean,\n    businessHours: identity,\n    initialDate: identity,\n    now: identity,\n    eventDataTransform: identity,\n    stickyHeaderDates: identity,\n    stickyFooterScrollbar: identity,\n    viewHeight: identity,\n    defaultAllDay: Boolean,\n    eventSourceFailure: identity,\n    eventSourceSuccess: identity,\n    eventDisplay: String,\n    eventStartEditable: Boolean,\n    eventDurationEditable: Boolean,\n    eventOverlap: identity,\n    eventConstraint: identity,\n    eventAllow: identity,\n    eventBackgroundColor: String,\n    eventBorderColor: String,\n    eventTextColor: String,\n    eventColor: String,\n    eventClassNames: identity,\n    eventContent: identity,\n    eventDidMount: identity,\n    eventWillUnmount: identity,\n    selectConstraint: identity,\n    selectOverlap: identity,\n    selectAllow: identity,\n    droppable: Boolean,\n    unselectCancel: String,\n    slotLabelFormat: identity,\n    slotLaneClassNames: identity,\n    slotLaneContent: identity,\n    slotLaneDidMount: identity,\n    slotLaneWillUnmount: identity,\n    slotLabelClassNames: identity,\n    slotLabelContent: identity,\n    slotLabelDidMount: identity,\n    slotLabelWillUnmount: identity,\n    dayMaxEvents: identity,\n    dayMaxEventRows: identity,\n    dayMinWidth: Number,\n    slotLabelInterval: createDuration,\n    allDayText: String,\n    allDayClassNames: identity,\n    allDayContent: identity,\n    allDayDidMount: identity,\n    allDayWillUnmount: identity,\n    slotMinWidth: Number,\n    navLinks: Boolean,\n    eventTimeFormat: createFormatter,\n    rerenderDelay: Number,\n    moreLinkText: identity,\n    moreLinkHint: identity,\n    selectMinDistance: Number,\n    selectable: Boolean,\n    selectLongPressDelay: Number,\n    eventLongPressDelay: Number,\n    selectMirror: Boolean,\n    eventMaxStack: Number,\n    eventMinHeight: Number,\n    eventMinWidth: Number,\n    eventShortHeight: Number,\n    slotEventOverlap: Boolean,\n    plugins: identity,\n    firstDay: Number,\n    dayCount: Number,\n    dateAlignment: String,\n    dateIncrement: createDuration,\n    hiddenDays: identity,\n    monthMode: Boolean,\n    fixedWeekCount: Boolean,\n    validRange: identity,\n    visibleRange: identity,\n    titleFormat: identity,\n    eventInteractive: Boolean,\n    // only used by list-view, but languages define the value, so we need it in base options\n    noEventsText: String,\n    viewHint: identity,\n    navLinkHint: identity,\n    closeHint: String,\n    timeHint: String,\n    eventHint: String,\n    moreLinkClick: identity,\n    moreLinkClassNames: identity,\n    moreLinkContent: identity,\n    moreLinkDidMount: identity,\n    moreLinkWillUnmount: identity,\n};\n// do NOT give a type here. need `typeof BASE_OPTION_DEFAULTS` to give real results.\n// raw values.\nvar BASE_OPTION_DEFAULTS = {\n    eventDisplay: 'auto',\n    defaultRangeSeparator: ' - ',\n    titleRangeSeparator: ' \\u2013 ',\n    defaultTimedEventDuration: '01:00:00',\n    defaultAllDayEventDuration: { day: 1 },\n    forceEventDuration: false,\n    nextDayThreshold: '00:00:00',\n    dayHeaders: true,\n    initialView: '',\n    aspectRatio: 1.35,\n    headerToolbar: {\n        start: 'title',\n        center: '',\n        end: 'today prev,next',\n    },\n    weekends: true,\n    weekNumbers: false,\n    weekNumberCalculation: 'local',\n    editable: false,\n    nowIndicator: false,\n    scrollTime: '06:00:00',\n    scrollTimeReset: true,\n    slotMinTime: '00:00:00',\n    slotMaxTime: '24:00:00',\n    showNonCurrentDates: true,\n    lazyFetching: true,\n    startParam: 'start',\n    endParam: 'end',\n    timeZoneParam: 'timeZone',\n    timeZone: 'local',\n    locales: [],\n    locale: '',\n    themeSystem: 'standard',\n    dragRevertDuration: 500,\n    dragScroll: true,\n    allDayMaintainDuration: false,\n    unselectAuto: true,\n    dropAccept: '*',\n    eventOrder: 'start,-duration,allDay,title',\n    dayPopoverFormat: { month: 'long', day: 'numeric', year: 'numeric' },\n    handleWindowResize: true,\n    windowResizeDelay: 100,\n    longPressDelay: 1000,\n    eventDragMinDistance: 5,\n    expandRows: false,\n    navLinks: false,\n    selectable: false,\n    eventMinHeight: 15,\n    eventMinWidth: 30,\n    eventShortHeight: 30,\n};\n// calendar listeners\n// ------------------\nvar CALENDAR_LISTENER_REFINERS = {\n    datesSet: identity,\n    eventsSet: identity,\n    eventAdd: identity,\n    eventChange: identity,\n    eventRemove: identity,\n    windowResize: identity,\n    eventClick: identity,\n    eventMouseEnter: identity,\n    eventMouseLeave: identity,\n    select: identity,\n    unselect: identity,\n    loading: identity,\n    // internal\n    _unmount: identity,\n    _beforeprint: identity,\n    _afterprint: identity,\n    _noEventDrop: identity,\n    _noEventResize: identity,\n    _resize: identity,\n    _scrollRequest: identity,\n};\n// calendar-specific options\n// -------------------------\nvar CALENDAR_OPTION_REFINERS = {\n    buttonText: identity,\n    buttonHints: identity,\n    views: identity,\n    plugins: identity,\n    initialEvents: identity,\n    events: identity,\n    eventSources: identity,\n};\nvar COMPLEX_OPTION_COMPARATORS = {\n    headerToolbar: isMaybeObjectsEqual,\n    footerToolbar: isMaybeObjectsEqual,\n    buttonText: isMaybeObjectsEqual,\n    buttonHints: isMaybeObjectsEqual,\n    buttonIcons: isMaybeObjectsEqual,\n    dateIncrement: isMaybeObjectsEqual,\n};\nfunction isMaybeObjectsEqual(a, b) {\n    if (typeof a === 'object' && typeof b === 'object' && a && b) { // both non-null objects\n        return isPropsEqual(a, b);\n    }\n    return a === b;\n}\n// view-specific options\n// ---------------------\nvar VIEW_OPTION_REFINERS = {\n    type: String,\n    component: identity,\n    buttonText: String,\n    buttonTextKey: String,\n    dateProfileGeneratorClass: identity,\n    usesMinMaxTime: Boolean,\n    classNames: identity,\n    content: identity,\n    didMount: identity,\n    willUnmount: identity,\n};\n// util funcs\n// ----------------------------------------------------------------------------------------------------\nfunction mergeRawOptions(optionSets) {\n    return mergeProps(optionSets, COMPLEX_OPTION_COMPARATORS);\n}\nfunction refineProps(input, refiners) {\n    var refined = {};\n    var extra = {};\n    for (var propName in refiners) {\n        if (propName in input) {\n            refined[propName] = refiners[propName](input[propName]);\n        }\n    }\n    for (var propName in input) {\n        if (!(propName in refiners)) {\n            extra[propName] = input[propName];\n        }\n    }\n    return { refined: refined, extra: extra };\n}\nfunction identity(raw) {\n    return raw;\n}\n\nfunction parseEvents(rawEvents, eventSource, context, allowOpenRange) {\n    var eventStore = createEmptyEventStore();\n    var eventRefiners = buildEventRefiners(context);\n    for (var _i = 0, rawEvents_1 = rawEvents; _i < rawEvents_1.length; _i++) {\n        var rawEvent = rawEvents_1[_i];\n        var tuple = parseEvent(rawEvent, eventSource, context, allowOpenRange, eventRefiners);\n        if (tuple) {\n            eventTupleToStore(tuple, eventStore);\n        }\n    }\n    return eventStore;\n}\nfunction eventTupleToStore(tuple, eventStore) {\n    if (eventStore === void 0) { eventStore = createEmptyEventStore(); }\n    eventStore.defs[tuple.def.defId] = tuple.def;\n    if (tuple.instance) {\n        eventStore.instances[tuple.instance.instanceId] = tuple.instance;\n    }\n    return eventStore;\n}\n// retrieves events that have the same groupId as the instance specified by `instanceId`\n// or they are the same as the instance.\n// why might instanceId not be in the store? an event from another calendar?\nfunction getRelevantEvents(eventStore, instanceId) {\n    var instance = eventStore.instances[instanceId];\n    if (instance) {\n        var def_1 = eventStore.defs[instance.defId];\n        // get events/instances with same group\n        var newStore = filterEventStoreDefs(eventStore, function (lookDef) { return isEventDefsGrouped(def_1, lookDef); });\n        // add the original\n        // TODO: wish we could use eventTupleToStore or something like it\n        newStore.defs[def_1.defId] = def_1;\n        newStore.instances[instance.instanceId] = instance;\n        return newStore;\n    }\n    return createEmptyEventStore();\n}\nfunction isEventDefsGrouped(def0, def1) {\n    return Boolean(def0.groupId && def0.groupId === def1.groupId);\n}\nfunction createEmptyEventStore() {\n    return { defs: {}, instances: {} };\n}\nfunction mergeEventStores(store0, store1) {\n    return {\n        defs: __assign(__assign({}, store0.defs), store1.defs),\n        instances: __assign(__assign({}, store0.instances), store1.instances),\n    };\n}\nfunction filterEventStoreDefs(eventStore, filterFunc) {\n    var defs = filterHash(eventStore.defs, filterFunc);\n    var instances = filterHash(eventStore.instances, function (instance) { return (defs[instance.defId] // still exists?\n    ); });\n    return { defs: defs, instances: instances };\n}\nfunction excludeSubEventStore(master, sub) {\n    var defs = master.defs, instances = master.instances;\n    var filteredDefs = {};\n    var filteredInstances = {};\n    for (var defId in defs) {\n        if (!sub.defs[defId]) { // not explicitly excluded\n            filteredDefs[defId] = defs[defId];\n        }\n    }\n    for (var instanceId in instances) {\n        if (!sub.instances[instanceId] && // not explicitly excluded\n            filteredDefs[instances[instanceId].defId] // def wasn't filtered away\n        ) {\n            filteredInstances[instanceId] = instances[instanceId];\n        }\n    }\n    return {\n        defs: filteredDefs,\n        instances: filteredInstances,\n    };\n}\n\nfunction normalizeConstraint(input, context) {\n    if (Array.isArray(input)) {\n        return parseEvents(input, null, context, true); // allowOpenRange=true\n    }\n    if (typeof input === 'object' && input) { // non-null object\n        return parseEvents([input], null, context, true); // allowOpenRange=true\n    }\n    if (input != null) {\n        return String(input);\n    }\n    return null;\n}\n\nfunction parseClassNames(raw) {\n    if (Array.isArray(raw)) {\n        return raw;\n    }\n    if (typeof raw === 'string') {\n        return raw.split(/\\s+/);\n    }\n    return [];\n}\n\n// TODO: better called \"EventSettings\" or \"EventConfig\"\n// TODO: move this file into structs\n// TODO: separate constraint/overlap/allow, because selection uses only that, not other props\nvar EVENT_UI_REFINERS = {\n    display: String,\n    editable: Boolean,\n    startEditable: Boolean,\n    durationEditable: Boolean,\n    constraint: identity,\n    overlap: identity,\n    allow: identity,\n    className: parseClassNames,\n    classNames: parseClassNames,\n    color: String,\n    backgroundColor: String,\n    borderColor: String,\n    textColor: String,\n};\nvar EMPTY_EVENT_UI = {\n    display: null,\n    startEditable: null,\n    durationEditable: null,\n    constraints: [],\n    overlap: null,\n    allows: [],\n    backgroundColor: '',\n    borderColor: '',\n    textColor: '',\n    classNames: [],\n};\nfunction createEventUi(refined, context) {\n    var constraint = normalizeConstraint(refined.constraint, context);\n    return {\n        display: refined.display || null,\n        startEditable: refined.startEditable != null ? refined.startEditable : refined.editable,\n        durationEditable: refined.durationEditable != null ? refined.durationEditable : refined.editable,\n        constraints: constraint != null ? [constraint] : [],\n        overlap: refined.overlap != null ? refined.overlap : null,\n        allows: refined.allow != null ? [refined.allow] : [],\n        backgroundColor: refined.backgroundColor || refined.color || '',\n        borderColor: refined.borderColor || refined.color || '',\n        textColor: refined.textColor || '',\n        classNames: (refined.className || []).concat(refined.classNames || []), // join singular and plural\n    };\n}\n// TODO: prevent against problems with <2 args!\nfunction combineEventUis(uis) {\n    return uis.reduce(combineTwoEventUis, EMPTY_EVENT_UI);\n}\nfunction combineTwoEventUis(item0, item1) {\n    return {\n        display: item1.display != null ? item1.display : item0.display,\n        startEditable: item1.startEditable != null ? item1.startEditable : item0.startEditable,\n        durationEditable: item1.durationEditable != null ? item1.durationEditable : item0.durationEditable,\n        constraints: item0.constraints.concat(item1.constraints),\n        overlap: typeof item1.overlap === 'boolean' ? item1.overlap : item0.overlap,\n        allows: item0.allows.concat(item1.allows),\n        backgroundColor: item1.backgroundColor || item0.backgroundColor,\n        borderColor: item1.borderColor || item0.borderColor,\n        textColor: item1.textColor || item0.textColor,\n        classNames: item0.classNames.concat(item1.classNames),\n    };\n}\n\nvar EVENT_NON_DATE_REFINERS = {\n    id: String,\n    groupId: String,\n    title: String,\n    url: String,\n    interactive: Boolean,\n};\nvar EVENT_DATE_REFINERS = {\n    start: identity,\n    end: identity,\n    date: identity,\n    allDay: Boolean,\n};\nvar EVENT_REFINERS = __assign(__assign(__assign({}, EVENT_NON_DATE_REFINERS), EVENT_DATE_REFINERS), { extendedProps: identity });\nfunction parseEvent(raw, eventSource, context, allowOpenRange, refiners) {\n    if (refiners === void 0) { refiners = buildEventRefiners(context); }\n    var _a = refineEventDef(raw, context, refiners), refined = _a.refined, extra = _a.extra;\n    var defaultAllDay = computeIsDefaultAllDay(eventSource, context);\n    var recurringRes = parseRecurring(refined, defaultAllDay, context.dateEnv, context.pluginHooks.recurringTypes);\n    if (recurringRes) {\n        var def = parseEventDef(refined, extra, eventSource ? eventSource.sourceId : '', recurringRes.allDay, Boolean(recurringRes.duration), context);\n        def.recurringDef = {\n            typeId: recurringRes.typeId,\n            typeData: recurringRes.typeData,\n            duration: recurringRes.duration,\n        };\n        return { def: def, instance: null };\n    }\n    var singleRes = parseSingle(refined, defaultAllDay, context, allowOpenRange);\n    if (singleRes) {\n        var def = parseEventDef(refined, extra, eventSource ? eventSource.sourceId : '', singleRes.allDay, singleRes.hasEnd, context);\n        var instance = createEventInstance(def.defId, singleRes.range, singleRes.forcedStartTzo, singleRes.forcedEndTzo);\n        return { def: def, instance: instance };\n    }\n    return null;\n}\nfunction refineEventDef(raw, context, refiners) {\n    if (refiners === void 0) { refiners = buildEventRefiners(context); }\n    return refineProps(raw, refiners);\n}\nfunction buildEventRefiners(context) {\n    return __assign(__assign(__assign({}, EVENT_UI_REFINERS), EVENT_REFINERS), context.pluginHooks.eventRefiners);\n}\n/*\nWill NOT populate extendedProps with the leftover properties.\nWill NOT populate date-related props.\n*/\nfunction parseEventDef(refined, extra, sourceId, allDay, hasEnd, context) {\n    var def = {\n        title: refined.title || '',\n        groupId: refined.groupId || '',\n        publicId: refined.id || '',\n        url: refined.url || '',\n        recurringDef: null,\n        defId: guid(),\n        sourceId: sourceId,\n        allDay: allDay,\n        hasEnd: hasEnd,\n        interactive: refined.interactive,\n        ui: createEventUi(refined, context),\n        extendedProps: __assign(__assign({}, (refined.extendedProps || {})), extra),\n    };\n    for (var _i = 0, _a = context.pluginHooks.eventDefMemberAdders; _i < _a.length; _i++) {\n        var memberAdder = _a[_i];\n        __assign(def, memberAdder(refined));\n    }\n    // help out EventApi from having user modify props\n    Object.freeze(def.ui.classNames);\n    Object.freeze(def.extendedProps);\n    return def;\n}\nfunction parseSingle(refined, defaultAllDay, context, allowOpenRange) {\n    var allDay = refined.allDay;\n    var startMeta;\n    var startMarker = null;\n    var hasEnd = false;\n    var endMeta;\n    var endMarker = null;\n    var startInput = refined.start != null ? refined.start : refined.date;\n    startMeta = context.dateEnv.createMarkerMeta(startInput);\n    if (startMeta) {\n        startMarker = startMeta.marker;\n    }\n    else if (!allowOpenRange) {\n        return null;\n    }\n    if (refined.end != null) {\n        endMeta = context.dateEnv.createMarkerMeta(refined.end);\n    }\n    if (allDay == null) {\n        if (defaultAllDay != null) {\n            allDay = defaultAllDay;\n        }\n        else {\n            // fall back to the date props LAST\n            allDay = (!startMeta || startMeta.isTimeUnspecified) &&\n                (!endMeta || endMeta.isTimeUnspecified);\n        }\n    }\n    if (allDay && startMarker) {\n        startMarker = startOfDay(startMarker);\n    }\n    if (endMeta) {\n        endMarker = endMeta.marker;\n        if (allDay) {\n            endMarker = startOfDay(endMarker);\n        }\n        if (startMarker && endMarker <= startMarker) {\n            endMarker = null;\n        }\n    }\n    if (endMarker) {\n        hasEnd = true;\n    }\n    else if (!allowOpenRange) {\n        hasEnd = context.options.forceEventDuration || false;\n        endMarker = context.dateEnv.add(startMarker, allDay ?\n            context.options.defaultAllDayEventDuration :\n            context.options.defaultTimedEventDuration);\n    }\n    return {\n        allDay: allDay,\n        hasEnd: hasEnd,\n        range: { start: startMarker, end: endMarker },\n        forcedStartTzo: startMeta ? startMeta.forcedTzo : null,\n        forcedEndTzo: endMeta ? endMeta.forcedTzo : null,\n    };\n}\nfunction computeIsDefaultAllDay(eventSource, context) {\n    var res = null;\n    if (eventSource) {\n        res = eventSource.defaultAllDay;\n    }\n    if (res == null) {\n        res = context.options.defaultAllDay;\n    }\n    return res;\n}\n\n/* Date stuff that doesn't belong in datelib core\n----------------------------------------------------------------------------------------------------------------------*/\n// given a timed range, computes an all-day range that has the same exact duration,\n// but whose start time is aligned with the start of the day.\nfunction computeAlignedDayRange(timedRange) {\n    var dayCnt = Math.floor(diffDays(timedRange.start, timedRange.end)) || 1;\n    var start = startOfDay(timedRange.start);\n    var end = addDays(start, dayCnt);\n    return { start: start, end: end };\n}\n// given a timed range, computes an all-day range based on how for the end date bleeds into the next day\n// TODO: give nextDayThreshold a default arg\nfunction computeVisibleDayRange(timedRange, nextDayThreshold) {\n    if (nextDayThreshold === void 0) { nextDayThreshold = createDuration(0); }\n    var startDay = null;\n    var endDay = null;\n    if (timedRange.end) {\n        endDay = startOfDay(timedRange.end);\n        var endTimeMS = timedRange.end.valueOf() - endDay.valueOf(); // # of milliseconds into `endDay`\n        // If the end time is actually inclusively part of the next day and is equal to or\n        // beyond the next day threshold, adjust the end to be the exclusive end of `endDay`.\n        // Otherwise, leaving it as inclusive will cause it to exclude `endDay`.\n        if (endTimeMS && endTimeMS >= asRoughMs(nextDayThreshold)) {\n            endDay = addDays(endDay, 1);\n        }\n    }\n    if (timedRange.start) {\n        startDay = startOfDay(timedRange.start); // the beginning of the day the range starts\n        // If end is within `startDay` but not past nextDayThreshold, assign the default duration of one day.\n        if (endDay && endDay <= startDay) {\n            endDay = addDays(startDay, 1);\n        }\n    }\n    return { start: startDay, end: endDay };\n}\n// spans from one day into another?\nfunction isMultiDayRange(range) {\n    var visibleRange = computeVisibleDayRange(range);\n    return diffDays(visibleRange.start, visibleRange.end) > 1;\n}\nfunction diffDates(date0, date1, dateEnv, largeUnit) {\n    if (largeUnit === 'year') {\n        return createDuration(dateEnv.diffWholeYears(date0, date1), 'year');\n    }\n    if (largeUnit === 'month') {\n        return createDuration(dateEnv.diffWholeMonths(date0, date1), 'month');\n    }\n    return diffDayAndTime(date0, date1); // returns a duration\n}\n\nfunction parseRange(input, dateEnv) {\n    var start = null;\n    var end = null;\n    if (input.start) {\n        start = dateEnv.createMarker(input.start);\n    }\n    if (input.end) {\n        end = dateEnv.createMarker(input.end);\n    }\n    if (!start && !end) {\n        return null;\n    }\n    if (start && end && end < start) {\n        return null;\n    }\n    return { start: start, end: end };\n}\n// SIDE-EFFECT: will mutate ranges.\n// Will return a new array result.\nfunction invertRanges(ranges, constraintRange) {\n    var invertedRanges = [];\n    var start = constraintRange.start; // the end of the previous range. the start of the new range\n    var i;\n    var dateRange;\n    // ranges need to be in order. required for our date-walking algorithm\n    ranges.sort(compareRanges);\n    for (i = 0; i < ranges.length; i += 1) {\n        dateRange = ranges[i];\n        // add the span of time before the event (if there is any)\n        if (dateRange.start > start) { // compare millisecond time (skip any ambig logic)\n            invertedRanges.push({ start: start, end: dateRange.start });\n        }\n        if (dateRange.end > start) {\n            start = dateRange.end;\n        }\n    }\n    // add the span of time after the last event (if there is any)\n    if (start < constraintRange.end) { // compare millisecond time (skip any ambig logic)\n        invertedRanges.push({ start: start, end: constraintRange.end });\n    }\n    return invertedRanges;\n}\nfunction compareRanges(range0, range1) {\n    return range0.start.valueOf() - range1.start.valueOf(); // earlier ranges go first\n}\nfunction intersectRanges(range0, range1) {\n    var start = range0.start, end = range0.end;\n    var newRange = null;\n    if (range1.start !== null) {\n        if (start === null) {\n            start = range1.start;\n        }\n        else {\n            start = new Date(Math.max(start.valueOf(), range1.start.valueOf()));\n        }\n    }\n    if (range1.end != null) {\n        if (end === null) {\n            end = range1.end;\n        }\n        else {\n            end = new Date(Math.min(end.valueOf(), range1.end.valueOf()));\n        }\n    }\n    if (start === null || end === null || start < end) {\n        newRange = { start: start, end: end };\n    }\n    return newRange;\n}\nfunction rangesEqual(range0, range1) {\n    return (range0.start === null ? null : range0.start.valueOf()) === (range1.start === null ? null : range1.start.valueOf()) &&\n        (range0.end === null ? null : range0.end.valueOf()) === (range1.end === null ? null : range1.end.valueOf());\n}\nfunction rangesIntersect(range0, range1) {\n    return (range0.end === null || range1.start === null || range0.end > range1.start) &&\n        (range0.start === null || range1.end === null || range0.start < range1.end);\n}\nfunction rangeContainsRange(outerRange, innerRange) {\n    return (outerRange.start === null || (innerRange.start !== null && innerRange.start >= outerRange.start)) &&\n        (outerRange.end === null || (innerRange.end !== null && innerRange.end <= outerRange.end));\n}\nfunction rangeContainsMarker(range, date) {\n    return (range.start === null || date >= range.start) &&\n        (range.end === null || date < range.end);\n}\n// If the given date is not within the given range, move it inside.\n// (If it's past the end, make it one millisecond before the end).\nfunction constrainMarkerToRange(date, range) {\n    if (range.start != null && date < range.start) {\n        return range.start;\n    }\n    if (range.end != null && date >= range.end) {\n        return new Date(range.end.valueOf() - 1);\n    }\n    return date;\n}\n\n/*\nSpecifying nextDayThreshold signals that all-day ranges should be sliced.\n*/\nfunction sliceEventStore(eventStore, eventUiBases, framingRange, nextDayThreshold) {\n    var inverseBgByGroupId = {};\n    var inverseBgByDefId = {};\n    var defByGroupId = {};\n    var bgRanges = [];\n    var fgRanges = [];\n    var eventUis = compileEventUis(eventStore.defs, eventUiBases);\n    for (var defId in eventStore.defs) {\n        var def = eventStore.defs[defId];\n        var ui = eventUis[def.defId];\n        if (ui.display === 'inverse-background') {\n            if (def.groupId) {\n                inverseBgByGroupId[def.groupId] = [];\n                if (!defByGroupId[def.groupId]) {\n                    defByGroupId[def.groupId] = def;\n                }\n            }\n            else {\n                inverseBgByDefId[defId] = [];\n            }\n        }\n    }\n    for (var instanceId in eventStore.instances) {\n        var instance = eventStore.instances[instanceId];\n        var def = eventStore.defs[instance.defId];\n        var ui = eventUis[def.defId];\n        var origRange = instance.range;\n        var normalRange = (!def.allDay && nextDayThreshold) ?\n            computeVisibleDayRange(origRange, nextDayThreshold) :\n            origRange;\n        var slicedRange = intersectRanges(normalRange, framingRange);\n        if (slicedRange) {\n            if (ui.display === 'inverse-background') {\n                if (def.groupId) {\n                    inverseBgByGroupId[def.groupId].push(slicedRange);\n                }\n                else {\n                    inverseBgByDefId[instance.defId].push(slicedRange);\n                }\n            }\n            else if (ui.display !== 'none') {\n                (ui.display === 'background' ? bgRanges : fgRanges).push({\n                    def: def,\n                    ui: ui,\n                    instance: instance,\n                    range: slicedRange,\n                    isStart: normalRange.start && normalRange.start.valueOf() === slicedRange.start.valueOf(),\n                    isEnd: normalRange.end && normalRange.end.valueOf() === slicedRange.end.valueOf(),\n                });\n            }\n        }\n    }\n    for (var groupId in inverseBgByGroupId) { // BY GROUP\n        var ranges = inverseBgByGroupId[groupId];\n        var invertedRanges = invertRanges(ranges, framingRange);\n        for (var _i = 0, invertedRanges_1 = invertedRanges; _i < invertedRanges_1.length; _i++) {\n            var invertedRange = invertedRanges_1[_i];\n            var def = defByGroupId[groupId];\n            var ui = eventUis[def.defId];\n            bgRanges.push({\n                def: def,\n                ui: ui,\n                instance: null,\n                range: invertedRange,\n                isStart: false,\n                isEnd: false,\n            });\n        }\n    }\n    for (var defId in inverseBgByDefId) {\n        var ranges = inverseBgByDefId[defId];\n        var invertedRanges = invertRanges(ranges, framingRange);\n        for (var _a = 0, invertedRanges_2 = invertedRanges; _a < invertedRanges_2.length; _a++) {\n            var invertedRange = invertedRanges_2[_a];\n            bgRanges.push({\n                def: eventStore.defs[defId],\n                ui: eventUis[defId],\n                instance: null,\n                range: invertedRange,\n                isStart: false,\n                isEnd: false,\n            });\n        }\n    }\n    return { bg: bgRanges, fg: fgRanges };\n}\nfunction hasBgRendering(def) {\n    return def.ui.display === 'background' || def.ui.display === 'inverse-background';\n}\nfunction setElSeg(el, seg) {\n    el.fcSeg = seg;\n}\nfunction getElSeg(el) {\n    return el.fcSeg ||\n        el.parentNode.fcSeg || // for the harness\n        null;\n}\n// event ui computation\nfunction compileEventUis(eventDefs, eventUiBases) {\n    return mapHash(eventDefs, function (eventDef) { return compileEventUi(eventDef, eventUiBases); });\n}\nfunction compileEventUi(eventDef, eventUiBases) {\n    var uis = [];\n    if (eventUiBases['']) {\n        uis.push(eventUiBases['']);\n    }\n    if (eventUiBases[eventDef.defId]) {\n        uis.push(eventUiBases[eventDef.defId]);\n    }\n    uis.push(eventDef.ui);\n    return combineEventUis(uis);\n}\nfunction sortEventSegs(segs, eventOrderSpecs) {\n    var objs = segs.map(buildSegCompareObj);\n    objs.sort(function (obj0, obj1) { return compareByFieldSpecs(obj0, obj1, eventOrderSpecs); });\n    return objs.map(function (c) { return c._seg; });\n}\n// returns a object with all primitive props that can be compared\nfunction buildSegCompareObj(seg) {\n    var eventRange = seg.eventRange;\n    var eventDef = eventRange.def;\n    var range = eventRange.instance ? eventRange.instance.range : eventRange.range;\n    var start = range.start ? range.start.valueOf() : 0; // TODO: better support for open-range events\n    var end = range.end ? range.end.valueOf() : 0; // \"\n    return __assign(__assign(__assign({}, eventDef.extendedProps), eventDef), { id: eventDef.publicId, start: start,\n        end: end, duration: end - start, allDay: Number(eventDef.allDay), _seg: seg });\n}\nfunction computeSegDraggable(seg, context) {\n    var pluginHooks = context.pluginHooks;\n    var transformers = pluginHooks.isDraggableTransformers;\n    var _a = seg.eventRange, def = _a.def, ui = _a.ui;\n    var val = ui.startEditable;\n    for (var _i = 0, transformers_1 = transformers; _i < transformers_1.length; _i++) {\n        var transformer = transformers_1[_i];\n        val = transformer(val, def, ui, context);\n    }\n    return val;\n}\nfunction computeSegStartResizable(seg, context) {\n    return seg.isStart && seg.eventRange.ui.durationEditable && context.options.eventResizableFromStart;\n}\nfunction computeSegEndResizable(seg, context) {\n    return seg.isEnd && seg.eventRange.ui.durationEditable;\n}\nfunction buildSegTimeText(seg, timeFormat, context, defaultDisplayEventTime, // defaults to true\ndefaultDisplayEventEnd, // defaults to true\nstartOverride, endOverride) {\n    var dateEnv = context.dateEnv, options = context.options;\n    var displayEventTime = options.displayEventTime, displayEventEnd = options.displayEventEnd;\n    var eventDef = seg.eventRange.def;\n    var eventInstance = seg.eventRange.instance;\n    if (displayEventTime == null) {\n        displayEventTime = defaultDisplayEventTime !== false;\n    }\n    if (displayEventEnd == null) {\n        displayEventEnd = defaultDisplayEventEnd !== false;\n    }\n    var wholeEventStart = eventInstance.range.start;\n    var wholeEventEnd = eventInstance.range.end;\n    var segStart = startOverride || seg.start || seg.eventRange.range.start;\n    var segEnd = endOverride || seg.end || seg.eventRange.range.end;\n    var isStartDay = startOfDay(wholeEventStart).valueOf() === startOfDay(segStart).valueOf();\n    var isEndDay = startOfDay(addMs(wholeEventEnd, -1)).valueOf() === startOfDay(addMs(segEnd, -1)).valueOf();\n    if (displayEventTime && !eventDef.allDay && (isStartDay || isEndDay)) {\n        segStart = isStartDay ? wholeEventStart : segStart;\n        segEnd = isEndDay ? wholeEventEnd : segEnd;\n        if (displayEventEnd && eventDef.hasEnd) {\n            return dateEnv.formatRange(segStart, segEnd, timeFormat, {\n                forcedStartTzo: startOverride ? null : eventInstance.forcedStartTzo,\n                forcedEndTzo: endOverride ? null : eventInstance.forcedEndTzo,\n            });\n        }\n        return dateEnv.format(segStart, timeFormat, {\n            forcedTzo: startOverride ? null : eventInstance.forcedStartTzo, // nooooo, same\n        });\n    }\n    return '';\n}\nfunction getSegMeta(seg, todayRange, nowDate) {\n    var segRange = seg.eventRange.range;\n    return {\n        isPast: segRange.end < (nowDate || todayRange.start),\n        isFuture: segRange.start >= (nowDate || todayRange.end),\n        isToday: todayRange && rangeContainsMarker(todayRange, segRange.start),\n    };\n}\nfunction getEventClassNames(props) {\n    var classNames = ['fc-event'];\n    if (props.isMirror) {\n        classNames.push('fc-event-mirror');\n    }\n    if (props.isDraggable) {\n        classNames.push('fc-event-draggable');\n    }\n    if (props.isStartResizable || props.isEndResizable) {\n        classNames.push('fc-event-resizable');\n    }\n    if (props.isDragging) {\n        classNames.push('fc-event-dragging');\n    }\n    if (props.isResizing) {\n        classNames.push('fc-event-resizing');\n    }\n    if (props.isSelected) {\n        classNames.push('fc-event-selected');\n    }\n    if (props.isStart) {\n        classNames.push('fc-event-start');\n    }\n    if (props.isEnd) {\n        classNames.push('fc-event-end');\n    }\n    if (props.isPast) {\n        classNames.push('fc-event-past');\n    }\n    if (props.isToday) {\n        classNames.push('fc-event-today');\n    }\n    if (props.isFuture) {\n        classNames.push('fc-event-future');\n    }\n    return classNames;\n}\nfunction buildEventRangeKey(eventRange) {\n    return eventRange.instance\n        ? eventRange.instance.instanceId\n        : eventRange.def.defId + \":\" + eventRange.range.start.toISOString();\n    // inverse-background events don't have specific instances. TODO: better solution\n}\nfunction getSegAnchorAttrs(seg, context) {\n    var _a = seg.eventRange, def = _a.def, instance = _a.instance;\n    var url = def.url;\n    if (url) {\n        return { href: url };\n    }\n    var emitter = context.emitter, options = context.options;\n    var eventInteractive = options.eventInteractive;\n    if (eventInteractive == null) {\n        eventInteractive = def.interactive;\n        if (eventInteractive == null) {\n            eventInteractive = Boolean(emitter.hasHandlers('eventClick'));\n        }\n    }\n    // mock what happens in EventClicking\n    if (eventInteractive) {\n        // only attach keyboard-related handlers because click handler is already done in EventClicking\n        return createAriaKeyboardAttrs(function (ev) {\n            emitter.trigger('eventClick', {\n                el: ev.target,\n                event: new EventApi(context, def, instance),\n                jsEvent: ev,\n                view: context.viewApi,\n            });\n        });\n    }\n    return {};\n}\n\nvar STANDARD_PROPS = {\n    start: identity,\n    end: identity,\n    allDay: Boolean,\n};\nfunction parseDateSpan(raw, dateEnv, defaultDuration) {\n    var span = parseOpenDateSpan(raw, dateEnv);\n    var range = span.range;\n    if (!range.start) {\n        return null;\n    }\n    if (!range.end) {\n        if (defaultDuration == null) {\n            return null;\n        }\n        range.end = dateEnv.add(range.start, defaultDuration);\n    }\n    return span;\n}\n/*\nTODO: somehow combine with parseRange?\nWill return null if the start/end props were present but parsed invalidly.\n*/\nfunction parseOpenDateSpan(raw, dateEnv) {\n    var _a = refineProps(raw, STANDARD_PROPS), standardProps = _a.refined, extra = _a.extra;\n    var startMeta = standardProps.start ? dateEnv.createMarkerMeta(standardProps.start) : null;\n    var endMeta = standardProps.end ? dateEnv.createMarkerMeta(standardProps.end) : null;\n    var allDay = standardProps.allDay;\n    if (allDay == null) {\n        allDay = (startMeta && startMeta.isTimeUnspecified) &&\n            (!endMeta || endMeta.isTimeUnspecified);\n    }\n    return __assign({ range: {\n            start: startMeta ? startMeta.marker : null,\n            end: endMeta ? endMeta.marker : null,\n        }, allDay: allDay }, extra);\n}\nfunction isDateSpansEqual(span0, span1) {\n    return rangesEqual(span0.range, span1.range) &&\n        span0.allDay === span1.allDay &&\n        isSpanPropsEqual(span0, span1);\n}\n// the NON-DATE-RELATED props\nfunction isSpanPropsEqual(span0, span1) {\n    for (var propName in span1) {\n        if (propName !== 'range' && propName !== 'allDay') {\n            if (span0[propName] !== span1[propName]) {\n                return false;\n            }\n        }\n    }\n    // are there any props that span0 has that span1 DOESN'T have?\n    // both have range/allDay, so no need to special-case.\n    for (var propName in span0) {\n        if (!(propName in span1)) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction buildDateSpanApi(span, dateEnv) {\n    return __assign(__assign({}, buildRangeApi(span.range, dateEnv, span.allDay)), { allDay: span.allDay });\n}\nfunction buildRangeApiWithTimeZone(range, dateEnv, omitTime) {\n    return __assign(__assign({}, buildRangeApi(range, dateEnv, omitTime)), { timeZone: dateEnv.timeZone });\n}\nfunction buildRangeApi(range, dateEnv, omitTime) {\n    return {\n        start: dateEnv.toDate(range.start),\n        end: dateEnv.toDate(range.end),\n        startStr: dateEnv.formatIso(range.start, { omitTime: omitTime }),\n        endStr: dateEnv.formatIso(range.end, { omitTime: omitTime }),\n    };\n}\nfunction fabricateEventRange(dateSpan, eventUiBases, context) {\n    var res = refineEventDef({ editable: false }, context);\n    var def = parseEventDef(res.refined, res.extra, '', // sourceId\n    dateSpan.allDay, true, // hasEnd\n    context);\n    return {\n        def: def,\n        ui: compileEventUi(def, eventUiBases),\n        instance: createEventInstance(def.defId, dateSpan.range),\n        range: dateSpan.range,\n        isStart: true,\n        isEnd: true,\n    };\n}\n\nfunction triggerDateSelect(selection, pev, context) {\n    context.emitter.trigger('select', __assign(__assign({}, buildDateSpanApiWithContext(selection, context)), { jsEvent: pev ? pev.origEvent : null, view: context.viewApi || context.calendarApi.view }));\n}\nfunction triggerDateUnselect(pev, context) {\n    context.emitter.trigger('unselect', {\n        jsEvent: pev ? pev.origEvent : null,\n        view: context.viewApi || context.calendarApi.view,\n    });\n}\nfunction buildDateSpanApiWithContext(dateSpan, context) {\n    var props = {};\n    for (var _i = 0, _a = context.pluginHooks.dateSpanTransforms; _i < _a.length; _i++) {\n        var transform = _a[_i];\n        __assign(props, transform(dateSpan, context));\n    }\n    __assign(props, buildDateSpanApi(dateSpan, context.dateEnv));\n    return props;\n}\n// Given an event's allDay status and start date, return what its fallback end date should be.\n// TODO: rename to computeDefaultEventEnd\nfunction getDefaultEventEnd(allDay, marker, context) {\n    var dateEnv = context.dateEnv, options = context.options;\n    var end = marker;\n    if (allDay) {\n        end = startOfDay(end);\n        end = dateEnv.add(end, options.defaultAllDayEventDuration);\n    }\n    else {\n        end = dateEnv.add(end, options.defaultTimedEventDuration);\n    }\n    return end;\n}\n\n// applies the mutation to ALL defs/instances within the event store\nfunction applyMutationToEventStore(eventStore, eventConfigBase, mutation, context) {\n    var eventConfigs = compileEventUis(eventStore.defs, eventConfigBase);\n    var dest = createEmptyEventStore();\n    for (var defId in eventStore.defs) {\n        var def = eventStore.defs[defId];\n        dest.defs[defId] = applyMutationToEventDef(def, eventConfigs[defId], mutation, context);\n    }\n    for (var instanceId in eventStore.instances) {\n        var instance = eventStore.instances[instanceId];\n        var def = dest.defs[instance.defId]; // important to grab the newly modified def\n        dest.instances[instanceId] = applyMutationToEventInstance(instance, def, eventConfigs[instance.defId], mutation, context);\n    }\n    return dest;\n}\nfunction applyMutationToEventDef(eventDef, eventConfig, mutation, context) {\n    var standardProps = mutation.standardProps || {};\n    // if hasEnd has not been specified, guess a good value based on deltas.\n    // if duration will change, there's no way the default duration will persist,\n    // and thus, we need to mark the event as having a real end\n    if (standardProps.hasEnd == null &&\n        eventConfig.durationEditable &&\n        (mutation.startDelta || mutation.endDelta)) {\n        standardProps.hasEnd = true; // TODO: is this mutation okay?\n    }\n    var copy = __assign(__assign(__assign({}, eventDef), standardProps), { ui: __assign(__assign({}, eventDef.ui), standardProps.ui) });\n    if (mutation.extendedProps) {\n        copy.extendedProps = __assign(__assign({}, copy.extendedProps), mutation.extendedProps);\n    }\n    for (var _i = 0, _a = context.pluginHooks.eventDefMutationAppliers; _i < _a.length; _i++) {\n        var applier = _a[_i];\n        applier(copy, mutation, context);\n    }\n    if (!copy.hasEnd && context.options.forceEventDuration) {\n        copy.hasEnd = true;\n    }\n    return copy;\n}\nfunction applyMutationToEventInstance(eventInstance, eventDef, // must first be modified by applyMutationToEventDef\neventConfig, mutation, context) {\n    var dateEnv = context.dateEnv;\n    var forceAllDay = mutation.standardProps && mutation.standardProps.allDay === true;\n    var clearEnd = mutation.standardProps && mutation.standardProps.hasEnd === false;\n    var copy = __assign({}, eventInstance);\n    if (forceAllDay) {\n        copy.range = computeAlignedDayRange(copy.range);\n    }\n    if (mutation.datesDelta && eventConfig.startEditable) {\n        copy.range = {\n            start: dateEnv.add(copy.range.start, mutation.datesDelta),\n            end: dateEnv.add(copy.range.end, mutation.datesDelta),\n        };\n    }\n    if (mutation.startDelta && eventConfig.durationEditable) {\n        copy.range = {\n            start: dateEnv.add(copy.range.start, mutation.startDelta),\n            end: copy.range.end,\n        };\n    }\n    if (mutation.endDelta && eventConfig.durationEditable) {\n        copy.range = {\n            start: copy.range.start,\n            end: dateEnv.add(copy.range.end, mutation.endDelta),\n        };\n    }\n    if (clearEnd) {\n        copy.range = {\n            start: copy.range.start,\n            end: getDefaultEventEnd(eventDef.allDay, copy.range.start, context),\n        };\n    }\n    // in case event was all-day but the supplied deltas were not\n    // better util for this?\n    if (eventDef.allDay) {\n        copy.range = {\n            start: startOfDay(copy.range.start),\n            end: startOfDay(copy.range.end),\n        };\n    }\n    // handle invalid durations\n    if (copy.range.end < copy.range.start) {\n        copy.range.end = getDefaultEventEnd(eventDef.allDay, copy.range.start, context);\n    }\n    return copy;\n}\n\n// no public types yet. when there are, export from:\n// import {} from './api-type-deps'\nvar ViewApi = /** @class */ (function () {\n    function ViewApi(type, getCurrentData, dateEnv) {\n        this.type = type;\n        this.getCurrentData = getCurrentData;\n        this.dateEnv = dateEnv;\n    }\n    Object.defineProperty(ViewApi.prototype, \"calendar\", {\n        get: function () {\n            return this.getCurrentData().calendarApi;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"title\", {\n        get: function () {\n            return this.getCurrentData().viewTitle;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"activeStart\", {\n        get: function () {\n            return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"activeEnd\", {\n        get: function () {\n            return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"currentStart\", {\n        get: function () {\n            return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"currentEnd\", {\n        get: function () {\n            return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ViewApi.prototype.getOption = function (name) {\n        return this.getCurrentData().options[name]; // are the view-specific options\n    };\n    return ViewApi;\n}());\n\nvar EVENT_SOURCE_REFINERS = {\n    id: String,\n    defaultAllDay: Boolean,\n    url: String,\n    format: String,\n    events: identity,\n    eventDataTransform: identity,\n    // for any network-related sources\n    success: identity,\n    failure: identity,\n};\nfunction parseEventSource(raw, context, refiners) {\n    if (refiners === void 0) { refiners = buildEventSourceRefiners(context); }\n    var rawObj;\n    if (typeof raw === 'string') {\n        rawObj = { url: raw };\n    }\n    else if (typeof raw === 'function' || Array.isArray(raw)) {\n        rawObj = { events: raw };\n    }\n    else if (typeof raw === 'object' && raw) { // not null\n        rawObj = raw;\n    }\n    if (rawObj) {\n        var _a = refineProps(rawObj, refiners), refined = _a.refined, extra = _a.extra;\n        var metaRes = buildEventSourceMeta(refined, context);\n        if (metaRes) {\n            return {\n                _raw: raw,\n                isFetching: false,\n                latestFetchId: '',\n                fetchRange: null,\n                defaultAllDay: refined.defaultAllDay,\n                eventDataTransform: refined.eventDataTransform,\n                success: refined.success,\n                failure: refined.failure,\n                publicId: refined.id || '',\n                sourceId: guid(),\n                sourceDefId: metaRes.sourceDefId,\n                meta: metaRes.meta,\n                ui: createEventUi(refined, context),\n                extendedProps: extra,\n            };\n        }\n    }\n    return null;\n}\nfunction buildEventSourceRefiners(context) {\n    return __assign(__assign(__assign({}, EVENT_UI_REFINERS), EVENT_SOURCE_REFINERS), context.pluginHooks.eventSourceRefiners);\n}\nfunction buildEventSourceMeta(raw, context) {\n    var defs = context.pluginHooks.eventSourceDefs;\n    for (var i = defs.length - 1; i >= 0; i -= 1) { // later-added plugins take precedence\n        var def = defs[i];\n        var meta = def.parseMeta(raw);\n        if (meta) {\n            return { sourceDefId: i, meta: meta };\n        }\n    }\n    return null;\n}\n\nfunction reduceCurrentDate(currentDate, action) {\n    switch (action.type) {\n        case 'CHANGE_DATE':\n            return action.dateMarker;\n        default:\n            return currentDate;\n    }\n}\nfunction getInitialDate(options, dateEnv) {\n    var initialDateInput = options.initialDate;\n    // compute the initial ambig-timezone date\n    if (initialDateInput != null) {\n        return dateEnv.createMarker(initialDateInput);\n    }\n    return getNow(options.now, dateEnv); // getNow already returns unzoned\n}\nfunction getNow(nowInput, dateEnv) {\n    if (typeof nowInput === 'function') {\n        nowInput = nowInput();\n    }\n    if (nowInput == null) {\n        return dateEnv.createNowMarker();\n    }\n    return dateEnv.createMarker(nowInput);\n}\n\nvar CalendarApi = /** @class */ (function () {\n    function CalendarApi() {\n    }\n    CalendarApi.prototype.getCurrentData = function () {\n        return this.currentDataManager.getCurrentData();\n    };\n    CalendarApi.prototype.dispatch = function (action) {\n        return this.currentDataManager.dispatch(action);\n    };\n    Object.defineProperty(CalendarApi.prototype, \"view\", {\n        get: function () { return this.getCurrentData().viewApi; } // for public API\n        ,\n        enumerable: false,\n        configurable: true\n    });\n    CalendarApi.prototype.batchRendering = function (callback) {\n        callback();\n    };\n    CalendarApi.prototype.updateSize = function () {\n        this.trigger('_resize', true);\n    };\n    // Options\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.setOption = function (name, val) {\n        this.dispatch({\n            type: 'SET_OPTION',\n            optionName: name,\n            rawOptionValue: val,\n        });\n    };\n    CalendarApi.prototype.getOption = function (name) {\n        return this.currentDataManager.currentCalendarOptionsInput[name];\n    };\n    CalendarApi.prototype.getAvailableLocaleCodes = function () {\n        return Object.keys(this.getCurrentData().availableRawLocales);\n    };\n    // Trigger\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.on = function (handlerName, handler) {\n        var currentDataManager = this.currentDataManager;\n        if (currentDataManager.currentCalendarOptionsRefiners[handlerName]) {\n            currentDataManager.emitter.on(handlerName, handler);\n        }\n        else {\n            console.warn(\"Unknown listener name '\" + handlerName + \"'\");\n        }\n    };\n    CalendarApi.prototype.off = function (handlerName, handler) {\n        this.currentDataManager.emitter.off(handlerName, handler);\n    };\n    // not meant for public use\n    CalendarApi.prototype.trigger = function (handlerName) {\n        var _a;\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        (_a = this.currentDataManager.emitter).trigger.apply(_a, __spreadArray([handlerName], args));\n    };\n    // View\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.changeView = function (viewType, dateOrRange) {\n        var _this = this;\n        this.batchRendering(function () {\n            _this.unselect();\n            if (dateOrRange) {\n                if (dateOrRange.start && dateOrRange.end) { // a range\n                    _this.dispatch({\n                        type: 'CHANGE_VIEW_TYPE',\n                        viewType: viewType,\n                    });\n                    _this.dispatch({\n                        type: 'SET_OPTION',\n                        optionName: 'visibleRange',\n                        rawOptionValue: dateOrRange,\n                    });\n                }\n                else {\n                    var dateEnv = _this.getCurrentData().dateEnv;\n                    _this.dispatch({\n                        type: 'CHANGE_VIEW_TYPE',\n                        viewType: viewType,\n                        dateMarker: dateEnv.createMarker(dateOrRange),\n                    });\n                }\n            }\n            else {\n                _this.dispatch({\n                    type: 'CHANGE_VIEW_TYPE',\n                    viewType: viewType,\n                });\n            }\n        });\n    };\n    // Forces navigation to a view for the given date.\n    // `viewType` can be a specific view name or a generic one like \"week\" or \"day\".\n    // needs to change\n    CalendarApi.prototype.zoomTo = function (dateMarker, viewType) {\n        var state = this.getCurrentData();\n        var spec;\n        viewType = viewType || 'day'; // day is default zoom\n        spec = state.viewSpecs[viewType] || this.getUnitViewSpec(viewType);\n        this.unselect();\n        if (spec) {\n            this.dispatch({\n                type: 'CHANGE_VIEW_TYPE',\n                viewType: spec.type,\n                dateMarker: dateMarker,\n            });\n        }\n        else {\n            this.dispatch({\n                type: 'CHANGE_DATE',\n                dateMarker: dateMarker,\n            });\n        }\n    };\n    // Given a duration singular unit, like \"week\" or \"day\", finds a matching view spec.\n    // Preference is given to views that have corresponding buttons.\n    CalendarApi.prototype.getUnitViewSpec = function (unit) {\n        var _a = this.getCurrentData(), viewSpecs = _a.viewSpecs, toolbarConfig = _a.toolbarConfig;\n        var viewTypes = [].concat(toolbarConfig.header ? toolbarConfig.header.viewsWithButtons : [], toolbarConfig.footer ? toolbarConfig.footer.viewsWithButtons : []);\n        var i;\n        var spec;\n        for (var viewType in viewSpecs) {\n            viewTypes.push(viewType);\n        }\n        for (i = 0; i < viewTypes.length; i += 1) {\n            spec = viewSpecs[viewTypes[i]];\n            if (spec) {\n                if (spec.singleUnit === unit) {\n                    return spec;\n                }\n            }\n        }\n        return null;\n    };\n    // Current Date\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.prev = function () {\n        this.unselect();\n        this.dispatch({ type: 'PREV' });\n    };\n    CalendarApi.prototype.next = function () {\n        this.unselect();\n        this.dispatch({ type: 'NEXT' });\n    };\n    CalendarApi.prototype.prevYear = function () {\n        var state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: state.dateEnv.addYears(state.currentDate, -1),\n        });\n    };\n    CalendarApi.prototype.nextYear = function () {\n        var state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: state.dateEnv.addYears(state.currentDate, 1),\n        });\n    };\n    CalendarApi.prototype.today = function () {\n        var state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: getNow(state.calendarOptions.now, state.dateEnv),\n        });\n    };\n    CalendarApi.prototype.gotoDate = function (zonedDateInput) {\n        var state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: state.dateEnv.createMarker(zonedDateInput),\n        });\n    };\n    CalendarApi.prototype.incrementDate = function (deltaInput) {\n        var state = this.getCurrentData();\n        var delta = createDuration(deltaInput);\n        if (delta) { // else, warn about invalid input?\n            this.unselect();\n            this.dispatch({\n                type: 'CHANGE_DATE',\n                dateMarker: state.dateEnv.add(state.currentDate, delta),\n            });\n        }\n    };\n    // for external API\n    CalendarApi.prototype.getDate = function () {\n        var state = this.getCurrentData();\n        return state.dateEnv.toDate(state.currentDate);\n    };\n    // Date Formatting Utils\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.formatDate = function (d, formatter) {\n        var dateEnv = this.getCurrentData().dateEnv;\n        return dateEnv.format(dateEnv.createMarker(d), createFormatter(formatter));\n    };\n    // `settings` is for formatter AND isEndExclusive\n    CalendarApi.prototype.formatRange = function (d0, d1, settings) {\n        var dateEnv = this.getCurrentData().dateEnv;\n        return dateEnv.formatRange(dateEnv.createMarker(d0), dateEnv.createMarker(d1), createFormatter(settings), settings);\n    };\n    CalendarApi.prototype.formatIso = function (d, omitTime) {\n        var dateEnv = this.getCurrentData().dateEnv;\n        return dateEnv.formatIso(dateEnv.createMarker(d), { omitTime: omitTime });\n    };\n    // Date Selection / Event Selection / DayClick\n    // -----------------------------------------------------------------------------------------------------------------\n    // this public method receives start/end dates in any format, with any timezone\n    // NOTE: args were changed from v3\n    CalendarApi.prototype.select = function (dateOrObj, endDate) {\n        var selectionInput;\n        if (endDate == null) {\n            if (dateOrObj.start != null) {\n                selectionInput = dateOrObj;\n            }\n            else {\n                selectionInput = {\n                    start: dateOrObj,\n                    end: null,\n                };\n            }\n        }\n        else {\n            selectionInput = {\n                start: dateOrObj,\n                end: endDate,\n            };\n        }\n        var state = this.getCurrentData();\n        var selection = parseDateSpan(selectionInput, state.dateEnv, createDuration({ days: 1 }));\n        if (selection) { // throw parse error otherwise?\n            this.dispatch({ type: 'SELECT_DATES', selection: selection });\n            triggerDateSelect(selection, null, state);\n        }\n    };\n    // public method\n    CalendarApi.prototype.unselect = function (pev) {\n        var state = this.getCurrentData();\n        if (state.dateSelection) {\n            this.dispatch({ type: 'UNSELECT_DATES' });\n            triggerDateUnselect(pev, state);\n        }\n    };\n    // Public Events API\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.addEvent = function (eventInput, sourceInput) {\n        if (eventInput instanceof EventApi) {\n            var def = eventInput._def;\n            var instance = eventInput._instance;\n            var currentData = this.getCurrentData();\n            // not already present? don't want to add an old snapshot\n            if (!currentData.eventStore.defs[def.defId]) {\n                this.dispatch({\n                    type: 'ADD_EVENTS',\n                    eventStore: eventTupleToStore({ def: def, instance: instance }), // TODO: better util for two args?\n                });\n                this.triggerEventAdd(eventInput);\n            }\n            return eventInput;\n        }\n        var state = this.getCurrentData();\n        var eventSource;\n        if (sourceInput instanceof EventSourceApi) {\n            eventSource = sourceInput.internalEventSource;\n        }\n        else if (typeof sourceInput === 'boolean') {\n            if (sourceInput) { // true. part of the first event source\n                eventSource = hashValuesToArray(state.eventSources)[0];\n            }\n        }\n        else if (sourceInput != null) { // an ID. accepts a number too\n            var sourceApi = this.getEventSourceById(sourceInput); // TODO: use an internal function\n            if (!sourceApi) {\n                console.warn(\"Could not find an event source with ID \\\"\" + sourceInput + \"\\\"\"); // TODO: test\n                return null;\n            }\n            eventSource = sourceApi.internalEventSource;\n        }\n        var tuple = parseEvent(eventInput, eventSource, state, false);\n        if (tuple) {\n            var newEventApi = new EventApi(state, tuple.def, tuple.def.recurringDef ? null : tuple.instance);\n            this.dispatch({\n                type: 'ADD_EVENTS',\n                eventStore: eventTupleToStore(tuple),\n            });\n            this.triggerEventAdd(newEventApi);\n            return newEventApi;\n        }\n        return null;\n    };\n    CalendarApi.prototype.triggerEventAdd = function (eventApi) {\n        var _this = this;\n        var emitter = this.getCurrentData().emitter;\n        emitter.trigger('eventAdd', {\n            event: eventApi,\n            relatedEvents: [],\n            revert: function () {\n                _this.dispatch({\n                    type: 'REMOVE_EVENTS',\n                    eventStore: eventApiToStore(eventApi),\n                });\n            },\n        });\n    };\n    // TODO: optimize\n    CalendarApi.prototype.getEventById = function (id) {\n        var state = this.getCurrentData();\n        var _a = state.eventStore, defs = _a.defs, instances = _a.instances;\n        id = String(id);\n        for (var defId in defs) {\n            var def = defs[defId];\n            if (def.publicId === id) {\n                if (def.recurringDef) {\n                    return new EventApi(state, def, null);\n                }\n                for (var instanceId in instances) {\n                    var instance = instances[instanceId];\n                    if (instance.defId === def.defId) {\n                        return new EventApi(state, def, instance);\n                    }\n                }\n            }\n        }\n        return null;\n    };\n    CalendarApi.prototype.getEvents = function () {\n        var currentData = this.getCurrentData();\n        return buildEventApis(currentData.eventStore, currentData);\n    };\n    CalendarApi.prototype.removeAllEvents = function () {\n        this.dispatch({ type: 'REMOVE_ALL_EVENTS' });\n    };\n    // Public Event Sources API\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.getEventSources = function () {\n        var state = this.getCurrentData();\n        var sourceHash = state.eventSources;\n        var sourceApis = [];\n        for (var internalId in sourceHash) {\n            sourceApis.push(new EventSourceApi(state, sourceHash[internalId]));\n        }\n        return sourceApis;\n    };\n    CalendarApi.prototype.getEventSourceById = function (id) {\n        var state = this.getCurrentData();\n        var sourceHash = state.eventSources;\n        id = String(id);\n        for (var sourceId in sourceHash) {\n            if (sourceHash[sourceId].publicId === id) {\n                return new EventSourceApi(state, sourceHash[sourceId]);\n            }\n        }\n        return null;\n    };\n    CalendarApi.prototype.addEventSource = function (sourceInput) {\n        var state = this.getCurrentData();\n        if (sourceInput instanceof EventSourceApi) {\n            // not already present? don't want to add an old snapshot\n            if (!state.eventSources[sourceInput.internalEventSource.sourceId]) {\n                this.dispatch({\n                    type: 'ADD_EVENT_SOURCES',\n                    sources: [sourceInput.internalEventSource],\n                });\n            }\n            return sourceInput;\n        }\n        var eventSource = parseEventSource(sourceInput, state);\n        if (eventSource) { // TODO: error otherwise?\n            this.dispatch({ type: 'ADD_EVENT_SOURCES', sources: [eventSource] });\n            return new EventSourceApi(state, eventSource);\n        }\n        return null;\n    };\n    CalendarApi.prototype.removeAllEventSources = function () {\n        this.dispatch({ type: 'REMOVE_ALL_EVENT_SOURCES' });\n    };\n    CalendarApi.prototype.refetchEvents = function () {\n        this.dispatch({ type: 'FETCH_EVENT_SOURCES', isRefetch: true });\n    };\n    // Scroll\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.scrollToTime = function (timeInput) {\n        var time = createDuration(timeInput);\n        if (time) {\n            this.trigger('_scrollRequest', { time: time });\n        }\n    };\n    return CalendarApi;\n}());\n\nvar EventApi = /** @class */ (function () {\n    // instance will be null if expressing a recurring event that has no current instances,\n    // OR if trying to validate an incoming external event that has no dates assigned\n    function EventApi(context, def, instance) {\n        this._context = context;\n        this._def = def;\n        this._instance = instance || null;\n    }\n    /*\n    TODO: make event struct more responsible for this\n    */\n    EventApi.prototype.setProp = function (name, val) {\n        var _a, _b;\n        if (name in EVENT_DATE_REFINERS) {\n            console.warn('Could not set date-related prop \\'name\\'. Use one of the date-related methods instead.');\n            // TODO: make proper aliasing system?\n        }\n        else if (name === 'id') {\n            val = EVENT_NON_DATE_REFINERS[name](val);\n            this.mutate({\n                standardProps: { publicId: val }, // hardcoded internal name\n            });\n        }\n        else if (name in EVENT_NON_DATE_REFINERS) {\n            val = EVENT_NON_DATE_REFINERS[name](val);\n            this.mutate({\n                standardProps: (_a = {}, _a[name] = val, _a),\n            });\n        }\n        else if (name in EVENT_UI_REFINERS) {\n            var ui = EVENT_UI_REFINERS[name](val);\n            if (name === 'color') {\n                ui = { backgroundColor: val, borderColor: val };\n            }\n            else if (name === 'editable') {\n                ui = { startEditable: val, durationEditable: val };\n            }\n            else {\n                ui = (_b = {}, _b[name] = val, _b);\n            }\n            this.mutate({\n                standardProps: { ui: ui },\n            });\n        }\n        else {\n            console.warn(\"Could not set prop '\" + name + \"'. Use setExtendedProp instead.\");\n        }\n    };\n    EventApi.prototype.setExtendedProp = function (name, val) {\n        var _a;\n        this.mutate({\n            extendedProps: (_a = {}, _a[name] = val, _a),\n        });\n    };\n    EventApi.prototype.setStart = function (startInput, options) {\n        if (options === void 0) { options = {}; }\n        var dateEnv = this._context.dateEnv;\n        var start = dateEnv.createMarker(startInput);\n        if (start && this._instance) { // TODO: warning if parsed bad\n            var instanceRange = this._instance.range;\n            var startDelta = diffDates(instanceRange.start, start, dateEnv, options.granularity); // what if parsed bad!?\n            if (options.maintainDuration) {\n                this.mutate({ datesDelta: startDelta });\n            }\n            else {\n                this.mutate({ startDelta: startDelta });\n            }\n        }\n    };\n    EventApi.prototype.setEnd = function (endInput, options) {\n        if (options === void 0) { options = {}; }\n        var dateEnv = this._context.dateEnv;\n        var end;\n        if (endInput != null) {\n            end = dateEnv.createMarker(endInput);\n            if (!end) {\n                return; // TODO: warning if parsed bad\n            }\n        }\n        if (this._instance) {\n            if (end) {\n                var endDelta = diffDates(this._instance.range.end, end, dateEnv, options.granularity);\n                this.mutate({ endDelta: endDelta });\n            }\n            else {\n                this.mutate({ standardProps: { hasEnd: false } });\n            }\n        }\n    };\n    EventApi.prototype.setDates = function (startInput, endInput, options) {\n        if (options === void 0) { options = {}; }\n        var dateEnv = this._context.dateEnv;\n        var standardProps = { allDay: options.allDay };\n        var start = dateEnv.createMarker(startInput);\n        var end;\n        if (!start) {\n            return; // TODO: warning if parsed bad\n        }\n        if (endInput != null) {\n            end = dateEnv.createMarker(endInput);\n            if (!end) { // TODO: warning if parsed bad\n                return;\n            }\n        }\n        if (this._instance) {\n            var instanceRange = this._instance.range;\n            // when computing the diff for an event being converted to all-day,\n            // compute diff off of the all-day values the way event-mutation does.\n            if (options.allDay === true) {\n                instanceRange = computeAlignedDayRange(instanceRange);\n            }\n            var startDelta = diffDates(instanceRange.start, start, dateEnv, options.granularity);\n            if (end) {\n                var endDelta = diffDates(instanceRange.end, end, dateEnv, options.granularity);\n                if (durationsEqual(startDelta, endDelta)) {\n                    this.mutate({ datesDelta: startDelta, standardProps: standardProps });\n                }\n                else {\n                    this.mutate({ startDelta: startDelta, endDelta: endDelta, standardProps: standardProps });\n                }\n            }\n            else { // means \"clear the end\"\n                standardProps.hasEnd = false;\n                this.mutate({ datesDelta: startDelta, standardProps: standardProps });\n            }\n        }\n    };\n    EventApi.prototype.moveStart = function (deltaInput) {\n        var delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ startDelta: delta });\n        }\n    };\n    EventApi.prototype.moveEnd = function (deltaInput) {\n        var delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ endDelta: delta });\n        }\n    };\n    EventApi.prototype.moveDates = function (deltaInput) {\n        var delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ datesDelta: delta });\n        }\n    };\n    EventApi.prototype.setAllDay = function (allDay, options) {\n        if (options === void 0) { options = {}; }\n        var standardProps = { allDay: allDay };\n        var maintainDuration = options.maintainDuration;\n        if (maintainDuration == null) {\n            maintainDuration = this._context.options.allDayMaintainDuration;\n        }\n        if (this._def.allDay !== allDay) {\n            standardProps.hasEnd = maintainDuration;\n        }\n        this.mutate({ standardProps: standardProps });\n    };\n    EventApi.prototype.formatRange = function (formatInput) {\n        var dateEnv = this._context.dateEnv;\n        var instance = this._instance;\n        var formatter = createFormatter(formatInput);\n        if (this._def.hasEnd) {\n            return dateEnv.formatRange(instance.range.start, instance.range.end, formatter, {\n                forcedStartTzo: instance.forcedStartTzo,\n                forcedEndTzo: instance.forcedEndTzo,\n            });\n        }\n        return dateEnv.format(instance.range.start, formatter, {\n            forcedTzo: instance.forcedStartTzo,\n        });\n    };\n    EventApi.prototype.mutate = function (mutation) {\n        var instance = this._instance;\n        if (instance) {\n            var def = this._def;\n            var context_1 = this._context;\n            var eventStore_1 = context_1.getCurrentData().eventStore;\n            var relevantEvents = getRelevantEvents(eventStore_1, instance.instanceId);\n            var eventConfigBase = {\n                '': {\n                    display: '',\n                    startEditable: true,\n                    durationEditable: true,\n                    constraints: [],\n                    overlap: null,\n                    allows: [],\n                    backgroundColor: '',\n                    borderColor: '',\n                    textColor: '',\n                    classNames: [],\n                },\n            };\n            relevantEvents = applyMutationToEventStore(relevantEvents, eventConfigBase, mutation, context_1);\n            var oldEvent = new EventApi(context_1, def, instance); // snapshot\n            this._def = relevantEvents.defs[def.defId];\n            this._instance = relevantEvents.instances[instance.instanceId];\n            context_1.dispatch({\n                type: 'MERGE_EVENTS',\n                eventStore: relevantEvents,\n            });\n            context_1.emitter.trigger('eventChange', {\n                oldEvent: oldEvent,\n                event: this,\n                relatedEvents: buildEventApis(relevantEvents, context_1, instance),\n                revert: function () {\n                    context_1.dispatch({\n                        type: 'RESET_EVENTS',\n                        eventStore: eventStore_1,\n                    });\n                },\n            });\n        }\n    };\n    EventApi.prototype.remove = function () {\n        var context = this._context;\n        var asStore = eventApiToStore(this);\n        context.dispatch({\n            type: 'REMOVE_EVENTS',\n            eventStore: asStore,\n        });\n        context.emitter.trigger('eventRemove', {\n            event: this,\n            relatedEvents: [],\n            revert: function () {\n                context.dispatch({\n                    type: 'MERGE_EVENTS',\n                    eventStore: asStore,\n                });\n            },\n        });\n    };\n    Object.defineProperty(EventApi.prototype, \"source\", {\n        get: function () {\n            var sourceId = this._def.sourceId;\n            if (sourceId) {\n                return new EventSourceApi(this._context, this._context.getCurrentData().eventSources[sourceId]);\n            }\n            return null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"start\", {\n        get: function () {\n            return this._instance ?\n                this._context.dateEnv.toDate(this._instance.range.start) :\n                null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"end\", {\n        get: function () {\n            return (this._instance && this._def.hasEnd) ?\n                this._context.dateEnv.toDate(this._instance.range.end) :\n                null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"startStr\", {\n        get: function () {\n            var instance = this._instance;\n            if (instance) {\n                return this._context.dateEnv.formatIso(instance.range.start, {\n                    omitTime: this._def.allDay,\n                    forcedTzo: instance.forcedStartTzo,\n                });\n            }\n            return '';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"endStr\", {\n        get: function () {\n            var instance = this._instance;\n            if (instance && this._def.hasEnd) {\n                return this._context.dateEnv.formatIso(instance.range.end, {\n                    omitTime: this._def.allDay,\n                    forcedTzo: instance.forcedEndTzo,\n                });\n            }\n            return '';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"id\", {\n        // computable props that all access the def\n        // TODO: find a TypeScript-compatible way to do this at scale\n        get: function () { return this._def.publicId; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"groupId\", {\n        get: function () { return this._def.groupId; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"allDay\", {\n        get: function () { return this._def.allDay; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"title\", {\n        get: function () { return this._def.title; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"url\", {\n        get: function () { return this._def.url; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"display\", {\n        get: function () { return this._def.ui.display || 'auto'; } // bad. just normalize the type earlier\n        ,\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"startEditable\", {\n        get: function () { return this._def.ui.startEditable; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"durationEditable\", {\n        get: function () { return this._def.ui.durationEditable; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"constraint\", {\n        get: function () { return this._def.ui.constraints[0] || null; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"overlap\", {\n        get: function () { return this._def.ui.overlap; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"allow\", {\n        get: function () { return this._def.ui.allows[0] || null; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"backgroundColor\", {\n        get: function () { return this._def.ui.backgroundColor; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"borderColor\", {\n        get: function () { return this._def.ui.borderColor; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"textColor\", {\n        get: function () { return this._def.ui.textColor; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"classNames\", {\n        // NOTE: user can't modify these because Object.freeze was called in event-def parsing\n        get: function () { return this._def.ui.classNames; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"extendedProps\", {\n        get: function () { return this._def.extendedProps; },\n        enumerable: false,\n        configurable: true\n    });\n    EventApi.prototype.toPlainObject = function (settings) {\n        if (settings === void 0) { settings = {}; }\n        var def = this._def;\n        var ui = def.ui;\n        var _a = this, startStr = _a.startStr, endStr = _a.endStr;\n        var res = {};\n        if (def.title) {\n            res.title = def.title;\n        }\n        if (startStr) {\n            res.start = startStr;\n        }\n        if (endStr) {\n            res.end = endStr;\n        }\n        if (def.publicId) {\n            res.id = def.publicId;\n        }\n        if (def.groupId) {\n            res.groupId = def.groupId;\n        }\n        if (def.url) {\n            res.url = def.url;\n        }\n        if (ui.display && ui.display !== 'auto') {\n            res.display = ui.display;\n        }\n        // TODO: what about recurring-event properties???\n        // TODO: include startEditable/durationEditable/constraint/overlap/allow\n        if (settings.collapseColor && ui.backgroundColor && ui.backgroundColor === ui.borderColor) {\n            res.color = ui.backgroundColor;\n        }\n        else {\n            if (ui.backgroundColor) {\n                res.backgroundColor = ui.backgroundColor;\n            }\n            if (ui.borderColor) {\n                res.borderColor = ui.borderColor;\n            }\n        }\n        if (ui.textColor) {\n            res.textColor = ui.textColor;\n        }\n        if (ui.classNames.length) {\n            res.classNames = ui.classNames;\n        }\n        if (Object.keys(def.extendedProps).length) {\n            if (settings.collapseExtendedProps) {\n                __assign(res, def.extendedProps);\n            }\n            else {\n                res.extendedProps = def.extendedProps;\n            }\n        }\n        return res;\n    };\n    EventApi.prototype.toJSON = function () {\n        return this.toPlainObject();\n    };\n    return EventApi;\n}());\nfunction eventApiToStore(eventApi) {\n    var _a, _b;\n    var def = eventApi._def;\n    var instance = eventApi._instance;\n    return {\n        defs: (_a = {}, _a[def.defId] = def, _a),\n        instances: instance\n            ? (_b = {}, _b[instance.instanceId] = instance, _b) : {},\n    };\n}\nfunction buildEventApis(eventStore, context, excludeInstance) {\n    var defs = eventStore.defs, instances = eventStore.instances;\n    var eventApis = [];\n    var excludeInstanceId = excludeInstance ? excludeInstance.instanceId : '';\n    for (var id in instances) {\n        var instance = instances[id];\n        var def = defs[instance.defId];\n        if (instance.instanceId !== excludeInstanceId) {\n            eventApis.push(new EventApi(context, def, instance));\n        }\n    }\n    return eventApis;\n}\n\nvar calendarSystemClassMap = {};\nfunction registerCalendarSystem(name, theClass) {\n    calendarSystemClassMap[name] = theClass;\n}\nfunction createCalendarSystem(name) {\n    return new calendarSystemClassMap[name]();\n}\nvar GregorianCalendarSystem = /** @class */ (function () {\n    function GregorianCalendarSystem() {\n    }\n    GregorianCalendarSystem.prototype.getMarkerYear = function (d) {\n        return d.getUTCFullYear();\n    };\n    GregorianCalendarSystem.prototype.getMarkerMonth = function (d) {\n        return d.getUTCMonth();\n    };\n    GregorianCalendarSystem.prototype.getMarkerDay = function (d) {\n        return d.getUTCDate();\n    };\n    GregorianCalendarSystem.prototype.arrayToMarker = function (arr) {\n        return arrayToUtcDate(arr);\n    };\n    GregorianCalendarSystem.prototype.markerToArray = function (marker) {\n        return dateToUtcArray(marker);\n    };\n    return GregorianCalendarSystem;\n}());\nregisterCalendarSystem('gregory', GregorianCalendarSystem);\n\nvar ISO_RE = /^\\s*(\\d{4})(-?(\\d{2})(-?(\\d{2})([T ](\\d{2}):?(\\d{2})(:?(\\d{2})(\\.(\\d+))?)?(Z|(([-+])(\\d{2})(:?(\\d{2}))?))?)?)?)?$/;\nfunction parse(str) {\n    var m = ISO_RE.exec(str);\n    if (m) {\n        var marker = new Date(Date.UTC(Number(m[1]), m[3] ? Number(m[3]) - 1 : 0, Number(m[5] || 1), Number(m[7] || 0), Number(m[8] || 0), Number(m[10] || 0), m[12] ? Number(\"0.\" + m[12]) * 1000 : 0));\n        if (isValidDate(marker)) {\n            var timeZoneOffset = null;\n            if (m[13]) {\n                timeZoneOffset = (m[15] === '-' ? -1 : 1) * (Number(m[16] || 0) * 60 +\n                    Number(m[18] || 0));\n            }\n            return {\n                marker: marker,\n                isTimeUnspecified: !m[6],\n                timeZoneOffset: timeZoneOffset,\n            };\n        }\n    }\n    return null;\n}\n\nvar DateEnv = /** @class */ (function () {\n    function DateEnv(settings) {\n        var timeZone = this.timeZone = settings.timeZone;\n        var isNamedTimeZone = timeZone !== 'local' && timeZone !== 'UTC';\n        if (settings.namedTimeZoneImpl && isNamedTimeZone) {\n            this.namedTimeZoneImpl = new settings.namedTimeZoneImpl(timeZone);\n        }\n        this.canComputeOffset = Boolean(!isNamedTimeZone || this.namedTimeZoneImpl);\n        this.calendarSystem = createCalendarSystem(settings.calendarSystem);\n        this.locale = settings.locale;\n        this.weekDow = settings.locale.week.dow;\n        this.weekDoy = settings.locale.week.doy;\n        if (settings.weekNumberCalculation === 'ISO') {\n            this.weekDow = 1;\n            this.weekDoy = 4;\n        }\n        if (typeof settings.firstDay === 'number') {\n            this.weekDow = settings.firstDay;\n        }\n        if (typeof settings.weekNumberCalculation === 'function') {\n            this.weekNumberFunc = settings.weekNumberCalculation;\n        }\n        this.weekText = settings.weekText != null ? settings.weekText : settings.locale.options.weekText;\n        this.weekTextLong = (settings.weekTextLong != null ? settings.weekTextLong : settings.locale.options.weekTextLong) || this.weekText;\n        this.cmdFormatter = settings.cmdFormatter;\n        this.defaultSeparator = settings.defaultSeparator;\n    }\n    // Creating / Parsing\n    DateEnv.prototype.createMarker = function (input) {\n        var meta = this.createMarkerMeta(input);\n        if (meta === null) {\n            return null;\n        }\n        return meta.marker;\n    };\n    DateEnv.prototype.createNowMarker = function () {\n        if (this.canComputeOffset) {\n            return this.timestampToMarker(new Date().valueOf());\n        }\n        // if we can't compute the current date val for a timezone,\n        // better to give the current local date vals than UTC\n        return arrayToUtcDate(dateToLocalArray(new Date()));\n    };\n    DateEnv.prototype.createMarkerMeta = function (input) {\n        if (typeof input === 'string') {\n            return this.parse(input);\n        }\n        var marker = null;\n        if (typeof input === 'number') {\n            marker = this.timestampToMarker(input);\n        }\n        else if (input instanceof Date) {\n            input = input.valueOf();\n            if (!isNaN(input)) {\n                marker = this.timestampToMarker(input);\n            }\n        }\n        else if (Array.isArray(input)) {\n            marker = arrayToUtcDate(input);\n        }\n        if (marker === null || !isValidDate(marker)) {\n            return null;\n        }\n        return { marker: marker, isTimeUnspecified: false, forcedTzo: null };\n    };\n    DateEnv.prototype.parse = function (s) {\n        var parts = parse(s);\n        if (parts === null) {\n            return null;\n        }\n        var marker = parts.marker;\n        var forcedTzo = null;\n        if (parts.timeZoneOffset !== null) {\n            if (this.canComputeOffset) {\n                marker = this.timestampToMarker(marker.valueOf() - parts.timeZoneOffset * 60 * 1000);\n            }\n            else {\n                forcedTzo = parts.timeZoneOffset;\n            }\n        }\n        return { marker: marker, isTimeUnspecified: parts.isTimeUnspecified, forcedTzo: forcedTzo };\n    };\n    // Accessors\n    DateEnv.prototype.getYear = function (marker) {\n        return this.calendarSystem.getMarkerYear(marker);\n    };\n    DateEnv.prototype.getMonth = function (marker) {\n        return this.calendarSystem.getMarkerMonth(marker);\n    };\n    // Adding / Subtracting\n    DateEnv.prototype.add = function (marker, dur) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[0] += dur.years;\n        a[1] += dur.months;\n        a[2] += dur.days;\n        a[6] += dur.milliseconds;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    DateEnv.prototype.subtract = function (marker, dur) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[0] -= dur.years;\n        a[1] -= dur.months;\n        a[2] -= dur.days;\n        a[6] -= dur.milliseconds;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    DateEnv.prototype.addYears = function (marker, n) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[0] += n;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    DateEnv.prototype.addMonths = function (marker, n) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[1] += n;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    // Diffing Whole Units\n    DateEnv.prototype.diffWholeYears = function (m0, m1) {\n        var calendarSystem = this.calendarSystem;\n        if (timeAsMs(m0) === timeAsMs(m1) &&\n            calendarSystem.getMarkerDay(m0) === calendarSystem.getMarkerDay(m1) &&\n            calendarSystem.getMarkerMonth(m0) === calendarSystem.getMarkerMonth(m1)) {\n            return calendarSystem.getMarkerYear(m1) - calendarSystem.getMarkerYear(m0);\n        }\n        return null;\n    };\n    DateEnv.prototype.diffWholeMonths = function (m0, m1) {\n        var calendarSystem = this.calendarSystem;\n        if (timeAsMs(m0) === timeAsMs(m1) &&\n            calendarSystem.getMarkerDay(m0) === calendarSystem.getMarkerDay(m1)) {\n            return (calendarSystem.getMarkerMonth(m1) - calendarSystem.getMarkerMonth(m0)) +\n                (calendarSystem.getMarkerYear(m1) - calendarSystem.getMarkerYear(m0)) * 12;\n        }\n        return null;\n    };\n    // Range / Duration\n    DateEnv.prototype.greatestWholeUnit = function (m0, m1) {\n        var n = this.diffWholeYears(m0, m1);\n        if (n !== null) {\n            return { unit: 'year', value: n };\n        }\n        n = this.diffWholeMonths(m0, m1);\n        if (n !== null) {\n            return { unit: 'month', value: n };\n        }\n        n = diffWholeWeeks(m0, m1);\n        if (n !== null) {\n            return { unit: 'week', value: n };\n        }\n        n = diffWholeDays(m0, m1);\n        if (n !== null) {\n            return { unit: 'day', value: n };\n        }\n        n = diffHours(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'hour', value: n };\n        }\n        n = diffMinutes(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'minute', value: n };\n        }\n        n = diffSeconds(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'second', value: n };\n        }\n        return { unit: 'millisecond', value: m1.valueOf() - m0.valueOf() };\n    };\n    DateEnv.prototype.countDurationsBetween = function (m0, m1, d) {\n        // TODO: can use greatestWholeUnit\n        var diff;\n        if (d.years) {\n            diff = this.diffWholeYears(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughYears(d);\n            }\n        }\n        if (d.months) {\n            diff = this.diffWholeMonths(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughMonths(d);\n            }\n        }\n        if (d.days) {\n            diff = diffWholeDays(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughDays(d);\n            }\n        }\n        return (m1.valueOf() - m0.valueOf()) / asRoughMs(d);\n    };\n    // Start-Of\n    // these DON'T return zoned-dates. only UTC start-of dates\n    DateEnv.prototype.startOf = function (m, unit) {\n        if (unit === 'year') {\n            return this.startOfYear(m);\n        }\n        if (unit === 'month') {\n            return this.startOfMonth(m);\n        }\n        if (unit === 'week') {\n            return this.startOfWeek(m);\n        }\n        if (unit === 'day') {\n            return startOfDay(m);\n        }\n        if (unit === 'hour') {\n            return startOfHour(m);\n        }\n        if (unit === 'minute') {\n            return startOfMinute(m);\n        }\n        if (unit === 'second') {\n            return startOfSecond(m);\n        }\n        return null;\n    };\n    DateEnv.prototype.startOfYear = function (m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n        ]);\n    };\n    DateEnv.prototype.startOfMonth = function (m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n            this.calendarSystem.getMarkerMonth(m),\n        ]);\n    };\n    DateEnv.prototype.startOfWeek = function (m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n            this.calendarSystem.getMarkerMonth(m),\n            m.getUTCDate() - ((m.getUTCDay() - this.weekDow + 7) % 7),\n        ]);\n    };\n    // Week Number\n    DateEnv.prototype.computeWeekNumber = function (marker) {\n        if (this.weekNumberFunc) {\n            return this.weekNumberFunc(this.toDate(marker));\n        }\n        return weekOfYear(marker, this.weekDow, this.weekDoy);\n    };\n    // TODO: choke on timeZoneName: long\n    DateEnv.prototype.format = function (marker, formatter, dateOptions) {\n        if (dateOptions === void 0) { dateOptions = {}; }\n        return formatter.format({\n            marker: marker,\n            timeZoneOffset: dateOptions.forcedTzo != null ?\n                dateOptions.forcedTzo :\n                this.offsetForMarker(marker),\n        }, this);\n    };\n    DateEnv.prototype.formatRange = function (start, end, formatter, dateOptions) {\n        if (dateOptions === void 0) { dateOptions = {}; }\n        if (dateOptions.isEndExclusive) {\n            end = addMs(end, -1);\n        }\n        return formatter.formatRange({\n            marker: start,\n            timeZoneOffset: dateOptions.forcedStartTzo != null ?\n                dateOptions.forcedStartTzo :\n                this.offsetForMarker(start),\n        }, {\n            marker: end,\n            timeZoneOffset: dateOptions.forcedEndTzo != null ?\n                dateOptions.forcedEndTzo :\n                this.offsetForMarker(end),\n        }, this, dateOptions.defaultSeparator);\n    };\n    /*\n    DUMB: the omitTime arg is dumb. if we omit the time, we want to omit the timezone offset. and if we do that,\n    might as well use buildIsoString or some other util directly\n    */\n    DateEnv.prototype.formatIso = function (marker, extraOptions) {\n        if (extraOptions === void 0) { extraOptions = {}; }\n        var timeZoneOffset = null;\n        if (!extraOptions.omitTimeZoneOffset) {\n            if (extraOptions.forcedTzo != null) {\n                timeZoneOffset = extraOptions.forcedTzo;\n            }\n            else {\n                timeZoneOffset = this.offsetForMarker(marker);\n            }\n        }\n        return buildIsoString(marker, timeZoneOffset, extraOptions.omitTime);\n    };\n    // TimeZone\n    DateEnv.prototype.timestampToMarker = function (ms) {\n        if (this.timeZone === 'local') {\n            return arrayToUtcDate(dateToLocalArray(new Date(ms)));\n        }\n        if (this.timeZone === 'UTC' || !this.namedTimeZoneImpl) {\n            return new Date(ms);\n        }\n        return arrayToUtcDate(this.namedTimeZoneImpl.timestampToArray(ms));\n    };\n    DateEnv.prototype.offsetForMarker = function (m) {\n        if (this.timeZone === 'local') {\n            return -arrayToLocalDate(dateToUtcArray(m)).getTimezoneOffset(); // convert \"inverse\" offset to \"normal\" offset\n        }\n        if (this.timeZone === 'UTC') {\n            return 0;\n        }\n        if (this.namedTimeZoneImpl) {\n            return this.namedTimeZoneImpl.offsetForArray(dateToUtcArray(m));\n        }\n        return null;\n    };\n    // Conversion\n    DateEnv.prototype.toDate = function (m, forcedTzo) {\n        if (this.timeZone === 'local') {\n            return arrayToLocalDate(dateToUtcArray(m));\n        }\n        if (this.timeZone === 'UTC') {\n            return new Date(m.valueOf()); // make sure it's a copy\n        }\n        if (!this.namedTimeZoneImpl) {\n            return new Date(m.valueOf() - (forcedTzo || 0));\n        }\n        return new Date(m.valueOf() -\n            this.namedTimeZoneImpl.offsetForArray(dateToUtcArray(m)) * 1000 * 60);\n    };\n    return DateEnv;\n}());\n\nvar globalLocales = [];\n\nvar MINIMAL_RAW_EN_LOCALE = {\n    code: 'en',\n    week: {\n        dow: 0,\n        doy: 4, // 4 days need to be within the year to be considered the first week\n    },\n    direction: 'ltr',\n    buttonText: {\n        prev: 'prev',\n        next: 'next',\n        prevYear: 'prev year',\n        nextYear: 'next year',\n        year: 'year',\n        today: 'today',\n        month: 'month',\n        week: 'week',\n        day: 'day',\n        list: 'list',\n    },\n    weekText: 'W',\n    weekTextLong: 'Week',\n    closeHint: 'Close',\n    timeHint: 'Time',\n    eventHint: 'Event',\n    allDayText: 'all-day',\n    moreLinkText: 'more',\n    noEventsText: 'No events to display',\n};\nvar RAW_EN_LOCALE = __assign(__assign({}, MINIMAL_RAW_EN_LOCALE), { \n    // Includes things we don't want other locales to inherit,\n    // things that derive from other translatable strings.\n    buttonHints: {\n        prev: 'Previous $0',\n        next: 'Next $0',\n        today: function (buttonText, unit) {\n            return (unit === 'day')\n                ? 'Today'\n                : \"This \" + buttonText;\n        },\n    }, viewHint: '$0 view', navLinkHint: 'Go to $0', moreLinkHint: function (eventCnt) {\n        return \"Show \" + eventCnt + \" more event\" + (eventCnt === 1 ? '' : 's');\n    } });\nfunction organizeRawLocales(explicitRawLocales) {\n    var defaultCode = explicitRawLocales.length > 0 ? explicitRawLocales[0].code : 'en';\n    var allRawLocales = globalLocales.concat(explicitRawLocales);\n    var rawLocaleMap = {\n        en: RAW_EN_LOCALE,\n    };\n    for (var _i = 0, allRawLocales_1 = allRawLocales; _i < allRawLocales_1.length; _i++) {\n        var rawLocale = allRawLocales_1[_i];\n        rawLocaleMap[rawLocale.code] = rawLocale;\n    }\n    return {\n        map: rawLocaleMap,\n        defaultCode: defaultCode,\n    };\n}\nfunction buildLocale(inputSingular, available) {\n    if (typeof inputSingular === 'object' && !Array.isArray(inputSingular)) {\n        return parseLocale(inputSingular.code, [inputSingular.code], inputSingular);\n    }\n    return queryLocale(inputSingular, available);\n}\nfunction queryLocale(codeArg, available) {\n    var codes = [].concat(codeArg || []); // will convert to array\n    var raw = queryRawLocale(codes, available) || RAW_EN_LOCALE;\n    return parseLocale(codeArg, codes, raw);\n}\nfunction queryRawLocale(codes, available) {\n    for (var i = 0; i < codes.length; i += 1) {\n        var parts = codes[i].toLocaleLowerCase().split('-');\n        for (var j = parts.length; j > 0; j -= 1) {\n            var simpleId = parts.slice(0, j).join('-');\n            if (available[simpleId]) {\n                return available[simpleId];\n            }\n        }\n    }\n    return null;\n}\nfunction parseLocale(codeArg, codes, raw) {\n    var merged = mergeProps([MINIMAL_RAW_EN_LOCALE, raw], ['buttonText']);\n    delete merged.code; // don't want this part of the options\n    var week = merged.week;\n    delete merged.week;\n    return {\n        codeArg: codeArg,\n        codes: codes,\n        week: week,\n        simpleNumberFormat: new Intl.NumberFormat(codeArg),\n        options: merged,\n    };\n}\n\nfunction formatDate(dateInput, options) {\n    if (options === void 0) { options = {}; }\n    var dateEnv = buildDateEnv$1(options);\n    var formatter = createFormatter(options);\n    var dateMeta = dateEnv.createMarkerMeta(dateInput);\n    if (!dateMeta) { // TODO: warning?\n        return '';\n    }\n    return dateEnv.format(dateMeta.marker, formatter, {\n        forcedTzo: dateMeta.forcedTzo,\n    });\n}\nfunction formatRange(startInput, endInput, options) {\n    var dateEnv = buildDateEnv$1(typeof options === 'object' && options ? options : {}); // pass in if non-null object\n    var formatter = createFormatter(options);\n    var startMeta = dateEnv.createMarkerMeta(startInput);\n    var endMeta = dateEnv.createMarkerMeta(endInput);\n    if (!startMeta || !endMeta) { // TODO: warning?\n        return '';\n    }\n    return dateEnv.formatRange(startMeta.marker, endMeta.marker, formatter, {\n        forcedStartTzo: startMeta.forcedTzo,\n        forcedEndTzo: endMeta.forcedTzo,\n        isEndExclusive: options.isEndExclusive,\n        defaultSeparator: BASE_OPTION_DEFAULTS.defaultRangeSeparator,\n    });\n}\n// TODO: more DRY and optimized\nfunction buildDateEnv$1(settings) {\n    var locale = buildLocale(settings.locale || 'en', organizeRawLocales([]).map); // TODO: don't hardcode 'en' everywhere\n    return new DateEnv(__assign(__assign({ timeZone: BASE_OPTION_DEFAULTS.timeZone, calendarSystem: 'gregory' }, settings), { locale: locale }));\n}\n\nvar DEF_DEFAULTS = {\n    startTime: '09:00',\n    endTime: '17:00',\n    daysOfWeek: [1, 2, 3, 4, 5],\n    display: 'inverse-background',\n    classNames: 'fc-non-business',\n    groupId: '_businessHours', // so multiple defs get grouped\n};\n/*\nTODO: pass around as EventDefHash!!!\n*/\nfunction parseBusinessHours(input, context) {\n    return parseEvents(refineInputs(input), null, context);\n}\nfunction refineInputs(input) {\n    var rawDefs;\n    if (input === true) {\n        rawDefs = [{}]; // will get DEF_DEFAULTS verbatim\n    }\n    else if (Array.isArray(input)) {\n        // if specifying an array, every sub-definition NEEDS a day-of-week\n        rawDefs = input.filter(function (rawDef) { return rawDef.daysOfWeek; });\n    }\n    else if (typeof input === 'object' && input) { // non-null object\n        rawDefs = [input];\n    }\n    else { // is probably false\n        rawDefs = [];\n    }\n    rawDefs = rawDefs.map(function (rawDef) { return (__assign(__assign({}, DEF_DEFAULTS), rawDef)); });\n    return rawDefs;\n}\n\nfunction pointInsideRect(point, rect) {\n    return point.left >= rect.left &&\n        point.left < rect.right &&\n        point.top >= rect.top &&\n        point.top < rect.bottom;\n}\n// Returns a new rectangle that is the intersection of the two rectangles. If they don't intersect, returns false\nfunction intersectRects(rect1, rect2) {\n    var res = {\n        left: Math.max(rect1.left, rect2.left),\n        right: Math.min(rect1.right, rect2.right),\n        top: Math.max(rect1.top, rect2.top),\n        bottom: Math.min(rect1.bottom, rect2.bottom),\n    };\n    if (res.left < res.right && res.top < res.bottom) {\n        return res;\n    }\n    return false;\n}\nfunction translateRect(rect, deltaX, deltaY) {\n    return {\n        left: rect.left + deltaX,\n        right: rect.right + deltaX,\n        top: rect.top + deltaY,\n        bottom: rect.bottom + deltaY,\n    };\n}\n// Returns a new point that will have been moved to reside within the given rectangle\nfunction constrainPoint(point, rect) {\n    return {\n        left: Math.min(Math.max(point.left, rect.left), rect.right),\n        top: Math.min(Math.max(point.top, rect.top), rect.bottom),\n    };\n}\n// Returns a point that is the center of the given rectangle\nfunction getRectCenter(rect) {\n    return {\n        left: (rect.left + rect.right) / 2,\n        top: (rect.top + rect.bottom) / 2,\n    };\n}\n// Subtracts point2's coordinates from point1's coordinates, returning a delta\nfunction diffPoints(point1, point2) {\n    return {\n        left: point1.left - point2.left,\n        top: point1.top - point2.top,\n    };\n}\n\nvar canVGrowWithinCell;\nfunction getCanVGrowWithinCell() {\n    if (canVGrowWithinCell == null) {\n        canVGrowWithinCell = computeCanVGrowWithinCell();\n    }\n    return canVGrowWithinCell;\n}\nfunction computeCanVGrowWithinCell() {\n    // for SSR, because this function is call immediately at top-level\n    // TODO: just make this logic execute top-level, immediately, instead of doing lazily\n    if (typeof document === 'undefined') {\n        return true;\n    }\n    var el = document.createElement('div');\n    el.style.position = 'absolute';\n    el.style.top = '0px';\n    el.style.left = '0px';\n    el.innerHTML = '<table><tr><td><div></div></td></tr></table>';\n    el.querySelector('table').style.height = '100px';\n    el.querySelector('div').style.height = '100%';\n    document.body.appendChild(el);\n    var div = el.querySelector('div');\n    var possible = div.offsetHeight > 0;\n    document.body.removeChild(el);\n    return possible;\n}\n\nvar EMPTY_EVENT_STORE = createEmptyEventStore(); // for purecomponents. TODO: keep elsewhere\nvar Splitter = /** @class */ (function () {\n    function Splitter() {\n        this.getKeysForEventDefs = memoize(this._getKeysForEventDefs);\n        this.splitDateSelection = memoize(this._splitDateSpan);\n        this.splitEventStore = memoize(this._splitEventStore);\n        this.splitIndividualUi = memoize(this._splitIndividualUi);\n        this.splitEventDrag = memoize(this._splitInteraction);\n        this.splitEventResize = memoize(this._splitInteraction);\n        this.eventUiBuilders = {}; // TODO: typescript protection\n    }\n    Splitter.prototype.splitProps = function (props) {\n        var _this = this;\n        var keyInfos = this.getKeyInfo(props);\n        var defKeys = this.getKeysForEventDefs(props.eventStore);\n        var dateSelections = this.splitDateSelection(props.dateSelection);\n        var individualUi = this.splitIndividualUi(props.eventUiBases, defKeys); // the individual *bases*\n        var eventStores = this.splitEventStore(props.eventStore, defKeys);\n        var eventDrags = this.splitEventDrag(props.eventDrag);\n        var eventResizes = this.splitEventResize(props.eventResize);\n        var splitProps = {};\n        this.eventUiBuilders = mapHash(keyInfos, function (info, key) { return _this.eventUiBuilders[key] || memoize(buildEventUiForKey); });\n        for (var key in keyInfos) {\n            var keyInfo = keyInfos[key];\n            var eventStore = eventStores[key] || EMPTY_EVENT_STORE;\n            var buildEventUi = this.eventUiBuilders[key];\n            splitProps[key] = {\n                businessHours: keyInfo.businessHours || props.businessHours,\n                dateSelection: dateSelections[key] || null,\n                eventStore: eventStore,\n                eventUiBases: buildEventUi(props.eventUiBases[''], keyInfo.ui, individualUi[key]),\n                eventSelection: eventStore.instances[props.eventSelection] ? props.eventSelection : '',\n                eventDrag: eventDrags[key] || null,\n                eventResize: eventResizes[key] || null,\n            };\n        }\n        return splitProps;\n    };\n    Splitter.prototype._splitDateSpan = function (dateSpan) {\n        var dateSpans = {};\n        if (dateSpan) {\n            var keys = this.getKeysForDateSpan(dateSpan);\n            for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n                var key = keys_1[_i];\n                dateSpans[key] = dateSpan;\n            }\n        }\n        return dateSpans;\n    };\n    Splitter.prototype._getKeysForEventDefs = function (eventStore) {\n        var _this = this;\n        return mapHash(eventStore.defs, function (eventDef) { return _this.getKeysForEventDef(eventDef); });\n    };\n    Splitter.prototype._splitEventStore = function (eventStore, defKeys) {\n        var defs = eventStore.defs, instances = eventStore.instances;\n        var splitStores = {};\n        for (var defId in defs) {\n            for (var _i = 0, _a = defKeys[defId]; _i < _a.length; _i++) {\n                var key = _a[_i];\n                if (!splitStores[key]) {\n                    splitStores[key] = createEmptyEventStore();\n                }\n                splitStores[key].defs[defId] = defs[defId];\n            }\n        }\n        for (var instanceId in instances) {\n            var instance = instances[instanceId];\n            for (var _b = 0, _c = defKeys[instance.defId]; _b < _c.length; _b++) {\n                var key = _c[_b];\n                if (splitStores[key]) { // must have already been created\n                    splitStores[key].instances[instanceId] = instance;\n                }\n            }\n        }\n        return splitStores;\n    };\n    Splitter.prototype._splitIndividualUi = function (eventUiBases, defKeys) {\n        var splitHashes = {};\n        for (var defId in eventUiBases) {\n            if (defId) { // not the '' key\n                for (var _i = 0, _a = defKeys[defId]; _i < _a.length; _i++) {\n                    var key = _a[_i];\n                    if (!splitHashes[key]) {\n                        splitHashes[key] = {};\n                    }\n                    splitHashes[key][defId] = eventUiBases[defId];\n                }\n            }\n        }\n        return splitHashes;\n    };\n    Splitter.prototype._splitInteraction = function (interaction) {\n        var splitStates = {};\n        if (interaction) {\n            var affectedStores_1 = this._splitEventStore(interaction.affectedEvents, this._getKeysForEventDefs(interaction.affectedEvents));\n            // can't rely on defKeys because event data is mutated\n            var mutatedKeysByDefId = this._getKeysForEventDefs(interaction.mutatedEvents);\n            var mutatedStores_1 = this._splitEventStore(interaction.mutatedEvents, mutatedKeysByDefId);\n            var populate = function (key) {\n                if (!splitStates[key]) {\n                    splitStates[key] = {\n                        affectedEvents: affectedStores_1[key] || EMPTY_EVENT_STORE,\n                        mutatedEvents: mutatedStores_1[key] || EMPTY_EVENT_STORE,\n                        isEvent: interaction.isEvent,\n                    };\n                }\n            };\n            for (var key in affectedStores_1) {\n                populate(key);\n            }\n            for (var key in mutatedStores_1) {\n                populate(key);\n            }\n        }\n        return splitStates;\n    };\n    return Splitter;\n}());\nfunction buildEventUiForKey(allUi, eventUiForKey, individualUi) {\n    var baseParts = [];\n    if (allUi) {\n        baseParts.push(allUi);\n    }\n    if (eventUiForKey) {\n        baseParts.push(eventUiForKey);\n    }\n    var stuff = {\n        '': combineEventUis(baseParts),\n    };\n    if (individualUi) {\n        __assign(stuff, individualUi);\n    }\n    return stuff;\n}\n\nfunction getDateMeta(date, todayRange, nowDate, dateProfile) {\n    return {\n        dow: date.getUTCDay(),\n        isDisabled: Boolean(dateProfile && !rangeContainsMarker(dateProfile.activeRange, date)),\n        isOther: Boolean(dateProfile && !rangeContainsMarker(dateProfile.currentRange, date)),\n        isToday: Boolean(todayRange && rangeContainsMarker(todayRange, date)),\n        isPast: Boolean(nowDate ? (date < nowDate) : todayRange ? (date < todayRange.start) : false),\n        isFuture: Boolean(nowDate ? (date > nowDate) : todayRange ? (date >= todayRange.end) : false),\n    };\n}\nfunction getDayClassNames(meta, theme) {\n    var classNames = [\n        'fc-day',\n        \"fc-day-\" + DAY_IDS[meta.dow],\n    ];\n    if (meta.isDisabled) {\n        classNames.push('fc-day-disabled');\n    }\n    else {\n        if (meta.isToday) {\n            classNames.push('fc-day-today');\n            classNames.push(theme.getClass('today'));\n        }\n        if (meta.isPast) {\n            classNames.push('fc-day-past');\n        }\n        if (meta.isFuture) {\n            classNames.push('fc-day-future');\n        }\n        if (meta.isOther) {\n            classNames.push('fc-day-other');\n        }\n    }\n    return classNames;\n}\nfunction getSlotClassNames(meta, theme) {\n    var classNames = [\n        'fc-slot',\n        \"fc-slot-\" + DAY_IDS[meta.dow],\n    ];\n    if (meta.isDisabled) {\n        classNames.push('fc-slot-disabled');\n    }\n    else {\n        if (meta.isToday) {\n            classNames.push('fc-slot-today');\n            classNames.push(theme.getClass('today'));\n        }\n        if (meta.isPast) {\n            classNames.push('fc-slot-past');\n        }\n        if (meta.isFuture) {\n            classNames.push('fc-slot-future');\n        }\n    }\n    return classNames;\n}\n\nvar DAY_FORMAT = createFormatter({ year: 'numeric', month: 'long', day: 'numeric' });\nvar WEEK_FORMAT = createFormatter({ week: 'long' });\nfunction buildNavLinkAttrs(context, dateMarker, viewType, isTabbable) {\n    if (viewType === void 0) { viewType = 'day'; }\n    if (isTabbable === void 0) { isTabbable = true; }\n    var dateEnv = context.dateEnv, options = context.options, calendarApi = context.calendarApi;\n    var dateStr = dateEnv.format(dateMarker, viewType === 'week' ? WEEK_FORMAT : DAY_FORMAT);\n    if (options.navLinks) {\n        var zonedDate = dateEnv.toDate(dateMarker);\n        var handleInteraction = function (ev) {\n            var customAction = viewType === 'day' ? options.navLinkDayClick :\n                viewType === 'week' ? options.navLinkWeekClick : null;\n            if (typeof customAction === 'function') {\n                customAction.call(calendarApi, dateEnv.toDate(dateMarker), ev);\n            }\n            else {\n                if (typeof customAction === 'string') {\n                    viewType = customAction;\n                }\n                calendarApi.zoomTo(dateMarker, viewType);\n            }\n        };\n        return __assign({ title: formatWithOrdinals(options.navLinkHint, [dateStr, zonedDate], dateStr), 'data-navlink': '' }, (isTabbable\n            ? createAriaClickAttrs(handleInteraction)\n            : { onClick: handleInteraction }));\n    }\n    return { 'aria-label': dateStr };\n}\n\nvar _isRtlScrollbarOnLeft = null;\nfunction getIsRtlScrollbarOnLeft() {\n    if (_isRtlScrollbarOnLeft === null) {\n        _isRtlScrollbarOnLeft = computeIsRtlScrollbarOnLeft();\n    }\n    return _isRtlScrollbarOnLeft;\n}\nfunction computeIsRtlScrollbarOnLeft() {\n    var outerEl = document.createElement('div');\n    applyStyle(outerEl, {\n        position: 'absolute',\n        top: -1000,\n        left: 0,\n        border: 0,\n        padding: 0,\n        overflow: 'scroll',\n        direction: 'rtl',\n    });\n    outerEl.innerHTML = '<div></div>';\n    document.body.appendChild(outerEl);\n    var innerEl = outerEl.firstChild;\n    var res = innerEl.getBoundingClientRect().left > outerEl.getBoundingClientRect().left;\n    removeElement(outerEl);\n    return res;\n}\n\nvar _scrollbarWidths;\nfunction getScrollbarWidths() {\n    if (!_scrollbarWidths) {\n        _scrollbarWidths = computeScrollbarWidths();\n    }\n    return _scrollbarWidths;\n}\nfunction computeScrollbarWidths() {\n    var el = document.createElement('div');\n    el.style.overflow = 'scroll';\n    el.style.position = 'absolute';\n    el.style.top = '-9999px';\n    el.style.left = '-9999px';\n    document.body.appendChild(el);\n    var res = computeScrollbarWidthsForEl(el);\n    document.body.removeChild(el);\n    return res;\n}\n// WARNING: will include border\nfunction computeScrollbarWidthsForEl(el) {\n    return {\n        x: el.offsetHeight - el.clientHeight,\n        y: el.offsetWidth - el.clientWidth,\n    };\n}\n\nfunction computeEdges(el, getPadding) {\n    if (getPadding === void 0) { getPadding = false; }\n    var computedStyle = window.getComputedStyle(el);\n    var borderLeft = parseInt(computedStyle.borderLeftWidth, 10) || 0;\n    var borderRight = parseInt(computedStyle.borderRightWidth, 10) || 0;\n    var borderTop = parseInt(computedStyle.borderTopWidth, 10) || 0;\n    var borderBottom = parseInt(computedStyle.borderBottomWidth, 10) || 0;\n    var badScrollbarWidths = computeScrollbarWidthsForEl(el); // includes border!\n    var scrollbarLeftRight = badScrollbarWidths.y - borderLeft - borderRight;\n    var scrollbarBottom = badScrollbarWidths.x - borderTop - borderBottom;\n    var res = {\n        borderLeft: borderLeft,\n        borderRight: borderRight,\n        borderTop: borderTop,\n        borderBottom: borderBottom,\n        scrollbarBottom: scrollbarBottom,\n        scrollbarLeft: 0,\n        scrollbarRight: 0,\n    };\n    if (getIsRtlScrollbarOnLeft() && computedStyle.direction === 'rtl') { // is the scrollbar on the left side?\n        res.scrollbarLeft = scrollbarLeftRight;\n    }\n    else {\n        res.scrollbarRight = scrollbarLeftRight;\n    }\n    if (getPadding) {\n        res.paddingLeft = parseInt(computedStyle.paddingLeft, 10) || 0;\n        res.paddingRight = parseInt(computedStyle.paddingRight, 10) || 0;\n        res.paddingTop = parseInt(computedStyle.paddingTop, 10) || 0;\n        res.paddingBottom = parseInt(computedStyle.paddingBottom, 10) || 0;\n    }\n    return res;\n}\nfunction computeInnerRect(el, goWithinPadding, doFromWindowViewport) {\n    if (goWithinPadding === void 0) { goWithinPadding = false; }\n    var outerRect = doFromWindowViewport ? el.getBoundingClientRect() : computeRect(el);\n    var edges = computeEdges(el, goWithinPadding);\n    var res = {\n        left: outerRect.left + edges.borderLeft + edges.scrollbarLeft,\n        right: outerRect.right - edges.borderRight - edges.scrollbarRight,\n        top: outerRect.top + edges.borderTop,\n        bottom: outerRect.bottom - edges.borderBottom - edges.scrollbarBottom,\n    };\n    if (goWithinPadding) {\n        res.left += edges.paddingLeft;\n        res.right -= edges.paddingRight;\n        res.top += edges.paddingTop;\n        res.bottom -= edges.paddingBottom;\n    }\n    return res;\n}\nfunction computeRect(el) {\n    var rect = el.getBoundingClientRect();\n    return {\n        left: rect.left + window.pageXOffset,\n        top: rect.top + window.pageYOffset,\n        right: rect.right + window.pageXOffset,\n        bottom: rect.bottom + window.pageYOffset,\n    };\n}\nfunction computeClippedClientRect(el) {\n    var clippingParents = getClippingParents(el);\n    var rect = el.getBoundingClientRect();\n    for (var _i = 0, clippingParents_1 = clippingParents; _i < clippingParents_1.length; _i++) {\n        var clippingParent = clippingParents_1[_i];\n        var intersection = intersectRects(rect, clippingParent.getBoundingClientRect());\n        if (intersection) {\n            rect = intersection;\n        }\n        else {\n            return null;\n        }\n    }\n    return rect;\n}\nfunction computeHeightAndMargins(el) {\n    return el.getBoundingClientRect().height + computeVMargins(el);\n}\nfunction computeVMargins(el) {\n    var computed = window.getComputedStyle(el);\n    return parseInt(computed.marginTop, 10) +\n        parseInt(computed.marginBottom, 10);\n}\n// does not return window\nfunction getClippingParents(el) {\n    var parents = [];\n    while (el instanceof HTMLElement) { // will stop when gets to document or null\n        var computedStyle = window.getComputedStyle(el);\n        if (computedStyle.position === 'fixed') {\n            break;\n        }\n        if ((/(auto|scroll)/).test(computedStyle.overflow + computedStyle.overflowY + computedStyle.overflowX)) {\n            parents.push(el);\n        }\n        el = el.parentNode;\n    }\n    return parents;\n}\n\n// given a function that resolves a result asynchronously.\n// the function can either call passed-in success and failure callbacks,\n// or it can return a promise.\n// if you need to pass additional params to func, bind them first.\nfunction unpromisify(func, success, failure) {\n    // guard against success/failure callbacks being called more than once\n    // and guard against a promise AND callback being used together.\n    var isResolved = false;\n    var wrappedSuccess = function () {\n        if (!isResolved) {\n            isResolved = true;\n            success.apply(this, arguments); // eslint-disable-line prefer-rest-params\n        }\n    };\n    var wrappedFailure = function () {\n        if (!isResolved) {\n            isResolved = true;\n            if (failure) {\n                failure.apply(this, arguments); // eslint-disable-line prefer-rest-params\n            }\n        }\n    };\n    var res = func(wrappedSuccess, wrappedFailure);\n    if (res && typeof res.then === 'function') {\n        res.then(wrappedSuccess, wrappedFailure);\n    }\n}\n\nvar Emitter = /** @class */ (function () {\n    function Emitter() {\n        this.handlers = {};\n        this.thisContext = null;\n    }\n    Emitter.prototype.setThisContext = function (thisContext) {\n        this.thisContext = thisContext;\n    };\n    Emitter.prototype.setOptions = function (options) {\n        this.options = options;\n    };\n    Emitter.prototype.on = function (type, handler) {\n        addToHash(this.handlers, type, handler);\n    };\n    Emitter.prototype.off = function (type, handler) {\n        removeFromHash(this.handlers, type, handler);\n    };\n    Emitter.prototype.trigger = function (type) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        var attachedHandlers = this.handlers[type] || [];\n        var optionHandler = this.options && this.options[type];\n        var handlers = [].concat(optionHandler || [], attachedHandlers);\n        for (var _a = 0, handlers_1 = handlers; _a < handlers_1.length; _a++) {\n            var handler = handlers_1[_a];\n            handler.apply(this.thisContext, args);\n        }\n    };\n    Emitter.prototype.hasHandlers = function (type) {\n        return Boolean((this.handlers[type] && this.handlers[type].length) ||\n            (this.options && this.options[type]));\n    };\n    return Emitter;\n}());\nfunction addToHash(hash, type, handler) {\n    (hash[type] || (hash[type] = []))\n        .push(handler);\n}\nfunction removeFromHash(hash, type, handler) {\n    if (handler) {\n        if (hash[type]) {\n            hash[type] = hash[type].filter(function (func) { return func !== handler; });\n        }\n    }\n    else {\n        delete hash[type]; // remove all handler funcs for this type\n    }\n}\n\n/*\nRecords offset information for a set of elements, relative to an origin element.\nCan record the left/right OR the top/bottom OR both.\nProvides methods for querying the cache by position.\n*/\nvar PositionCache = /** @class */ (function () {\n    function PositionCache(originEl, els, isHorizontal, isVertical) {\n        this.els = els;\n        var originClientRect = this.originClientRect = originEl.getBoundingClientRect(); // relative to viewport top-left\n        if (isHorizontal) {\n            this.buildElHorizontals(originClientRect.left);\n        }\n        if (isVertical) {\n            this.buildElVerticals(originClientRect.top);\n        }\n    }\n    // Populates the left/right internal coordinate arrays\n    PositionCache.prototype.buildElHorizontals = function (originClientLeft) {\n        var lefts = [];\n        var rights = [];\n        for (var _i = 0, _a = this.els; _i < _a.length; _i++) {\n            var el = _a[_i];\n            var rect = el.getBoundingClientRect();\n            lefts.push(rect.left - originClientLeft);\n            rights.push(rect.right - originClientLeft);\n        }\n        this.lefts = lefts;\n        this.rights = rights;\n    };\n    // Populates the top/bottom internal coordinate arrays\n    PositionCache.prototype.buildElVerticals = function (originClientTop) {\n        var tops = [];\n        var bottoms = [];\n        for (var _i = 0, _a = this.els; _i < _a.length; _i++) {\n            var el = _a[_i];\n            var rect = el.getBoundingClientRect();\n            tops.push(rect.top - originClientTop);\n            bottoms.push(rect.bottom - originClientTop);\n        }\n        this.tops = tops;\n        this.bottoms = bottoms;\n    };\n    // Given a left offset (from document left), returns the index of the el that it horizontally intersects.\n    // If no intersection is made, returns undefined.\n    PositionCache.prototype.leftToIndex = function (leftPosition) {\n        var _a = this, lefts = _a.lefts, rights = _a.rights;\n        var len = lefts.length;\n        var i;\n        for (i = 0; i < len; i += 1) {\n            if (leftPosition >= lefts[i] && leftPosition < rights[i]) {\n                return i;\n            }\n        }\n        return undefined; // TODO: better\n    };\n    // Given a top offset (from document top), returns the index of the el that it vertically intersects.\n    // If no intersection is made, returns undefined.\n    PositionCache.prototype.topToIndex = function (topPosition) {\n        var _a = this, tops = _a.tops, bottoms = _a.bottoms;\n        var len = tops.length;\n        var i;\n        for (i = 0; i < len; i += 1) {\n            if (topPosition >= tops[i] && topPosition < bottoms[i]) {\n                return i;\n            }\n        }\n        return undefined; // TODO: better\n    };\n    // Gets the width of the element at the given index\n    PositionCache.prototype.getWidth = function (leftIndex) {\n        return this.rights[leftIndex] - this.lefts[leftIndex];\n    };\n    // Gets the height of the element at the given index\n    PositionCache.prototype.getHeight = function (topIndex) {\n        return this.bottoms[topIndex] - this.tops[topIndex];\n    };\n    return PositionCache;\n}());\n\n/* eslint max-classes-per-file: \"off\" */\n/*\nAn object for getting/setting scroll-related information for an element.\nInternally, this is done very differently for window versus DOM element,\nso this object serves as a common interface.\n*/\nvar ScrollController = /** @class */ (function () {\n    function ScrollController() {\n    }\n    ScrollController.prototype.getMaxScrollTop = function () {\n        return this.getScrollHeight() - this.getClientHeight();\n    };\n    ScrollController.prototype.getMaxScrollLeft = function () {\n        return this.getScrollWidth() - this.getClientWidth();\n    };\n    ScrollController.prototype.canScrollVertically = function () {\n        return this.getMaxScrollTop() > 0;\n    };\n    ScrollController.prototype.canScrollHorizontally = function () {\n        return this.getMaxScrollLeft() > 0;\n    };\n    ScrollController.prototype.canScrollUp = function () {\n        return this.getScrollTop() > 0;\n    };\n    ScrollController.prototype.canScrollDown = function () {\n        return this.getScrollTop() < this.getMaxScrollTop();\n    };\n    ScrollController.prototype.canScrollLeft = function () {\n        return this.getScrollLeft() > 0;\n    };\n    ScrollController.prototype.canScrollRight = function () {\n        return this.getScrollLeft() < this.getMaxScrollLeft();\n    };\n    return ScrollController;\n}());\nvar ElementScrollController = /** @class */ (function (_super) {\n    __extends(ElementScrollController, _super);\n    function ElementScrollController(el) {\n        var _this = _super.call(this) || this;\n        _this.el = el;\n        return _this;\n    }\n    ElementScrollController.prototype.getScrollTop = function () {\n        return this.el.scrollTop;\n    };\n    ElementScrollController.prototype.getScrollLeft = function () {\n        return this.el.scrollLeft;\n    };\n    ElementScrollController.prototype.setScrollTop = function (top) {\n        this.el.scrollTop = top;\n    };\n    ElementScrollController.prototype.setScrollLeft = function (left) {\n        this.el.scrollLeft = left;\n    };\n    ElementScrollController.prototype.getScrollWidth = function () {\n        return this.el.scrollWidth;\n    };\n    ElementScrollController.prototype.getScrollHeight = function () {\n        return this.el.scrollHeight;\n    };\n    ElementScrollController.prototype.getClientHeight = function () {\n        return this.el.clientHeight;\n    };\n    ElementScrollController.prototype.getClientWidth = function () {\n        return this.el.clientWidth;\n    };\n    return ElementScrollController;\n}(ScrollController));\nvar WindowScrollController = /** @class */ (function (_super) {\n    __extends(WindowScrollController, _super);\n    function WindowScrollController() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    WindowScrollController.prototype.getScrollTop = function () {\n        return window.pageYOffset;\n    };\n    WindowScrollController.prototype.getScrollLeft = function () {\n        return window.pageXOffset;\n    };\n    WindowScrollController.prototype.setScrollTop = function (n) {\n        window.scroll(window.pageXOffset, n);\n    };\n    WindowScrollController.prototype.setScrollLeft = function (n) {\n        window.scroll(n, window.pageYOffset);\n    };\n    WindowScrollController.prototype.getScrollWidth = function () {\n        return document.documentElement.scrollWidth;\n    };\n    WindowScrollController.prototype.getScrollHeight = function () {\n        return document.documentElement.scrollHeight;\n    };\n    WindowScrollController.prototype.getClientHeight = function () {\n        return document.documentElement.clientHeight;\n    };\n    WindowScrollController.prototype.getClientWidth = function () {\n        return document.documentElement.clientWidth;\n    };\n    return WindowScrollController;\n}(ScrollController));\n\nvar Theme = /** @class */ (function () {\n    function Theme(calendarOptions) {\n        if (this.iconOverrideOption) {\n            this.setIconOverride(calendarOptions[this.iconOverrideOption]);\n        }\n    }\n    Theme.prototype.setIconOverride = function (iconOverrideHash) {\n        var iconClassesCopy;\n        var buttonName;\n        if (typeof iconOverrideHash === 'object' && iconOverrideHash) { // non-null object\n            iconClassesCopy = __assign({}, this.iconClasses);\n            for (buttonName in iconOverrideHash) {\n                iconClassesCopy[buttonName] = this.applyIconOverridePrefix(iconOverrideHash[buttonName]);\n            }\n            this.iconClasses = iconClassesCopy;\n        }\n        else if (iconOverrideHash === false) {\n            this.iconClasses = {};\n        }\n    };\n    Theme.prototype.applyIconOverridePrefix = function (className) {\n        var prefix = this.iconOverridePrefix;\n        if (prefix && className.indexOf(prefix) !== 0) { // if not already present\n            className = prefix + className;\n        }\n        return className;\n    };\n    Theme.prototype.getClass = function (key) {\n        return this.classes[key] || '';\n    };\n    Theme.prototype.getIconClass = function (buttonName, isRtl) {\n        var className;\n        if (isRtl && this.rtlIconClasses) {\n            className = this.rtlIconClasses[buttonName] || this.iconClasses[buttonName];\n        }\n        else {\n            className = this.iconClasses[buttonName];\n        }\n        if (className) {\n            return this.baseIconClass + \" \" + className;\n        }\n        return '';\n    };\n    Theme.prototype.getCustomButtonIconClass = function (customButtonProps) {\n        var className;\n        if (this.iconOverrideCustomButtonOption) {\n            className = customButtonProps[this.iconOverrideCustomButtonOption];\n            if (className) {\n                return this.baseIconClass + \" \" + this.applyIconOverridePrefix(className);\n            }\n        }\n        return '';\n    };\n    return Theme;\n}());\nTheme.prototype.classes = {};\nTheme.prototype.iconClasses = {};\nTheme.prototype.baseIconClass = '';\nTheme.prototype.iconOverridePrefix = '';\n\nvar ScrollResponder = /** @class */ (function () {\n    function ScrollResponder(execFunc, emitter, scrollTime, scrollTimeReset) {\n        var _this = this;\n        this.execFunc = execFunc;\n        this.emitter = emitter;\n        this.scrollTime = scrollTime;\n        this.scrollTimeReset = scrollTimeReset;\n        this.handleScrollRequest = function (request) {\n            _this.queuedRequest = __assign({}, _this.queuedRequest || {}, request);\n            _this.drain();\n        };\n        emitter.on('_scrollRequest', this.handleScrollRequest);\n        this.fireInitialScroll();\n    }\n    ScrollResponder.prototype.detach = function () {\n        this.emitter.off('_scrollRequest', this.handleScrollRequest);\n    };\n    ScrollResponder.prototype.update = function (isDatesNew) {\n        if (isDatesNew && this.scrollTimeReset) {\n            this.fireInitialScroll(); // will drain\n        }\n        else {\n            this.drain();\n        }\n    };\n    ScrollResponder.prototype.fireInitialScroll = function () {\n        this.handleScrollRequest({\n            time: this.scrollTime,\n        });\n    };\n    ScrollResponder.prototype.drain = function () {\n        if (this.queuedRequest && this.execFunc(this.queuedRequest)) {\n            this.queuedRequest = null;\n        }\n    };\n    return ScrollResponder;\n}());\n\nvar ViewContextType = createContext({}); // for Components\nfunction buildViewContext(viewSpec, viewApi, viewOptions, dateProfileGenerator, dateEnv, theme, pluginHooks, dispatch, getCurrentData, emitter, calendarApi, registerInteractiveComponent, unregisterInteractiveComponent) {\n    return {\n        dateEnv: dateEnv,\n        options: viewOptions,\n        pluginHooks: pluginHooks,\n        emitter: emitter,\n        dispatch: dispatch,\n        getCurrentData: getCurrentData,\n        calendarApi: calendarApi,\n        viewSpec: viewSpec,\n        viewApi: viewApi,\n        dateProfileGenerator: dateProfileGenerator,\n        theme: theme,\n        isRtl: viewOptions.direction === 'rtl',\n        addResizeHandler: function (handler) {\n            emitter.on('_resize', handler);\n        },\n        removeResizeHandler: function (handler) {\n            emitter.off('_resize', handler);\n        },\n        createScrollResponder: function (execFunc) {\n            return new ScrollResponder(execFunc, emitter, createDuration(viewOptions.scrollTime), viewOptions.scrollTimeReset);\n        },\n        registerInteractiveComponent: registerInteractiveComponent,\n        unregisterInteractiveComponent: unregisterInteractiveComponent,\n    };\n}\n\n/* eslint max-classes-per-file: off */\nvar PureComponent = /** @class */ (function (_super) {\n    __extends(PureComponent, _super);\n    function PureComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    PureComponent.prototype.shouldComponentUpdate = function (nextProps, nextState) {\n        if (this.debug) {\n            // eslint-disable-next-line no-console\n            console.log(getUnequalProps(nextProps, this.props), getUnequalProps(nextState, this.state));\n        }\n        return !compareObjs(this.props, nextProps, this.propEquality) ||\n            !compareObjs(this.state, nextState, this.stateEquality);\n    };\n    // HACK for freakin' React StrictMode\n    PureComponent.prototype.safeSetState = function (newState) {\n        if (!compareObjs(this.state, __assign(__assign({}, this.state), newState), this.stateEquality)) {\n            this.setState(newState);\n        }\n    };\n    PureComponent.addPropsEquality = addPropsEquality;\n    PureComponent.addStateEquality = addStateEquality;\n    PureComponent.contextType = ViewContextType;\n    return PureComponent;\n}(Component));\nPureComponent.prototype.propEquality = {};\nPureComponent.prototype.stateEquality = {};\nvar BaseComponent = /** @class */ (function (_super) {\n    __extends(BaseComponent, _super);\n    function BaseComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    BaseComponent.contextType = ViewContextType;\n    return BaseComponent;\n}(PureComponent));\nfunction addPropsEquality(propEquality) {\n    var hash = Object.create(this.prototype.propEquality);\n    __assign(hash, propEquality);\n    this.prototype.propEquality = hash;\n}\nfunction addStateEquality(stateEquality) {\n    var hash = Object.create(this.prototype.stateEquality);\n    __assign(hash, stateEquality);\n    this.prototype.stateEquality = hash;\n}\n// use other one\nfunction setRef(ref, current) {\n    if (typeof ref === 'function') {\n        ref(current);\n    }\n    else if (ref) {\n        // see https://github.com/facebook/react/issues/13029\n        ref.current = current;\n    }\n}\n\n/*\nan INTERACTABLE date component\n\nPURPOSES:\n- hook up to fg, fill, and mirror renderers\n- interface for dragging and hits\n*/\nvar DateComponent = /** @class */ (function (_super) {\n    __extends(DateComponent, _super);\n    function DateComponent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.uid = guid();\n        return _this;\n    }\n    // Hit System\n    // -----------------------------------------------------------------------------------------------------------------\n    DateComponent.prototype.prepareHits = function () {\n    };\n    DateComponent.prototype.queryHit = function (positionLeft, positionTop, elWidth, elHeight) {\n        return null; // this should be abstract\n    };\n    // Pointer Interaction Utils\n    // -----------------------------------------------------------------------------------------------------------------\n    DateComponent.prototype.isValidSegDownEl = function (el) {\n        return !this.props.eventDrag && // HACK\n            !this.props.eventResize && // HACK\n            !elementClosest(el, '.fc-event-mirror');\n    };\n    DateComponent.prototype.isValidDateDownEl = function (el) {\n        return !elementClosest(el, '.fc-event:not(.fc-bg-event)') &&\n            !elementClosest(el, '.fc-more-link') && // a \"more..\" link\n            !elementClosest(el, 'a[data-navlink]') && // a clickable nav link\n            !elementClosest(el, '.fc-popover'); // hack\n    };\n    return DateComponent;\n}(BaseComponent));\n\n// TODO: easier way to add new hooks? need to update a million things\nfunction createPlugin(input) {\n    return {\n        id: guid(),\n        deps: input.deps || [],\n        reducers: input.reducers || [],\n        isLoadingFuncs: input.isLoadingFuncs || [],\n        contextInit: [].concat(input.contextInit || []),\n        eventRefiners: input.eventRefiners || {},\n        eventDefMemberAdders: input.eventDefMemberAdders || [],\n        eventSourceRefiners: input.eventSourceRefiners || {},\n        isDraggableTransformers: input.isDraggableTransformers || [],\n        eventDragMutationMassagers: input.eventDragMutationMassagers || [],\n        eventDefMutationAppliers: input.eventDefMutationAppliers || [],\n        dateSelectionTransformers: input.dateSelectionTransformers || [],\n        datePointTransforms: input.datePointTransforms || [],\n        dateSpanTransforms: input.dateSpanTransforms || [],\n        views: input.views || {},\n        viewPropsTransformers: input.viewPropsTransformers || [],\n        isPropsValid: input.isPropsValid || null,\n        externalDefTransforms: input.externalDefTransforms || [],\n        viewContainerAppends: input.viewContainerAppends || [],\n        eventDropTransformers: input.eventDropTransformers || [],\n        componentInteractions: input.componentInteractions || [],\n        calendarInteractions: input.calendarInteractions || [],\n        themeClasses: input.themeClasses || {},\n        eventSourceDefs: input.eventSourceDefs || [],\n        cmdFormatter: input.cmdFormatter,\n        recurringTypes: input.recurringTypes || [],\n        namedTimeZonedImpl: input.namedTimeZonedImpl,\n        initialView: input.initialView || '',\n        elementDraggingImpl: input.elementDraggingImpl,\n        optionChangeHandlers: input.optionChangeHandlers || {},\n        scrollGridImpl: input.scrollGridImpl || null,\n        contentTypeHandlers: input.contentTypeHandlers || {},\n        listenerRefiners: input.listenerRefiners || {},\n        optionRefiners: input.optionRefiners || {},\n        propSetHandlers: input.propSetHandlers || {},\n    };\n}\nfunction buildPluginHooks(pluginDefs, globalDefs) {\n    var isAdded = {};\n    var hooks = {\n        reducers: [],\n        isLoadingFuncs: [],\n        contextInit: [],\n        eventRefiners: {},\n        eventDefMemberAdders: [],\n        eventSourceRefiners: {},\n        isDraggableTransformers: [],\n        eventDragMutationMassagers: [],\n        eventDefMutationAppliers: [],\n        dateSelectionTransformers: [],\n        datePointTransforms: [],\n        dateSpanTransforms: [],\n        views: {},\n        viewPropsTransformers: [],\n        isPropsValid: null,\n        externalDefTransforms: [],\n        viewContainerAppends: [],\n        eventDropTransformers: [],\n        componentInteractions: [],\n        calendarInteractions: [],\n        themeClasses: {},\n        eventSourceDefs: [],\n        cmdFormatter: null,\n        recurringTypes: [],\n        namedTimeZonedImpl: null,\n        initialView: '',\n        elementDraggingImpl: null,\n        optionChangeHandlers: {},\n        scrollGridImpl: null,\n        contentTypeHandlers: {},\n        listenerRefiners: {},\n        optionRefiners: {},\n        propSetHandlers: {},\n    };\n    function addDefs(defs) {\n        for (var _i = 0, defs_1 = defs; _i < defs_1.length; _i++) {\n            var def = defs_1[_i];\n            if (!isAdded[def.id]) {\n                isAdded[def.id] = true;\n                addDefs(def.deps);\n                hooks = combineHooks(hooks, def);\n            }\n        }\n    }\n    if (pluginDefs) {\n        addDefs(pluginDefs);\n    }\n    addDefs(globalDefs);\n    return hooks;\n}\nfunction buildBuildPluginHooks() {\n    var currentOverrideDefs = [];\n    var currentGlobalDefs = [];\n    var currentHooks;\n    return function (overrideDefs, globalDefs) {\n        if (!currentHooks || !isArraysEqual(overrideDefs, currentOverrideDefs) || !isArraysEqual(globalDefs, currentGlobalDefs)) {\n            currentHooks = buildPluginHooks(overrideDefs, globalDefs);\n        }\n        currentOverrideDefs = overrideDefs;\n        currentGlobalDefs = globalDefs;\n        return currentHooks;\n    };\n}\nfunction combineHooks(hooks0, hooks1) {\n    return {\n        reducers: hooks0.reducers.concat(hooks1.reducers),\n        isLoadingFuncs: hooks0.isLoadingFuncs.concat(hooks1.isLoadingFuncs),\n        contextInit: hooks0.contextInit.concat(hooks1.contextInit),\n        eventRefiners: __assign(__assign({}, hooks0.eventRefiners), hooks1.eventRefiners),\n        eventDefMemberAdders: hooks0.eventDefMemberAdders.concat(hooks1.eventDefMemberAdders),\n        eventSourceRefiners: __assign(__assign({}, hooks0.eventSourceRefiners), hooks1.eventSourceRefiners),\n        isDraggableTransformers: hooks0.isDraggableTransformers.concat(hooks1.isDraggableTransformers),\n        eventDragMutationMassagers: hooks0.eventDragMutationMassagers.concat(hooks1.eventDragMutationMassagers),\n        eventDefMutationAppliers: hooks0.eventDefMutationAppliers.concat(hooks1.eventDefMutationAppliers),\n        dateSelectionTransformers: hooks0.dateSelectionTransformers.concat(hooks1.dateSelectionTransformers),\n        datePointTransforms: hooks0.datePointTransforms.concat(hooks1.datePointTransforms),\n        dateSpanTransforms: hooks0.dateSpanTransforms.concat(hooks1.dateSpanTransforms),\n        views: __assign(__assign({}, hooks0.views), hooks1.views),\n        viewPropsTransformers: hooks0.viewPropsTransformers.concat(hooks1.viewPropsTransformers),\n        isPropsValid: hooks1.isPropsValid || hooks0.isPropsValid,\n        externalDefTransforms: hooks0.externalDefTransforms.concat(hooks1.externalDefTransforms),\n        viewContainerAppends: hooks0.viewContainerAppends.concat(hooks1.viewContainerAppends),\n        eventDropTransformers: hooks0.eventDropTransformers.concat(hooks1.eventDropTransformers),\n        calendarInteractions: hooks0.calendarInteractions.concat(hooks1.calendarInteractions),\n        componentInteractions: hooks0.componentInteractions.concat(hooks1.componentInteractions),\n        themeClasses: __assign(__assign({}, hooks0.themeClasses), hooks1.themeClasses),\n        eventSourceDefs: hooks0.eventSourceDefs.concat(hooks1.eventSourceDefs),\n        cmdFormatter: hooks1.cmdFormatter || hooks0.cmdFormatter,\n        recurringTypes: hooks0.recurringTypes.concat(hooks1.recurringTypes),\n        namedTimeZonedImpl: hooks1.namedTimeZonedImpl || hooks0.namedTimeZonedImpl,\n        initialView: hooks0.initialView || hooks1.initialView,\n        elementDraggingImpl: hooks0.elementDraggingImpl || hooks1.elementDraggingImpl,\n        optionChangeHandlers: __assign(__assign({}, hooks0.optionChangeHandlers), hooks1.optionChangeHandlers),\n        scrollGridImpl: hooks1.scrollGridImpl || hooks0.scrollGridImpl,\n        contentTypeHandlers: __assign(__assign({}, hooks0.contentTypeHandlers), hooks1.contentTypeHandlers),\n        listenerRefiners: __assign(__assign({}, hooks0.listenerRefiners), hooks1.listenerRefiners),\n        optionRefiners: __assign(__assign({}, hooks0.optionRefiners), hooks1.optionRefiners),\n        propSetHandlers: __assign(__assign({}, hooks0.propSetHandlers), hooks1.propSetHandlers),\n    };\n}\n\nvar StandardTheme = /** @class */ (function (_super) {\n    __extends(StandardTheme, _super);\n    function StandardTheme() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return StandardTheme;\n}(Theme));\nStandardTheme.prototype.classes = {\n    root: 'fc-theme-standard',\n    tableCellShaded: 'fc-cell-shaded',\n    buttonGroup: 'fc-button-group',\n    button: 'fc-button fc-button-primary',\n    buttonActive: 'fc-button-active',\n};\nStandardTheme.prototype.baseIconClass = 'fc-icon';\nStandardTheme.prototype.iconClasses = {\n    close: 'fc-icon-x',\n    prev: 'fc-icon-chevron-left',\n    next: 'fc-icon-chevron-right',\n    prevYear: 'fc-icon-chevrons-left',\n    nextYear: 'fc-icon-chevrons-right',\n};\nStandardTheme.prototype.rtlIconClasses = {\n    prev: 'fc-icon-chevron-right',\n    next: 'fc-icon-chevron-left',\n    prevYear: 'fc-icon-chevrons-right',\n    nextYear: 'fc-icon-chevrons-left',\n};\nStandardTheme.prototype.iconOverrideOption = 'buttonIcons'; // TODO: make TS-friendly\nStandardTheme.prototype.iconOverrideCustomButtonOption = 'icon';\nStandardTheme.prototype.iconOverridePrefix = 'fc-icon-';\n\nfunction compileViewDefs(defaultConfigs, overrideConfigs) {\n    var hash = {};\n    var viewType;\n    for (viewType in defaultConfigs) {\n        ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    }\n    for (viewType in overrideConfigs) {\n        ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    }\n    return hash;\n}\nfunction ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs) {\n    if (hash[viewType]) {\n        return hash[viewType];\n    }\n    var viewDef = buildViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    if (viewDef) {\n        hash[viewType] = viewDef;\n    }\n    return viewDef;\n}\nfunction buildViewDef(viewType, hash, defaultConfigs, overrideConfigs) {\n    var defaultConfig = defaultConfigs[viewType];\n    var overrideConfig = overrideConfigs[viewType];\n    var queryProp = function (name) { return ((defaultConfig && defaultConfig[name] !== null) ? defaultConfig[name] :\n        ((overrideConfig && overrideConfig[name] !== null) ? overrideConfig[name] : null)); };\n    var theComponent = queryProp('component');\n    var superType = queryProp('superType');\n    var superDef = null;\n    if (superType) {\n        if (superType === viewType) {\n            throw new Error('Can\\'t have a custom view type that references itself');\n        }\n        superDef = ensureViewDef(superType, hash, defaultConfigs, overrideConfigs);\n    }\n    if (!theComponent && superDef) {\n        theComponent = superDef.component;\n    }\n    if (!theComponent) {\n        return null; // don't throw a warning, might be settings for a single-unit view\n    }\n    return {\n        type: viewType,\n        component: theComponent,\n        defaults: __assign(__assign({}, (superDef ? superDef.defaults : {})), (defaultConfig ? defaultConfig.rawOptions : {})),\n        overrides: __assign(__assign({}, (superDef ? superDef.overrides : {})), (overrideConfig ? overrideConfig.rawOptions : {})),\n    };\n}\n\n/* eslint max-classes-per-file: off */\n// NOTE: in JSX, you should always use this class with <HookProps> arg. otherwise, will default to any???\nvar RenderHook = /** @class */ (function (_super) {\n    __extends(RenderHook, _super);\n    function RenderHook() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.rootElRef = createRef();\n        _this.handleRootEl = function (el) {\n            setRef(_this.rootElRef, el);\n            if (_this.props.elRef) {\n                setRef(_this.props.elRef, el);\n            }\n        };\n        return _this;\n    }\n    RenderHook.prototype.render = function () {\n        var _this = this;\n        var props = this.props;\n        var hookProps = props.hookProps;\n        return (createElement(MountHook, { hookProps: hookProps, didMount: props.didMount, willUnmount: props.willUnmount, elRef: this.handleRootEl }, function (rootElRef) { return (createElement(ContentHook, { hookProps: hookProps, content: props.content, defaultContent: props.defaultContent, backupElRef: _this.rootElRef }, function (innerElRef, innerContent) { return props.children(rootElRef, normalizeClassNames(props.classNames, hookProps), innerElRef, innerContent); })); }));\n    };\n    return RenderHook;\n}(BaseComponent));\n// TODO: rename to be about function, not default. use in above type\n// for forcing rerender of components that use the ContentHook\nvar CustomContentRenderContext = createContext(0);\nfunction ContentHook(props) {\n    return (createElement(CustomContentRenderContext.Consumer, null, function (renderId) { return (createElement(ContentHookInner, __assign({ renderId: renderId }, props))); }));\n}\nvar ContentHookInner = /** @class */ (function (_super) {\n    __extends(ContentHookInner, _super);\n    function ContentHookInner() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.innerElRef = createRef();\n        return _this;\n    }\n    ContentHookInner.prototype.render = function () {\n        return this.props.children(this.innerElRef, this.renderInnerContent());\n    };\n    ContentHookInner.prototype.componentDidMount = function () {\n        this.updateCustomContent();\n    };\n    ContentHookInner.prototype.componentDidUpdate = function () {\n        this.updateCustomContent();\n    };\n    ContentHookInner.prototype.componentWillUnmount = function () {\n        if (this.customContentInfo && this.customContentInfo.destroy) {\n            this.customContentInfo.destroy();\n        }\n    };\n    ContentHookInner.prototype.renderInnerContent = function () {\n        var customContentInfo = this.customContentInfo; // only populated if using non-[p]react node(s)\n        var innerContent = this.getInnerContent();\n        var meta = this.getContentMeta(innerContent);\n        // initial run, or content-type changing? (from vue -> react for example)\n        if (!customContentInfo || customContentInfo.contentKey !== meta.contentKey) {\n            // clearing old value\n            if (customContentInfo) {\n                if (customContentInfo.destroy) {\n                    customContentInfo.destroy();\n                }\n                customContentInfo = this.customContentInfo = null;\n            }\n            // assigning new value\n            if (meta.contentKey) {\n                customContentInfo = this.customContentInfo = __assign({ contentKey: meta.contentKey, contentVal: innerContent[meta.contentKey] }, meta.buildLifecycleFuncs());\n            }\n            // updating\n        }\n        else if (customContentInfo) {\n            customContentInfo.contentVal = innerContent[meta.contentKey];\n        }\n        return customContentInfo\n            ? [] // signal that something was specified\n            : innerContent; // assume a [p]react vdom node. use it\n    };\n    ContentHookInner.prototype.getInnerContent = function () {\n        var props = this.props;\n        var innerContent = normalizeContent(props.content, props.hookProps);\n        if (innerContent === undefined) { // use the default\n            innerContent = normalizeContent(props.defaultContent, props.hookProps);\n        }\n        return innerContent == null ? null : innerContent; // convert undefined to null (better for React)\n    };\n    ContentHookInner.prototype.getContentMeta = function (innerContent) {\n        var contentTypeHandlers = this.context.pluginHooks.contentTypeHandlers;\n        var contentKey = '';\n        var buildLifecycleFuncs = null;\n        if (innerContent) { // allowed to be null, for convenience to caller\n            for (var searchKey in contentTypeHandlers) {\n                if (innerContent[searchKey] !== undefined) {\n                    contentKey = searchKey;\n                    buildLifecycleFuncs = contentTypeHandlers[searchKey];\n                    break;\n                }\n            }\n        }\n        return { contentKey: contentKey, buildLifecycleFuncs: buildLifecycleFuncs };\n    };\n    ContentHookInner.prototype.updateCustomContent = function () {\n        if (this.customContentInfo) { // for non-[p]react\n            this.customContentInfo.render(this.innerElRef.current || this.props.backupElRef.current, // the element to render into\n            this.customContentInfo.contentVal);\n        }\n    };\n    return ContentHookInner;\n}(BaseComponent));\nvar MountHook = /** @class */ (function (_super) {\n    __extends(MountHook, _super);\n    function MountHook() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleRootEl = function (rootEl) {\n            _this.rootEl = rootEl;\n            if (_this.props.elRef) {\n                setRef(_this.props.elRef, rootEl);\n            }\n        };\n        return _this;\n    }\n    MountHook.prototype.render = function () {\n        return this.props.children(this.handleRootEl);\n    };\n    MountHook.prototype.componentDidMount = function () {\n        var callback = this.props.didMount;\n        if (callback) {\n            callback(__assign(__assign({}, this.props.hookProps), { el: this.rootEl }));\n        }\n    };\n    MountHook.prototype.componentWillUnmount = function () {\n        var callback = this.props.willUnmount;\n        if (callback) {\n            callback(__assign(__assign({}, this.props.hookProps), { el: this.rootEl }));\n        }\n    };\n    return MountHook;\n}(BaseComponent));\nfunction buildClassNameNormalizer() {\n    var currentGenerator;\n    var currentHookProps;\n    var currentClassNames = [];\n    return function (generator, hookProps) {\n        if (!currentHookProps || !isPropsEqual(currentHookProps, hookProps) || generator !== currentGenerator) {\n            currentGenerator = generator;\n            currentHookProps = hookProps;\n            currentClassNames = normalizeClassNames(generator, hookProps);\n        }\n        return currentClassNames;\n    };\n}\nfunction normalizeClassNames(classNames, hookProps) {\n    if (typeof classNames === 'function') {\n        classNames = classNames(hookProps);\n    }\n    return parseClassNames(classNames);\n}\nfunction normalizeContent(input, hookProps) {\n    if (typeof input === 'function') {\n        return input(hookProps, createElement); // give the function the vdom-creation func\n    }\n    return input;\n}\n\nvar ViewRoot = /** @class */ (function (_super) {\n    __extends(ViewRoot, _super);\n    function ViewRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.normalizeClassNames = buildClassNameNormalizer();\n        return _this;\n    }\n    ViewRoot.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var hookProps = { view: context.viewApi };\n        var customClassNames = this.normalizeClassNames(options.viewClassNames, hookProps);\n        return (createElement(MountHook, { hookProps: hookProps, didMount: options.viewDidMount, willUnmount: options.viewWillUnmount, elRef: props.elRef }, function (rootElRef) { return props.children(rootElRef, [\"fc-\" + props.viewSpec.type + \"-view\", 'fc-view'].concat(customClassNames)); }));\n    };\n    return ViewRoot;\n}(BaseComponent));\n\nfunction parseViewConfigs(inputs) {\n    return mapHash(inputs, parseViewConfig);\n}\nfunction parseViewConfig(input) {\n    var rawOptions = typeof input === 'function' ?\n        { component: input } :\n        input;\n    var component = rawOptions.component;\n    if (rawOptions.content) {\n        component = createViewHookComponent(rawOptions);\n        // TODO: remove content/classNames/didMount/etc from options?\n    }\n    return {\n        superType: rawOptions.type,\n        component: component,\n        rawOptions: rawOptions,\n    };\n}\nfunction createViewHookComponent(options) {\n    return function (viewProps) { return (createElement(ViewContextType.Consumer, null, function (context) { return (createElement(ViewRoot, { viewSpec: context.viewSpec }, function (viewElRef, viewClassNames) {\n        var hookProps = __assign(__assign({}, viewProps), { nextDayThreshold: context.options.nextDayThreshold });\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.classNames, content: options.content, didMount: options.didMount, willUnmount: options.willUnmount, elRef: viewElRef }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"div\", { className: viewClassNames.concat(customClassNames).join(' '), ref: rootElRef }, innerContent)); }));\n    })); })); };\n}\n\nfunction buildViewSpecs(defaultInputs, optionOverrides, dynamicOptionOverrides, localeDefaults) {\n    var defaultConfigs = parseViewConfigs(defaultInputs);\n    var overrideConfigs = parseViewConfigs(optionOverrides.views);\n    var viewDefs = compileViewDefs(defaultConfigs, overrideConfigs);\n    return mapHash(viewDefs, function (viewDef) { return buildViewSpec(viewDef, overrideConfigs, optionOverrides, dynamicOptionOverrides, localeDefaults); });\n}\nfunction buildViewSpec(viewDef, overrideConfigs, optionOverrides, dynamicOptionOverrides, localeDefaults) {\n    var durationInput = viewDef.overrides.duration ||\n        viewDef.defaults.duration ||\n        dynamicOptionOverrides.duration ||\n        optionOverrides.duration;\n    var duration = null;\n    var durationUnit = '';\n    var singleUnit = '';\n    var singleUnitOverrides = {};\n    if (durationInput) {\n        duration = createDurationCached(durationInput);\n        if (duration) { // valid?\n            var denom = greatestDurationDenominator(duration);\n            durationUnit = denom.unit;\n            if (denom.value === 1) {\n                singleUnit = durationUnit;\n                singleUnitOverrides = overrideConfigs[durationUnit] ? overrideConfigs[durationUnit].rawOptions : {};\n            }\n        }\n    }\n    var queryButtonText = function (optionsSubset) {\n        var buttonTextMap = optionsSubset.buttonText || {};\n        var buttonTextKey = viewDef.defaults.buttonTextKey;\n        if (buttonTextKey != null && buttonTextMap[buttonTextKey] != null) {\n            return buttonTextMap[buttonTextKey];\n        }\n        if (buttonTextMap[viewDef.type] != null) {\n            return buttonTextMap[viewDef.type];\n        }\n        if (buttonTextMap[singleUnit] != null) {\n            return buttonTextMap[singleUnit];\n        }\n        return null;\n    };\n    var queryButtonTitle = function (optionsSubset) {\n        var buttonHints = optionsSubset.buttonHints || {};\n        var buttonKey = viewDef.defaults.buttonTextKey; // use same key as text\n        if (buttonKey != null && buttonHints[buttonKey] != null) {\n            return buttonHints[buttonKey];\n        }\n        if (buttonHints[viewDef.type] != null) {\n            return buttonHints[viewDef.type];\n        }\n        if (buttonHints[singleUnit] != null) {\n            return buttonHints[singleUnit];\n        }\n        return null;\n    };\n    return {\n        type: viewDef.type,\n        component: viewDef.component,\n        duration: duration,\n        durationUnit: durationUnit,\n        singleUnit: singleUnit,\n        optionDefaults: viewDef.defaults,\n        optionOverrides: __assign(__assign({}, singleUnitOverrides), viewDef.overrides),\n        buttonTextOverride: queryButtonText(dynamicOptionOverrides) ||\n            queryButtonText(optionOverrides) || // constructor-specified buttonText lookup hash takes precedence\n            viewDef.overrides.buttonText,\n        buttonTextDefault: queryButtonText(localeDefaults) ||\n            viewDef.defaults.buttonText ||\n            queryButtonText(BASE_OPTION_DEFAULTS) ||\n            viewDef.type,\n        // not DRY\n        buttonTitleOverride: queryButtonTitle(dynamicOptionOverrides) ||\n            queryButtonTitle(optionOverrides) ||\n            viewDef.overrides.buttonHint,\n        buttonTitleDefault: queryButtonTitle(localeDefaults) ||\n            viewDef.defaults.buttonHint ||\n            queryButtonTitle(BASE_OPTION_DEFAULTS),\n        // will eventually fall back to buttonText\n    };\n}\n// hack to get memoization working\nvar durationInputMap = {};\nfunction createDurationCached(durationInput) {\n    var json = JSON.stringify(durationInput);\n    var res = durationInputMap[json];\n    if (res === undefined) {\n        res = createDuration(durationInput);\n        durationInputMap[json] = res;\n    }\n    return res;\n}\n\nvar DateProfileGenerator = /** @class */ (function () {\n    function DateProfileGenerator(props) {\n        this.props = props;\n        this.nowDate = getNow(props.nowInput, props.dateEnv);\n        this.initHiddenDays();\n    }\n    /* Date Range Computation\n    ------------------------------------------------------------------------------------------------------------------*/\n    // Builds a structure with info about what the dates/ranges will be for the \"prev\" view.\n    DateProfileGenerator.prototype.buildPrev = function (currentDateProfile, currentDate, forceToValid) {\n        var dateEnv = this.props.dateEnv;\n        var prevDate = dateEnv.subtract(dateEnv.startOf(currentDate, currentDateProfile.currentRangeUnit), // important for start-of-month\n        currentDateProfile.dateIncrement);\n        return this.build(prevDate, -1, forceToValid);\n    };\n    // Builds a structure with info about what the dates/ranges will be for the \"next\" view.\n    DateProfileGenerator.prototype.buildNext = function (currentDateProfile, currentDate, forceToValid) {\n        var dateEnv = this.props.dateEnv;\n        var nextDate = dateEnv.add(dateEnv.startOf(currentDate, currentDateProfile.currentRangeUnit), // important for start-of-month\n        currentDateProfile.dateIncrement);\n        return this.build(nextDate, 1, forceToValid);\n    };\n    // Builds a structure holding dates/ranges for rendering around the given date.\n    // Optional direction param indicates whether the date is being incremented/decremented\n    // from its previous value. decremented = -1, incremented = 1 (default).\n    DateProfileGenerator.prototype.build = function (currentDate, direction, forceToValid) {\n        if (forceToValid === void 0) { forceToValid = true; }\n        var props = this.props;\n        var validRange;\n        var currentInfo;\n        var isRangeAllDay;\n        var renderRange;\n        var activeRange;\n        var isValid;\n        validRange = this.buildValidRange();\n        validRange = this.trimHiddenDays(validRange);\n        if (forceToValid) {\n            currentDate = constrainMarkerToRange(currentDate, validRange);\n        }\n        currentInfo = this.buildCurrentRangeInfo(currentDate, direction);\n        isRangeAllDay = /^(year|month|week|day)$/.test(currentInfo.unit);\n        renderRange = this.buildRenderRange(this.trimHiddenDays(currentInfo.range), currentInfo.unit, isRangeAllDay);\n        renderRange = this.trimHiddenDays(renderRange);\n        activeRange = renderRange;\n        if (!props.showNonCurrentDates) {\n            activeRange = intersectRanges(activeRange, currentInfo.range);\n        }\n        activeRange = this.adjustActiveRange(activeRange);\n        activeRange = intersectRanges(activeRange, validRange); // might return null\n        // it's invalid if the originally requested date is not contained,\n        // or if the range is completely outside of the valid range.\n        isValid = rangesIntersect(currentInfo.range, validRange);\n        return {\n            // constraint for where prev/next operations can go and where events can be dragged/resized to.\n            // an object with optional start and end properties.\n            validRange: validRange,\n            // range the view is formally responsible for.\n            // for example, a month view might have 1st-31st, excluding padded dates\n            currentRange: currentInfo.range,\n            // name of largest unit being displayed, like \"month\" or \"week\"\n            currentRangeUnit: currentInfo.unit,\n            isRangeAllDay: isRangeAllDay,\n            // dates that display events and accept drag-n-drop\n            // will be `null` if no dates accept events\n            activeRange: activeRange,\n            // date range with a rendered skeleton\n            // includes not-active days that need some sort of DOM\n            renderRange: renderRange,\n            // Duration object that denotes the first visible time of any given day\n            slotMinTime: props.slotMinTime,\n            // Duration object that denotes the exclusive visible end time of any given day\n            slotMaxTime: props.slotMaxTime,\n            isValid: isValid,\n            // how far the current date will move for a prev/next operation\n            dateIncrement: this.buildDateIncrement(currentInfo.duration),\n            // pass a fallback (might be null) ^\n        };\n    };\n    // Builds an object with optional start/end properties.\n    // Indicates the minimum/maximum dates to display.\n    // not responsible for trimming hidden days.\n    DateProfileGenerator.prototype.buildValidRange = function () {\n        var input = this.props.validRangeInput;\n        var simpleInput = typeof input === 'function'\n            ? input.call(this.props.calendarApi, this.nowDate)\n            : input;\n        return this.refineRange(simpleInput) ||\n            { start: null, end: null }; // completely open-ended\n    };\n    // Builds a structure with info about the \"current\" range, the range that is\n    // highlighted as being the current month for example.\n    // See build() for a description of `direction`.\n    // Guaranteed to have `range` and `unit` properties. `duration` is optional.\n    DateProfileGenerator.prototype.buildCurrentRangeInfo = function (date, direction) {\n        var props = this.props;\n        var duration = null;\n        var unit = null;\n        var range = null;\n        var dayCount;\n        if (props.duration) {\n            duration = props.duration;\n            unit = props.durationUnit;\n            range = this.buildRangeFromDuration(date, direction, duration, unit);\n        }\n        else if ((dayCount = this.props.dayCount)) {\n            unit = 'day';\n            range = this.buildRangeFromDayCount(date, direction, dayCount);\n        }\n        else if ((range = this.buildCustomVisibleRange(date))) {\n            unit = props.dateEnv.greatestWholeUnit(range.start, range.end).unit;\n        }\n        else {\n            duration = this.getFallbackDuration();\n            unit = greatestDurationDenominator(duration).unit;\n            range = this.buildRangeFromDuration(date, direction, duration, unit);\n        }\n        return { duration: duration, unit: unit, range: range };\n    };\n    DateProfileGenerator.prototype.getFallbackDuration = function () {\n        return createDuration({ day: 1 });\n    };\n    // Returns a new activeRange to have time values (un-ambiguate)\n    // slotMinTime or slotMaxTime causes the range to expand.\n    DateProfileGenerator.prototype.adjustActiveRange = function (range) {\n        var _a = this.props, dateEnv = _a.dateEnv, usesMinMaxTime = _a.usesMinMaxTime, slotMinTime = _a.slotMinTime, slotMaxTime = _a.slotMaxTime;\n        var start = range.start, end = range.end;\n        if (usesMinMaxTime) {\n            // expand active range if slotMinTime is negative (why not when positive?)\n            if (asRoughDays(slotMinTime) < 0) {\n                start = startOfDay(start); // necessary?\n                start = dateEnv.add(start, slotMinTime);\n            }\n            // expand active range if slotMaxTime is beyond one day (why not when negative?)\n            if (asRoughDays(slotMaxTime) > 1) {\n                end = startOfDay(end); // necessary?\n                end = addDays(end, -1);\n                end = dateEnv.add(end, slotMaxTime);\n            }\n        }\n        return { start: start, end: end };\n    };\n    // Builds the \"current\" range when it is specified as an explicit duration.\n    // `unit` is the already-computed greatestDurationDenominator unit of duration.\n    DateProfileGenerator.prototype.buildRangeFromDuration = function (date, direction, duration, unit) {\n        var _a = this.props, dateEnv = _a.dateEnv, dateAlignment = _a.dateAlignment;\n        var start;\n        var end;\n        var res;\n        // compute what the alignment should be\n        if (!dateAlignment) {\n            var dateIncrement = this.props.dateIncrement;\n            if (dateIncrement) {\n                // use the smaller of the two units\n                if (asRoughMs(dateIncrement) < asRoughMs(duration)) {\n                    dateAlignment = greatestDurationDenominator(dateIncrement).unit;\n                }\n                else {\n                    dateAlignment = unit;\n                }\n            }\n            else {\n                dateAlignment = unit;\n            }\n        }\n        // if the view displays a single day or smaller\n        if (asRoughDays(duration) <= 1) {\n            if (this.isHiddenDay(start)) {\n                start = this.skipHiddenDays(start, direction);\n                start = startOfDay(start);\n            }\n        }\n        function computeRes() {\n            start = dateEnv.startOf(date, dateAlignment);\n            end = dateEnv.add(start, duration);\n            res = { start: start, end: end };\n        }\n        computeRes();\n        // if range is completely enveloped by hidden days, go past the hidden days\n        if (!this.trimHiddenDays(res)) {\n            date = this.skipHiddenDays(date, direction);\n            computeRes();\n        }\n        return res;\n    };\n    // Builds the \"current\" range when a dayCount is specified.\n    DateProfileGenerator.prototype.buildRangeFromDayCount = function (date, direction, dayCount) {\n        var _a = this.props, dateEnv = _a.dateEnv, dateAlignment = _a.dateAlignment;\n        var runningCount = 0;\n        var start = date;\n        var end;\n        if (dateAlignment) {\n            start = dateEnv.startOf(start, dateAlignment);\n        }\n        start = startOfDay(start);\n        start = this.skipHiddenDays(start, direction);\n        end = start;\n        do {\n            end = addDays(end, 1);\n            if (!this.isHiddenDay(end)) {\n                runningCount += 1;\n            }\n        } while (runningCount < dayCount);\n        return { start: start, end: end };\n    };\n    // Builds a normalized range object for the \"visible\" range,\n    // which is a way to define the currentRange and activeRange at the same time.\n    DateProfileGenerator.prototype.buildCustomVisibleRange = function (date) {\n        var props = this.props;\n        var input = props.visibleRangeInput;\n        var simpleInput = typeof input === 'function'\n            ? input.call(props.calendarApi, props.dateEnv.toDate(date))\n            : input;\n        var range = this.refineRange(simpleInput);\n        if (range && (range.start == null || range.end == null)) {\n            return null;\n        }\n        return range;\n    };\n    // Computes the range that will represent the element/cells for *rendering*,\n    // but which may have voided days/times.\n    // not responsible for trimming hidden days.\n    DateProfileGenerator.prototype.buildRenderRange = function (currentRange, currentRangeUnit, isRangeAllDay) {\n        return currentRange;\n    };\n    // Compute the duration value that should be added/substracted to the current date\n    // when a prev/next operation happens.\n    DateProfileGenerator.prototype.buildDateIncrement = function (fallback) {\n        var dateIncrement = this.props.dateIncrement;\n        var customAlignment;\n        if (dateIncrement) {\n            return dateIncrement;\n        }\n        if ((customAlignment = this.props.dateAlignment)) {\n            return createDuration(1, customAlignment);\n        }\n        if (fallback) {\n            return fallback;\n        }\n        return createDuration({ days: 1 });\n    };\n    DateProfileGenerator.prototype.refineRange = function (rangeInput) {\n        if (rangeInput) {\n            var range = parseRange(rangeInput, this.props.dateEnv);\n            if (range) {\n                range = computeVisibleDayRange(range);\n            }\n            return range;\n        }\n        return null;\n    };\n    /* Hidden Days\n    ------------------------------------------------------------------------------------------------------------------*/\n    // Initializes internal variables related to calculating hidden days-of-week\n    DateProfileGenerator.prototype.initHiddenDays = function () {\n        var hiddenDays = this.props.hiddenDays || []; // array of day-of-week indices that are hidden\n        var isHiddenDayHash = []; // is the day-of-week hidden? (hash with day-of-week-index -> bool)\n        var dayCnt = 0;\n        var i;\n        if (this.props.weekends === false) {\n            hiddenDays.push(0, 6); // 0=sunday, 6=saturday\n        }\n        for (i = 0; i < 7; i += 1) {\n            if (!(isHiddenDayHash[i] = hiddenDays.indexOf(i) !== -1)) {\n                dayCnt += 1;\n            }\n        }\n        if (!dayCnt) {\n            throw new Error('invalid hiddenDays'); // all days were hidden? bad.\n        }\n        this.isHiddenDayHash = isHiddenDayHash;\n    };\n    // Remove days from the beginning and end of the range that are computed as hidden.\n    // If the whole range is trimmed off, returns null\n    DateProfileGenerator.prototype.trimHiddenDays = function (range) {\n        var start = range.start, end = range.end;\n        if (start) {\n            start = this.skipHiddenDays(start);\n        }\n        if (end) {\n            end = this.skipHiddenDays(end, -1, true);\n        }\n        if (start == null || end == null || start < end) {\n            return { start: start, end: end };\n        }\n        return null;\n    };\n    // Is the current day hidden?\n    // `day` is a day-of-week index (0-6), or a Date (used for UTC)\n    DateProfileGenerator.prototype.isHiddenDay = function (day) {\n        if (day instanceof Date) {\n            day = day.getUTCDay();\n        }\n        return this.isHiddenDayHash[day];\n    };\n    // Incrementing the current day until it is no longer a hidden day, returning a copy.\n    // DOES NOT CONSIDER validRange!\n    // If the initial value of `date` is not a hidden day, don't do anything.\n    // Pass `isExclusive` as `true` if you are dealing with an end date.\n    // `inc` defaults to `1` (increment one day forward each time)\n    DateProfileGenerator.prototype.skipHiddenDays = function (date, inc, isExclusive) {\n        if (inc === void 0) { inc = 1; }\n        if (isExclusive === void 0) { isExclusive = false; }\n        while (this.isHiddenDayHash[(date.getUTCDay() + (isExclusive ? inc : 0) + 7) % 7]) {\n            date = addDays(date, inc);\n        }\n        return date;\n    };\n    return DateProfileGenerator;\n}());\n\nfunction reduceViewType(viewType, action) {\n    switch (action.type) {\n        case 'CHANGE_VIEW_TYPE':\n            viewType = action.viewType;\n    }\n    return viewType;\n}\n\nfunction reduceDynamicOptionOverrides(dynamicOptionOverrides, action) {\n    var _a;\n    switch (action.type) {\n        case 'SET_OPTION':\n            return __assign(__assign({}, dynamicOptionOverrides), (_a = {}, _a[action.optionName] = action.rawOptionValue, _a));\n        default:\n            return dynamicOptionOverrides;\n    }\n}\n\nfunction reduceDateProfile(currentDateProfile, action, currentDate, dateProfileGenerator) {\n    var dp;\n    switch (action.type) {\n        case 'CHANGE_VIEW_TYPE':\n            return dateProfileGenerator.build(action.dateMarker || currentDate);\n        case 'CHANGE_DATE':\n            return dateProfileGenerator.build(action.dateMarker);\n        case 'PREV':\n            dp = dateProfileGenerator.buildPrev(currentDateProfile, currentDate);\n            if (dp.isValid) {\n                return dp;\n            }\n            break;\n        case 'NEXT':\n            dp = dateProfileGenerator.buildNext(currentDateProfile, currentDate);\n            if (dp.isValid) {\n                return dp;\n            }\n            break;\n    }\n    return currentDateProfile;\n}\n\nfunction initEventSources(calendarOptions, dateProfile, context) {\n    var activeRange = dateProfile ? dateProfile.activeRange : null;\n    return addSources({}, parseInitialSources(calendarOptions, context), activeRange, context);\n}\nfunction reduceEventSources(eventSources, action, dateProfile, context) {\n    var activeRange = dateProfile ? dateProfile.activeRange : null; // need this check?\n    switch (action.type) {\n        case 'ADD_EVENT_SOURCES': // already parsed\n            return addSources(eventSources, action.sources, activeRange, context);\n        case 'REMOVE_EVENT_SOURCE':\n            return removeSource(eventSources, action.sourceId);\n        case 'PREV': // TODO: how do we track all actions that affect dateProfile :(\n        case 'NEXT':\n        case 'CHANGE_DATE':\n        case 'CHANGE_VIEW_TYPE':\n            if (dateProfile) {\n                return fetchDirtySources(eventSources, activeRange, context);\n            }\n            return eventSources;\n        case 'FETCH_EVENT_SOURCES':\n            return fetchSourcesByIds(eventSources, action.sourceIds ? // why no type?\n                arrayToHash(action.sourceIds) :\n                excludeStaticSources(eventSources, context), activeRange, action.isRefetch || false, context);\n        case 'RECEIVE_EVENTS':\n        case 'RECEIVE_EVENT_ERROR':\n            return receiveResponse(eventSources, action.sourceId, action.fetchId, action.fetchRange);\n        case 'REMOVE_ALL_EVENT_SOURCES':\n            return {};\n        default:\n            return eventSources;\n    }\n}\nfunction reduceEventSourcesNewTimeZone(eventSources, dateProfile, context) {\n    var activeRange = dateProfile ? dateProfile.activeRange : null; // need this check?\n    return fetchSourcesByIds(eventSources, excludeStaticSources(eventSources, context), activeRange, true, context);\n}\nfunction computeEventSourcesLoading(eventSources) {\n    for (var sourceId in eventSources) {\n        if (eventSources[sourceId].isFetching) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction addSources(eventSourceHash, sources, fetchRange, context) {\n    var hash = {};\n    for (var _i = 0, sources_1 = sources; _i < sources_1.length; _i++) {\n        var source = sources_1[_i];\n        hash[source.sourceId] = source;\n    }\n    if (fetchRange) {\n        hash = fetchDirtySources(hash, fetchRange, context);\n    }\n    return __assign(__assign({}, eventSourceHash), hash);\n}\nfunction removeSource(eventSourceHash, sourceId) {\n    return filterHash(eventSourceHash, function (eventSource) { return eventSource.sourceId !== sourceId; });\n}\nfunction fetchDirtySources(sourceHash, fetchRange, context) {\n    return fetchSourcesByIds(sourceHash, filterHash(sourceHash, function (eventSource) { return isSourceDirty(eventSource, fetchRange, context); }), fetchRange, false, context);\n}\nfunction isSourceDirty(eventSource, fetchRange, context) {\n    if (!doesSourceNeedRange(eventSource, context)) {\n        return !eventSource.latestFetchId;\n    }\n    return !context.options.lazyFetching ||\n        !eventSource.fetchRange ||\n        eventSource.isFetching || // always cancel outdated in-progress fetches\n        fetchRange.start < eventSource.fetchRange.start ||\n        fetchRange.end > eventSource.fetchRange.end;\n}\nfunction fetchSourcesByIds(prevSources, sourceIdHash, fetchRange, isRefetch, context) {\n    var nextSources = {};\n    for (var sourceId in prevSources) {\n        var source = prevSources[sourceId];\n        if (sourceIdHash[sourceId]) {\n            nextSources[sourceId] = fetchSource(source, fetchRange, isRefetch, context);\n        }\n        else {\n            nextSources[sourceId] = source;\n        }\n    }\n    return nextSources;\n}\nfunction fetchSource(eventSource, fetchRange, isRefetch, context) {\n    var options = context.options, calendarApi = context.calendarApi;\n    var sourceDef = context.pluginHooks.eventSourceDefs[eventSource.sourceDefId];\n    var fetchId = guid();\n    sourceDef.fetch({\n        eventSource: eventSource,\n        range: fetchRange,\n        isRefetch: isRefetch,\n        context: context,\n    }, function (res) {\n        var rawEvents = res.rawEvents;\n        if (options.eventSourceSuccess) {\n            rawEvents = options.eventSourceSuccess.call(calendarApi, rawEvents, res.xhr) || rawEvents;\n        }\n        if (eventSource.success) {\n            rawEvents = eventSource.success.call(calendarApi, rawEvents, res.xhr) || rawEvents;\n        }\n        context.dispatch({\n            type: 'RECEIVE_EVENTS',\n            sourceId: eventSource.sourceId,\n            fetchId: fetchId,\n            fetchRange: fetchRange,\n            rawEvents: rawEvents,\n        });\n    }, function (error) {\n        console.warn(error.message, error);\n        if (options.eventSourceFailure) {\n            options.eventSourceFailure.call(calendarApi, error);\n        }\n        if (eventSource.failure) {\n            eventSource.failure(error);\n        }\n        context.dispatch({\n            type: 'RECEIVE_EVENT_ERROR',\n            sourceId: eventSource.sourceId,\n            fetchId: fetchId,\n            fetchRange: fetchRange,\n            error: error,\n        });\n    });\n    return __assign(__assign({}, eventSource), { isFetching: true, latestFetchId: fetchId });\n}\nfunction receiveResponse(sourceHash, sourceId, fetchId, fetchRange) {\n    var _a;\n    var eventSource = sourceHash[sourceId];\n    if (eventSource && // not already removed\n        fetchId === eventSource.latestFetchId) {\n        return __assign(__assign({}, sourceHash), (_a = {}, _a[sourceId] = __assign(__assign({}, eventSource), { isFetching: false, fetchRange: fetchRange }), _a));\n    }\n    return sourceHash;\n}\nfunction excludeStaticSources(eventSources, context) {\n    return filterHash(eventSources, function (eventSource) { return doesSourceNeedRange(eventSource, context); });\n}\nfunction parseInitialSources(rawOptions, context) {\n    var refiners = buildEventSourceRefiners(context);\n    var rawSources = [].concat(rawOptions.eventSources || []);\n    var sources = []; // parsed\n    if (rawOptions.initialEvents) {\n        rawSources.unshift(rawOptions.initialEvents);\n    }\n    if (rawOptions.events) {\n        rawSources.unshift(rawOptions.events);\n    }\n    for (var _i = 0, rawSources_1 = rawSources; _i < rawSources_1.length; _i++) {\n        var rawSource = rawSources_1[_i];\n        var source = parseEventSource(rawSource, context, refiners);\n        if (source) {\n            sources.push(source);\n        }\n    }\n    return sources;\n}\nfunction doesSourceNeedRange(eventSource, context) {\n    var defs = context.pluginHooks.eventSourceDefs;\n    return !defs[eventSource.sourceDefId].ignoreRange;\n}\n\nfunction reduceEventStore(eventStore, action, eventSources, dateProfile, context) {\n    switch (action.type) {\n        case 'RECEIVE_EVENTS': // raw\n            return receiveRawEvents(eventStore, eventSources[action.sourceId], action.fetchId, action.fetchRange, action.rawEvents, context);\n        case 'ADD_EVENTS': // already parsed, but not expanded\n            return addEvent(eventStore, action.eventStore, // new ones\n            dateProfile ? dateProfile.activeRange : null, context);\n        case 'RESET_EVENTS':\n            return action.eventStore;\n        case 'MERGE_EVENTS': // already parsed and expanded\n            return mergeEventStores(eventStore, action.eventStore);\n        case 'PREV': // TODO: how do we track all actions that affect dateProfile :(\n        case 'NEXT':\n        case 'CHANGE_DATE':\n        case 'CHANGE_VIEW_TYPE':\n            if (dateProfile) {\n                return expandRecurring(eventStore, dateProfile.activeRange, context);\n            }\n            return eventStore;\n        case 'REMOVE_EVENTS':\n            return excludeSubEventStore(eventStore, action.eventStore);\n        case 'REMOVE_EVENT_SOURCE':\n            return excludeEventsBySourceId(eventStore, action.sourceId);\n        case 'REMOVE_ALL_EVENT_SOURCES':\n            return filterEventStoreDefs(eventStore, function (eventDef) { return (!eventDef.sourceId // only keep events with no source id\n            ); });\n        case 'REMOVE_ALL_EVENTS':\n            return createEmptyEventStore();\n        default:\n            return eventStore;\n    }\n}\nfunction receiveRawEvents(eventStore, eventSource, fetchId, fetchRange, rawEvents, context) {\n    if (eventSource && // not already removed\n        fetchId === eventSource.latestFetchId // TODO: wish this logic was always in event-sources\n    ) {\n        var subset = parseEvents(transformRawEvents(rawEvents, eventSource, context), eventSource, context);\n        if (fetchRange) {\n            subset = expandRecurring(subset, fetchRange, context);\n        }\n        return mergeEventStores(excludeEventsBySourceId(eventStore, eventSource.sourceId), subset);\n    }\n    return eventStore;\n}\nfunction transformRawEvents(rawEvents, eventSource, context) {\n    var calEachTransform = context.options.eventDataTransform;\n    var sourceEachTransform = eventSource ? eventSource.eventDataTransform : null;\n    if (sourceEachTransform) {\n        rawEvents = transformEachRawEvent(rawEvents, sourceEachTransform);\n    }\n    if (calEachTransform) {\n        rawEvents = transformEachRawEvent(rawEvents, calEachTransform);\n    }\n    return rawEvents;\n}\nfunction transformEachRawEvent(rawEvents, func) {\n    var refinedEvents;\n    if (!func) {\n        refinedEvents = rawEvents;\n    }\n    else {\n        refinedEvents = [];\n        for (var _i = 0, rawEvents_1 = rawEvents; _i < rawEvents_1.length; _i++) {\n            var rawEvent = rawEvents_1[_i];\n            var refinedEvent = func(rawEvent);\n            if (refinedEvent) {\n                refinedEvents.push(refinedEvent);\n            }\n            else if (refinedEvent == null) {\n                refinedEvents.push(rawEvent);\n            } // if a different falsy value, do nothing\n        }\n    }\n    return refinedEvents;\n}\nfunction addEvent(eventStore, subset, expandRange, context) {\n    if (expandRange) {\n        subset = expandRecurring(subset, expandRange, context);\n    }\n    return mergeEventStores(eventStore, subset);\n}\nfunction rezoneEventStoreDates(eventStore, oldDateEnv, newDateEnv) {\n    var defs = eventStore.defs;\n    var instances = mapHash(eventStore.instances, function (instance) {\n        var def = defs[instance.defId];\n        if (def.allDay || def.recurringDef) {\n            return instance; // isn't dependent on timezone\n        }\n        return __assign(__assign({}, instance), { range: {\n                start: newDateEnv.createMarker(oldDateEnv.toDate(instance.range.start, instance.forcedStartTzo)),\n                end: newDateEnv.createMarker(oldDateEnv.toDate(instance.range.end, instance.forcedEndTzo)),\n            }, forcedStartTzo: newDateEnv.canComputeOffset ? null : instance.forcedStartTzo, forcedEndTzo: newDateEnv.canComputeOffset ? null : instance.forcedEndTzo });\n    });\n    return { defs: defs, instances: instances };\n}\nfunction excludeEventsBySourceId(eventStore, sourceId) {\n    return filterEventStoreDefs(eventStore, function (eventDef) { return eventDef.sourceId !== sourceId; });\n}\n// QUESTION: why not just return instances? do a general object-property-exclusion util\nfunction excludeInstances(eventStore, removals) {\n    return {\n        defs: eventStore.defs,\n        instances: filterHash(eventStore.instances, function (instance) { return !removals[instance.instanceId]; }),\n    };\n}\n\nfunction reduceDateSelection(currentSelection, action) {\n    switch (action.type) {\n        case 'UNSELECT_DATES':\n            return null;\n        case 'SELECT_DATES':\n            return action.selection;\n        default:\n            return currentSelection;\n    }\n}\n\nfunction reduceSelectedEvent(currentInstanceId, action) {\n    switch (action.type) {\n        case 'UNSELECT_EVENT':\n            return '';\n        case 'SELECT_EVENT':\n            return action.eventInstanceId;\n        default:\n            return currentInstanceId;\n    }\n}\n\nfunction reduceEventDrag(currentDrag, action) {\n    var newDrag;\n    switch (action.type) {\n        case 'UNSET_EVENT_DRAG':\n            return null;\n        case 'SET_EVENT_DRAG':\n            newDrag = action.state;\n            return {\n                affectedEvents: newDrag.affectedEvents,\n                mutatedEvents: newDrag.mutatedEvents,\n                isEvent: newDrag.isEvent,\n            };\n        default:\n            return currentDrag;\n    }\n}\n\nfunction reduceEventResize(currentResize, action) {\n    var newResize;\n    switch (action.type) {\n        case 'UNSET_EVENT_RESIZE':\n            return null;\n        case 'SET_EVENT_RESIZE':\n            newResize = action.state;\n            return {\n                affectedEvents: newResize.affectedEvents,\n                mutatedEvents: newResize.mutatedEvents,\n                isEvent: newResize.isEvent,\n            };\n        default:\n            return currentResize;\n    }\n}\n\nfunction parseToolbars(calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) {\n    var header = calendarOptions.headerToolbar ? parseToolbar(calendarOptions.headerToolbar, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) : null;\n    var footer = calendarOptions.footerToolbar ? parseToolbar(calendarOptions.footerToolbar, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) : null;\n    return { header: header, footer: footer };\n}\nfunction parseToolbar(sectionStrHash, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) {\n    var sectionWidgets = {};\n    var viewsWithButtons = [];\n    var hasTitle = false;\n    for (var sectionName in sectionStrHash) {\n        var sectionStr = sectionStrHash[sectionName];\n        var sectionRes = parseSection(sectionStr, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi);\n        sectionWidgets[sectionName] = sectionRes.widgets;\n        viewsWithButtons.push.apply(viewsWithButtons, sectionRes.viewsWithButtons);\n        hasTitle = hasTitle || sectionRes.hasTitle;\n    }\n    return { sectionWidgets: sectionWidgets, viewsWithButtons: viewsWithButtons, hasTitle: hasTitle };\n}\n/*\nBAD: querying icons and text here. should be done at render time\n*/\nfunction parseSection(sectionStr, calendarOptions, // defaults+overrides, then refined\ncalendarOptionOverrides, // overrides only!, unrefined :(\ntheme, viewSpecs, calendarApi) {\n    var isRtl = calendarOptions.direction === 'rtl';\n    var calendarCustomButtons = calendarOptions.customButtons || {};\n    var calendarButtonTextOverrides = calendarOptionOverrides.buttonText || {};\n    var calendarButtonText = calendarOptions.buttonText || {};\n    var calendarButtonHintOverrides = calendarOptionOverrides.buttonHints || {};\n    var calendarButtonHints = calendarOptions.buttonHints || {};\n    var sectionSubstrs = sectionStr ? sectionStr.split(' ') : [];\n    var viewsWithButtons = [];\n    var hasTitle = false;\n    var widgets = sectionSubstrs.map(function (buttonGroupStr) { return (buttonGroupStr.split(',').map(function (buttonName) {\n        if (buttonName === 'title') {\n            hasTitle = true;\n            return { buttonName: buttonName };\n        }\n        var customButtonProps;\n        var viewSpec;\n        var buttonClick;\n        var buttonIcon; // only one of these will be set\n        var buttonText; // \"\n        var buttonHint;\n        // ^ for the title=\"\" attribute, for accessibility\n        if ((customButtonProps = calendarCustomButtons[buttonName])) {\n            buttonClick = function (ev) {\n                if (customButtonProps.click) {\n                    customButtonProps.click.call(ev.target, ev, ev.target); // TODO: use Calendar this context?\n                }\n            };\n            (buttonIcon = theme.getCustomButtonIconClass(customButtonProps)) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = customButtonProps.text);\n            buttonHint = customButtonProps.hint || customButtonProps.text;\n        }\n        else if ((viewSpec = viewSpecs[buttonName])) {\n            viewsWithButtons.push(buttonName);\n            buttonClick = function () {\n                calendarApi.changeView(buttonName);\n            };\n            (buttonText = viewSpec.buttonTextOverride) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = viewSpec.buttonTextDefault);\n            var textFallback = viewSpec.buttonTextOverride ||\n                viewSpec.buttonTextDefault;\n            buttonHint = formatWithOrdinals(viewSpec.buttonTitleOverride ||\n                viewSpec.buttonTitleDefault ||\n                calendarOptions.viewHint, [textFallback, buttonName], // view-name = buttonName\n            textFallback);\n        }\n        else if (calendarApi[buttonName]) { // a calendarApi method\n            buttonClick = function () {\n                calendarApi[buttonName]();\n            };\n            (buttonText = calendarButtonTextOverrides[buttonName]) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = calendarButtonText[buttonName]); // everything else is considered default\n            if (buttonName === 'prevYear' || buttonName === 'nextYear') {\n                var prevOrNext = buttonName === 'prevYear' ? 'prev' : 'next';\n                buttonHint = formatWithOrdinals(calendarButtonHintOverrides[prevOrNext] ||\n                    calendarButtonHints[prevOrNext], [\n                    calendarButtonText.year || 'year',\n                    'year',\n                ], calendarButtonText[buttonName]);\n            }\n            else {\n                buttonHint = function (navUnit) { return formatWithOrdinals(calendarButtonHintOverrides[buttonName] ||\n                    calendarButtonHints[buttonName], [\n                    calendarButtonText[navUnit] || navUnit,\n                    navUnit,\n                ], calendarButtonText[buttonName]); };\n            }\n        }\n        return { buttonName: buttonName, buttonClick: buttonClick, buttonIcon: buttonIcon, buttonText: buttonText, buttonHint: buttonHint };\n    })); });\n    return { widgets: widgets, viewsWithButtons: viewsWithButtons, hasTitle: hasTitle };\n}\n\nvar eventSourceDef$2 = {\n    ignoreRange: true,\n    parseMeta: function (refined) {\n        if (Array.isArray(refined.events)) {\n            return refined.events;\n        }\n        return null;\n    },\n    fetch: function (arg, success) {\n        success({\n            rawEvents: arg.eventSource.meta,\n        });\n    },\n};\nvar arrayEventSourcePlugin = createPlugin({\n    eventSourceDefs: [eventSourceDef$2],\n});\n\nvar eventSourceDef$1 = {\n    parseMeta: function (refined) {\n        if (typeof refined.events === 'function') {\n            return refined.events;\n        }\n        return null;\n    },\n    fetch: function (arg, success, failure) {\n        var dateEnv = arg.context.dateEnv;\n        var func = arg.eventSource.meta;\n        unpromisify(func.bind(null, buildRangeApiWithTimeZone(arg.range, dateEnv)), function (rawEvents) {\n            success({ rawEvents: rawEvents }); // needs an object response\n        }, failure);\n    },\n};\nvar funcEventSourcePlugin = createPlugin({\n    eventSourceDefs: [eventSourceDef$1],\n});\n\nfunction requestJson(method, url, params, successCallback, failureCallback) {\n    method = method.toUpperCase();\n    var body = null;\n    if (method === 'GET') {\n        url = injectQueryStringParams(url, params);\n    }\n    else {\n        body = encodeParams(params);\n    }\n    var xhr = new XMLHttpRequest();\n    xhr.open(method, url, true);\n    if (method !== 'GET') {\n        xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n    }\n    xhr.onload = function () {\n        if (xhr.status >= 200 && xhr.status < 400) {\n            var parsed = false;\n            var res = void 0;\n            try {\n                res = JSON.parse(xhr.responseText);\n                parsed = true;\n            }\n            catch (err) {\n                // will handle parsed=false\n            }\n            if (parsed) {\n                successCallback(res, xhr);\n            }\n            else {\n                failureCallback('Failure parsing JSON', xhr);\n            }\n        }\n        else {\n            failureCallback('Request failed', xhr);\n        }\n    };\n    xhr.onerror = function () {\n        failureCallback('Request failed', xhr);\n    };\n    xhr.send(body);\n}\nfunction injectQueryStringParams(url, params) {\n    return url +\n        (url.indexOf('?') === -1 ? '?' : '&') +\n        encodeParams(params);\n}\nfunction encodeParams(params) {\n    var parts = [];\n    for (var key in params) {\n        parts.push(encodeURIComponent(key) + \"=\" + encodeURIComponent(params[key]));\n    }\n    return parts.join('&');\n}\n\nvar JSON_FEED_EVENT_SOURCE_REFINERS = {\n    method: String,\n    extraParams: identity,\n    startParam: String,\n    endParam: String,\n    timeZoneParam: String,\n};\n\nvar eventSourceDef = {\n    parseMeta: function (refined) {\n        if (refined.url && (refined.format === 'json' || !refined.format)) {\n            return {\n                url: refined.url,\n                format: 'json',\n                method: (refined.method || 'GET').toUpperCase(),\n                extraParams: refined.extraParams,\n                startParam: refined.startParam,\n                endParam: refined.endParam,\n                timeZoneParam: refined.timeZoneParam,\n            };\n        }\n        return null;\n    },\n    fetch: function (arg, success, failure) {\n        var meta = arg.eventSource.meta;\n        var requestParams = buildRequestParams(meta, arg.range, arg.context);\n        requestJson(meta.method, meta.url, requestParams, function (rawEvents, xhr) {\n            success({ rawEvents: rawEvents, xhr: xhr });\n        }, function (errorMessage, xhr) {\n            failure({ message: errorMessage, xhr: xhr });\n        });\n    },\n};\nvar jsonFeedEventSourcePlugin = createPlugin({\n    eventSourceRefiners: JSON_FEED_EVENT_SOURCE_REFINERS,\n    eventSourceDefs: [eventSourceDef],\n});\nfunction buildRequestParams(meta, range, context) {\n    var dateEnv = context.dateEnv, options = context.options;\n    var startParam;\n    var endParam;\n    var timeZoneParam;\n    var customRequestParams;\n    var params = {};\n    startParam = meta.startParam;\n    if (startParam == null) {\n        startParam = options.startParam;\n    }\n    endParam = meta.endParam;\n    if (endParam == null) {\n        endParam = options.endParam;\n    }\n    timeZoneParam = meta.timeZoneParam;\n    if (timeZoneParam == null) {\n        timeZoneParam = options.timeZoneParam;\n    }\n    // retrieve any outbound GET/POST data from the options\n    if (typeof meta.extraParams === 'function') {\n        // supplied as a function that returns a key/value object\n        customRequestParams = meta.extraParams();\n    }\n    else {\n        // probably supplied as a straight key/value object\n        customRequestParams = meta.extraParams || {};\n    }\n    __assign(params, customRequestParams);\n    params[startParam] = dateEnv.formatIso(range.start);\n    params[endParam] = dateEnv.formatIso(range.end);\n    if (dateEnv.timeZone !== 'local') {\n        params[timeZoneParam] = dateEnv.timeZone;\n    }\n    return params;\n}\n\nvar SIMPLE_RECURRING_REFINERS = {\n    daysOfWeek: identity,\n    startTime: createDuration,\n    endTime: createDuration,\n    duration: createDuration,\n    startRecur: identity,\n    endRecur: identity,\n};\n\nvar recurring = {\n    parse: function (refined, dateEnv) {\n        if (refined.daysOfWeek || refined.startTime || refined.endTime || refined.startRecur || refined.endRecur) {\n            var recurringData = {\n                daysOfWeek: refined.daysOfWeek || null,\n                startTime: refined.startTime || null,\n                endTime: refined.endTime || null,\n                startRecur: refined.startRecur ? dateEnv.createMarker(refined.startRecur) : null,\n                endRecur: refined.endRecur ? dateEnv.createMarker(refined.endRecur) : null,\n            };\n            var duration = void 0;\n            if (refined.duration) {\n                duration = refined.duration;\n            }\n            if (!duration && refined.startTime && refined.endTime) {\n                duration = subtractDurations(refined.endTime, refined.startTime);\n            }\n            return {\n                allDayGuess: Boolean(!refined.startTime && !refined.endTime),\n                duration: duration,\n                typeData: recurringData, // doesn't need endTime anymore but oh well\n            };\n        }\n        return null;\n    },\n    expand: function (typeData, framingRange, dateEnv) {\n        var clippedFramingRange = intersectRanges(framingRange, { start: typeData.startRecur, end: typeData.endRecur });\n        if (clippedFramingRange) {\n            return expandRanges(typeData.daysOfWeek, typeData.startTime, clippedFramingRange, dateEnv);\n        }\n        return [];\n    },\n};\nvar simpleRecurringEventsPlugin = createPlugin({\n    recurringTypes: [recurring],\n    eventRefiners: SIMPLE_RECURRING_REFINERS,\n});\nfunction expandRanges(daysOfWeek, startTime, framingRange, dateEnv) {\n    var dowHash = daysOfWeek ? arrayToHash(daysOfWeek) : null;\n    var dayMarker = startOfDay(framingRange.start);\n    var endMarker = framingRange.end;\n    var instanceStarts = [];\n    while (dayMarker < endMarker) {\n        var instanceStart \n        // if everyday, or this particular day-of-week\n        = void 0;\n        // if everyday, or this particular day-of-week\n        if (!dowHash || dowHash[dayMarker.getUTCDay()]) {\n            if (startTime) {\n                instanceStart = dateEnv.add(dayMarker, startTime);\n            }\n            else {\n                instanceStart = dayMarker;\n            }\n            instanceStarts.push(instanceStart);\n        }\n        dayMarker = addDays(dayMarker, 1);\n    }\n    return instanceStarts;\n}\n\nvar changeHandlerPlugin = createPlugin({\n    optionChangeHandlers: {\n        events: function (events, context) {\n            handleEventSources([events], context);\n        },\n        eventSources: handleEventSources,\n    },\n});\n/*\nBUG: if `event` was supplied, all previously-given `eventSources` will be wiped out\n*/\nfunction handleEventSources(inputs, context) {\n    var unfoundSources = hashValuesToArray(context.getCurrentData().eventSources);\n    var newInputs = [];\n    for (var _i = 0, inputs_1 = inputs; _i < inputs_1.length; _i++) {\n        var input = inputs_1[_i];\n        var inputFound = false;\n        for (var i = 0; i < unfoundSources.length; i += 1) {\n            if (unfoundSources[i]._raw === input) {\n                unfoundSources.splice(i, 1); // delete\n                inputFound = true;\n                break;\n            }\n        }\n        if (!inputFound) {\n            newInputs.push(input);\n        }\n    }\n    for (var _a = 0, unfoundSources_1 = unfoundSources; _a < unfoundSources_1.length; _a++) {\n        var unfoundSource = unfoundSources_1[_a];\n        context.dispatch({\n            type: 'REMOVE_EVENT_SOURCE',\n            sourceId: unfoundSource.sourceId,\n        });\n    }\n    for (var _b = 0, newInputs_1 = newInputs; _b < newInputs_1.length; _b++) {\n        var newInput = newInputs_1[_b];\n        context.calendarApi.addEventSource(newInput);\n    }\n}\n\nfunction handleDateProfile(dateProfile, context) {\n    context.emitter.trigger('datesSet', __assign(__assign({}, buildRangeApiWithTimeZone(dateProfile.activeRange, context.dateEnv)), { view: context.viewApi }));\n}\n\nfunction handleEventStore(eventStore, context) {\n    var emitter = context.emitter;\n    if (emitter.hasHandlers('eventsSet')) {\n        emitter.trigger('eventsSet', buildEventApis(eventStore, context));\n    }\n}\n\n/*\nthis array is exposed on the root namespace so that UMD plugins can add to it.\nsee the rollup-bundles script.\n*/\nvar globalPlugins = [\n    arrayEventSourcePlugin,\n    funcEventSourcePlugin,\n    jsonFeedEventSourcePlugin,\n    simpleRecurringEventsPlugin,\n    changeHandlerPlugin,\n    createPlugin({\n        isLoadingFuncs: [\n            function (state) { return computeEventSourcesLoading(state.eventSources); },\n        ],\n        contentTypeHandlers: {\n            html: buildHtmlRenderer,\n            domNodes: buildDomNodeRenderer,\n        },\n        propSetHandlers: {\n            dateProfile: handleDateProfile,\n            eventStore: handleEventStore,\n        },\n    }),\n];\nfunction buildHtmlRenderer() {\n    var currentEl = null;\n    var currentHtml = '';\n    function render(el, html) {\n        if (el !== currentEl || html !== currentHtml) {\n            el.innerHTML = html;\n        }\n        currentEl = el;\n        currentHtml = html;\n    }\n    function destroy() {\n        currentEl.innerHTML = '';\n        currentEl = null;\n        currentHtml = '';\n    }\n    return { render: render, destroy: destroy };\n}\nfunction buildDomNodeRenderer() {\n    var currentEl = null;\n    var currentDomNodes = [];\n    function render(el, domNodes) {\n        var newDomNodes = Array.prototype.slice.call(domNodes);\n        if (el !== currentEl || !isArraysEqual(currentDomNodes, newDomNodes)) {\n            // append first, remove second (for scroll resetting)\n            for (var _i = 0, newDomNodes_1 = newDomNodes; _i < newDomNodes_1.length; _i++) {\n                var newNode = newDomNodes_1[_i];\n                el.appendChild(newNode);\n            }\n            destroy();\n        }\n        currentEl = el;\n        currentDomNodes = newDomNodes;\n    }\n    function destroy() {\n        currentDomNodes.forEach(removeElement);\n        currentDomNodes = [];\n        currentEl = null;\n    }\n    return { render: render, destroy: destroy };\n}\n\nvar DelayedRunner = /** @class */ (function () {\n    function DelayedRunner(drainedOption) {\n        this.drainedOption = drainedOption;\n        this.isRunning = false;\n        this.isDirty = false;\n        this.pauseDepths = {};\n        this.timeoutId = 0;\n    }\n    DelayedRunner.prototype.request = function (delay) {\n        this.isDirty = true;\n        if (!this.isPaused()) {\n            this.clearTimeout();\n            if (delay == null) {\n                this.tryDrain();\n            }\n            else {\n                this.timeoutId = setTimeout(// NOT OPTIMAL! TODO: look at debounce\n                this.tryDrain.bind(this), delay);\n            }\n        }\n    };\n    DelayedRunner.prototype.pause = function (scope) {\n        if (scope === void 0) { scope = ''; }\n        var pauseDepths = this.pauseDepths;\n        pauseDepths[scope] = (pauseDepths[scope] || 0) + 1;\n        this.clearTimeout();\n    };\n    DelayedRunner.prototype.resume = function (scope, force) {\n        if (scope === void 0) { scope = ''; }\n        var pauseDepths = this.pauseDepths;\n        if (scope in pauseDepths) {\n            if (force) {\n                delete pauseDepths[scope];\n            }\n            else {\n                pauseDepths[scope] -= 1;\n                var depth = pauseDepths[scope];\n                if (depth <= 0) {\n                    delete pauseDepths[scope];\n                }\n            }\n            this.tryDrain();\n        }\n    };\n    DelayedRunner.prototype.isPaused = function () {\n        return Object.keys(this.pauseDepths).length;\n    };\n    DelayedRunner.prototype.tryDrain = function () {\n        if (!this.isRunning && !this.isPaused()) {\n            this.isRunning = true;\n            while (this.isDirty) {\n                this.isDirty = false;\n                this.drained(); // might set isDirty to true again\n            }\n            this.isRunning = false;\n        }\n    };\n    DelayedRunner.prototype.clear = function () {\n        this.clearTimeout();\n        this.isDirty = false;\n        this.pauseDepths = {};\n    };\n    DelayedRunner.prototype.clearTimeout = function () {\n        if (this.timeoutId) {\n            clearTimeout(this.timeoutId);\n            this.timeoutId = 0;\n        }\n    };\n    DelayedRunner.prototype.drained = function () {\n        if (this.drainedOption) {\n            this.drainedOption();\n        }\n    };\n    return DelayedRunner;\n}());\n\nvar TaskRunner = /** @class */ (function () {\n    function TaskRunner(runTaskOption, drainedOption) {\n        this.runTaskOption = runTaskOption;\n        this.drainedOption = drainedOption;\n        this.queue = [];\n        this.delayedRunner = new DelayedRunner(this.drain.bind(this));\n    }\n    TaskRunner.prototype.request = function (task, delay) {\n        this.queue.push(task);\n        this.delayedRunner.request(delay);\n    };\n    TaskRunner.prototype.pause = function (scope) {\n        this.delayedRunner.pause(scope);\n    };\n    TaskRunner.prototype.resume = function (scope, force) {\n        this.delayedRunner.resume(scope, force);\n    };\n    TaskRunner.prototype.drain = function () {\n        var queue = this.queue;\n        while (queue.length) {\n            var completedTasks = [];\n            var task = void 0;\n            while ((task = queue.shift())) {\n                this.runTask(task);\n                completedTasks.push(task);\n            }\n            this.drained(completedTasks);\n        } // keep going, in case new tasks were added in the drained handler\n    };\n    TaskRunner.prototype.runTask = function (task) {\n        if (this.runTaskOption) {\n            this.runTaskOption(task);\n        }\n    };\n    TaskRunner.prototype.drained = function (completedTasks) {\n        if (this.drainedOption) {\n            this.drainedOption(completedTasks);\n        }\n    };\n    return TaskRunner;\n}());\n\n// Computes what the title at the top of the calendarApi should be for this view\nfunction buildTitle(dateProfile, viewOptions, dateEnv) {\n    var range;\n    // for views that span a large unit of time, show the proper interval, ignoring stray days before and after\n    if (/^(year|month)$/.test(dateProfile.currentRangeUnit)) {\n        range = dateProfile.currentRange;\n    }\n    else { // for day units or smaller, use the actual day range\n        range = dateProfile.activeRange;\n    }\n    return dateEnv.formatRange(range.start, range.end, createFormatter(viewOptions.titleFormat || buildTitleFormat(dateProfile)), {\n        isEndExclusive: dateProfile.isRangeAllDay,\n        defaultSeparator: viewOptions.titleRangeSeparator,\n    });\n}\n// Generates the format string that should be used to generate the title for the current date range.\n// Attempts to compute the most appropriate format if not explicitly specified with `titleFormat`.\nfunction buildTitleFormat(dateProfile) {\n    var currentRangeUnit = dateProfile.currentRangeUnit;\n    if (currentRangeUnit === 'year') {\n        return { year: 'numeric' };\n    }\n    if (currentRangeUnit === 'month') {\n        return { year: 'numeric', month: 'long' }; // like \"September 2014\"\n    }\n    var days = diffWholeDays(dateProfile.currentRange.start, dateProfile.currentRange.end);\n    if (days !== null && days > 1) {\n        // multi-day range. shorter, like \"Sep 9 - 10 2014\"\n        return { year: 'numeric', month: 'short', day: 'numeric' };\n    }\n    // one day. longer, like \"September 9 2014\"\n    return { year: 'numeric', month: 'long', day: 'numeric' };\n}\n\n// in future refactor, do the redux-style function(state=initial) for initial-state\n// also, whatever is happening in constructor, have it happen in action queue too\nvar CalendarDataManager = /** @class */ (function () {\n    function CalendarDataManager(props) {\n        var _this = this;\n        this.computeOptionsData = memoize(this._computeOptionsData);\n        this.computeCurrentViewData = memoize(this._computeCurrentViewData);\n        this.organizeRawLocales = memoize(organizeRawLocales);\n        this.buildLocale = memoize(buildLocale);\n        this.buildPluginHooks = buildBuildPluginHooks();\n        this.buildDateEnv = memoize(buildDateEnv);\n        this.buildTheme = memoize(buildTheme);\n        this.parseToolbars = memoize(parseToolbars);\n        this.buildViewSpecs = memoize(buildViewSpecs);\n        this.buildDateProfileGenerator = memoizeObjArg(buildDateProfileGenerator);\n        this.buildViewApi = memoize(buildViewApi);\n        this.buildViewUiProps = memoizeObjArg(buildViewUiProps);\n        this.buildEventUiBySource = memoize(buildEventUiBySource, isPropsEqual);\n        this.buildEventUiBases = memoize(buildEventUiBases);\n        this.parseContextBusinessHours = memoizeObjArg(parseContextBusinessHours);\n        this.buildTitle = memoize(buildTitle);\n        this.emitter = new Emitter();\n        this.actionRunner = new TaskRunner(this._handleAction.bind(this), this.updateData.bind(this));\n        this.currentCalendarOptionsInput = {};\n        this.currentCalendarOptionsRefined = {};\n        this.currentViewOptionsInput = {};\n        this.currentViewOptionsRefined = {};\n        this.currentCalendarOptionsRefiners = {};\n        this.getCurrentData = function () { return _this.data; };\n        this.dispatch = function (action) {\n            _this.actionRunner.request(action); // protects against recursive calls to _handleAction\n        };\n        this.props = props;\n        this.actionRunner.pause();\n        var dynamicOptionOverrides = {};\n        var optionsData = this.computeOptionsData(props.optionOverrides, dynamicOptionOverrides, props.calendarApi);\n        var currentViewType = optionsData.calendarOptions.initialView || optionsData.pluginHooks.initialView;\n        var currentViewData = this.computeCurrentViewData(currentViewType, optionsData, props.optionOverrides, dynamicOptionOverrides);\n        // wire things up\n        // TODO: not DRY\n        props.calendarApi.currentDataManager = this;\n        this.emitter.setThisContext(props.calendarApi);\n        this.emitter.setOptions(currentViewData.options);\n        var currentDate = getInitialDate(optionsData.calendarOptions, optionsData.dateEnv);\n        var dateProfile = currentViewData.dateProfileGenerator.build(currentDate);\n        if (!rangeContainsMarker(dateProfile.activeRange, currentDate)) {\n            currentDate = dateProfile.currentRange.start;\n        }\n        var calendarContext = {\n            dateEnv: optionsData.dateEnv,\n            options: optionsData.calendarOptions,\n            pluginHooks: optionsData.pluginHooks,\n            calendarApi: props.calendarApi,\n            dispatch: this.dispatch,\n            emitter: this.emitter,\n            getCurrentData: this.getCurrentData,\n        };\n        // needs to be after setThisContext\n        for (var _i = 0, _a = optionsData.pluginHooks.contextInit; _i < _a.length; _i++) {\n            var callback = _a[_i];\n            callback(calendarContext);\n        }\n        // NOT DRY\n        var eventSources = initEventSources(optionsData.calendarOptions, dateProfile, calendarContext);\n        var initialState = {\n            dynamicOptionOverrides: dynamicOptionOverrides,\n            currentViewType: currentViewType,\n            currentDate: currentDate,\n            dateProfile: dateProfile,\n            businessHours: this.parseContextBusinessHours(calendarContext),\n            eventSources: eventSources,\n            eventUiBases: {},\n            eventStore: createEmptyEventStore(),\n            renderableEventStore: createEmptyEventStore(),\n            dateSelection: null,\n            eventSelection: '',\n            eventDrag: null,\n            eventResize: null,\n            selectionConfig: this.buildViewUiProps(calendarContext).selectionConfig,\n        };\n        var contextAndState = __assign(__assign({}, calendarContext), initialState);\n        for (var _b = 0, _c = optionsData.pluginHooks.reducers; _b < _c.length; _b++) {\n            var reducer = _c[_b];\n            __assign(initialState, reducer(null, null, contextAndState));\n        }\n        if (computeIsLoading(initialState, calendarContext)) {\n            this.emitter.trigger('loading', true); // NOT DRY\n        }\n        this.state = initialState;\n        this.updateData();\n        this.actionRunner.resume();\n    }\n    CalendarDataManager.prototype.resetOptions = function (optionOverrides, append) {\n        var props = this.props;\n        props.optionOverrides = append\n            ? __assign(__assign({}, props.optionOverrides), optionOverrides) : optionOverrides;\n        this.actionRunner.request({\n            type: 'NOTHING',\n        });\n    };\n    CalendarDataManager.prototype._handleAction = function (action) {\n        var _a = this, props = _a.props, state = _a.state, emitter = _a.emitter;\n        var dynamicOptionOverrides = reduceDynamicOptionOverrides(state.dynamicOptionOverrides, action);\n        var optionsData = this.computeOptionsData(props.optionOverrides, dynamicOptionOverrides, props.calendarApi);\n        var currentViewType = reduceViewType(state.currentViewType, action);\n        var currentViewData = this.computeCurrentViewData(currentViewType, optionsData, props.optionOverrides, dynamicOptionOverrides);\n        // wire things up\n        // TODO: not DRY\n        props.calendarApi.currentDataManager = this;\n        emitter.setThisContext(props.calendarApi);\n        emitter.setOptions(currentViewData.options);\n        var calendarContext = {\n            dateEnv: optionsData.dateEnv,\n            options: optionsData.calendarOptions,\n            pluginHooks: optionsData.pluginHooks,\n            calendarApi: props.calendarApi,\n            dispatch: this.dispatch,\n            emitter: emitter,\n            getCurrentData: this.getCurrentData,\n        };\n        var currentDate = state.currentDate, dateProfile = state.dateProfile;\n        if (this.data && this.data.dateProfileGenerator !== currentViewData.dateProfileGenerator) { // hack\n            dateProfile = currentViewData.dateProfileGenerator.build(currentDate);\n        }\n        currentDate = reduceCurrentDate(currentDate, action);\n        dateProfile = reduceDateProfile(dateProfile, action, currentDate, currentViewData.dateProfileGenerator);\n        if (action.type === 'PREV' || // TODO: move this logic into DateProfileGenerator\n            action.type === 'NEXT' || // \"\n            !rangeContainsMarker(dateProfile.currentRange, currentDate)) {\n            currentDate = dateProfile.currentRange.start;\n        }\n        var eventSources = reduceEventSources(state.eventSources, action, dateProfile, calendarContext);\n        var eventStore = reduceEventStore(state.eventStore, action, eventSources, dateProfile, calendarContext);\n        var isEventsLoading = computeEventSourcesLoading(eventSources); // BAD. also called in this func in computeIsLoading\n        var renderableEventStore = (isEventsLoading && !currentViewData.options.progressiveEventRendering) ?\n            (state.renderableEventStore || eventStore) : // try from previous state\n            eventStore;\n        var _b = this.buildViewUiProps(calendarContext), eventUiSingleBase = _b.eventUiSingleBase, selectionConfig = _b.selectionConfig; // will memoize obj\n        var eventUiBySource = this.buildEventUiBySource(eventSources);\n        var eventUiBases = this.buildEventUiBases(renderableEventStore.defs, eventUiSingleBase, eventUiBySource);\n        var newState = {\n            dynamicOptionOverrides: dynamicOptionOverrides,\n            currentViewType: currentViewType,\n            currentDate: currentDate,\n            dateProfile: dateProfile,\n            eventSources: eventSources,\n            eventStore: eventStore,\n            renderableEventStore: renderableEventStore,\n            selectionConfig: selectionConfig,\n            eventUiBases: eventUiBases,\n            businessHours: this.parseContextBusinessHours(calendarContext),\n            dateSelection: reduceDateSelection(state.dateSelection, action),\n            eventSelection: reduceSelectedEvent(state.eventSelection, action),\n            eventDrag: reduceEventDrag(state.eventDrag, action),\n            eventResize: reduceEventResize(state.eventResize, action),\n        };\n        var contextAndState = __assign(__assign({}, calendarContext), newState);\n        for (var _i = 0, _c = optionsData.pluginHooks.reducers; _i < _c.length; _i++) {\n            var reducer = _c[_i];\n            __assign(newState, reducer(state, action, contextAndState)); // give the OLD state, for old value\n        }\n        var wasLoading = computeIsLoading(state, calendarContext);\n        var isLoading = computeIsLoading(newState, calendarContext);\n        // TODO: use propSetHandlers in plugin system\n        if (!wasLoading && isLoading) {\n            emitter.trigger('loading', true);\n        }\n        else if (wasLoading && !isLoading) {\n            emitter.trigger('loading', false);\n        }\n        this.state = newState;\n        if (props.onAction) {\n            props.onAction(action);\n        }\n    };\n    CalendarDataManager.prototype.updateData = function () {\n        var _a = this, props = _a.props, state = _a.state;\n        var oldData = this.data;\n        var optionsData = this.computeOptionsData(props.optionOverrides, state.dynamicOptionOverrides, props.calendarApi);\n        var currentViewData = this.computeCurrentViewData(state.currentViewType, optionsData, props.optionOverrides, state.dynamicOptionOverrides);\n        var data = this.data = __assign(__assign(__assign({ viewTitle: this.buildTitle(state.dateProfile, currentViewData.options, optionsData.dateEnv), calendarApi: props.calendarApi, dispatch: this.dispatch, emitter: this.emitter, getCurrentData: this.getCurrentData }, optionsData), currentViewData), state);\n        var changeHandlers = optionsData.pluginHooks.optionChangeHandlers;\n        var oldCalendarOptions = oldData && oldData.calendarOptions;\n        var newCalendarOptions = optionsData.calendarOptions;\n        if (oldCalendarOptions && oldCalendarOptions !== newCalendarOptions) {\n            if (oldCalendarOptions.timeZone !== newCalendarOptions.timeZone) {\n                // hack\n                state.eventSources = data.eventSources = reduceEventSourcesNewTimeZone(data.eventSources, state.dateProfile, data);\n                state.eventStore = data.eventStore = rezoneEventStoreDates(data.eventStore, oldData.dateEnv, data.dateEnv);\n            }\n            for (var optionName in changeHandlers) {\n                if (oldCalendarOptions[optionName] !== newCalendarOptions[optionName]) {\n                    changeHandlers[optionName](newCalendarOptions[optionName], data);\n                }\n            }\n        }\n        if (props.onData) {\n            props.onData(data);\n        }\n    };\n    CalendarDataManager.prototype._computeOptionsData = function (optionOverrides, dynamicOptionOverrides, calendarApi) {\n        // TODO: blacklist options that are handled by optionChangeHandlers\n        var _a = this.processRawCalendarOptions(optionOverrides, dynamicOptionOverrides), refinedOptions = _a.refinedOptions, pluginHooks = _a.pluginHooks, localeDefaults = _a.localeDefaults, availableLocaleData = _a.availableLocaleData, extra = _a.extra;\n        warnUnknownOptions(extra);\n        var dateEnv = this.buildDateEnv(refinedOptions.timeZone, refinedOptions.locale, refinedOptions.weekNumberCalculation, refinedOptions.firstDay, refinedOptions.weekText, pluginHooks, availableLocaleData, refinedOptions.defaultRangeSeparator);\n        var viewSpecs = this.buildViewSpecs(pluginHooks.views, optionOverrides, dynamicOptionOverrides, localeDefaults);\n        var theme = this.buildTheme(refinedOptions, pluginHooks);\n        var toolbarConfig = this.parseToolbars(refinedOptions, optionOverrides, theme, viewSpecs, calendarApi);\n        return {\n            calendarOptions: refinedOptions,\n            pluginHooks: pluginHooks,\n            dateEnv: dateEnv,\n            viewSpecs: viewSpecs,\n            theme: theme,\n            toolbarConfig: toolbarConfig,\n            localeDefaults: localeDefaults,\n            availableRawLocales: availableLocaleData.map,\n        };\n    };\n    // always called from behind a memoizer\n    CalendarDataManager.prototype.processRawCalendarOptions = function (optionOverrides, dynamicOptionOverrides) {\n        var _a = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            optionOverrides,\n            dynamicOptionOverrides,\n        ]), locales = _a.locales, locale = _a.locale;\n        var availableLocaleData = this.organizeRawLocales(locales);\n        var availableRawLocales = availableLocaleData.map;\n        var localeDefaults = this.buildLocale(locale || availableLocaleData.defaultCode, availableRawLocales).options;\n        var pluginHooks = this.buildPluginHooks(optionOverrides.plugins || [], globalPlugins);\n        var refiners = this.currentCalendarOptionsRefiners = __assign(__assign(__assign(__assign(__assign({}, BASE_OPTION_REFINERS), CALENDAR_LISTENER_REFINERS), CALENDAR_OPTION_REFINERS), pluginHooks.listenerRefiners), pluginHooks.optionRefiners);\n        var extra = {};\n        var raw = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            localeDefaults,\n            optionOverrides,\n            dynamicOptionOverrides,\n        ]);\n        var refined = {};\n        var currentRaw = this.currentCalendarOptionsInput;\n        var currentRefined = this.currentCalendarOptionsRefined;\n        var anyChanges = false;\n        for (var optionName in raw) {\n            if (optionName !== 'plugins') { // because plugins is special-cased\n                if (raw[optionName] === currentRaw[optionName] ||\n                    (COMPLEX_OPTION_COMPARATORS[optionName] &&\n                        (optionName in currentRaw) &&\n                        COMPLEX_OPTION_COMPARATORS[optionName](currentRaw[optionName], raw[optionName]))) {\n                    refined[optionName] = currentRefined[optionName];\n                }\n                else if (refiners[optionName]) {\n                    refined[optionName] = refiners[optionName](raw[optionName]);\n                    anyChanges = true;\n                }\n                else {\n                    extra[optionName] = currentRaw[optionName];\n                }\n            }\n        }\n        if (anyChanges) {\n            this.currentCalendarOptionsInput = raw;\n            this.currentCalendarOptionsRefined = refined;\n        }\n        return {\n            rawOptions: this.currentCalendarOptionsInput,\n            refinedOptions: this.currentCalendarOptionsRefined,\n            pluginHooks: pluginHooks,\n            availableLocaleData: availableLocaleData,\n            localeDefaults: localeDefaults,\n            extra: extra,\n        };\n    };\n    CalendarDataManager.prototype._computeCurrentViewData = function (viewType, optionsData, optionOverrides, dynamicOptionOverrides) {\n        var viewSpec = optionsData.viewSpecs[viewType];\n        if (!viewSpec) {\n            throw new Error(\"viewType \\\"\" + viewType + \"\\\" is not available. Please make sure you've loaded all neccessary plugins\");\n        }\n        var _a = this.processRawViewOptions(viewSpec, optionsData.pluginHooks, optionsData.localeDefaults, optionOverrides, dynamicOptionOverrides), refinedOptions = _a.refinedOptions, extra = _a.extra;\n        warnUnknownOptions(extra);\n        var dateProfileGenerator = this.buildDateProfileGenerator({\n            dateProfileGeneratorClass: viewSpec.optionDefaults.dateProfileGeneratorClass,\n            duration: viewSpec.duration,\n            durationUnit: viewSpec.durationUnit,\n            usesMinMaxTime: viewSpec.optionDefaults.usesMinMaxTime,\n            dateEnv: optionsData.dateEnv,\n            calendarApi: this.props.calendarApi,\n            slotMinTime: refinedOptions.slotMinTime,\n            slotMaxTime: refinedOptions.slotMaxTime,\n            showNonCurrentDates: refinedOptions.showNonCurrentDates,\n            dayCount: refinedOptions.dayCount,\n            dateAlignment: refinedOptions.dateAlignment,\n            dateIncrement: refinedOptions.dateIncrement,\n            hiddenDays: refinedOptions.hiddenDays,\n            weekends: refinedOptions.weekends,\n            nowInput: refinedOptions.now,\n            validRangeInput: refinedOptions.validRange,\n            visibleRangeInput: refinedOptions.visibleRange,\n            monthMode: refinedOptions.monthMode,\n            fixedWeekCount: refinedOptions.fixedWeekCount,\n        });\n        var viewApi = this.buildViewApi(viewType, this.getCurrentData, optionsData.dateEnv);\n        return { viewSpec: viewSpec, options: refinedOptions, dateProfileGenerator: dateProfileGenerator, viewApi: viewApi };\n    };\n    CalendarDataManager.prototype.processRawViewOptions = function (viewSpec, pluginHooks, localeDefaults, optionOverrides, dynamicOptionOverrides) {\n        var raw = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            viewSpec.optionDefaults,\n            localeDefaults,\n            optionOverrides,\n            viewSpec.optionOverrides,\n            dynamicOptionOverrides,\n        ]);\n        var refiners = __assign(__assign(__assign(__assign(__assign(__assign({}, BASE_OPTION_REFINERS), CALENDAR_LISTENER_REFINERS), CALENDAR_OPTION_REFINERS), VIEW_OPTION_REFINERS), pluginHooks.listenerRefiners), pluginHooks.optionRefiners);\n        var refined = {};\n        var currentRaw = this.currentViewOptionsInput;\n        var currentRefined = this.currentViewOptionsRefined;\n        var anyChanges = false;\n        var extra = {};\n        for (var optionName in raw) {\n            if (raw[optionName] === currentRaw[optionName] ||\n                (COMPLEX_OPTION_COMPARATORS[optionName] &&\n                    COMPLEX_OPTION_COMPARATORS[optionName](raw[optionName], currentRaw[optionName]))) {\n                refined[optionName] = currentRefined[optionName];\n            }\n            else {\n                if (raw[optionName] === this.currentCalendarOptionsInput[optionName] ||\n                    (COMPLEX_OPTION_COMPARATORS[optionName] &&\n                        COMPLEX_OPTION_COMPARATORS[optionName](raw[optionName], this.currentCalendarOptionsInput[optionName]))) {\n                    if (optionName in this.currentCalendarOptionsRefined) { // might be an \"extra\" prop\n                        refined[optionName] = this.currentCalendarOptionsRefined[optionName];\n                    }\n                }\n                else if (refiners[optionName]) {\n                    refined[optionName] = refiners[optionName](raw[optionName]);\n                }\n                else {\n                    extra[optionName] = raw[optionName];\n                }\n                anyChanges = true;\n            }\n        }\n        if (anyChanges) {\n            this.currentViewOptionsInput = raw;\n            this.currentViewOptionsRefined = refined;\n        }\n        return {\n            rawOptions: this.currentViewOptionsInput,\n            refinedOptions: this.currentViewOptionsRefined,\n            extra: extra,\n        };\n    };\n    return CalendarDataManager;\n}());\nfunction buildDateEnv(timeZone, explicitLocale, weekNumberCalculation, firstDay, weekText, pluginHooks, availableLocaleData, defaultSeparator) {\n    var locale = buildLocale(explicitLocale || availableLocaleData.defaultCode, availableLocaleData.map);\n    return new DateEnv({\n        calendarSystem: 'gregory',\n        timeZone: timeZone,\n        namedTimeZoneImpl: pluginHooks.namedTimeZonedImpl,\n        locale: locale,\n        weekNumberCalculation: weekNumberCalculation,\n        firstDay: firstDay,\n        weekText: weekText,\n        cmdFormatter: pluginHooks.cmdFormatter,\n        defaultSeparator: defaultSeparator,\n    });\n}\nfunction buildTheme(options, pluginHooks) {\n    var ThemeClass = pluginHooks.themeClasses[options.themeSystem] || StandardTheme;\n    return new ThemeClass(options);\n}\nfunction buildDateProfileGenerator(props) {\n    var DateProfileGeneratorClass = props.dateProfileGeneratorClass || DateProfileGenerator;\n    return new DateProfileGeneratorClass(props);\n}\nfunction buildViewApi(type, getCurrentData, dateEnv) {\n    return new ViewApi(type, getCurrentData, dateEnv);\n}\nfunction buildEventUiBySource(eventSources) {\n    return mapHash(eventSources, function (eventSource) { return eventSource.ui; });\n}\nfunction buildEventUiBases(eventDefs, eventUiSingleBase, eventUiBySource) {\n    var eventUiBases = { '': eventUiSingleBase };\n    for (var defId in eventDefs) {\n        var def = eventDefs[defId];\n        if (def.sourceId && eventUiBySource[def.sourceId]) {\n            eventUiBases[defId] = eventUiBySource[def.sourceId];\n        }\n    }\n    return eventUiBases;\n}\nfunction buildViewUiProps(calendarContext) {\n    var options = calendarContext.options;\n    return {\n        eventUiSingleBase: createEventUi({\n            display: options.eventDisplay,\n            editable: options.editable,\n            startEditable: options.eventStartEditable,\n            durationEditable: options.eventDurationEditable,\n            constraint: options.eventConstraint,\n            overlap: typeof options.eventOverlap === 'boolean' ? options.eventOverlap : undefined,\n            allow: options.eventAllow,\n            backgroundColor: options.eventBackgroundColor,\n            borderColor: options.eventBorderColor,\n            textColor: options.eventTextColor,\n            color: options.eventColor,\n            // classNames: options.eventClassNames // render hook will handle this\n        }, calendarContext),\n        selectionConfig: createEventUi({\n            constraint: options.selectConstraint,\n            overlap: typeof options.selectOverlap === 'boolean' ? options.selectOverlap : undefined,\n            allow: options.selectAllow,\n        }, calendarContext),\n    };\n}\nfunction computeIsLoading(state, context) {\n    for (var _i = 0, _a = context.pluginHooks.isLoadingFuncs; _i < _a.length; _i++) {\n        var isLoadingFunc = _a[_i];\n        if (isLoadingFunc(state)) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction parseContextBusinessHours(calendarContext) {\n    return parseBusinessHours(calendarContext.options.businessHours, calendarContext);\n}\nfunction warnUnknownOptions(options, viewName) {\n    for (var optionName in options) {\n        console.warn(\"Unknown option '\" + optionName + \"'\" +\n            (viewName ? \" for view '\" + viewName + \"'\" : ''));\n    }\n}\n\n// TODO: move this to react plugin?\nvar CalendarDataProvider = /** @class */ (function (_super) {\n    __extends(CalendarDataProvider, _super);\n    function CalendarDataProvider(props) {\n        var _this = _super.call(this, props) || this;\n        _this.handleData = function (data) {\n            if (!_this.dataManager) { // still within initial run, before assignment in constructor\n                // eslint-disable-next-line react/no-direct-mutation-state\n                _this.state = data; // can't use setState yet\n            }\n            else {\n                _this.setState(data);\n            }\n        };\n        _this.dataManager = new CalendarDataManager({\n            optionOverrides: props.optionOverrides,\n            calendarApi: props.calendarApi,\n            onData: _this.handleData,\n        });\n        return _this;\n    }\n    CalendarDataProvider.prototype.render = function () {\n        return this.props.children(this.state);\n    };\n    CalendarDataProvider.prototype.componentDidUpdate = function (prevProps) {\n        var newOptionOverrides = this.props.optionOverrides;\n        if (newOptionOverrides !== prevProps.optionOverrides) { // prevent recursive handleData\n            this.dataManager.resetOptions(newOptionOverrides);\n        }\n    };\n    return CalendarDataProvider;\n}(Component));\n\n// HELPERS\n/*\nif nextDayThreshold is specified, slicing is done in an all-day fashion.\nyou can get nextDayThreshold from context.nextDayThreshold\n*/\nfunction sliceEvents(props, allDay) {\n    return sliceEventStore(props.eventStore, props.eventUiBases, props.dateProfile.activeRange, allDay ? props.nextDayThreshold : null).fg;\n}\n\nvar NamedTimeZoneImpl = /** @class */ (function () {\n    function NamedTimeZoneImpl(timeZoneName) {\n        this.timeZoneName = timeZoneName;\n    }\n    return NamedTimeZoneImpl;\n}());\n\nvar SegHierarchy = /** @class */ (function () {\n    function SegHierarchy() {\n        // settings\n        this.strictOrder = false;\n        this.allowReslicing = false;\n        this.maxCoord = -1; // -1 means no max\n        this.maxStackCnt = -1; // -1 means no max\n        this.levelCoords = []; // ordered\n        this.entriesByLevel = []; // parallel with levelCoords\n        this.stackCnts = {}; // TODO: use better technique!?\n    }\n    SegHierarchy.prototype.addSegs = function (inputs) {\n        var hiddenEntries = [];\n        for (var _i = 0, inputs_1 = inputs; _i < inputs_1.length; _i++) {\n            var input = inputs_1[_i];\n            this.insertEntry(input, hiddenEntries);\n        }\n        return hiddenEntries;\n    };\n    SegHierarchy.prototype.insertEntry = function (entry, hiddenEntries) {\n        var insertion = this.findInsertion(entry);\n        if (this.isInsertionValid(insertion, entry)) {\n            this.insertEntryAt(entry, insertion);\n            return 1;\n        }\n        return this.handleInvalidInsertion(insertion, entry, hiddenEntries);\n    };\n    SegHierarchy.prototype.isInsertionValid = function (insertion, entry) {\n        return (this.maxCoord === -1 || insertion.levelCoord + entry.thickness <= this.maxCoord) &&\n            (this.maxStackCnt === -1 || insertion.stackCnt < this.maxStackCnt);\n    };\n    // returns number of new entries inserted\n    SegHierarchy.prototype.handleInvalidInsertion = function (insertion, entry, hiddenEntries) {\n        if (this.allowReslicing && insertion.touchingEntry) {\n            return this.splitEntry(entry, insertion.touchingEntry, hiddenEntries);\n        }\n        hiddenEntries.push(entry);\n        return 0;\n    };\n    SegHierarchy.prototype.splitEntry = function (entry, barrier, hiddenEntries) {\n        var partCnt = 0;\n        var splitHiddenEntries = [];\n        var entrySpan = entry.span;\n        var barrierSpan = barrier.span;\n        if (entrySpan.start < barrierSpan.start) {\n            partCnt += this.insertEntry({\n                index: entry.index,\n                thickness: entry.thickness,\n                span: { start: entrySpan.start, end: barrierSpan.start },\n            }, splitHiddenEntries);\n        }\n        if (entrySpan.end > barrierSpan.end) {\n            partCnt += this.insertEntry({\n                index: entry.index,\n                thickness: entry.thickness,\n                span: { start: barrierSpan.end, end: entrySpan.end },\n            }, splitHiddenEntries);\n        }\n        if (partCnt) {\n            hiddenEntries.push.apply(hiddenEntries, __spreadArray([{\n                    index: entry.index,\n                    thickness: entry.thickness,\n                    span: intersectSpans(barrierSpan, entrySpan), // guaranteed to intersect\n                }], splitHiddenEntries));\n            return partCnt;\n        }\n        hiddenEntries.push(entry);\n        return 0;\n    };\n    SegHierarchy.prototype.insertEntryAt = function (entry, insertion) {\n        var _a = this, entriesByLevel = _a.entriesByLevel, levelCoords = _a.levelCoords;\n        if (insertion.lateral === -1) {\n            // create a new level\n            insertAt(levelCoords, insertion.level, insertion.levelCoord);\n            insertAt(entriesByLevel, insertion.level, [entry]);\n        }\n        else {\n            // insert into existing level\n            insertAt(entriesByLevel[insertion.level], insertion.lateral, entry);\n        }\n        this.stackCnts[buildEntryKey(entry)] = insertion.stackCnt;\n    };\n    SegHierarchy.prototype.findInsertion = function (newEntry) {\n        var _a = this, levelCoords = _a.levelCoords, entriesByLevel = _a.entriesByLevel, strictOrder = _a.strictOrder, stackCnts = _a.stackCnts;\n        var levelCnt = levelCoords.length;\n        var candidateCoord = 0;\n        var touchingLevel = -1;\n        var touchingLateral = -1;\n        var touchingEntry = null;\n        var stackCnt = 0;\n        for (var trackingLevel = 0; trackingLevel < levelCnt; trackingLevel += 1) {\n            var trackingCoord = levelCoords[trackingLevel];\n            // if the current level is past the placed entry, we have found a good empty space and can stop.\n            // if strictOrder, keep finding more lateral intersections.\n            if (!strictOrder && trackingCoord >= candidateCoord + newEntry.thickness) {\n                break;\n            }\n            var trackingEntries = entriesByLevel[trackingLevel];\n            var trackingEntry = void 0;\n            var searchRes = binarySearch(trackingEntries, newEntry.span.start, getEntrySpanEnd); // find first entry after newEntry's end\n            var lateralIndex = searchRes[0] + searchRes[1]; // if exact match (which doesn't collide), go to next one\n            while ( // loop through entries that horizontally intersect\n            (trackingEntry = trackingEntries[lateralIndex]) && // but not past the whole entry list\n                trackingEntry.span.start < newEntry.span.end // and not entirely past newEntry\n            ) {\n                var trackingEntryBottom = trackingCoord + trackingEntry.thickness;\n                // intersects into the top of the candidate?\n                if (trackingEntryBottom > candidateCoord) {\n                    candidateCoord = trackingEntryBottom;\n                    touchingEntry = trackingEntry;\n                    touchingLevel = trackingLevel;\n                    touchingLateral = lateralIndex;\n                }\n                // butts up against top of candidate? (will happen if just intersected as well)\n                if (trackingEntryBottom === candidateCoord) {\n                    // accumulate the highest possible stackCnt of the trackingEntries that butt up\n                    stackCnt = Math.max(stackCnt, stackCnts[buildEntryKey(trackingEntry)] + 1);\n                }\n                lateralIndex += 1;\n            }\n        }\n        // the destination level will be after touchingEntry's level. find it\n        var destLevel = 0;\n        if (touchingEntry) {\n            destLevel = touchingLevel + 1;\n            while (destLevel < levelCnt && levelCoords[destLevel] < candidateCoord) {\n                destLevel += 1;\n            }\n        }\n        // if adding to an existing level, find where to insert\n        var destLateral = -1;\n        if (destLevel < levelCnt && levelCoords[destLevel] === candidateCoord) {\n            destLateral = binarySearch(entriesByLevel[destLevel], newEntry.span.end, getEntrySpanEnd)[0];\n        }\n        return {\n            touchingLevel: touchingLevel,\n            touchingLateral: touchingLateral,\n            touchingEntry: touchingEntry,\n            stackCnt: stackCnt,\n            levelCoord: candidateCoord,\n            level: destLevel,\n            lateral: destLateral,\n        };\n    };\n    // sorted by levelCoord (lowest to highest)\n    SegHierarchy.prototype.toRects = function () {\n        var _a = this, entriesByLevel = _a.entriesByLevel, levelCoords = _a.levelCoords;\n        var levelCnt = entriesByLevel.length;\n        var rects = [];\n        for (var level = 0; level < levelCnt; level += 1) {\n            var entries = entriesByLevel[level];\n            var levelCoord = levelCoords[level];\n            for (var _i = 0, entries_1 = entries; _i < entries_1.length; _i++) {\n                var entry = entries_1[_i];\n                rects.push(__assign(__assign({}, entry), { levelCoord: levelCoord }));\n            }\n        }\n        return rects;\n    };\n    return SegHierarchy;\n}());\nfunction getEntrySpanEnd(entry) {\n    return entry.span.end;\n}\nfunction buildEntryKey(entry) {\n    return entry.index + ':' + entry.span.start;\n}\n// returns groups with entries sorted by input order\nfunction groupIntersectingEntries(entries) {\n    var merges = [];\n    for (var _i = 0, entries_2 = entries; _i < entries_2.length; _i++) {\n        var entry = entries_2[_i];\n        var filteredMerges = [];\n        var hungryMerge = {\n            span: entry.span,\n            entries: [entry],\n        };\n        for (var _a = 0, merges_1 = merges; _a < merges_1.length; _a++) {\n            var merge = merges_1[_a];\n            if (intersectSpans(merge.span, hungryMerge.span)) {\n                hungryMerge = {\n                    entries: merge.entries.concat(hungryMerge.entries),\n                    span: joinSpans(merge.span, hungryMerge.span),\n                };\n            }\n            else {\n                filteredMerges.push(merge);\n            }\n        }\n        filteredMerges.push(hungryMerge);\n        merges = filteredMerges;\n    }\n    return merges;\n}\nfunction joinSpans(span0, span1) {\n    return {\n        start: Math.min(span0.start, span1.start),\n        end: Math.max(span0.end, span1.end),\n    };\n}\nfunction intersectSpans(span0, span1) {\n    var start = Math.max(span0.start, span1.start);\n    var end = Math.min(span0.end, span1.end);\n    if (start < end) {\n        return { start: start, end: end };\n    }\n    return null;\n}\n// general util\n// ---------------------------------------------------------------------------------------------------------------------\nfunction insertAt(arr, index, item) {\n    arr.splice(index, 0, item);\n}\nfunction binarySearch(a, searchVal, getItemVal) {\n    var startIndex = 0;\n    var endIndex = a.length; // exclusive\n    if (!endIndex || searchVal < getItemVal(a[startIndex])) { // no items OR before first item\n        return [0, 0];\n    }\n    if (searchVal > getItemVal(a[endIndex - 1])) { // after last item\n        return [endIndex, 0];\n    }\n    while (startIndex < endIndex) {\n        var middleIndex = Math.floor(startIndex + (endIndex - startIndex) / 2);\n        var middleVal = getItemVal(a[middleIndex]);\n        if (searchVal < middleVal) {\n            endIndex = middleIndex;\n        }\n        else if (searchVal > middleVal) {\n            startIndex = middleIndex + 1;\n        }\n        else { // equal!\n            return [middleIndex, 1];\n        }\n    }\n    return [startIndex, 0];\n}\n\nvar Interaction = /** @class */ (function () {\n    function Interaction(settings) {\n        this.component = settings.component;\n        this.isHitComboAllowed = settings.isHitComboAllowed || null;\n    }\n    Interaction.prototype.destroy = function () {\n    };\n    return Interaction;\n}());\nfunction parseInteractionSettings(component, input) {\n    return {\n        component: component,\n        el: input.el,\n        useEventCenter: input.useEventCenter != null ? input.useEventCenter : true,\n        isHitComboAllowed: input.isHitComboAllowed || null,\n    };\n}\nfunction interactionSettingsToStore(settings) {\n    var _a;\n    return _a = {},\n        _a[settings.component.uid] = settings,\n        _a;\n}\n// global state\nvar interactionSettingsStore = {};\n\n/*\nAn abstraction for a dragging interaction originating on an event.\nDoes higher-level things than PointerDragger, such as possibly:\n- a \"mirror\" that moves with the pointer\n- a minimum number of pixels or other criteria for a true drag to begin\n\nsubclasses must emit:\n- pointerdown\n- dragstart\n- dragmove\n- pointerup\n- dragend\n*/\nvar ElementDragging = /** @class */ (function () {\n    function ElementDragging(el, selector) {\n        this.emitter = new Emitter();\n    }\n    ElementDragging.prototype.destroy = function () {\n    };\n    ElementDragging.prototype.setMirrorIsVisible = function (bool) {\n        // optional if subclass doesn't want to support a mirror\n    };\n    ElementDragging.prototype.setMirrorNeedsRevert = function (bool) {\n        // optional if subclass doesn't want to support a mirror\n    };\n    ElementDragging.prototype.setAutoScrollEnabled = function (bool) {\n        // optional\n    };\n    return ElementDragging;\n}());\n\n// TODO: get rid of this in favor of options system,\n// tho it's really easy to access this globally rather than pass thru options.\nvar config = {};\n\n/*\nInformation about what will happen when an external element is dragged-and-dropped\nonto a calendar. Contains information for creating an event.\n*/\nvar DRAG_META_REFINERS = {\n    startTime: createDuration,\n    duration: createDuration,\n    create: Boolean,\n    sourceId: String,\n};\nfunction parseDragMeta(raw) {\n    var _a = refineProps(raw, DRAG_META_REFINERS), refined = _a.refined, extra = _a.extra;\n    return {\n        startTime: refined.startTime || null,\n        duration: refined.duration || null,\n        create: refined.create != null ? refined.create : true,\n        sourceId: refined.sourceId,\n        leftoverProps: extra,\n    };\n}\n\nvar ToolbarSection = /** @class */ (function (_super) {\n    __extends(ToolbarSection, _super);\n    function ToolbarSection() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ToolbarSection.prototype.render = function () {\n        var _this = this;\n        var children = this.props.widgetGroups.map(function (widgetGroup) { return _this.renderWidgetGroup(widgetGroup); });\n        return createElement.apply(void 0, __spreadArray(['div', { className: 'fc-toolbar-chunk' }], children));\n    };\n    ToolbarSection.prototype.renderWidgetGroup = function (widgetGroup) {\n        var props = this.props;\n        var theme = this.context.theme;\n        var children = [];\n        var isOnlyButtons = true;\n        for (var _i = 0, widgetGroup_1 = widgetGroup; _i < widgetGroup_1.length; _i++) {\n            var widget = widgetGroup_1[_i];\n            var buttonName = widget.buttonName, buttonClick = widget.buttonClick, buttonText = widget.buttonText, buttonIcon = widget.buttonIcon, buttonHint = widget.buttonHint;\n            if (buttonName === 'title') {\n                isOnlyButtons = false;\n                children.push(createElement(\"h2\", { className: \"fc-toolbar-title\", id: props.titleId }, props.title));\n            }\n            else {\n                var isPressed = buttonName === props.activeButton;\n                var isDisabled = (!props.isTodayEnabled && buttonName === 'today') ||\n                    (!props.isPrevEnabled && buttonName === 'prev') ||\n                    (!props.isNextEnabled && buttonName === 'next');\n                var buttonClasses = [\"fc-\" + buttonName + \"-button\", theme.getClass('button')];\n                if (isPressed) {\n                    buttonClasses.push(theme.getClass('buttonActive'));\n                }\n                children.push(createElement(\"button\", { type: \"button\", title: typeof buttonHint === 'function' ? buttonHint(props.navUnit) : buttonHint, disabled: isDisabled, \"aria-pressed\": isPressed, className: buttonClasses.join(' '), onClick: buttonClick }, buttonText || (buttonIcon ? createElement(\"span\", { className: buttonIcon }) : '')));\n            }\n        }\n        if (children.length > 1) {\n            var groupClassName = (isOnlyButtons && theme.getClass('buttonGroup')) || '';\n            return createElement.apply(void 0, __spreadArray(['div', { className: groupClassName }], children));\n        }\n        return children[0];\n    };\n    return ToolbarSection;\n}(BaseComponent));\n\nvar Toolbar = /** @class */ (function (_super) {\n    __extends(Toolbar, _super);\n    function Toolbar() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Toolbar.prototype.render = function () {\n        var _a = this.props, model = _a.model, extraClassName = _a.extraClassName;\n        var forceLtr = false;\n        var startContent;\n        var endContent;\n        var sectionWidgets = model.sectionWidgets;\n        var centerContent = sectionWidgets.center;\n        if (sectionWidgets.left) {\n            forceLtr = true;\n            startContent = sectionWidgets.left;\n        }\n        else {\n            startContent = sectionWidgets.start;\n        }\n        if (sectionWidgets.right) {\n            forceLtr = true;\n            endContent = sectionWidgets.right;\n        }\n        else {\n            endContent = sectionWidgets.end;\n        }\n        var classNames = [\n            extraClassName || '',\n            'fc-toolbar',\n            forceLtr ? 'fc-toolbar-ltr' : '',\n        ];\n        return (createElement(\"div\", { className: classNames.join(' ') },\n            this.renderSection('start', startContent || []),\n            this.renderSection('center', centerContent || []),\n            this.renderSection('end', endContent || [])));\n    };\n    Toolbar.prototype.renderSection = function (key, widgetGroups) {\n        var props = this.props;\n        return (createElement(ToolbarSection, { key: key, widgetGroups: widgetGroups, title: props.title, navUnit: props.navUnit, activeButton: props.activeButton, isTodayEnabled: props.isTodayEnabled, isPrevEnabled: props.isPrevEnabled, isNextEnabled: props.isNextEnabled, titleId: props.titleId }));\n    };\n    return Toolbar;\n}(BaseComponent));\n\n// TODO: do function component?\nvar ViewContainer = /** @class */ (function (_super) {\n    __extends(ViewContainer, _super);\n    function ViewContainer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            availableWidth: null,\n        };\n        _this.handleEl = function (el) {\n            _this.el = el;\n            setRef(_this.props.elRef, el);\n            _this.updateAvailableWidth();\n        };\n        _this.handleResize = function () {\n            _this.updateAvailableWidth();\n        };\n        return _this;\n    }\n    ViewContainer.prototype.render = function () {\n        var _a = this, props = _a.props, state = _a.state;\n        var aspectRatio = props.aspectRatio;\n        var classNames = [\n            'fc-view-harness',\n            (aspectRatio || props.liquid || props.height)\n                ? 'fc-view-harness-active' // harness controls the height\n                : 'fc-view-harness-passive', // let the view do the height\n        ];\n        var height = '';\n        var paddingBottom = '';\n        if (aspectRatio) {\n            if (state.availableWidth !== null) {\n                height = state.availableWidth / aspectRatio;\n            }\n            else {\n                // while waiting to know availableWidth, we can't set height to *zero*\n                // because will cause lots of unnecessary scrollbars within scrollgrid.\n                // BETTER: don't start rendering ANYTHING yet until we know container width\n                // NOTE: why not always use paddingBottom? Causes height oscillation (issue 5606)\n                paddingBottom = (1 / aspectRatio) * 100 + \"%\";\n            }\n        }\n        else {\n            height = props.height || '';\n        }\n        return (createElement(\"div\", { \"aria-labelledby\": props.labeledById, ref: this.handleEl, className: classNames.join(' '), style: { height: height, paddingBottom: paddingBottom } }, props.children));\n    };\n    ViewContainer.prototype.componentDidMount = function () {\n        this.context.addResizeHandler(this.handleResize);\n    };\n    ViewContainer.prototype.componentWillUnmount = function () {\n        this.context.removeResizeHandler(this.handleResize);\n    };\n    ViewContainer.prototype.updateAvailableWidth = function () {\n        if (this.el && // needed. but why?\n            this.props.aspectRatio // aspectRatio is the only height setting that needs availableWidth\n        ) {\n            this.setState({ availableWidth: this.el.offsetWidth });\n        }\n    };\n    return ViewContainer;\n}(BaseComponent));\n\n/*\nDetects when the user clicks on an event within a DateComponent\n*/\nvar EventClicking = /** @class */ (function (_super) {\n    __extends(EventClicking, _super);\n    function EventClicking(settings) {\n        var _this = _super.call(this, settings) || this;\n        _this.handleSegClick = function (ev, segEl) {\n            var component = _this.component;\n            var context = component.context;\n            var seg = getElSeg(segEl);\n            if (seg && // might be the <div> surrounding the more link\n                component.isValidSegDownEl(ev.target)) {\n                // our way to simulate a link click for elements that can't be <a> tags\n                // grab before trigger fired in case trigger trashes DOM thru rerendering\n                var hasUrlContainer = elementClosest(ev.target, '.fc-event-forced-url');\n                var url = hasUrlContainer ? hasUrlContainer.querySelector('a[href]').href : '';\n                context.emitter.trigger('eventClick', {\n                    el: segEl,\n                    event: new EventApi(component.context, seg.eventRange.def, seg.eventRange.instance),\n                    jsEvent: ev,\n                    view: context.viewApi,\n                });\n                if (url && !ev.defaultPrevented) {\n                    window.location.href = url;\n                }\n            }\n        };\n        _this.destroy = listenBySelector(settings.el, 'click', '.fc-event', // on both fg and bg events\n        _this.handleSegClick);\n        return _this;\n    }\n    return EventClicking;\n}(Interaction));\n\n/*\nTriggers events and adds/removes core classNames when the user's pointer\nenters/leaves event-elements of a component.\n*/\nvar EventHovering = /** @class */ (function (_super) {\n    __extends(EventHovering, _super);\n    function EventHovering(settings) {\n        var _this = _super.call(this, settings) || this;\n        // for simulating an eventMouseLeave when the event el is destroyed while mouse is over it\n        _this.handleEventElRemove = function (el) {\n            if (el === _this.currentSegEl) {\n                _this.handleSegLeave(null, _this.currentSegEl);\n            }\n        };\n        _this.handleSegEnter = function (ev, segEl) {\n            if (getElSeg(segEl)) { // TODO: better way to make sure not hovering over more+ link or its wrapper\n                _this.currentSegEl = segEl;\n                _this.triggerEvent('eventMouseEnter', ev, segEl);\n            }\n        };\n        _this.handleSegLeave = function (ev, segEl) {\n            if (_this.currentSegEl) {\n                _this.currentSegEl = null;\n                _this.triggerEvent('eventMouseLeave', ev, segEl);\n            }\n        };\n        _this.removeHoverListeners = listenToHoverBySelector(settings.el, '.fc-event', // on both fg and bg events\n        _this.handleSegEnter, _this.handleSegLeave);\n        return _this;\n    }\n    EventHovering.prototype.destroy = function () {\n        this.removeHoverListeners();\n    };\n    EventHovering.prototype.triggerEvent = function (publicEvName, ev, segEl) {\n        var component = this.component;\n        var context = component.context;\n        var seg = getElSeg(segEl);\n        if (!ev || component.isValidSegDownEl(ev.target)) {\n            context.emitter.trigger(publicEvName, {\n                el: segEl,\n                event: new EventApi(context, seg.eventRange.def, seg.eventRange.instance),\n                jsEvent: ev,\n                view: context.viewApi,\n            });\n        }\n    };\n    return EventHovering;\n}(Interaction));\n\nvar CalendarContent = /** @class */ (function (_super) {\n    __extends(CalendarContent, _super);\n    function CalendarContent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.buildViewContext = memoize(buildViewContext);\n        _this.buildViewPropTransformers = memoize(buildViewPropTransformers);\n        _this.buildToolbarProps = memoize(buildToolbarProps);\n        _this.headerRef = createRef();\n        _this.footerRef = createRef();\n        _this.interactionsStore = {};\n        // eslint-disable-next-line\n        _this.state = {\n            viewLabelId: getUniqueDomId(),\n        };\n        // Component Registration\n        // -----------------------------------------------------------------------------------------------------------------\n        _this.registerInteractiveComponent = function (component, settingsInput) {\n            var settings = parseInteractionSettings(component, settingsInput);\n            var DEFAULT_INTERACTIONS = [\n                EventClicking,\n                EventHovering,\n            ];\n            var interactionClasses = DEFAULT_INTERACTIONS.concat(_this.props.pluginHooks.componentInteractions);\n            var interactions = interactionClasses.map(function (TheInteractionClass) { return new TheInteractionClass(settings); });\n            _this.interactionsStore[component.uid] = interactions;\n            interactionSettingsStore[component.uid] = settings;\n        };\n        _this.unregisterInteractiveComponent = function (component) {\n            var listeners = _this.interactionsStore[component.uid];\n            if (listeners) {\n                for (var _i = 0, listeners_1 = listeners; _i < listeners_1.length; _i++) {\n                    var listener = listeners_1[_i];\n                    listener.destroy();\n                }\n                delete _this.interactionsStore[component.uid];\n            }\n            delete interactionSettingsStore[component.uid];\n        };\n        // Resizing\n        // -----------------------------------------------------------------------------------------------------------------\n        _this.resizeRunner = new DelayedRunner(function () {\n            _this.props.emitter.trigger('_resize', true); // should window resizes be considered \"forced\" ?\n            _this.props.emitter.trigger('windowResize', { view: _this.props.viewApi });\n        });\n        _this.handleWindowResize = function (ev) {\n            var options = _this.props.options;\n            if (options.handleWindowResize &&\n                ev.target === window // avoid jqui events\n            ) {\n                _this.resizeRunner.request(options.windowResizeDelay);\n            }\n        };\n        return _this;\n    }\n    /*\n    renders INSIDE of an outer div\n    */\n    CalendarContent.prototype.render = function () {\n        var props = this.props;\n        var toolbarConfig = props.toolbarConfig, options = props.options;\n        var toolbarProps = this.buildToolbarProps(props.viewSpec, props.dateProfile, props.dateProfileGenerator, props.currentDate, getNow(props.options.now, props.dateEnv), // TODO: use NowTimer????\n        props.viewTitle);\n        var viewVGrow = false;\n        var viewHeight = '';\n        var viewAspectRatio;\n        if (props.isHeightAuto || props.forPrint) {\n            viewHeight = '';\n        }\n        else if (options.height != null) {\n            viewVGrow = true;\n        }\n        else if (options.contentHeight != null) {\n            viewHeight = options.contentHeight;\n        }\n        else {\n            viewAspectRatio = Math.max(options.aspectRatio, 0.5); // prevent from getting too tall\n        }\n        var viewContext = this.buildViewContext(props.viewSpec, props.viewApi, props.options, props.dateProfileGenerator, props.dateEnv, props.theme, props.pluginHooks, props.dispatch, props.getCurrentData, props.emitter, props.calendarApi, this.registerInteractiveComponent, this.unregisterInteractiveComponent);\n        var viewLabelId = (toolbarConfig.header && toolbarConfig.header.hasTitle)\n            ? this.state.viewLabelId\n            : '';\n        return (createElement(ViewContextType.Provider, { value: viewContext },\n            toolbarConfig.header && (createElement(Toolbar, __assign({ ref: this.headerRef, extraClassName: \"fc-header-toolbar\", model: toolbarConfig.header, titleId: viewLabelId }, toolbarProps))),\n            createElement(ViewContainer, { liquid: viewVGrow, height: viewHeight, aspectRatio: viewAspectRatio, labeledById: viewLabelId },\n                this.renderView(props),\n                this.buildAppendContent()),\n            toolbarConfig.footer && (createElement(Toolbar, __assign({ ref: this.footerRef, extraClassName: \"fc-footer-toolbar\", model: toolbarConfig.footer, titleId: \"\" }, toolbarProps)))));\n    };\n    CalendarContent.prototype.componentDidMount = function () {\n        var props = this.props;\n        this.calendarInteractions = props.pluginHooks.calendarInteractions\n            .map(function (CalendarInteractionClass) { return new CalendarInteractionClass(props); });\n        window.addEventListener('resize', this.handleWindowResize);\n        var propSetHandlers = props.pluginHooks.propSetHandlers;\n        for (var propName in propSetHandlers) {\n            propSetHandlers[propName](props[propName], props);\n        }\n    };\n    CalendarContent.prototype.componentDidUpdate = function (prevProps) {\n        var props = this.props;\n        var propSetHandlers = props.pluginHooks.propSetHandlers;\n        for (var propName in propSetHandlers) {\n            if (props[propName] !== prevProps[propName]) {\n                propSetHandlers[propName](props[propName], props);\n            }\n        }\n    };\n    CalendarContent.prototype.componentWillUnmount = function () {\n        window.removeEventListener('resize', this.handleWindowResize);\n        this.resizeRunner.clear();\n        for (var _i = 0, _a = this.calendarInteractions; _i < _a.length; _i++) {\n            var interaction = _a[_i];\n            interaction.destroy();\n        }\n        this.props.emitter.trigger('_unmount');\n    };\n    CalendarContent.prototype.buildAppendContent = function () {\n        var props = this.props;\n        var children = props.pluginHooks.viewContainerAppends.map(function (buildAppendContent) { return buildAppendContent(props); });\n        return createElement.apply(void 0, __spreadArray([Fragment, {}], children));\n    };\n    CalendarContent.prototype.renderView = function (props) {\n        var pluginHooks = props.pluginHooks;\n        var viewSpec = props.viewSpec;\n        var viewProps = {\n            dateProfile: props.dateProfile,\n            businessHours: props.businessHours,\n            eventStore: props.renderableEventStore,\n            eventUiBases: props.eventUiBases,\n            dateSelection: props.dateSelection,\n            eventSelection: props.eventSelection,\n            eventDrag: props.eventDrag,\n            eventResize: props.eventResize,\n            isHeightAuto: props.isHeightAuto,\n            forPrint: props.forPrint,\n        };\n        var transformers = this.buildViewPropTransformers(pluginHooks.viewPropsTransformers);\n        for (var _i = 0, transformers_1 = transformers; _i < transformers_1.length; _i++) {\n            var transformer = transformers_1[_i];\n            __assign(viewProps, transformer.transform(viewProps, props));\n        }\n        var ViewComponent = viewSpec.component;\n        return (createElement(ViewComponent, __assign({}, viewProps)));\n    };\n    return CalendarContent;\n}(PureComponent));\nfunction buildToolbarProps(viewSpec, dateProfile, dateProfileGenerator, currentDate, now, title) {\n    // don't force any date-profiles to valid date profiles (the `false`) so that we can tell if it's invalid\n    var todayInfo = dateProfileGenerator.build(now, undefined, false); // TODO: need `undefined` or else INFINITE LOOP for some reason\n    var prevInfo = dateProfileGenerator.buildPrev(dateProfile, currentDate, false);\n    var nextInfo = dateProfileGenerator.buildNext(dateProfile, currentDate, false);\n    return {\n        title: title,\n        activeButton: viewSpec.type,\n        navUnit: viewSpec.singleUnit,\n        isTodayEnabled: todayInfo.isValid && !rangeContainsMarker(dateProfile.currentRange, now),\n        isPrevEnabled: prevInfo.isValid,\n        isNextEnabled: nextInfo.isValid,\n    };\n}\n// Plugin\n// -----------------------------------------------------------------------------------------------------------------\nfunction buildViewPropTransformers(theClasses) {\n    return theClasses.map(function (TheClass) { return new TheClass(); });\n}\n\nvar CalendarRoot = /** @class */ (function (_super) {\n    __extends(CalendarRoot, _super);\n    function CalendarRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            forPrint: false,\n        };\n        _this.handleBeforePrint = function () {\n            _this.setState({ forPrint: true });\n        };\n        _this.handleAfterPrint = function () {\n            _this.setState({ forPrint: false });\n        };\n        return _this;\n    }\n    CalendarRoot.prototype.render = function () {\n        var props = this.props;\n        var options = props.options;\n        var forPrint = this.state.forPrint;\n        var isHeightAuto = forPrint || options.height === 'auto' || options.contentHeight === 'auto';\n        var height = (!isHeightAuto && options.height != null) ? options.height : '';\n        var classNames = [\n            'fc',\n            forPrint ? 'fc-media-print' : 'fc-media-screen',\n            \"fc-direction-\" + options.direction,\n            props.theme.getClass('root'),\n        ];\n        if (!getCanVGrowWithinCell()) {\n            classNames.push('fc-liquid-hack');\n        }\n        return props.children(classNames, height, isHeightAuto, forPrint);\n    };\n    CalendarRoot.prototype.componentDidMount = function () {\n        var emitter = this.props.emitter;\n        emitter.on('_beforeprint', this.handleBeforePrint);\n        emitter.on('_afterprint', this.handleAfterPrint);\n    };\n    CalendarRoot.prototype.componentWillUnmount = function () {\n        var emitter = this.props.emitter;\n        emitter.off('_beforeprint', this.handleBeforePrint);\n        emitter.off('_afterprint', this.handleAfterPrint);\n    };\n    return CalendarRoot;\n}(BaseComponent));\n\n// Computes a default column header formatting string if `colFormat` is not explicitly defined\nfunction computeFallbackHeaderFormat(datesRepDistinctDays, dayCnt) {\n    // if more than one week row, or if there are a lot of columns with not much space,\n    // put just the day numbers will be in each cell\n    if (!datesRepDistinctDays || dayCnt > 10) {\n        return createFormatter({ weekday: 'short' }); // \"Sat\"\n    }\n    if (dayCnt > 1) {\n        return createFormatter({ weekday: 'short', month: 'numeric', day: 'numeric', omitCommas: true }); // \"Sat 11/12\"\n    }\n    return createFormatter({ weekday: 'long' }); // \"Saturday\"\n}\n\nvar CLASS_NAME = 'fc-col-header-cell'; // do the cushion too? no\nfunction renderInner$1(hookProps) {\n    return hookProps.text;\n}\n\nvar TableDateCell = /** @class */ (function (_super) {\n    __extends(TableDateCell, _super);\n    function TableDateCell() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableDateCell.prototype.render = function () {\n        var _a = this.context, dateEnv = _a.dateEnv, options = _a.options, theme = _a.theme, viewApi = _a.viewApi;\n        var props = this.props;\n        var date = props.date, dateProfile = props.dateProfile;\n        var dayMeta = getDateMeta(date, props.todayRange, null, dateProfile);\n        var classNames = [CLASS_NAME].concat(getDayClassNames(dayMeta, theme));\n        var text = dateEnv.format(date, props.dayHeaderFormat);\n        // if colCnt is 1, we are already in a day-view and don't need a navlink\n        var navLinkAttrs = (!dayMeta.isDisabled && props.colCnt > 1)\n            ? buildNavLinkAttrs(this.context, date)\n            : {};\n        var hookProps = __assign(__assign(__assign({ date: dateEnv.toDate(date), view: viewApi }, props.extraHookProps), { text: text }), dayMeta);\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.dayHeaderClassNames, content: options.dayHeaderContent, defaultContent: renderInner$1, didMount: options.dayHeaderDidMount, willUnmount: options.dayHeaderWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"th\", __assign({ ref: rootElRef, role: \"columnheader\", className: classNames.concat(customClassNames).join(' '), \"data-date\": !dayMeta.isDisabled ? formatDayString(date) : undefined, colSpan: props.colSpan }, props.extraDataAttrs),\n            createElement(\"div\", { className: \"fc-scrollgrid-sync-inner\" }, !dayMeta.isDisabled && (createElement(\"a\", __assign({ ref: innerElRef, className: [\n                    'fc-col-header-cell-cushion',\n                    props.isSticky ? 'fc-sticky' : '',\n                ].join(' ') }, navLinkAttrs), innerContent))))); }));\n    };\n    return TableDateCell;\n}(BaseComponent));\n\nvar WEEKDAY_FORMAT = createFormatter({ weekday: 'long' });\nvar TableDowCell = /** @class */ (function (_super) {\n    __extends(TableDowCell, _super);\n    function TableDowCell() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableDowCell.prototype.render = function () {\n        var props = this.props;\n        var _a = this.context, dateEnv = _a.dateEnv, theme = _a.theme, viewApi = _a.viewApi, options = _a.options;\n        var date = addDays(new Date(259200000), props.dow); // start with Sun, 04 Jan 1970 00:00:00 GMT\n        var dateMeta = {\n            dow: props.dow,\n            isDisabled: false,\n            isFuture: false,\n            isPast: false,\n            isToday: false,\n            isOther: false,\n        };\n        var classNames = [CLASS_NAME].concat(getDayClassNames(dateMeta, theme), props.extraClassNames || []);\n        var text = dateEnv.format(date, props.dayHeaderFormat);\n        var hookProps = __assign(__assign(__assign(__assign({ // TODO: make this public?\n            date: date }, dateMeta), { view: viewApi }), props.extraHookProps), { text: text });\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.dayHeaderClassNames, content: options.dayHeaderContent, defaultContent: renderInner$1, didMount: options.dayHeaderDidMount, willUnmount: options.dayHeaderWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"th\", __assign({ ref: rootElRef, role: \"columnheader\", className: classNames.concat(customClassNames).join(' '), colSpan: props.colSpan }, props.extraDataAttrs),\n            createElement(\"div\", { className: \"fc-scrollgrid-sync-inner\" },\n                createElement(\"a\", { \"aria-label\": dateEnv.format(date, WEEKDAY_FORMAT), className: [\n                        'fc-col-header-cell-cushion',\n                        props.isSticky ? 'fc-sticky' : '',\n                    ].join(' '), ref: innerElRef }, innerContent)))); }));\n    };\n    return TableDowCell;\n}(BaseComponent));\n\nvar NowTimer = /** @class */ (function (_super) {\n    __extends(NowTimer, _super);\n    function NowTimer(props, context) {\n        var _this = _super.call(this, props, context) || this;\n        _this.initialNowDate = getNow(context.options.now, context.dateEnv);\n        _this.initialNowQueriedMs = new Date().valueOf();\n        _this.state = _this.computeTiming().currentState;\n        return _this;\n    }\n    NowTimer.prototype.render = function () {\n        var _a = this, props = _a.props, state = _a.state;\n        return props.children(state.nowDate, state.todayRange);\n    };\n    NowTimer.prototype.componentDidMount = function () {\n        this.setTimeout();\n    };\n    NowTimer.prototype.componentDidUpdate = function (prevProps) {\n        if (prevProps.unit !== this.props.unit) {\n            this.clearTimeout();\n            this.setTimeout();\n        }\n    };\n    NowTimer.prototype.componentWillUnmount = function () {\n        this.clearTimeout();\n    };\n    NowTimer.prototype.computeTiming = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var unroundedNow = addMs(this.initialNowDate, new Date().valueOf() - this.initialNowQueriedMs);\n        var currentUnitStart = context.dateEnv.startOf(unroundedNow, props.unit);\n        var nextUnitStart = context.dateEnv.add(currentUnitStart, createDuration(1, props.unit));\n        var waitMs = nextUnitStart.valueOf() - unroundedNow.valueOf();\n        // there is a max setTimeout ms value (https://stackoverflow.com/a/3468650/96342)\n        // ensure no longer than a day\n        waitMs = Math.min(1000 * 60 * 60 * 24, waitMs);\n        return {\n            currentState: { nowDate: currentUnitStart, todayRange: buildDayRange(currentUnitStart) },\n            nextState: { nowDate: nextUnitStart, todayRange: buildDayRange(nextUnitStart) },\n            waitMs: waitMs,\n        };\n    };\n    NowTimer.prototype.setTimeout = function () {\n        var _this = this;\n        var _a = this.computeTiming(), nextState = _a.nextState, waitMs = _a.waitMs;\n        this.timeoutId = setTimeout(function () {\n            _this.setState(nextState, function () {\n                _this.setTimeout();\n            });\n        }, waitMs);\n    };\n    NowTimer.prototype.clearTimeout = function () {\n        if (this.timeoutId) {\n            clearTimeout(this.timeoutId);\n        }\n    };\n    NowTimer.contextType = ViewContextType;\n    return NowTimer;\n}(Component));\nfunction buildDayRange(date) {\n    var start = startOfDay(date);\n    var end = addDays(start, 1);\n    return { start: start, end: end };\n}\n\nvar DayHeader = /** @class */ (function (_super) {\n    __extends(DayHeader, _super);\n    function DayHeader() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.createDayHeaderFormatter = memoize(createDayHeaderFormatter);\n        return _this;\n    }\n    DayHeader.prototype.render = function () {\n        var context = this.context;\n        var _a = this.props, dates = _a.dates, dateProfile = _a.dateProfile, datesRepDistinctDays = _a.datesRepDistinctDays, renderIntro = _a.renderIntro;\n        var dayHeaderFormat = this.createDayHeaderFormatter(context.options.dayHeaderFormat, datesRepDistinctDays, dates.length);\n        return (createElement(NowTimer, { unit: \"day\" }, function (nowDate, todayRange) { return (createElement(\"tr\", { role: \"row\" },\n            renderIntro && renderIntro('day'),\n            dates.map(function (date) { return (datesRepDistinctDays ? (createElement(TableDateCell, { key: date.toISOString(), date: date, dateProfile: dateProfile, todayRange: todayRange, colCnt: dates.length, dayHeaderFormat: dayHeaderFormat })) : (createElement(TableDowCell, { key: date.getUTCDay(), dow: date.getUTCDay(), dayHeaderFormat: dayHeaderFormat }))); }))); }));\n    };\n    return DayHeader;\n}(BaseComponent));\nfunction createDayHeaderFormatter(explicitFormat, datesRepDistinctDays, dateCnt) {\n    return explicitFormat || computeFallbackHeaderFormat(datesRepDistinctDays, dateCnt);\n}\n\nvar DaySeriesModel = /** @class */ (function () {\n    function DaySeriesModel(range, dateProfileGenerator) {\n        var date = range.start;\n        var end = range.end;\n        var indices = [];\n        var dates = [];\n        var dayIndex = -1;\n        while (date < end) { // loop each day from start to end\n            if (dateProfileGenerator.isHiddenDay(date)) {\n                indices.push(dayIndex + 0.5); // mark that it's between indices\n            }\n            else {\n                dayIndex += 1;\n                indices.push(dayIndex);\n                dates.push(date);\n            }\n            date = addDays(date, 1);\n        }\n        this.dates = dates;\n        this.indices = indices;\n        this.cnt = dates.length;\n    }\n    DaySeriesModel.prototype.sliceRange = function (range) {\n        var firstIndex = this.getDateDayIndex(range.start); // inclusive first index\n        var lastIndex = this.getDateDayIndex(addDays(range.end, -1)); // inclusive last index\n        var clippedFirstIndex = Math.max(0, firstIndex);\n        var clippedLastIndex = Math.min(this.cnt - 1, lastIndex);\n        // deal with in-between indices\n        clippedFirstIndex = Math.ceil(clippedFirstIndex); // in-between starts round to next cell\n        clippedLastIndex = Math.floor(clippedLastIndex); // in-between ends round to prev cell\n        if (clippedFirstIndex <= clippedLastIndex) {\n            return {\n                firstIndex: clippedFirstIndex,\n                lastIndex: clippedLastIndex,\n                isStart: firstIndex === clippedFirstIndex,\n                isEnd: lastIndex === clippedLastIndex,\n            };\n        }\n        return null;\n    };\n    // Given a date, returns its chronolocial cell-index from the first cell of the grid.\n    // If the date lies between cells (because of hiddenDays), returns a floating-point value between offsets.\n    // If before the first offset, returns a negative number.\n    // If after the last offset, returns an offset past the last cell offset.\n    // Only works for *start* dates of cells. Will not work for exclusive end dates for cells.\n    DaySeriesModel.prototype.getDateDayIndex = function (date) {\n        var indices = this.indices;\n        var dayOffset = Math.floor(diffDays(this.dates[0], date));\n        if (dayOffset < 0) {\n            return indices[0] - 1;\n        }\n        if (dayOffset >= indices.length) {\n            return indices[indices.length - 1] + 1;\n        }\n        return indices[dayOffset];\n    };\n    return DaySeriesModel;\n}());\n\nvar DayTableModel = /** @class */ (function () {\n    function DayTableModel(daySeries, breakOnWeeks) {\n        var dates = daySeries.dates;\n        var daysPerRow;\n        var firstDay;\n        var rowCnt;\n        if (breakOnWeeks) {\n            // count columns until the day-of-week repeats\n            firstDay = dates[0].getUTCDay();\n            for (daysPerRow = 1; daysPerRow < dates.length; daysPerRow += 1) {\n                if (dates[daysPerRow].getUTCDay() === firstDay) {\n                    break;\n                }\n            }\n            rowCnt = Math.ceil(dates.length / daysPerRow);\n        }\n        else {\n            rowCnt = 1;\n            daysPerRow = dates.length;\n        }\n        this.rowCnt = rowCnt;\n        this.colCnt = daysPerRow;\n        this.daySeries = daySeries;\n        this.cells = this.buildCells();\n        this.headerDates = this.buildHeaderDates();\n    }\n    DayTableModel.prototype.buildCells = function () {\n        var rows = [];\n        for (var row = 0; row < this.rowCnt; row += 1) {\n            var cells = [];\n            for (var col = 0; col < this.colCnt; col += 1) {\n                cells.push(this.buildCell(row, col));\n            }\n            rows.push(cells);\n        }\n        return rows;\n    };\n    DayTableModel.prototype.buildCell = function (row, col) {\n        var date = this.daySeries.dates[row * this.colCnt + col];\n        return {\n            key: date.toISOString(),\n            date: date,\n        };\n    };\n    DayTableModel.prototype.buildHeaderDates = function () {\n        var dates = [];\n        for (var col = 0; col < this.colCnt; col += 1) {\n            dates.push(this.cells[0][col].date);\n        }\n        return dates;\n    };\n    DayTableModel.prototype.sliceRange = function (range) {\n        var colCnt = this.colCnt;\n        var seriesSeg = this.daySeries.sliceRange(range);\n        var segs = [];\n        if (seriesSeg) {\n            var firstIndex = seriesSeg.firstIndex, lastIndex = seriesSeg.lastIndex;\n            var index = firstIndex;\n            while (index <= lastIndex) {\n                var row = Math.floor(index / colCnt);\n                var nextIndex = Math.min((row + 1) * colCnt, lastIndex + 1);\n                segs.push({\n                    row: row,\n                    firstCol: index % colCnt,\n                    lastCol: (nextIndex - 1) % colCnt,\n                    isStart: seriesSeg.isStart && index === firstIndex,\n                    isEnd: seriesSeg.isEnd && (nextIndex - 1) === lastIndex,\n                });\n                index = nextIndex;\n            }\n        }\n        return segs;\n    };\n    return DayTableModel;\n}());\n\nvar Slicer = /** @class */ (function () {\n    function Slicer() {\n        this.sliceBusinessHours = memoize(this._sliceBusinessHours);\n        this.sliceDateSelection = memoize(this._sliceDateSpan);\n        this.sliceEventStore = memoize(this._sliceEventStore);\n        this.sliceEventDrag = memoize(this._sliceInteraction);\n        this.sliceEventResize = memoize(this._sliceInteraction);\n        this.forceDayIfListItem = false; // hack\n    }\n    Slicer.prototype.sliceProps = function (props, dateProfile, nextDayThreshold, context) {\n        var extraArgs = [];\n        for (var _i = 4; _i < arguments.length; _i++) {\n            extraArgs[_i - 4] = arguments[_i];\n        }\n        var eventUiBases = props.eventUiBases;\n        var eventSegs = this.sliceEventStore.apply(this, __spreadArray([props.eventStore, eventUiBases, dateProfile, nextDayThreshold], extraArgs));\n        return {\n            dateSelectionSegs: this.sliceDateSelection.apply(this, __spreadArray([props.dateSelection, eventUiBases, context], extraArgs)),\n            businessHourSegs: this.sliceBusinessHours.apply(this, __spreadArray([props.businessHours, dateProfile, nextDayThreshold, context], extraArgs)),\n            fgEventSegs: eventSegs.fg,\n            bgEventSegs: eventSegs.bg,\n            eventDrag: this.sliceEventDrag.apply(this, __spreadArray([props.eventDrag, eventUiBases, dateProfile, nextDayThreshold], extraArgs)),\n            eventResize: this.sliceEventResize.apply(this, __spreadArray([props.eventResize, eventUiBases, dateProfile, nextDayThreshold], extraArgs)),\n            eventSelection: props.eventSelection,\n        }; // TODO: give interactionSegs?\n    };\n    Slicer.prototype.sliceNowDate = function (// does not memoize\n    date, context) {\n        var extraArgs = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            extraArgs[_i - 2] = arguments[_i];\n        }\n        return this._sliceDateSpan.apply(this, __spreadArray([{ range: { start: date, end: addMs(date, 1) }, allDay: false },\n            {},\n            context], extraArgs));\n    };\n    Slicer.prototype._sliceBusinessHours = function (businessHours, dateProfile, nextDayThreshold, context) {\n        var extraArgs = [];\n        for (var _i = 4; _i < arguments.length; _i++) {\n            extraArgs[_i - 4] = arguments[_i];\n        }\n        if (!businessHours) {\n            return [];\n        }\n        return this._sliceEventStore.apply(this, __spreadArray([expandRecurring(businessHours, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), context),\n            {},\n            dateProfile,\n            nextDayThreshold], extraArgs)).bg;\n    };\n    Slicer.prototype._sliceEventStore = function (eventStore, eventUiBases, dateProfile, nextDayThreshold) {\n        var extraArgs = [];\n        for (var _i = 4; _i < arguments.length; _i++) {\n            extraArgs[_i - 4] = arguments[_i];\n        }\n        if (eventStore) {\n            var rangeRes = sliceEventStore(eventStore, eventUiBases, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), nextDayThreshold);\n            return {\n                bg: this.sliceEventRanges(rangeRes.bg, extraArgs),\n                fg: this.sliceEventRanges(rangeRes.fg, extraArgs),\n            };\n        }\n        return { bg: [], fg: [] };\n    };\n    Slicer.prototype._sliceInteraction = function (interaction, eventUiBases, dateProfile, nextDayThreshold) {\n        var extraArgs = [];\n        for (var _i = 4; _i < arguments.length; _i++) {\n            extraArgs[_i - 4] = arguments[_i];\n        }\n        if (!interaction) {\n            return null;\n        }\n        var rangeRes = sliceEventStore(interaction.mutatedEvents, eventUiBases, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), nextDayThreshold);\n        return {\n            segs: this.sliceEventRanges(rangeRes.fg, extraArgs),\n            affectedInstances: interaction.affectedEvents.instances,\n            isEvent: interaction.isEvent,\n        };\n    };\n    Slicer.prototype._sliceDateSpan = function (dateSpan, eventUiBases, context) {\n        var extraArgs = [];\n        for (var _i = 3; _i < arguments.length; _i++) {\n            extraArgs[_i - 3] = arguments[_i];\n        }\n        if (!dateSpan) {\n            return [];\n        }\n        var eventRange = fabricateEventRange(dateSpan, eventUiBases, context);\n        var segs = this.sliceRange.apply(this, __spreadArray([dateSpan.range], extraArgs));\n        for (var _a = 0, segs_1 = segs; _a < segs_1.length; _a++) {\n            var seg = segs_1[_a];\n            seg.eventRange = eventRange;\n        }\n        return segs;\n    };\n    /*\n    \"complete\" seg means it has component and eventRange\n    */\n    Slicer.prototype.sliceEventRanges = function (eventRanges, extraArgs) {\n        var segs = [];\n        for (var _i = 0, eventRanges_1 = eventRanges; _i < eventRanges_1.length; _i++) {\n            var eventRange = eventRanges_1[_i];\n            segs.push.apply(segs, this.sliceEventRange(eventRange, extraArgs));\n        }\n        return segs;\n    };\n    /*\n    \"complete\" seg means it has component and eventRange\n    */\n    Slicer.prototype.sliceEventRange = function (eventRange, extraArgs) {\n        var dateRange = eventRange.range;\n        // hack to make multi-day events that are being force-displayed as list-items to take up only one day\n        if (this.forceDayIfListItem && eventRange.ui.display === 'list-item') {\n            dateRange = {\n                start: dateRange.start,\n                end: addDays(dateRange.start, 1),\n            };\n        }\n        var segs = this.sliceRange.apply(this, __spreadArray([dateRange], extraArgs));\n        for (var _i = 0, segs_2 = segs; _i < segs_2.length; _i++) {\n            var seg = segs_2[_i];\n            seg.eventRange = eventRange;\n            seg.isStart = eventRange.isStart && seg.isStart;\n            seg.isEnd = eventRange.isEnd && seg.isEnd;\n        }\n        return segs;\n    };\n    return Slicer;\n}());\n/*\nfor incorporating slotMinTime/slotMaxTime if appropriate\nTODO: should be part of DateProfile!\nTimelineDateProfile already does this btw\n*/\nfunction computeActiveRange(dateProfile, isComponentAllDay) {\n    var range = dateProfile.activeRange;\n    if (isComponentAllDay) {\n        return range;\n    }\n    return {\n        start: addMs(range.start, dateProfile.slotMinTime.milliseconds),\n        end: addMs(range.end, dateProfile.slotMaxTime.milliseconds - 864e5), // 864e5 = ms in a day\n    };\n}\n\n// high-level segmenting-aware tester functions\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isInteractionValid(interaction, dateProfile, context) {\n    var instances = interaction.mutatedEvents.instances;\n    for (var instanceId in instances) {\n        if (!rangeContainsRange(dateProfile.validRange, instances[instanceId].range)) {\n            return false;\n        }\n    }\n    return isNewPropsValid({ eventDrag: interaction }, context); // HACK: the eventDrag props is used for ALL interactions\n}\nfunction isDateSelectionValid(dateSelection, dateProfile, context) {\n    if (!rangeContainsRange(dateProfile.validRange, dateSelection.range)) {\n        return false;\n    }\n    return isNewPropsValid({ dateSelection: dateSelection }, context);\n}\nfunction isNewPropsValid(newProps, context) {\n    var calendarState = context.getCurrentData();\n    var props = __assign({ businessHours: calendarState.businessHours, dateSelection: '', eventStore: calendarState.eventStore, eventUiBases: calendarState.eventUiBases, eventSelection: '', eventDrag: null, eventResize: null }, newProps);\n    return (context.pluginHooks.isPropsValid || isPropsValid)(props, context);\n}\nfunction isPropsValid(state, context, dateSpanMeta, filterConfig) {\n    if (dateSpanMeta === void 0) { dateSpanMeta = {}; }\n    if (state.eventDrag && !isInteractionPropsValid(state, context, dateSpanMeta, filterConfig)) {\n        return false;\n    }\n    if (state.dateSelection && !isDateSelectionPropsValid(state, context, dateSpanMeta, filterConfig)) {\n        return false;\n    }\n    return true;\n}\n// Moving Event Validation\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isInteractionPropsValid(state, context, dateSpanMeta, filterConfig) {\n    var currentState = context.getCurrentData();\n    var interaction = state.eventDrag; // HACK: the eventDrag props is used for ALL interactions\n    var subjectEventStore = interaction.mutatedEvents;\n    var subjectDefs = subjectEventStore.defs;\n    var subjectInstances = subjectEventStore.instances;\n    var subjectConfigs = compileEventUis(subjectDefs, interaction.isEvent ?\n        state.eventUiBases :\n        { '': currentState.selectionConfig });\n    if (filterConfig) {\n        subjectConfigs = mapHash(subjectConfigs, filterConfig);\n    }\n    // exclude the subject events. TODO: exclude defs too?\n    var otherEventStore = excludeInstances(state.eventStore, interaction.affectedEvents.instances);\n    var otherDefs = otherEventStore.defs;\n    var otherInstances = otherEventStore.instances;\n    var otherConfigs = compileEventUis(otherDefs, state.eventUiBases);\n    for (var subjectInstanceId in subjectInstances) {\n        var subjectInstance = subjectInstances[subjectInstanceId];\n        var subjectRange = subjectInstance.range;\n        var subjectConfig = subjectConfigs[subjectInstance.defId];\n        var subjectDef = subjectDefs[subjectInstance.defId];\n        // constraint\n        if (!allConstraintsPass(subjectConfig.constraints, subjectRange, otherEventStore, state.businessHours, context)) {\n            return false;\n        }\n        // overlap\n        var eventOverlap = context.options.eventOverlap;\n        var eventOverlapFunc = typeof eventOverlap === 'function' ? eventOverlap : null;\n        for (var otherInstanceId in otherInstances) {\n            var otherInstance = otherInstances[otherInstanceId];\n            // intersect! evaluate\n            if (rangesIntersect(subjectRange, otherInstance.range)) {\n                var otherOverlap = otherConfigs[otherInstance.defId].overlap;\n                // consider the other event's overlap. only do this if the subject event is a \"real\" event\n                if (otherOverlap === false && interaction.isEvent) {\n                    return false;\n                }\n                if (subjectConfig.overlap === false) {\n                    return false;\n                }\n                if (eventOverlapFunc && !eventOverlapFunc(new EventApi(context, otherDefs[otherInstance.defId], otherInstance), // still event\n                new EventApi(context, subjectDef, subjectInstance))) {\n                    return false;\n                }\n            }\n        }\n        // allow (a function)\n        var calendarEventStore = currentState.eventStore; // need global-to-calendar, not local to component (splittable)state\n        for (var _i = 0, _a = subjectConfig.allows; _i < _a.length; _i++) {\n            var subjectAllow = _a[_i];\n            var subjectDateSpan = __assign(__assign({}, dateSpanMeta), { range: subjectInstance.range, allDay: subjectDef.allDay });\n            var origDef = calendarEventStore.defs[subjectDef.defId];\n            var origInstance = calendarEventStore.instances[subjectInstanceId];\n            var eventApi = void 0;\n            if (origDef) { // was previously in the calendar\n                eventApi = new EventApi(context, origDef, origInstance);\n            }\n            else { // was an external event\n                eventApi = new EventApi(context, subjectDef); // no instance, because had no dates\n            }\n            if (!subjectAllow(buildDateSpanApiWithContext(subjectDateSpan, context), eventApi)) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\n// Date Selection Validation\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isDateSelectionPropsValid(state, context, dateSpanMeta, filterConfig) {\n    var relevantEventStore = state.eventStore;\n    var relevantDefs = relevantEventStore.defs;\n    var relevantInstances = relevantEventStore.instances;\n    var selection = state.dateSelection;\n    var selectionRange = selection.range;\n    var selectionConfig = context.getCurrentData().selectionConfig;\n    if (filterConfig) {\n        selectionConfig = filterConfig(selectionConfig);\n    }\n    // constraint\n    if (!allConstraintsPass(selectionConfig.constraints, selectionRange, relevantEventStore, state.businessHours, context)) {\n        return false;\n    }\n    // overlap\n    var selectOverlap = context.options.selectOverlap;\n    var selectOverlapFunc = typeof selectOverlap === 'function' ? selectOverlap : null;\n    for (var relevantInstanceId in relevantInstances) {\n        var relevantInstance = relevantInstances[relevantInstanceId];\n        // intersect! evaluate\n        if (rangesIntersect(selectionRange, relevantInstance.range)) {\n            if (selectionConfig.overlap === false) {\n                return false;\n            }\n            if (selectOverlapFunc && !selectOverlapFunc(new EventApi(context, relevantDefs[relevantInstance.defId], relevantInstance), null)) {\n                return false;\n            }\n        }\n    }\n    // allow (a function)\n    for (var _i = 0, _a = selectionConfig.allows; _i < _a.length; _i++) {\n        var selectionAllow = _a[_i];\n        var fullDateSpan = __assign(__assign({}, dateSpanMeta), selection);\n        if (!selectionAllow(buildDateSpanApiWithContext(fullDateSpan, context), null)) {\n            return false;\n        }\n    }\n    return true;\n}\n// Constraint Utils\n// ------------------------------------------------------------------------------------------------------------------------\nfunction allConstraintsPass(constraints, subjectRange, otherEventStore, businessHoursUnexpanded, context) {\n    for (var _i = 0, constraints_1 = constraints; _i < constraints_1.length; _i++) {\n        var constraint = constraints_1[_i];\n        if (!anyRangesContainRange(constraintToRanges(constraint, subjectRange, otherEventStore, businessHoursUnexpanded, context), subjectRange)) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction constraintToRanges(constraint, subjectRange, // for expanding a recurring constraint, or expanding business hours\notherEventStore, // for if constraint is an even group ID\nbusinessHoursUnexpanded, // for if constraint is 'businessHours'\ncontext) {\n    if (constraint === 'businessHours') {\n        return eventStoreToRanges(expandRecurring(businessHoursUnexpanded, subjectRange, context));\n    }\n    if (typeof constraint === 'string') { // an group ID\n        return eventStoreToRanges(filterEventStoreDefs(otherEventStore, function (eventDef) { return eventDef.groupId === constraint; }));\n    }\n    if (typeof constraint === 'object' && constraint) { // non-null object\n        return eventStoreToRanges(expandRecurring(constraint, subjectRange, context));\n    }\n    return []; // if it's false\n}\n// TODO: move to event-store file?\nfunction eventStoreToRanges(eventStore) {\n    var instances = eventStore.instances;\n    var ranges = [];\n    for (var instanceId in instances) {\n        ranges.push(instances[instanceId].range);\n    }\n    return ranges;\n}\n// TODO: move to geom file?\nfunction anyRangesContainRange(outerRanges, innerRange) {\n    for (var _i = 0, outerRanges_1 = outerRanges; _i < outerRanges_1.length; _i++) {\n        var outerRange = outerRanges_1[_i];\n        if (rangeContainsRange(outerRange, innerRange)) {\n            return true;\n        }\n    }\n    return false;\n}\n\nvar VISIBLE_HIDDEN_RE = /^(visible|hidden)$/;\nvar Scroller = /** @class */ (function (_super) {\n    __extends(Scroller, _super);\n    function Scroller() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleEl = function (el) {\n            _this.el = el;\n            setRef(_this.props.elRef, el);\n        };\n        return _this;\n    }\n    Scroller.prototype.render = function () {\n        var props = this.props;\n        var liquid = props.liquid, liquidIsAbsolute = props.liquidIsAbsolute;\n        var isAbsolute = liquid && liquidIsAbsolute;\n        var className = ['fc-scroller'];\n        if (liquid) {\n            if (liquidIsAbsolute) {\n                className.push('fc-scroller-liquid-absolute');\n            }\n            else {\n                className.push('fc-scroller-liquid');\n            }\n        }\n        return (createElement(\"div\", { ref: this.handleEl, className: className.join(' '), style: {\n                overflowX: props.overflowX,\n                overflowY: props.overflowY,\n                left: (isAbsolute && -(props.overcomeLeft || 0)) || '',\n                right: (isAbsolute && -(props.overcomeRight || 0)) || '',\n                bottom: (isAbsolute && -(props.overcomeBottom || 0)) || '',\n                marginLeft: (!isAbsolute && -(props.overcomeLeft || 0)) || '',\n                marginRight: (!isAbsolute && -(props.overcomeRight || 0)) || '',\n                marginBottom: (!isAbsolute && -(props.overcomeBottom || 0)) || '',\n                maxHeight: props.maxHeight || '',\n            } }, props.children));\n    };\n    Scroller.prototype.needsXScrolling = function () {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowX)) {\n            return false;\n        }\n        // testing scrollWidth>clientWidth is unreliable cross-browser when pixel heights aren't integers.\n        // much more reliable to see if children are taller than the scroller, even tho doesn't account for\n        // inner-child margins and absolute positioning\n        var el = this.el;\n        var realClientWidth = this.el.getBoundingClientRect().width - this.getYScrollbarWidth();\n        var children = el.children;\n        for (var i = 0; i < children.length; i += 1) {\n            var childEl = children[i];\n            if (childEl.getBoundingClientRect().width > realClientWidth) {\n                return true;\n            }\n        }\n        return false;\n    };\n    Scroller.prototype.needsYScrolling = function () {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowY)) {\n            return false;\n        }\n        // testing scrollHeight>clientHeight is unreliable cross-browser when pixel heights aren't integers.\n        // much more reliable to see if children are taller than the scroller, even tho doesn't account for\n        // inner-child margins and absolute positioning\n        var el = this.el;\n        var realClientHeight = this.el.getBoundingClientRect().height - this.getXScrollbarWidth();\n        var children = el.children;\n        for (var i = 0; i < children.length; i += 1) {\n            var childEl = children[i];\n            if (childEl.getBoundingClientRect().height > realClientHeight) {\n                return true;\n            }\n        }\n        return false;\n    };\n    Scroller.prototype.getXScrollbarWidth = function () {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowX)) {\n            return 0;\n        }\n        return this.el.offsetHeight - this.el.clientHeight; // only works because we guarantee no borders. TODO: add to CSS with important?\n    };\n    Scroller.prototype.getYScrollbarWidth = function () {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowY)) {\n            return 0;\n        }\n        return this.el.offsetWidth - this.el.clientWidth; // only works because we guarantee no borders. TODO: add to CSS with important?\n    };\n    return Scroller;\n}(BaseComponent));\n\n/*\nTODO: somehow infer OtherArgs from masterCallback?\nTODO: infer RefType from masterCallback if provided\n*/\nvar RefMap = /** @class */ (function () {\n    function RefMap(masterCallback) {\n        var _this = this;\n        this.masterCallback = masterCallback;\n        this.currentMap = {};\n        this.depths = {};\n        this.callbackMap = {};\n        this.handleValue = function (val, key) {\n            var _a = _this, depths = _a.depths, currentMap = _a.currentMap;\n            var removed = false;\n            var added = false;\n            if (val !== null) {\n                // for bug... ACTUALLY: can probably do away with this now that callers don't share numeric indices anymore\n                removed = (key in currentMap);\n                currentMap[key] = val;\n                depths[key] = (depths[key] || 0) + 1;\n                added = true;\n            }\n            else {\n                depths[key] -= 1;\n                if (!depths[key]) {\n                    delete currentMap[key];\n                    delete _this.callbackMap[key];\n                    removed = true;\n                }\n            }\n            if (_this.masterCallback) {\n                if (removed) {\n                    _this.masterCallback(null, String(key));\n                }\n                if (added) {\n                    _this.masterCallback(val, String(key));\n                }\n            }\n        };\n    }\n    RefMap.prototype.createRef = function (key) {\n        var _this = this;\n        var refCallback = this.callbackMap[key];\n        if (!refCallback) {\n            refCallback = this.callbackMap[key] = function (val) {\n                _this.handleValue(val, String(key));\n            };\n        }\n        return refCallback;\n    };\n    // TODO: check callers that don't care about order. should use getAll instead\n    // NOTE: this method has become less valuable now that we are encouraged to map order by some other index\n    // TODO: provide ONE array-export function, buildArray, which fails on non-numeric indexes. caller can manipulate and \"collect\"\n    RefMap.prototype.collect = function (startIndex, endIndex, step) {\n        return collectFromHash(this.currentMap, startIndex, endIndex, step);\n    };\n    RefMap.prototype.getAll = function () {\n        return hashValuesToArray(this.currentMap);\n    };\n    return RefMap;\n}());\n\nfunction computeShrinkWidth(chunkEls) {\n    var shrinkCells = findElements(chunkEls, '.fc-scrollgrid-shrink');\n    var largestWidth = 0;\n    for (var _i = 0, shrinkCells_1 = shrinkCells; _i < shrinkCells_1.length; _i++) {\n        var shrinkCell = shrinkCells_1[_i];\n        largestWidth = Math.max(largestWidth, computeSmallestCellWidth(shrinkCell));\n    }\n    return Math.ceil(largestWidth); // <table> elements work best with integers. round up to ensure contents fits\n}\nfunction getSectionHasLiquidHeight(props, sectionConfig) {\n    return props.liquid && sectionConfig.liquid; // does the section do liquid-height? (need to have whole scrollgrid liquid-height as well)\n}\nfunction getAllowYScrolling(props, sectionConfig) {\n    return sectionConfig.maxHeight != null || // if its possible for the height to max out, we might need scrollbars\n        getSectionHasLiquidHeight(props, sectionConfig); // if the section is liquid height, it might condense enough to require scrollbars\n}\n// TODO: ONLY use `arg`. force out internal function to use same API\nfunction renderChunkContent(sectionConfig, chunkConfig, arg, isHeader) {\n    var expandRows = arg.expandRows;\n    var content = typeof chunkConfig.content === 'function' ?\n        chunkConfig.content(arg) :\n        createElement('table', {\n            role: 'presentation',\n            className: [\n                chunkConfig.tableClassName,\n                sectionConfig.syncRowHeights ? 'fc-scrollgrid-sync-table' : '',\n            ].join(' '),\n            style: {\n                minWidth: arg.tableMinWidth,\n                width: arg.clientWidth,\n                height: expandRows ? arg.clientHeight : '', // css `height` on a <table> serves as a min-height\n            },\n        }, arg.tableColGroupNode, createElement(isHeader ? 'thead' : 'tbody', {\n            role: 'presentation',\n        }, typeof chunkConfig.rowContent === 'function'\n            ? chunkConfig.rowContent(arg)\n            : chunkConfig.rowContent));\n    return content;\n}\nfunction isColPropsEqual(cols0, cols1) {\n    return isArraysEqual(cols0, cols1, isPropsEqual);\n}\nfunction renderMicroColGroup(cols, shrinkWidth) {\n    var colNodes = [];\n    /*\n    for ColProps with spans, it would have been great to make a single <col span=\"\">\n    HOWEVER, Chrome was getting messing up distributing the width to <td>/<th> elements with colspans.\n    SOLUTION: making individual <col> elements makes Chrome behave.\n    */\n    for (var _i = 0, cols_1 = cols; _i < cols_1.length; _i++) {\n        var colProps = cols_1[_i];\n        var span = colProps.span || 1;\n        for (var i = 0; i < span; i += 1) {\n            colNodes.push(createElement(\"col\", { style: {\n                    width: colProps.width === 'shrink' ? sanitizeShrinkWidth(shrinkWidth) : (colProps.width || ''),\n                    minWidth: colProps.minWidth || '',\n                } }));\n        }\n    }\n    return createElement.apply(void 0, __spreadArray(['colgroup', {}], colNodes));\n}\nfunction sanitizeShrinkWidth(shrinkWidth) {\n    /* why 4? if we do 0, it will kill any border, which are needed for computeSmallestCellWidth\n    4 accounts for 2 2-pixel borders. TODO: better solution? */\n    return shrinkWidth == null ? 4 : shrinkWidth;\n}\nfunction hasShrinkWidth(cols) {\n    for (var _i = 0, cols_2 = cols; _i < cols_2.length; _i++) {\n        var col = cols_2[_i];\n        if (col.width === 'shrink') {\n            return true;\n        }\n    }\n    return false;\n}\nfunction getScrollGridClassNames(liquid, context) {\n    var classNames = [\n        'fc-scrollgrid',\n        context.theme.getClass('table'),\n    ];\n    if (liquid) {\n        classNames.push('fc-scrollgrid-liquid');\n    }\n    return classNames;\n}\nfunction getSectionClassNames(sectionConfig, wholeTableVGrow) {\n    var classNames = [\n        'fc-scrollgrid-section',\n        \"fc-scrollgrid-section-\" + sectionConfig.type,\n        sectionConfig.className, // used?\n    ];\n    if (wholeTableVGrow && sectionConfig.liquid && sectionConfig.maxHeight == null) {\n        classNames.push('fc-scrollgrid-section-liquid');\n    }\n    if (sectionConfig.isSticky) {\n        classNames.push('fc-scrollgrid-section-sticky');\n    }\n    return classNames;\n}\nfunction renderScrollShim(arg) {\n    return (createElement(\"div\", { className: \"fc-scrollgrid-sticky-shim\", style: {\n            width: arg.clientWidth,\n            minWidth: arg.tableMinWidth,\n        } }));\n}\nfunction getStickyHeaderDates(options) {\n    var stickyHeaderDates = options.stickyHeaderDates;\n    if (stickyHeaderDates == null || stickyHeaderDates === 'auto') {\n        stickyHeaderDates = options.height === 'auto' || options.viewHeight === 'auto';\n    }\n    return stickyHeaderDates;\n}\nfunction getStickyFooterScrollbar(options) {\n    var stickyFooterScrollbar = options.stickyFooterScrollbar;\n    if (stickyFooterScrollbar == null || stickyFooterScrollbar === 'auto') {\n        stickyFooterScrollbar = options.height === 'auto' || options.viewHeight === 'auto';\n    }\n    return stickyFooterScrollbar;\n}\n\nvar SimpleScrollGrid = /** @class */ (function (_super) {\n    __extends(SimpleScrollGrid, _super);\n    function SimpleScrollGrid() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.processCols = memoize(function (a) { return a; }, isColPropsEqual); // so we get same `cols` props every time\n        // yucky to memoize VNodes, but much more efficient for consumers\n        _this.renderMicroColGroup = memoize(renderMicroColGroup);\n        _this.scrollerRefs = new RefMap();\n        _this.scrollerElRefs = new RefMap(_this._handleScrollerEl.bind(_this));\n        _this.state = {\n            shrinkWidth: null,\n            forceYScrollbars: false,\n            scrollerClientWidths: {},\n            scrollerClientHeights: {},\n        };\n        // TODO: can do a really simple print-view. dont need to join rows\n        _this.handleSizing = function () {\n            _this.safeSetState(__assign({ shrinkWidth: _this.computeShrinkWidth() }, _this.computeScrollerDims()));\n        };\n        return _this;\n    }\n    SimpleScrollGrid.prototype.render = function () {\n        var _a = this, props = _a.props, state = _a.state, context = _a.context;\n        var sectionConfigs = props.sections || [];\n        var cols = this.processCols(props.cols);\n        var microColGroupNode = this.renderMicroColGroup(cols, state.shrinkWidth);\n        var classNames = getScrollGridClassNames(props.liquid, context);\n        if (props.collapsibleWidth) {\n            classNames.push('fc-scrollgrid-collapsible');\n        }\n        // TODO: make DRY\n        var configCnt = sectionConfigs.length;\n        var configI = 0;\n        var currentConfig;\n        var headSectionNodes = [];\n        var bodySectionNodes = [];\n        var footSectionNodes = [];\n        while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'header') {\n            headSectionNodes.push(this.renderSection(currentConfig, microColGroupNode, true));\n            configI += 1;\n        }\n        while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'body') {\n            bodySectionNodes.push(this.renderSection(currentConfig, microColGroupNode, false));\n            configI += 1;\n        }\n        while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'footer') {\n            footSectionNodes.push(this.renderSection(currentConfig, microColGroupNode, true));\n            configI += 1;\n        }\n        // firefox bug: when setting height on table and there is a thead or tfoot,\n        // the necessary height:100% on the liquid-height body section forces the *whole* table to be taller. (bug #5524)\n        // use getCanVGrowWithinCell as a way to detect table-stupid firefox.\n        // if so, use a simpler dom structure, jam everything into a lone tbody.\n        var isBuggy = !getCanVGrowWithinCell();\n        var roleAttrs = { role: 'rowgroup' };\n        return createElement('table', {\n            role: 'grid',\n            className: classNames.join(' '),\n            style: { height: props.height },\n        }, Boolean(!isBuggy && headSectionNodes.length) && createElement.apply(void 0, __spreadArray(['thead', roleAttrs], headSectionNodes)), Boolean(!isBuggy && bodySectionNodes.length) && createElement.apply(void 0, __spreadArray(['tbody', roleAttrs], bodySectionNodes)), Boolean(!isBuggy && footSectionNodes.length) && createElement.apply(void 0, __spreadArray(['tfoot', roleAttrs], footSectionNodes)), isBuggy && createElement.apply(void 0, __spreadArray(__spreadArray(__spreadArray(['tbody', roleAttrs], headSectionNodes), bodySectionNodes), footSectionNodes)));\n    };\n    SimpleScrollGrid.prototype.renderSection = function (sectionConfig, microColGroupNode, isHeader) {\n        if ('outerContent' in sectionConfig) {\n            return (createElement(Fragment, { key: sectionConfig.key }, sectionConfig.outerContent));\n        }\n        return (createElement(\"tr\", { key: sectionConfig.key, role: \"presentation\", className: getSectionClassNames(sectionConfig, this.props.liquid).join(' ') }, this.renderChunkTd(sectionConfig, microColGroupNode, sectionConfig.chunk, isHeader)));\n    };\n    SimpleScrollGrid.prototype.renderChunkTd = function (sectionConfig, microColGroupNode, chunkConfig, isHeader) {\n        if ('outerContent' in chunkConfig) {\n            return chunkConfig.outerContent;\n        }\n        var props = this.props;\n        var _a = this.state, forceYScrollbars = _a.forceYScrollbars, scrollerClientWidths = _a.scrollerClientWidths, scrollerClientHeights = _a.scrollerClientHeights;\n        var needsYScrolling = getAllowYScrolling(props, sectionConfig); // TODO: do lazily. do in section config?\n        var isLiquid = getSectionHasLiquidHeight(props, sectionConfig);\n        // for `!props.liquid` - is WHOLE scrollgrid natural height?\n        // TODO: do same thing in advanced scrollgrid? prolly not b/c always has horizontal scrollbars\n        var overflowY = !props.liquid ? 'visible' :\n            forceYScrollbars ? 'scroll' :\n                !needsYScrolling ? 'hidden' :\n                    'auto';\n        var sectionKey = sectionConfig.key;\n        var content = renderChunkContent(sectionConfig, chunkConfig, {\n            tableColGroupNode: microColGroupNode,\n            tableMinWidth: '',\n            clientWidth: (!props.collapsibleWidth && scrollerClientWidths[sectionKey] !== undefined) ? scrollerClientWidths[sectionKey] : null,\n            clientHeight: scrollerClientHeights[sectionKey] !== undefined ? scrollerClientHeights[sectionKey] : null,\n            expandRows: sectionConfig.expandRows,\n            syncRowHeights: false,\n            rowSyncHeights: [],\n            reportRowHeightChange: function () { },\n        }, isHeader);\n        return createElement(isHeader ? 'th' : 'td', {\n            ref: chunkConfig.elRef,\n            role: 'presentation',\n        }, createElement(\"div\", { className: \"fc-scroller-harness\" + (isLiquid ? ' fc-scroller-harness-liquid' : '') },\n            createElement(Scroller, { ref: this.scrollerRefs.createRef(sectionKey), elRef: this.scrollerElRefs.createRef(sectionKey), overflowY: overflowY, overflowX: !props.liquid ? 'visible' : 'hidden' /* natural height? */, maxHeight: sectionConfig.maxHeight, liquid: isLiquid, liquidIsAbsolute // because its within a harness\n                : true }, content)));\n    };\n    SimpleScrollGrid.prototype._handleScrollerEl = function (scrollerEl, key) {\n        var section = getSectionByKey(this.props.sections, key);\n        if (section) {\n            setRef(section.chunk.scrollerElRef, scrollerEl);\n        }\n    };\n    SimpleScrollGrid.prototype.componentDidMount = function () {\n        this.handleSizing();\n        this.context.addResizeHandler(this.handleSizing);\n    };\n    SimpleScrollGrid.prototype.componentDidUpdate = function () {\n        // TODO: need better solution when state contains non-sizing things\n        this.handleSizing();\n    };\n    SimpleScrollGrid.prototype.componentWillUnmount = function () {\n        this.context.removeResizeHandler(this.handleSizing);\n    };\n    SimpleScrollGrid.prototype.computeShrinkWidth = function () {\n        return hasShrinkWidth(this.props.cols)\n            ? computeShrinkWidth(this.scrollerElRefs.getAll())\n            : 0;\n    };\n    SimpleScrollGrid.prototype.computeScrollerDims = function () {\n        var scrollbarWidth = getScrollbarWidths();\n        var _a = this, scrollerRefs = _a.scrollerRefs, scrollerElRefs = _a.scrollerElRefs;\n        var forceYScrollbars = false;\n        var scrollerClientWidths = {};\n        var scrollerClientHeights = {};\n        for (var sectionKey in scrollerRefs.currentMap) {\n            var scroller = scrollerRefs.currentMap[sectionKey];\n            if (scroller && scroller.needsYScrolling()) {\n                forceYScrollbars = true;\n                break;\n            }\n        }\n        for (var _i = 0, _b = this.props.sections; _i < _b.length; _i++) {\n            var section = _b[_i];\n            var sectionKey = section.key;\n            var scrollerEl = scrollerElRefs.currentMap[sectionKey];\n            if (scrollerEl) {\n                var harnessEl = scrollerEl.parentNode; // TODO: weird way to get this. need harness b/c doesn't include table borders\n                scrollerClientWidths[sectionKey] = Math.floor(harnessEl.getBoundingClientRect().width - (forceYScrollbars\n                    ? scrollbarWidth.y // use global because scroller might not have scrollbars yet but will need them in future\n                    : 0));\n                scrollerClientHeights[sectionKey] = Math.floor(harnessEl.getBoundingClientRect().height);\n            }\n        }\n        return { forceYScrollbars: forceYScrollbars, scrollerClientWidths: scrollerClientWidths, scrollerClientHeights: scrollerClientHeights };\n    };\n    return SimpleScrollGrid;\n}(BaseComponent));\nSimpleScrollGrid.addStateEquality({\n    scrollerClientWidths: isPropsEqual,\n    scrollerClientHeights: isPropsEqual,\n});\nfunction getSectionByKey(sections, key) {\n    for (var _i = 0, sections_1 = sections; _i < sections_1.length; _i++) {\n        var section = sections_1[_i];\n        if (section.key === key) {\n            return section;\n        }\n    }\n    return null;\n}\n\nvar EventRoot = /** @class */ (function (_super) {\n    __extends(EventRoot, _super);\n    function EventRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.elRef = createRef();\n        return _this;\n    }\n    EventRoot.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var seg = props.seg;\n        var eventRange = seg.eventRange;\n        var ui = eventRange.ui;\n        var hookProps = {\n            event: new EventApi(context, eventRange.def, eventRange.instance),\n            view: context.viewApi,\n            timeText: props.timeText,\n            textColor: ui.textColor,\n            backgroundColor: ui.backgroundColor,\n            borderColor: ui.borderColor,\n            isDraggable: !props.disableDragging && computeSegDraggable(seg, context),\n            isStartResizable: !props.disableResizing && computeSegStartResizable(seg, context),\n            isEndResizable: !props.disableResizing && computeSegEndResizable(seg),\n            isMirror: Boolean(props.isDragging || props.isResizing || props.isDateSelecting),\n            isStart: Boolean(seg.isStart),\n            isEnd: Boolean(seg.isEnd),\n            isPast: Boolean(props.isPast),\n            isFuture: Boolean(props.isFuture),\n            isToday: Boolean(props.isToday),\n            isSelected: Boolean(props.isSelected),\n            isDragging: Boolean(props.isDragging),\n            isResizing: Boolean(props.isResizing),\n        };\n        var standardClassNames = getEventClassNames(hookProps).concat(ui.classNames);\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.eventClassNames, content: options.eventContent, defaultContent: props.defaultContent, didMount: options.eventDidMount, willUnmount: options.eventWillUnmount, elRef: this.elRef }, function (rootElRef, customClassNames, innerElRef, innerContent) { return props.children(rootElRef, standardClassNames.concat(customClassNames), innerElRef, innerContent, hookProps); }));\n    };\n    EventRoot.prototype.componentDidMount = function () {\n        setElSeg(this.elRef.current, this.props.seg);\n    };\n    /*\n    need to re-assign seg to the element if seg changes, even if the element is the same\n    */\n    EventRoot.prototype.componentDidUpdate = function (prevProps) {\n        var seg = this.props.seg;\n        if (seg !== prevProps.seg) {\n            setElSeg(this.elRef.current, seg);\n        }\n    };\n    return EventRoot;\n}(BaseComponent));\n\n// should not be a purecomponent\nvar StandardEvent = /** @class */ (function (_super) {\n    __extends(StandardEvent, _super);\n    function StandardEvent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    StandardEvent.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var seg = props.seg;\n        var timeFormat = context.options.eventTimeFormat || props.defaultTimeFormat;\n        var timeText = buildSegTimeText(seg, timeFormat, context, props.defaultDisplayEventTime, props.defaultDisplayEventEnd);\n        return (createElement(EventRoot, { seg: seg, timeText: timeText, disableDragging: props.disableDragging, disableResizing: props.disableResizing, defaultContent: props.defaultContent || renderInnerContent$1, isDragging: props.isDragging, isResizing: props.isResizing, isDateSelecting: props.isDateSelecting, isSelected: props.isSelected, isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday }, function (rootElRef, classNames, innerElRef, innerContent, hookProps) { return (createElement(\"a\", __assign({ className: props.extraClassNames.concat(classNames).join(' '), style: {\n                borderColor: hookProps.borderColor,\n                backgroundColor: hookProps.backgroundColor,\n            }, ref: rootElRef }, getSegAnchorAttrs(seg, context)),\n            createElement(\"div\", { className: \"fc-event-main\", ref: innerElRef, style: { color: hookProps.textColor } }, innerContent),\n            hookProps.isStartResizable &&\n                createElement(\"div\", { className: \"fc-event-resizer fc-event-resizer-start\" }),\n            hookProps.isEndResizable &&\n                createElement(\"div\", { className: \"fc-event-resizer fc-event-resizer-end\" }))); }));\n    };\n    return StandardEvent;\n}(BaseComponent));\nfunction renderInnerContent$1(innerProps) {\n    return (createElement(\"div\", { className: \"fc-event-main-frame\" },\n        innerProps.timeText && (createElement(\"div\", { className: \"fc-event-time\" }, innerProps.timeText)),\n        createElement(\"div\", { className: \"fc-event-title-container\" },\n            createElement(\"div\", { className: \"fc-event-title fc-sticky\" }, innerProps.event.title || createElement(Fragment, null, \"\\u00A0\")))));\n}\n\nvar NowIndicatorRoot = function (props) { return (createElement(ViewContextType.Consumer, null, function (context) {\n    var options = context.options;\n    var hookProps = {\n        isAxis: props.isAxis,\n        date: context.dateEnv.toDate(props.date),\n        view: context.viewApi,\n    };\n    return (createElement(RenderHook, { hookProps: hookProps, classNames: options.nowIndicatorClassNames, content: options.nowIndicatorContent, didMount: options.nowIndicatorDidMount, willUnmount: options.nowIndicatorWillUnmount }, props.children));\n})); };\n\nvar DAY_NUM_FORMAT = createFormatter({ day: 'numeric' });\nvar DayCellContent = /** @class */ (function (_super) {\n    __extends(DayCellContent, _super);\n    function DayCellContent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    DayCellContent.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var hookProps = refineDayCellHookProps({\n            date: props.date,\n            dateProfile: props.dateProfile,\n            todayRange: props.todayRange,\n            showDayNumber: props.showDayNumber,\n            extraProps: props.extraHookProps,\n            viewApi: context.viewApi,\n            dateEnv: context.dateEnv,\n        });\n        return (createElement(ContentHook, { hookProps: hookProps, content: options.dayCellContent, defaultContent: props.defaultContent }, props.children));\n    };\n    return DayCellContent;\n}(BaseComponent));\nfunction refineDayCellHookProps(raw) {\n    var date = raw.date, dateEnv = raw.dateEnv;\n    var dayMeta = getDateMeta(date, raw.todayRange, null, raw.dateProfile);\n    return __assign(__assign(__assign({ date: dateEnv.toDate(date), view: raw.viewApi }, dayMeta), { dayNumberText: raw.showDayNumber ? dateEnv.format(date, DAY_NUM_FORMAT) : '' }), raw.extraProps);\n}\n\nvar DayCellRoot = /** @class */ (function (_super) {\n    __extends(DayCellRoot, _super);\n    function DayCellRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.refineHookProps = memoizeObjArg(refineDayCellHookProps);\n        _this.normalizeClassNames = buildClassNameNormalizer();\n        return _this;\n    }\n    DayCellRoot.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var hookProps = this.refineHookProps({\n            date: props.date,\n            dateProfile: props.dateProfile,\n            todayRange: props.todayRange,\n            showDayNumber: props.showDayNumber,\n            extraProps: props.extraHookProps,\n            viewApi: context.viewApi,\n            dateEnv: context.dateEnv,\n        });\n        var classNames = getDayClassNames(hookProps, context.theme).concat(hookProps.isDisabled\n            ? [] // don't use custom classNames if disabled\n            : this.normalizeClassNames(options.dayCellClassNames, hookProps));\n        var dataAttrs = hookProps.isDisabled ? {} : {\n            'data-date': formatDayString(props.date),\n        };\n        return (createElement(MountHook, { hookProps: hookProps, didMount: options.dayCellDidMount, willUnmount: options.dayCellWillUnmount, elRef: props.elRef }, function (rootElRef) { return props.children(rootElRef, classNames, dataAttrs, hookProps.isDisabled); }));\n    };\n    return DayCellRoot;\n}(BaseComponent));\n\nfunction renderFill(fillType) {\n    return (createElement(\"div\", { className: \"fc-\" + fillType }));\n}\nvar BgEvent = function (props) { return (createElement(EventRoot, { defaultContent: renderInnerContent, seg: props.seg /* uselesss i think */, timeText: \"\", disableDragging: true, disableResizing: true, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: false, isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday }, function (rootElRef, classNames, innerElRef, innerContent, hookProps) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-bg-event'].concat(classNames).join(' '), style: {\n        backgroundColor: hookProps.backgroundColor,\n    } }, innerContent)); })); };\nfunction renderInnerContent(props) {\n    var title = props.event.title;\n    return title && (createElement(\"div\", { className: \"fc-event-title\" }, props.event.title));\n}\n\nvar WeekNumberRoot = function (props) { return (createElement(ViewContextType.Consumer, null, function (context) {\n    var dateEnv = context.dateEnv, options = context.options;\n    var date = props.date;\n    var format = options.weekNumberFormat || props.defaultFormat;\n    var num = dateEnv.computeWeekNumber(date); // TODO: somehow use for formatting as well?\n    var text = dateEnv.format(date, format);\n    var hookProps = { num: num, text: text, date: date };\n    return (createElement(RenderHook, { hookProps: hookProps, classNames: options.weekNumberClassNames, content: options.weekNumberContent, defaultContent: renderInner, didMount: options.weekNumberDidMount, willUnmount: options.weekNumberWillUnmount }, props.children));\n})); };\nfunction renderInner(innerProps) {\n    return innerProps.text;\n}\n\nvar PADDING_FROM_VIEWPORT = 10;\nvar Popover = /** @class */ (function (_super) {\n    __extends(Popover, _super);\n    function Popover() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            titleId: getUniqueDomId(),\n        };\n        _this.handleRootEl = function (el) {\n            _this.rootEl = el;\n            if (_this.props.elRef) {\n                setRef(_this.props.elRef, el);\n            }\n        };\n        // Triggered when the user clicks *anywhere* in the document, for the autoHide feature\n        _this.handleDocumentMouseDown = function (ev) {\n            // only hide the popover if the click happened outside the popover\n            var target = getEventTargetViaRoot(ev);\n            if (!_this.rootEl.contains(target)) {\n                _this.handleCloseClick();\n            }\n        };\n        _this.handleDocumentKeyDown = function (ev) {\n            if (ev.key === 'Escape') {\n                _this.handleCloseClick();\n            }\n        };\n        _this.handleCloseClick = function () {\n            var onClose = _this.props.onClose;\n            if (onClose) {\n                onClose();\n            }\n        };\n        return _this;\n    }\n    Popover.prototype.render = function () {\n        var _a = this.context, theme = _a.theme, options = _a.options;\n        var _b = this, props = _b.props, state = _b.state;\n        var classNames = [\n            'fc-popover',\n            theme.getClass('popover'),\n        ].concat(props.extraClassNames || []);\n        return createPortal(createElement(\"div\", __assign({ id: props.id, className: classNames.join(' '), \"aria-labelledby\": state.titleId }, props.extraAttrs, { ref: this.handleRootEl }),\n            createElement(\"div\", { className: 'fc-popover-header ' + theme.getClass('popoverHeader') },\n                createElement(\"span\", { className: \"fc-popover-title\", id: state.titleId }, props.title),\n                createElement(\"span\", { className: 'fc-popover-close ' + theme.getIconClass('close'), title: options.closeHint, onClick: this.handleCloseClick })),\n            createElement(\"div\", { className: 'fc-popover-body ' + theme.getClass('popoverContent') }, props.children)), props.parentEl);\n    };\n    Popover.prototype.componentDidMount = function () {\n        document.addEventListener('mousedown', this.handleDocumentMouseDown);\n        document.addEventListener('keydown', this.handleDocumentKeyDown);\n        this.updateSize();\n    };\n    Popover.prototype.componentWillUnmount = function () {\n        document.removeEventListener('mousedown', this.handleDocumentMouseDown);\n        document.removeEventListener('keydown', this.handleDocumentKeyDown);\n    };\n    Popover.prototype.updateSize = function () {\n        var isRtl = this.context.isRtl;\n        var _a = this.props, alignmentEl = _a.alignmentEl, alignGridTop = _a.alignGridTop;\n        var rootEl = this.rootEl;\n        var alignmentRect = computeClippedClientRect(alignmentEl);\n        if (alignmentRect) {\n            var popoverDims = rootEl.getBoundingClientRect();\n            // position relative to viewport\n            var popoverTop = alignGridTop\n                ? elementClosest(alignmentEl, '.fc-scrollgrid').getBoundingClientRect().top\n                : alignmentRect.top;\n            var popoverLeft = isRtl ? alignmentRect.right - popoverDims.width : alignmentRect.left;\n            // constrain\n            popoverTop = Math.max(popoverTop, PADDING_FROM_VIEWPORT);\n            popoverLeft = Math.min(popoverLeft, document.documentElement.clientWidth - PADDING_FROM_VIEWPORT - popoverDims.width);\n            popoverLeft = Math.max(popoverLeft, PADDING_FROM_VIEWPORT);\n            var origin_1 = rootEl.offsetParent.getBoundingClientRect();\n            applyStyle(rootEl, {\n                top: popoverTop - origin_1.top,\n                left: popoverLeft - origin_1.left,\n            });\n        }\n    };\n    return Popover;\n}(BaseComponent));\n\nvar MorePopover = /** @class */ (function (_super) {\n    __extends(MorePopover, _super);\n    function MorePopover() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleRootEl = function (rootEl) {\n            _this.rootEl = rootEl;\n            if (rootEl) {\n                _this.context.registerInteractiveComponent(_this, {\n                    el: rootEl,\n                    useEventCenter: false,\n                });\n            }\n            else {\n                _this.context.unregisterInteractiveComponent(_this);\n            }\n        };\n        return _this;\n    }\n    MorePopover.prototype.render = function () {\n        var _a = this.context, options = _a.options, dateEnv = _a.dateEnv;\n        var props = this.props;\n        var startDate = props.startDate, todayRange = props.todayRange, dateProfile = props.dateProfile;\n        var title = dateEnv.format(startDate, options.dayPopoverFormat);\n        return (createElement(DayCellRoot, { date: startDate, dateProfile: dateProfile, todayRange: todayRange, elRef: this.handleRootEl }, function (rootElRef, dayClassNames, dataAttrs) { return (createElement(Popover, { elRef: rootElRef, id: props.id, title: title, extraClassNames: ['fc-more-popover'].concat(dayClassNames), extraAttrs: dataAttrs /* TODO: make these time-based when not whole-day? */, parentEl: props.parentEl, alignmentEl: props.alignmentEl, alignGridTop: props.alignGridTop, onClose: props.onClose },\n            createElement(DayCellContent, { date: startDate, dateProfile: dateProfile, todayRange: todayRange }, function (innerElRef, innerContent) { return (innerContent &&\n                createElement(\"div\", { className: \"fc-more-popover-misc\", ref: innerElRef }, innerContent)); }),\n            props.children)); }));\n    };\n    MorePopover.prototype.queryHit = function (positionLeft, positionTop, elWidth, elHeight) {\n        var _a = this, rootEl = _a.rootEl, props = _a.props;\n        if (positionLeft >= 0 && positionLeft < elWidth &&\n            positionTop >= 0 && positionTop < elHeight) {\n            return {\n                dateProfile: props.dateProfile,\n                dateSpan: __assign({ allDay: true, range: {\n                        start: props.startDate,\n                        end: props.endDate,\n                    } }, props.extraDateSpan),\n                dayEl: rootEl,\n                rect: {\n                    left: 0,\n                    top: 0,\n                    right: elWidth,\n                    bottom: elHeight,\n                },\n                layer: 1, // important when comparing with hits from other components\n            };\n        }\n        return null;\n    };\n    return MorePopover;\n}(DateComponent));\n\nvar MoreLinkRoot = /** @class */ (function (_super) {\n    __extends(MoreLinkRoot, _super);\n    function MoreLinkRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.linkElRef = createRef();\n        _this.state = {\n            isPopoverOpen: false,\n            popoverId: getUniqueDomId(),\n        };\n        _this.handleClick = function (ev) {\n            var _a = _this, props = _a.props, context = _a.context;\n            var moreLinkClick = context.options.moreLinkClick;\n            var date = computeRange(props).start;\n            function buildPublicSeg(seg) {\n                var _a = seg.eventRange, def = _a.def, instance = _a.instance, range = _a.range;\n                return {\n                    event: new EventApi(context, def, instance),\n                    start: context.dateEnv.toDate(range.start),\n                    end: context.dateEnv.toDate(range.end),\n                    isStart: seg.isStart,\n                    isEnd: seg.isEnd,\n                };\n            }\n            if (typeof moreLinkClick === 'function') {\n                moreLinkClick = moreLinkClick({\n                    date: date,\n                    allDay: Boolean(props.allDayDate),\n                    allSegs: props.allSegs.map(buildPublicSeg),\n                    hiddenSegs: props.hiddenSegs.map(buildPublicSeg),\n                    jsEvent: ev,\n                    view: context.viewApi,\n                });\n            }\n            if (!moreLinkClick || moreLinkClick === 'popover') {\n                _this.setState({ isPopoverOpen: true });\n            }\n            else if (typeof moreLinkClick === 'string') { // a view name\n                context.calendarApi.zoomTo(date, moreLinkClick);\n            }\n        };\n        _this.handlePopoverClose = function () {\n            _this.setState({ isPopoverOpen: false });\n        };\n        return _this;\n    }\n    MoreLinkRoot.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, state = _a.state;\n        return (createElement(ViewContextType.Consumer, null, function (context) {\n            var viewApi = context.viewApi, options = context.options, calendarApi = context.calendarApi;\n            var moreLinkText = options.moreLinkText;\n            var moreCnt = props.moreCnt;\n            var range = computeRange(props);\n            var text = typeof moreLinkText === 'function' // TODO: eventually use formatWithOrdinals\n                ? moreLinkText.call(calendarApi, moreCnt)\n                : \"+\" + moreCnt + \" \" + moreLinkText;\n            var title = formatWithOrdinals(options.moreLinkHint, [moreCnt], text);\n            var hookProps = {\n                num: moreCnt,\n                shortText: \"+\" + moreCnt,\n                text: text,\n                view: viewApi,\n            };\n            return (createElement(Fragment, null,\n                Boolean(props.moreCnt) && (createElement(RenderHook, { elRef: _this.linkElRef, hookProps: hookProps, classNames: options.moreLinkClassNames, content: options.moreLinkContent, defaultContent: props.defaultContent || renderMoreLinkInner, didMount: options.moreLinkDidMount, willUnmount: options.moreLinkWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return props.children(rootElRef, ['fc-more-link'].concat(customClassNames), innerElRef, innerContent, _this.handleClick, title, state.isPopoverOpen, state.isPopoverOpen ? state.popoverId : ''); })),\n                state.isPopoverOpen && (createElement(MorePopover, { id: state.popoverId, startDate: range.start, endDate: range.end, dateProfile: props.dateProfile, todayRange: props.todayRange, extraDateSpan: props.extraDateSpan, parentEl: _this.parentEl, alignmentEl: props.alignmentElRef.current, alignGridTop: props.alignGridTop, onClose: _this.handlePopoverClose }, props.popoverContent()))));\n        }));\n    };\n    MoreLinkRoot.prototype.componentDidMount = function () {\n        this.updateParentEl();\n    };\n    MoreLinkRoot.prototype.componentDidUpdate = function () {\n        this.updateParentEl();\n    };\n    MoreLinkRoot.prototype.updateParentEl = function () {\n        if (this.linkElRef.current) {\n            this.parentEl = elementClosest(this.linkElRef.current, '.fc-view-harness');\n        }\n    };\n    return MoreLinkRoot;\n}(BaseComponent));\nfunction renderMoreLinkInner(props) {\n    return props.text;\n}\nfunction computeRange(props) {\n    if (props.allDayDate) {\n        return {\n            start: props.allDayDate,\n            end: addDays(props.allDayDate, 1),\n        };\n    }\n    var hiddenSegs = props.hiddenSegs;\n    return {\n        start: computeEarliestSegStart(hiddenSegs),\n        end: computeLatestSegEnd(hiddenSegs),\n    };\n}\nfunction computeEarliestSegStart(segs) {\n    return segs.reduce(pickEarliestStart).eventRange.range.start;\n}\nfunction pickEarliestStart(seg0, seg1) {\n    return seg0.eventRange.range.start < seg1.eventRange.range.start ? seg0 : seg1;\n}\nfunction computeLatestSegEnd(segs) {\n    return segs.reduce(pickLatestEnd).eventRange.range.end;\n}\nfunction pickLatestEnd(seg0, seg1) {\n    return seg0.eventRange.range.end > seg1.eventRange.range.end ? seg0 : seg1;\n}\n\n// exports\n// --------------------------------------------------------------------------------------------------\nvar version = '5.11.3'; // important to type it, so .d.ts has generic string\n\nexport { BASE_OPTION_DEFAULTS, BASE_OPTION_REFINERS, BaseComponent, BgEvent, CalendarApi, CalendarContent, CalendarDataManager, CalendarDataProvider, CalendarRoot, ContentHook, CustomContentRenderContext, DateComponent, DateEnv, DateProfileGenerator, DayCellContent, DayCellRoot, DayHeader, DaySeriesModel, DayTableModel, DelayedRunner, ElementDragging, ElementScrollController, Emitter, EventApi, EventRoot, EventSourceApi, Interaction, MoreLinkRoot, MountHook, NamedTimeZoneImpl, NowIndicatorRoot, NowTimer, PositionCache, RefMap, RenderHook, ScrollController, ScrollResponder, Scroller, SegHierarchy, SimpleScrollGrid, Slicer, Splitter, StandardEvent, TableDateCell, TableDowCell, Theme, ViewApi, ViewContextType, ViewRoot, WeekNumberRoot, WindowScrollController, addDays, addDurations, addMs, addWeeks, allowContextMenu, allowSelection, applyMutationToEventStore, applyStyle, applyStyleProp, asCleanDays, asRoughMinutes, asRoughMs, asRoughSeconds, binarySearch, buildClassNameNormalizer, buildEntryKey, buildEventApis, buildEventRangeKey, buildHashFromArray, buildIsoString, buildNavLinkAttrs, buildSegCompareObj, buildSegTimeText, collectFromHash, combineEventUis, compareByFieldSpec, compareByFieldSpecs, compareNumbers, compareObjs, computeEarliestSegStart, computeEdges, computeFallbackHeaderFormat, computeHeightAndMargins, computeInnerRect, computeRect, computeSegDraggable, computeSegEndResizable, computeSegStartResizable, computeShrinkWidth, computeSmallestCellWidth, computeVisibleDayRange, config, constrainPoint, createAriaClickAttrs, createDuration, createEmptyEventStore, createEventInstance, createEventUi, createFormatter, createPlugin, diffDates, diffDayAndTime, diffDays, diffPoints, diffWeeks, diffWholeDays, diffWholeWeeks, disableCursor, elementClosest, elementMatches, enableCursor, eventTupleToStore, filterEventStoreDefs, filterHash, findDirectChildren, findElements, flexibleCompare, formatDate, formatDayString, formatIsoTimeString, formatRange, getAllowYScrolling, getCanVGrowWithinCell, getClippingParents, getDateMeta, getDayClassNames, getDefaultEventEnd, getElRoot, getElSeg, getEntrySpanEnd, getEventClassNames, getEventTargetViaRoot, getIsRtlScrollbarOnLeft, getRectCenter, getRelevantEvents, getScrollGridClassNames, getScrollbarWidths, getSectionClassNames, getSectionHasLiquidHeight, getSegAnchorAttrs, getSegMeta, getSlotClassNames, getStickyFooterScrollbar, getStickyHeaderDates, getUnequalProps, getUniqueDomId, globalLocales, globalPlugins, greatestDurationDenominator, groupIntersectingEntries, guid, hasBgRendering, hasShrinkWidth, identity, interactionSettingsStore, interactionSettingsToStore, intersectRanges, intersectRects, intersectSpans, isArraysEqual, isColPropsEqual, isDateSelectionValid, isDateSpansEqual, isInt, isInteractionValid, isMultiDayRange, isPropsEqual, isPropsValid, isValidDate, joinSpans, listenBySelector, mapHash, memoize, memoizeArraylike, memoizeHashlike, memoizeObjArg, mergeEventStores, multiplyDuration, padStart, parseBusinessHours, parseClassNames, parseDragMeta, parseEventDef, parseFieldSpecs, parse as parseMarker, pointInsideRect, preventContextMenu, preventDefault, preventSelection, rangeContainsMarker, rangeContainsRange, rangesEqual, rangesIntersect, refineEventDef, refineProps, removeElement, removeExact, renderChunkContent, renderFill, renderMicroColGroup, renderScrollShim, requestJson, sanitizeShrinkWidth, setElSeg, setRef, sliceEventStore, sliceEvents, sortEventSegs, startOfDay, translateRect, triggerDateSelect, unpromisify, version, whenTransitionDone, wholeDivideDurations };\n","/// <reference types=\"@fullcalendar/core-preact\" />\nif (typeof FullCalendarVDom === 'undefined') {\n    throw new Error('Please import the top-level fullcalendar lib before attempting to import a plugin.');\n}\nvar Component = FullCalendarVDom.Component;\nvar createElement = FullCalendarVDom.createElement;\nvar render = FullCalendarVDom.render;\nvar createRef = FullCalendarVDom.createRef;\nvar Fragment = FullCalendarVDom.Fragment;\nvar createContext = FullCalendarVDom.createContext;\nvar createPortal = FullCalendarVDom.createPortal;\nvar flushSync = FullCalendarVDom.flushSync;\nvar unmountComponentAtNode = FullCalendarVDom.unmountComponentAtNode;\n/* eslint-enable */\n\nexport { Component, Fragment, createContext, createElement, createPortal, createRef, flushSync, render, unmountComponentAtNode };\n","/*!\nFullCalendar v5.11.3\nDocs & License: https://fullcalendar.io/\n(c) 2022 Adam Shaw\n*/\nimport './vdom.js';\nimport { __extends, __assign } from 'tslib';\nimport { flushSync, render, createElement, CalendarRoot, CustomContentRenderContext, CalendarContent, unmountComponentAtNode, DelayedRunner, CalendarDataManager, isArraysEqual, applyStyleProp, CalendarApi } from '@fullcalendar/common';\nexport * from '@fullcalendar/common';\n\nvar Calendar = /** @class */ (function (_super) {\n    __extends(Calendar, _super);\n    function Calendar(el, optionOverrides) {\n        if (optionOverrides === void 0) { optionOverrides = {}; }\n        var _this = _super.call(this) || this;\n        _this.isRendering = false;\n        _this.isRendered = false;\n        _this.currentClassNames = [];\n        _this.customContentRenderId = 0; // will affect custom generated classNames?\n        _this.handleAction = function (action) {\n            // actions we know we want to render immediately\n            switch (action.type) {\n                case 'SET_EVENT_DRAG':\n                case 'SET_EVENT_RESIZE':\n                    _this.renderRunner.tryDrain();\n            }\n        };\n        _this.handleData = function (data) {\n            _this.currentData = data;\n            _this.renderRunner.request(data.calendarOptions.rerenderDelay);\n        };\n        _this.handleRenderRequest = function () {\n            if (_this.isRendering) {\n                _this.isRendered = true;\n                var currentData_1 = _this.currentData;\n                flushSync(function () {\n                    render(createElement(CalendarRoot, { options: currentData_1.calendarOptions, theme: currentData_1.theme, emitter: currentData_1.emitter }, function (classNames, height, isHeightAuto, forPrint) {\n                        _this.setClassNames(classNames);\n                        _this.setHeight(height);\n                        return (createElement(CustomContentRenderContext.Provider, { value: _this.customContentRenderId },\n                            createElement(CalendarContent, __assign({ isHeightAuto: isHeightAuto, forPrint: forPrint }, currentData_1))));\n                    }), _this.el);\n                });\n            }\n            else if (_this.isRendered) {\n                _this.isRendered = false;\n                unmountComponentAtNode(_this.el);\n                _this.setClassNames([]);\n                _this.setHeight('');\n            }\n        };\n        _this.el = el;\n        _this.renderRunner = new DelayedRunner(_this.handleRenderRequest);\n        new CalendarDataManager({\n            optionOverrides: optionOverrides,\n            calendarApi: _this,\n            onAction: _this.handleAction,\n            onData: _this.handleData,\n        });\n        return _this;\n    }\n    Object.defineProperty(Calendar.prototype, \"view\", {\n        get: function () { return this.currentData.viewApi; } // for public API\n        ,\n        enumerable: false,\n        configurable: true\n    });\n    Calendar.prototype.render = function () {\n        var wasRendering = this.isRendering;\n        if (!wasRendering) {\n            this.isRendering = true;\n        }\n        else {\n            this.customContentRenderId += 1;\n        }\n        this.renderRunner.request();\n        if (wasRendering) {\n            this.updateSize();\n        }\n    };\n    Calendar.prototype.destroy = function () {\n        if (this.isRendering) {\n            this.isRendering = false;\n            this.renderRunner.request();\n        }\n    };\n    Calendar.prototype.updateSize = function () {\n        var _this = this;\n        flushSync(function () {\n            _super.prototype.updateSize.call(_this);\n        });\n    };\n    Calendar.prototype.batchRendering = function (func) {\n        this.renderRunner.pause('batchRendering');\n        func();\n        this.renderRunner.resume('batchRendering');\n    };\n    Calendar.prototype.pauseRendering = function () {\n        this.renderRunner.pause('pauseRendering');\n    };\n    Calendar.prototype.resumeRendering = function () {\n        this.renderRunner.resume('pauseRendering', true);\n    };\n    Calendar.prototype.resetOptions = function (optionOverrides, append) {\n        this.currentDataManager.resetOptions(optionOverrides, append);\n    };\n    Calendar.prototype.setClassNames = function (classNames) {\n        if (!isArraysEqual(classNames, this.currentClassNames)) {\n            var classList = this.el.classList;\n            for (var _i = 0, _a = this.currentClassNames; _i < _a.length; _i++) {\n                var className = _a[_i];\n                classList.remove(className);\n            }\n            for (var _b = 0, classNames_1 = classNames; _b < classNames_1.length; _b++) {\n                var className = classNames_1[_b];\n                classList.add(className);\n            }\n            this.currentClassNames = classNames;\n        }\n    };\n    Calendar.prototype.setHeight = function (height) {\n        applyStyleProp(this.el, 'height', height);\n    };\n    return Calendar;\n}(CalendarApi));\n\nexport { Calendar };\n","import { __extends } from 'tslib';\nimport * as preact from 'preact';\nimport * as preactCompat from 'preact/compat';\n\nvar globalObj = typeof globalThis !== 'undefined' ? globalThis : window; // // TODO: streamline when killing IE11 support\nif (globalObj.FullCalendarVDom) {\n    console.warn('FullCalendar VDOM already loaded');\n}\nelse {\n    globalObj.FullCalendarVDom = {\n        Component: preact.Component,\n        createElement: preact.createElement,\n        render: preact.render,\n        createRef: preact.createRef,\n        Fragment: preact.Fragment,\n        createContext: createContext,\n        createPortal: preactCompat.createPortal,\n        flushSync: flushSync,\n        unmountComponentAtNode: unmountComponentAtNode,\n    };\n}\n// HACKS...\n// TODO: lock version\n// TODO: link gh issues\nfunction flushSync(runBeforeFlush) {\n    runBeforeFlush();\n    var oldDebounceRendering = preact.options.debounceRendering; // orig\n    var callbackQ = [];\n    function execCallbackSync(callback) {\n        callbackQ.push(callback);\n    }\n    preact.options.debounceRendering = execCallbackSync;\n    preact.render(preact.createElement(FakeComponent, {}), document.createElement('div'));\n    while (callbackQ.length) {\n        callbackQ.shift()();\n    }\n    preact.options.debounceRendering = oldDebounceRendering;\n}\nvar FakeComponent = /** @class */ (function (_super) {\n    __extends(FakeComponent, _super);\n    function FakeComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    FakeComponent.prototype.render = function () { return preact.createElement('div', {}); };\n    FakeComponent.prototype.componentDidMount = function () { this.setState({}); };\n    return FakeComponent;\n}(preact.Component));\nfunction createContext(defaultValue) {\n    var ContextType = preact.createContext(defaultValue);\n    var origProvider = ContextType.Provider;\n    ContextType.Provider = function () {\n        var _this = this;\n        var isNew = !this.getChildContext;\n        var children = origProvider.apply(this, arguments); // eslint-disable-line prefer-rest-params\n        if (isNew) {\n            var subs_1 = [];\n            this.shouldComponentUpdate = function (_props) {\n                if (_this.props.value !== _props.value) {\n                    subs_1.forEach(function (c) {\n                        c.context = _props.value;\n                        c.forceUpdate();\n                    });\n                }\n            };\n            this.sub = function (c) {\n                subs_1.push(c);\n                var old = c.componentWillUnmount;\n                c.componentWillUnmount = function () {\n                    subs_1.splice(subs_1.indexOf(c), 1);\n                    old && old.call(c);\n                };\n            };\n        }\n        return children;\n    };\n    return ContextType;\n}\nfunction unmountComponentAtNode(node) {\n    preact.render(null, node);\n}\n","/*!\nFullCalendar v5.11.3\nDocs & License: https://fullcalendar.io/\n(c) 2022 Adam Shaw\n*/\nimport './main.css';\n\nimport { createRef, getStickyHeaderDates, createElement, ViewRoot, SimpleScrollGrid, getStickyFooterScrollbar, renderScrollShim, DateComponent, buildNavLinkAttrs, DayCellContent, Fragment, BaseComponent, createFormatter, StandardEvent, buildSegTimeText, EventRoot, getSegAnchorAttrs, memoize, MoreLinkRoot, getSegMeta, createAriaClickAttrs, getUniqueDomId, setRef, DayCellRoot, WeekNumberRoot, buildEntryKey, intersectSpans, SegHierarchy, intersectRanges, addDays, RefMap, sortEventSegs, isPropsEqual, buildEventRangeKey, BgEvent, renderFill, PositionCache, NowTimer, Slicer, DayHeader, DaySeriesModel, DayTableModel, addWeeks, diffWeeks, DateProfileGenerator, createPlugin } from '@fullcalendar/common';\nimport { __extends, __assign, __spreadArray } from 'tslib';\n\n/* An abstract class for the daygrid views, as well as month view. Renders one or more rows of day cells.\n----------------------------------------------------------------------------------------------------------------------*/\n// It is a manager for a Table subcomponent, which does most of the heavy lifting.\n// It is responsible for managing width/height.\nvar TableView = /** @class */ (function (_super) {\n    __extends(TableView, _super);\n    function TableView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.headerElRef = createRef();\n        return _this;\n    }\n    TableView.prototype.renderSimpleLayout = function (headerRowContent, bodyContent) {\n        var _a = this, props = _a.props, context = _a.context;\n        var sections = [];\n        var stickyHeaderDates = getStickyHeaderDates(context.options);\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                chunk: {\n                    elRef: this.headerElRef,\n                    tableClassName: 'fc-col-header',\n                    rowContent: headerRowContent,\n                },\n            });\n        }\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            chunk: { content: bodyContent },\n        });\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec }, function (rootElRef, classNames) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-daygrid'].concat(classNames).join(' ') },\n            createElement(SimpleScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: props.forPrint, cols: [] /* TODO: make optional? */, sections: sections }))); }));\n    };\n    TableView.prototype.renderHScrollLayout = function (headerRowContent, bodyContent, colCnt, dayMinWidth) {\n        var ScrollGrid = this.context.pluginHooks.scrollGridImpl;\n        if (!ScrollGrid) {\n            throw new Error('No ScrollGrid implementation');\n        }\n        var _a = this, props = _a.props, context = _a.context;\n        var stickyHeaderDates = !props.forPrint && getStickyHeaderDates(context.options);\n        var stickyFooterScrollbar = !props.forPrint && getStickyFooterScrollbar(context.options);\n        var sections = [];\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                chunks: [{\n                        key: 'main',\n                        elRef: this.headerElRef,\n                        tableClassName: 'fc-col-header',\n                        rowContent: headerRowContent,\n                    }],\n            });\n        }\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            chunks: [{\n                    key: 'main',\n                    content: bodyContent,\n                }],\n        });\n        if (stickyFooterScrollbar) {\n            sections.push({\n                type: 'footer',\n                key: 'footer',\n                isSticky: true,\n                chunks: [{\n                        key: 'main',\n                        content: renderScrollShim,\n                    }],\n            });\n        }\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec }, function (rootElRef, classNames) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-daygrid'].concat(classNames).join(' ') },\n            createElement(ScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: props.forPrint, colGroups: [{ cols: [{ span: colCnt, minWidth: dayMinWidth }] }], sections: sections }))); }));\n    };\n    return TableView;\n}(DateComponent));\n\nfunction splitSegsByRow(segs, rowCnt) {\n    var byRow = [];\n    for (var i = 0; i < rowCnt; i += 1) {\n        byRow[i] = [];\n    }\n    for (var _i = 0, segs_1 = segs; _i < segs_1.length; _i++) {\n        var seg = segs_1[_i];\n        byRow[seg.row].push(seg);\n    }\n    return byRow;\n}\nfunction splitSegsByFirstCol(segs, colCnt) {\n    var byCol = [];\n    for (var i = 0; i < colCnt; i += 1) {\n        byCol[i] = [];\n    }\n    for (var _i = 0, segs_2 = segs; _i < segs_2.length; _i++) {\n        var seg = segs_2[_i];\n        byCol[seg.firstCol].push(seg);\n    }\n    return byCol;\n}\nfunction splitInteractionByRow(ui, rowCnt) {\n    var byRow = [];\n    if (!ui) {\n        for (var i = 0; i < rowCnt; i += 1) {\n            byRow[i] = null;\n        }\n    }\n    else {\n        for (var i = 0; i < rowCnt; i += 1) {\n            byRow[i] = {\n                affectedInstances: ui.affectedInstances,\n                isEvent: ui.isEvent,\n                segs: [],\n            };\n        }\n        for (var _i = 0, _a = ui.segs; _i < _a.length; _i++) {\n            var seg = _a[_i];\n            byRow[seg.row].segs.push(seg);\n        }\n    }\n    return byRow;\n}\n\nvar TableCellTop = /** @class */ (function (_super) {\n    __extends(TableCellTop, _super);\n    function TableCellTop() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableCellTop.prototype.render = function () {\n        var props = this.props;\n        var navLinkAttrs = buildNavLinkAttrs(this.context, props.date);\n        return (createElement(DayCellContent, { date: props.date, dateProfile: props.dateProfile, todayRange: props.todayRange, showDayNumber: props.showDayNumber, extraHookProps: props.extraHookProps, defaultContent: renderTopInner }, function (innerElRef, innerContent) { return ((innerContent || props.forceDayTop) && (createElement(\"div\", { className: \"fc-daygrid-day-top\", ref: innerElRef },\n            createElement(\"a\", __assign({ id: props.dayNumberId, className: \"fc-daygrid-day-number\" }, navLinkAttrs), innerContent || createElement(Fragment, null, \"\\u00A0\"))))); }));\n    };\n    return TableCellTop;\n}(BaseComponent));\nfunction renderTopInner(props) {\n    return props.dayNumberText;\n}\n\nvar DEFAULT_TABLE_EVENT_TIME_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    omitZeroMinute: true,\n    meridiem: 'narrow',\n});\nfunction hasListItemDisplay(seg) {\n    var display = seg.eventRange.ui.display;\n    return display === 'list-item' || (display === 'auto' &&\n        !seg.eventRange.def.allDay &&\n        seg.firstCol === seg.lastCol && // can't be multi-day\n        seg.isStart && // \"\n        seg.isEnd // \"\n    );\n}\n\nvar TableBlockEvent = /** @class */ (function (_super) {\n    __extends(TableBlockEvent, _super);\n    function TableBlockEvent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableBlockEvent.prototype.render = function () {\n        var props = this.props;\n        return (createElement(StandardEvent, __assign({}, props, { extraClassNames: ['fc-daygrid-event', 'fc-daygrid-block-event', 'fc-h-event'], defaultTimeFormat: DEFAULT_TABLE_EVENT_TIME_FORMAT, defaultDisplayEventEnd: props.defaultDisplayEventEnd, disableResizing: !props.seg.eventRange.def.allDay })));\n    };\n    return TableBlockEvent;\n}(BaseComponent));\n\nvar TableListItemEvent = /** @class */ (function (_super) {\n    __extends(TableListItemEvent, _super);\n    function TableListItemEvent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableListItemEvent.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var timeFormat = context.options.eventTimeFormat || DEFAULT_TABLE_EVENT_TIME_FORMAT;\n        var timeText = buildSegTimeText(props.seg, timeFormat, context, true, props.defaultDisplayEventEnd);\n        return (createElement(EventRoot, { seg: props.seg, timeText: timeText, defaultContent: renderInnerContent, isDragging: props.isDragging, isResizing: false, isDateSelecting: false, isSelected: props.isSelected, isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday }, function (rootElRef, classNames, innerElRef, innerContent) { return ( // we don't use styles!\n        createElement(\"a\", __assign({ className: ['fc-daygrid-event', 'fc-daygrid-dot-event'].concat(classNames).join(' '), ref: rootElRef }, getSegAnchorAttrs(props.seg, context)), innerContent)); }));\n    };\n    return TableListItemEvent;\n}(BaseComponent));\nfunction renderInnerContent(innerProps) {\n    return (createElement(Fragment, null,\n        createElement(\"div\", { className: \"fc-daygrid-event-dot\", style: { borderColor: innerProps.borderColor || innerProps.backgroundColor } }),\n        innerProps.timeText && (createElement(\"div\", { className: \"fc-event-time\" }, innerProps.timeText)),\n        createElement(\"div\", { className: \"fc-event-title\" }, innerProps.event.title || createElement(Fragment, null, \"\\u00A0\"))));\n}\n\nvar TableCellMoreLink = /** @class */ (function (_super) {\n    __extends(TableCellMoreLink, _super);\n    function TableCellMoreLink() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.compileSegs = memoize(compileSegs);\n        return _this;\n    }\n    TableCellMoreLink.prototype.render = function () {\n        var props = this.props;\n        var _a = this.compileSegs(props.singlePlacements), allSegs = _a.allSegs, invisibleSegs = _a.invisibleSegs;\n        return (createElement(MoreLinkRoot, { dateProfile: props.dateProfile, todayRange: props.todayRange, allDayDate: props.allDayDate, moreCnt: props.moreCnt, allSegs: allSegs, hiddenSegs: invisibleSegs, alignmentElRef: props.alignmentElRef, alignGridTop: props.alignGridTop, extraDateSpan: props.extraDateSpan, popoverContent: function () {\n                var isForcedInvisible = (props.eventDrag ? props.eventDrag.affectedInstances : null) ||\n                    (props.eventResize ? props.eventResize.affectedInstances : null) ||\n                    {};\n                return (createElement(Fragment, null, allSegs.map(function (seg) {\n                    var instanceId = seg.eventRange.instance.instanceId;\n                    return (createElement(\"div\", { className: \"fc-daygrid-event-harness\", key: instanceId, style: {\n                            visibility: isForcedInvisible[instanceId] ? 'hidden' : '',\n                        } }, hasListItemDisplay(seg) ? (createElement(TableListItemEvent, __assign({ seg: seg, isDragging: false, isSelected: instanceId === props.eventSelection, defaultDisplayEventEnd: false }, getSegMeta(seg, props.todayRange)))) : (createElement(TableBlockEvent, __assign({ seg: seg, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: instanceId === props.eventSelection, defaultDisplayEventEnd: false }, getSegMeta(seg, props.todayRange))))));\n                })));\n            } }, function (rootElRef, classNames, innerElRef, innerContent, handleClick, title, isExpanded, popoverId) { return (createElement(\"a\", __assign({ ref: rootElRef, className: ['fc-daygrid-more-link'].concat(classNames).join(' '), title: title, \"aria-expanded\": isExpanded, \"aria-controls\": popoverId }, createAriaClickAttrs(handleClick)), innerContent)); }));\n    };\n    return TableCellMoreLink;\n}(BaseComponent));\nfunction compileSegs(singlePlacements) {\n    var allSegs = [];\n    var invisibleSegs = [];\n    for (var _i = 0, singlePlacements_1 = singlePlacements; _i < singlePlacements_1.length; _i++) {\n        var placement = singlePlacements_1[_i];\n        allSegs.push(placement.seg);\n        if (!placement.isVisible) {\n            invisibleSegs.push(placement.seg);\n        }\n    }\n    return { allSegs: allSegs, invisibleSegs: invisibleSegs };\n}\n\nvar DEFAULT_WEEK_NUM_FORMAT = createFormatter({ week: 'narrow' });\nvar TableCell = /** @class */ (function (_super) {\n    __extends(TableCell, _super);\n    function TableCell() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.rootElRef = createRef();\n        _this.state = {\n            dayNumberId: getUniqueDomId(),\n        };\n        _this.handleRootEl = function (el) {\n            setRef(_this.rootElRef, el);\n            setRef(_this.props.elRef, el);\n        };\n        return _this;\n    }\n    TableCell.prototype.render = function () {\n        var _a = this, context = _a.context, props = _a.props, state = _a.state, rootElRef = _a.rootElRef;\n        var date = props.date, dateProfile = props.dateProfile;\n        var navLinkAttrs = buildNavLinkAttrs(context, date, 'week');\n        return (createElement(DayCellRoot, { date: date, dateProfile: dateProfile, todayRange: props.todayRange, showDayNumber: props.showDayNumber, extraHookProps: props.extraHookProps, elRef: this.handleRootEl }, function (dayElRef, dayClassNames, rootDataAttrs, isDisabled) { return (createElement(\"td\", __assign({ ref: dayElRef, role: \"gridcell\", className: ['fc-daygrid-day'].concat(dayClassNames, props.extraClassNames || []).join(' ') }, rootDataAttrs, props.extraDataAttrs, (props.showDayNumber ? { 'aria-labelledby': state.dayNumberId } : {})),\n            createElement(\"div\", { className: \"fc-daygrid-day-frame fc-scrollgrid-sync-inner\", ref: props.innerElRef /* different from hook system! RENAME */ },\n                props.showWeekNumber && (createElement(WeekNumberRoot, { date: date, defaultFormat: DEFAULT_WEEK_NUM_FORMAT }, function (weekElRef, weekClassNames, innerElRef, innerContent) { return (createElement(\"a\", __assign({ ref: weekElRef, className: ['fc-daygrid-week-number'].concat(weekClassNames).join(' ') }, navLinkAttrs), innerContent)); })),\n                !isDisabled && (createElement(TableCellTop, { date: date, dateProfile: dateProfile, showDayNumber: props.showDayNumber, dayNumberId: state.dayNumberId, forceDayTop: props.forceDayTop, todayRange: props.todayRange, extraHookProps: props.extraHookProps })),\n                createElement(\"div\", { className: \"fc-daygrid-day-events\", ref: props.fgContentElRef },\n                    props.fgContent,\n                    createElement(\"div\", { className: \"fc-daygrid-day-bottom\", style: { marginTop: props.moreMarginTop } },\n                        createElement(TableCellMoreLink, { allDayDate: date, singlePlacements: props.singlePlacements, moreCnt: props.moreCnt, alignmentElRef: rootElRef, alignGridTop: !props.showDayNumber, extraDateSpan: props.extraDateSpan, dateProfile: props.dateProfile, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, todayRange: props.todayRange }))),\n                createElement(\"div\", { className: \"fc-daygrid-day-bg\" }, props.bgContent)))); }));\n    };\n    return TableCell;\n}(DateComponent));\n\nfunction computeFgSegPlacement(segs, // assumed already sorted\ndayMaxEvents, dayMaxEventRows, strictOrder, eventInstanceHeights, maxContentHeight, cells) {\n    var hierarchy = new DayGridSegHierarchy();\n    hierarchy.allowReslicing = true;\n    hierarchy.strictOrder = strictOrder;\n    if (dayMaxEvents === true || dayMaxEventRows === true) {\n        hierarchy.maxCoord = maxContentHeight;\n        hierarchy.hiddenConsumes = true;\n    }\n    else if (typeof dayMaxEvents === 'number') {\n        hierarchy.maxStackCnt = dayMaxEvents;\n    }\n    else if (typeof dayMaxEventRows === 'number') {\n        hierarchy.maxStackCnt = dayMaxEventRows;\n        hierarchy.hiddenConsumes = true;\n    }\n    // create segInputs only for segs with known heights\n    var segInputs = [];\n    var unknownHeightSegs = [];\n    for (var i = 0; i < segs.length; i += 1) {\n        var seg = segs[i];\n        var instanceId = seg.eventRange.instance.instanceId;\n        var eventHeight = eventInstanceHeights[instanceId];\n        if (eventHeight != null) {\n            segInputs.push({\n                index: i,\n                thickness: eventHeight,\n                span: {\n                    start: seg.firstCol,\n                    end: seg.lastCol + 1,\n                },\n            });\n        }\n        else {\n            unknownHeightSegs.push(seg);\n        }\n    }\n    var hiddenEntries = hierarchy.addSegs(segInputs);\n    var segRects = hierarchy.toRects();\n    var _a = placeRects(segRects, segs, cells), singleColPlacements = _a.singleColPlacements, multiColPlacements = _a.multiColPlacements, leftoverMargins = _a.leftoverMargins;\n    var moreCnts = [];\n    var moreMarginTops = [];\n    // add segs with unknown heights\n    for (var _i = 0, unknownHeightSegs_1 = unknownHeightSegs; _i < unknownHeightSegs_1.length; _i++) {\n        var seg = unknownHeightSegs_1[_i];\n        multiColPlacements[seg.firstCol].push({\n            seg: seg,\n            isVisible: false,\n            isAbsolute: true,\n            absoluteTop: 0,\n            marginTop: 0,\n        });\n        for (var col = seg.firstCol; col <= seg.lastCol; col += 1) {\n            singleColPlacements[col].push({\n                seg: resliceSeg(seg, col, col + 1, cells),\n                isVisible: false,\n                isAbsolute: false,\n                absoluteTop: 0,\n                marginTop: 0,\n            });\n        }\n    }\n    // add the hidden entries\n    for (var col = 0; col < cells.length; col += 1) {\n        moreCnts.push(0);\n    }\n    for (var _b = 0, hiddenEntries_1 = hiddenEntries; _b < hiddenEntries_1.length; _b++) {\n        var hiddenEntry = hiddenEntries_1[_b];\n        var seg = segs[hiddenEntry.index];\n        var hiddenSpan = hiddenEntry.span;\n        multiColPlacements[hiddenSpan.start].push({\n            seg: resliceSeg(seg, hiddenSpan.start, hiddenSpan.end, cells),\n            isVisible: false,\n            isAbsolute: true,\n            absoluteTop: 0,\n            marginTop: 0,\n        });\n        for (var col = hiddenSpan.start; col < hiddenSpan.end; col += 1) {\n            moreCnts[col] += 1;\n            singleColPlacements[col].push({\n                seg: resliceSeg(seg, col, col + 1, cells),\n                isVisible: false,\n                isAbsolute: false,\n                absoluteTop: 0,\n                marginTop: 0,\n            });\n        }\n    }\n    // deal with leftover margins\n    for (var col = 0; col < cells.length; col += 1) {\n        moreMarginTops.push(leftoverMargins[col]);\n    }\n    return { singleColPlacements: singleColPlacements, multiColPlacements: multiColPlacements, moreCnts: moreCnts, moreMarginTops: moreMarginTops };\n}\n// rects ordered by top coord, then left\nfunction placeRects(allRects, segs, cells) {\n    var rectsByEachCol = groupRectsByEachCol(allRects, cells.length);\n    var singleColPlacements = [];\n    var multiColPlacements = [];\n    var leftoverMargins = [];\n    for (var col = 0; col < cells.length; col += 1) {\n        var rects = rectsByEachCol[col];\n        // compute all static segs in singlePlacements\n        var singlePlacements = [];\n        var currentHeight = 0;\n        var currentMarginTop = 0;\n        for (var _i = 0, rects_1 = rects; _i < rects_1.length; _i++) {\n            var rect = rects_1[_i];\n            var seg = segs[rect.index];\n            singlePlacements.push({\n                seg: resliceSeg(seg, col, col + 1, cells),\n                isVisible: true,\n                isAbsolute: false,\n                absoluteTop: rect.levelCoord,\n                marginTop: rect.levelCoord - currentHeight,\n            });\n            currentHeight = rect.levelCoord + rect.thickness;\n        }\n        // compute mixed static/absolute segs in multiPlacements\n        var multiPlacements = [];\n        currentHeight = 0;\n        currentMarginTop = 0;\n        for (var _a = 0, rects_2 = rects; _a < rects_2.length; _a++) {\n            var rect = rects_2[_a];\n            var seg = segs[rect.index];\n            var isAbsolute = rect.span.end - rect.span.start > 1; // multi-column?\n            var isFirstCol = rect.span.start === col;\n            currentMarginTop += rect.levelCoord - currentHeight; // amount of space since bottom of previous seg\n            currentHeight = rect.levelCoord + rect.thickness; // height will now be bottom of current seg\n            if (isAbsolute) {\n                currentMarginTop += rect.thickness;\n                if (isFirstCol) {\n                    multiPlacements.push({\n                        seg: resliceSeg(seg, rect.span.start, rect.span.end, cells),\n                        isVisible: true,\n                        isAbsolute: true,\n                        absoluteTop: rect.levelCoord,\n                        marginTop: 0,\n                    });\n                }\n            }\n            else if (isFirstCol) {\n                multiPlacements.push({\n                    seg: resliceSeg(seg, rect.span.start, rect.span.end, cells),\n                    isVisible: true,\n                    isAbsolute: false,\n                    absoluteTop: rect.levelCoord,\n                    marginTop: currentMarginTop, // claim the margin\n                });\n                currentMarginTop = 0;\n            }\n        }\n        singleColPlacements.push(singlePlacements);\n        multiColPlacements.push(multiPlacements);\n        leftoverMargins.push(currentMarginTop);\n    }\n    return { singleColPlacements: singleColPlacements, multiColPlacements: multiColPlacements, leftoverMargins: leftoverMargins };\n}\nfunction groupRectsByEachCol(rects, colCnt) {\n    var rectsByEachCol = [];\n    for (var col = 0; col < colCnt; col += 1) {\n        rectsByEachCol.push([]);\n    }\n    for (var _i = 0, rects_3 = rects; _i < rects_3.length; _i++) {\n        var rect = rects_3[_i];\n        for (var col = rect.span.start; col < rect.span.end; col += 1) {\n            rectsByEachCol[col].push(rect);\n        }\n    }\n    return rectsByEachCol;\n}\nfunction resliceSeg(seg, spanStart, spanEnd, cells) {\n    if (seg.firstCol === spanStart && seg.lastCol === spanEnd - 1) {\n        return seg;\n    }\n    var eventRange = seg.eventRange;\n    var origRange = eventRange.range;\n    var slicedRange = intersectRanges(origRange, {\n        start: cells[spanStart].date,\n        end: addDays(cells[spanEnd - 1].date, 1),\n    });\n    return __assign(__assign({}, seg), { firstCol: spanStart, lastCol: spanEnd - 1, eventRange: {\n            def: eventRange.def,\n            ui: __assign(__assign({}, eventRange.ui), { durationEditable: false }),\n            instance: eventRange.instance,\n            range: slicedRange,\n        }, isStart: seg.isStart && slicedRange.start.valueOf() === origRange.start.valueOf(), isEnd: seg.isEnd && slicedRange.end.valueOf() === origRange.end.valueOf() });\n}\nvar DayGridSegHierarchy = /** @class */ (function (_super) {\n    __extends(DayGridSegHierarchy, _super);\n    function DayGridSegHierarchy() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        // config\n        _this.hiddenConsumes = false;\n        // allows us to keep hidden entries in the hierarchy so they take up space\n        _this.forceHidden = {};\n        return _this;\n    }\n    DayGridSegHierarchy.prototype.addSegs = function (segInputs) {\n        var _this = this;\n        var hiddenSegs = _super.prototype.addSegs.call(this, segInputs);\n        var entriesByLevel = this.entriesByLevel;\n        var excludeHidden = function (entry) { return !_this.forceHidden[buildEntryKey(entry)]; };\n        // remove the forced-hidden segs\n        for (var level = 0; level < entriesByLevel.length; level += 1) {\n            entriesByLevel[level] = entriesByLevel[level].filter(excludeHidden);\n        }\n        return hiddenSegs;\n    };\n    DayGridSegHierarchy.prototype.handleInvalidInsertion = function (insertion, entry, hiddenEntries) {\n        var _a = this, entriesByLevel = _a.entriesByLevel, forceHidden = _a.forceHidden;\n        var touchingEntry = insertion.touchingEntry, touchingLevel = insertion.touchingLevel, touchingLateral = insertion.touchingLateral;\n        if (this.hiddenConsumes && touchingEntry) {\n            var touchingEntryId = buildEntryKey(touchingEntry);\n            // if not already hidden\n            if (!forceHidden[touchingEntryId]) {\n                if (this.allowReslicing) {\n                    var placeholderEntry = __assign(__assign({}, touchingEntry), { span: intersectSpans(touchingEntry.span, entry.span) });\n                    var placeholderEntryId = buildEntryKey(placeholderEntry);\n                    forceHidden[placeholderEntryId] = true;\n                    entriesByLevel[touchingLevel][touchingLateral] = placeholderEntry; // replace touchingEntry with our placeholder\n                    this.splitEntry(touchingEntry, entry, hiddenEntries); // split up the touchingEntry, reinsert it\n                }\n                else {\n                    forceHidden[touchingEntryId] = true;\n                    hiddenEntries.push(touchingEntry);\n                }\n            }\n        }\n        return _super.prototype.handleInvalidInsertion.call(this, insertion, entry, hiddenEntries);\n    };\n    return DayGridSegHierarchy;\n}(SegHierarchy));\n\nvar TableRow = /** @class */ (function (_super) {\n    __extends(TableRow, _super);\n    function TableRow() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.cellElRefs = new RefMap(); // the <td>\n        _this.frameElRefs = new RefMap(); // the fc-daygrid-day-frame\n        _this.fgElRefs = new RefMap(); // the fc-daygrid-day-events\n        _this.segHarnessRefs = new RefMap(); // indexed by \"instanceId:firstCol\"\n        _this.rootElRef = createRef();\n        _this.state = {\n            framePositions: null,\n            maxContentHeight: null,\n            eventInstanceHeights: {},\n        };\n        return _this;\n    }\n    TableRow.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, state = _a.state, context = _a.context;\n        var options = context.options;\n        var colCnt = props.cells.length;\n        var businessHoursByCol = splitSegsByFirstCol(props.businessHourSegs, colCnt);\n        var bgEventSegsByCol = splitSegsByFirstCol(props.bgEventSegs, colCnt);\n        var highlightSegsByCol = splitSegsByFirstCol(this.getHighlightSegs(), colCnt);\n        var mirrorSegsByCol = splitSegsByFirstCol(this.getMirrorSegs(), colCnt);\n        var _b = computeFgSegPlacement(sortEventSegs(props.fgEventSegs, options.eventOrder), props.dayMaxEvents, props.dayMaxEventRows, options.eventOrderStrict, state.eventInstanceHeights, state.maxContentHeight, props.cells), singleColPlacements = _b.singleColPlacements, multiColPlacements = _b.multiColPlacements, moreCnts = _b.moreCnts, moreMarginTops = _b.moreMarginTops;\n        var isForcedInvisible = // TODO: messy way to compute this\n         (props.eventDrag && props.eventDrag.affectedInstances) ||\n            (props.eventResize && props.eventResize.affectedInstances) ||\n            {};\n        return (createElement(\"tr\", { ref: this.rootElRef, role: \"row\" },\n            props.renderIntro && props.renderIntro(),\n            props.cells.map(function (cell, col) {\n                var normalFgNodes = _this.renderFgSegs(col, props.forPrint ? singleColPlacements[col] : multiColPlacements[col], props.todayRange, isForcedInvisible);\n                var mirrorFgNodes = _this.renderFgSegs(col, buildMirrorPlacements(mirrorSegsByCol[col], multiColPlacements), props.todayRange, {}, Boolean(props.eventDrag), Boolean(props.eventResize), false);\n                return (createElement(TableCell, { key: cell.key, elRef: _this.cellElRefs.createRef(cell.key), innerElRef: _this.frameElRefs.createRef(cell.key) /* FF <td> problem, but okay to use for left/right. TODO: rename prop */, dateProfile: props.dateProfile, date: cell.date, showDayNumber: props.showDayNumbers, showWeekNumber: props.showWeekNumbers && col === 0, forceDayTop: props.showWeekNumbers /* even displaying weeknum for row, not necessarily day */, todayRange: props.todayRange, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, extraHookProps: cell.extraHookProps, extraDataAttrs: cell.extraDataAttrs, extraClassNames: cell.extraClassNames, extraDateSpan: cell.extraDateSpan, moreCnt: moreCnts[col], moreMarginTop: moreMarginTops[col], singlePlacements: singleColPlacements[col], fgContentElRef: _this.fgElRefs.createRef(cell.key), fgContent: ( // Fragment scopes the keys\n                    createElement(Fragment, null,\n                        createElement(Fragment, null, normalFgNodes),\n                        createElement(Fragment, null, mirrorFgNodes))), bgContent: ( // Fragment scopes the keys\n                    createElement(Fragment, null,\n                        _this.renderFillSegs(highlightSegsByCol[col], 'highlight'),\n                        _this.renderFillSegs(businessHoursByCol[col], 'non-business'),\n                        _this.renderFillSegs(bgEventSegsByCol[col], 'bg-event'))) }));\n            })));\n    };\n    TableRow.prototype.componentDidMount = function () {\n        this.updateSizing(true);\n    };\n    TableRow.prototype.componentDidUpdate = function (prevProps, prevState) {\n        var currentProps = this.props;\n        this.updateSizing(!isPropsEqual(prevProps, currentProps));\n    };\n    TableRow.prototype.getHighlightSegs = function () {\n        var props = this.props;\n        if (props.eventDrag && props.eventDrag.segs.length) { // messy check\n            return props.eventDrag.segs;\n        }\n        if (props.eventResize && props.eventResize.segs.length) { // messy check\n            return props.eventResize.segs;\n        }\n        return props.dateSelectionSegs;\n    };\n    TableRow.prototype.getMirrorSegs = function () {\n        var props = this.props;\n        if (props.eventResize && props.eventResize.segs.length) { // messy check\n            return props.eventResize.segs;\n        }\n        return [];\n    };\n    TableRow.prototype.renderFgSegs = function (col, segPlacements, todayRange, isForcedInvisible, isDragging, isResizing, isDateSelecting) {\n        var context = this.context;\n        var eventSelection = this.props.eventSelection;\n        var framePositions = this.state.framePositions;\n        var defaultDisplayEventEnd = this.props.cells.length === 1; // colCnt === 1\n        var isMirror = isDragging || isResizing || isDateSelecting;\n        var nodes = [];\n        if (framePositions) {\n            for (var _i = 0, segPlacements_1 = segPlacements; _i < segPlacements_1.length; _i++) {\n                var placement = segPlacements_1[_i];\n                var seg = placement.seg;\n                var instanceId = seg.eventRange.instance.instanceId;\n                var key = instanceId + ':' + col;\n                var isVisible = placement.isVisible && !isForcedInvisible[instanceId];\n                var isAbsolute = placement.isAbsolute;\n                var left = '';\n                var right = '';\n                if (isAbsolute) {\n                    if (context.isRtl) {\n                        right = 0;\n                        left = framePositions.lefts[seg.lastCol] - framePositions.lefts[seg.firstCol];\n                    }\n                    else {\n                        left = 0;\n                        right = framePositions.rights[seg.firstCol] - framePositions.rights[seg.lastCol];\n                    }\n                }\n                /*\n                known bug: events that are force to be list-item but span multiple days still take up space in later columns\n                todo: in print view, for multi-day events, don't display title within non-start/end segs\n                */\n                nodes.push(createElement(\"div\", { className: 'fc-daygrid-event-harness' + (isAbsolute ? ' fc-daygrid-event-harness-abs' : ''), key: key, ref: isMirror ? null : this.segHarnessRefs.createRef(key), style: {\n                        visibility: isVisible ? '' : 'hidden',\n                        marginTop: isAbsolute ? '' : placement.marginTop,\n                        top: isAbsolute ? placement.absoluteTop : '',\n                        left: left,\n                        right: right,\n                    } }, hasListItemDisplay(seg) ? (createElement(TableListItemEvent, __assign({ seg: seg, isDragging: isDragging, isSelected: instanceId === eventSelection, defaultDisplayEventEnd: defaultDisplayEventEnd }, getSegMeta(seg, todayRange)))) : (createElement(TableBlockEvent, __assign({ seg: seg, isDragging: isDragging, isResizing: isResizing, isDateSelecting: isDateSelecting, isSelected: instanceId === eventSelection, defaultDisplayEventEnd: defaultDisplayEventEnd }, getSegMeta(seg, todayRange))))));\n            }\n        }\n        return nodes;\n    };\n    TableRow.prototype.renderFillSegs = function (segs, fillType) {\n        var isRtl = this.context.isRtl;\n        var todayRange = this.props.todayRange;\n        var framePositions = this.state.framePositions;\n        var nodes = [];\n        if (framePositions) {\n            for (var _i = 0, segs_1 = segs; _i < segs_1.length; _i++) {\n                var seg = segs_1[_i];\n                var leftRightCss = isRtl ? {\n                    right: 0,\n                    left: framePositions.lefts[seg.lastCol] - framePositions.lefts[seg.firstCol],\n                } : {\n                    left: 0,\n                    right: framePositions.rights[seg.firstCol] - framePositions.rights[seg.lastCol],\n                };\n                nodes.push(createElement(\"div\", { key: buildEventRangeKey(seg.eventRange), className: \"fc-daygrid-bg-harness\", style: leftRightCss }, fillType === 'bg-event' ?\n                    createElement(BgEvent, __assign({ seg: seg }, getSegMeta(seg, todayRange))) :\n                    renderFill(fillType)));\n            }\n        }\n        return createElement.apply(void 0, __spreadArray([Fragment, {}], nodes));\n    };\n    TableRow.prototype.updateSizing = function (isExternalSizingChange) {\n        var _a = this, props = _a.props, frameElRefs = _a.frameElRefs;\n        if (!props.forPrint &&\n            props.clientWidth !== null // positioning ready?\n        ) {\n            if (isExternalSizingChange) {\n                var frameEls = props.cells.map(function (cell) { return frameElRefs.currentMap[cell.key]; });\n                if (frameEls.length) {\n                    var originEl = this.rootElRef.current;\n                    this.setState({\n                        framePositions: new PositionCache(originEl, frameEls, true, // isHorizontal\n                        false),\n                    });\n                }\n            }\n            var oldInstanceHeights = this.state.eventInstanceHeights;\n            var newInstanceHeights = this.queryEventInstanceHeights();\n            var limitByContentHeight = props.dayMaxEvents === true || props.dayMaxEventRows === true;\n            this.safeSetState({\n                // HACK to prevent oscillations of events being shown/hidden from max-event-rows\n                // Essentially, once you compute an element's height, never null-out.\n                // TODO: always display all events, as visibility:hidden?\n                eventInstanceHeights: __assign(__assign({}, oldInstanceHeights), newInstanceHeights),\n                maxContentHeight: limitByContentHeight ? this.computeMaxContentHeight() : null,\n            });\n        }\n    };\n    TableRow.prototype.queryEventInstanceHeights = function () {\n        var segElMap = this.segHarnessRefs.currentMap;\n        var eventInstanceHeights = {};\n        // get the max height amongst instance segs\n        for (var key in segElMap) {\n            var height = Math.round(segElMap[key].getBoundingClientRect().height);\n            var instanceId = key.split(':')[0]; // deconstruct how renderFgSegs makes the key\n            eventInstanceHeights[instanceId] = Math.max(eventInstanceHeights[instanceId] || 0, height);\n        }\n        return eventInstanceHeights;\n    };\n    TableRow.prototype.computeMaxContentHeight = function () {\n        var firstKey = this.props.cells[0].key;\n        var cellEl = this.cellElRefs.currentMap[firstKey];\n        var fcContainerEl = this.fgElRefs.currentMap[firstKey];\n        return cellEl.getBoundingClientRect().bottom - fcContainerEl.getBoundingClientRect().top;\n    };\n    TableRow.prototype.getCellEls = function () {\n        var elMap = this.cellElRefs.currentMap;\n        return this.props.cells.map(function (cell) { return elMap[cell.key]; });\n    };\n    return TableRow;\n}(DateComponent));\nTableRow.addStateEquality({\n    eventInstanceHeights: isPropsEqual,\n});\nfunction buildMirrorPlacements(mirrorSegs, colPlacements) {\n    if (!mirrorSegs.length) {\n        return [];\n    }\n    var topsByInstanceId = buildAbsoluteTopHash(colPlacements); // TODO: cache this at first render?\n    return mirrorSegs.map(function (seg) { return ({\n        seg: seg,\n        isVisible: true,\n        isAbsolute: true,\n        absoluteTop: topsByInstanceId[seg.eventRange.instance.instanceId],\n        marginTop: 0,\n    }); });\n}\nfunction buildAbsoluteTopHash(colPlacements) {\n    var topsByInstanceId = {};\n    for (var _i = 0, colPlacements_1 = colPlacements; _i < colPlacements_1.length; _i++) {\n        var placements = colPlacements_1[_i];\n        for (var _a = 0, placements_1 = placements; _a < placements_1.length; _a++) {\n            var placement = placements_1[_a];\n            topsByInstanceId[placement.seg.eventRange.instance.instanceId] = placement.absoluteTop;\n        }\n    }\n    return topsByInstanceId;\n}\n\nvar Table = /** @class */ (function (_super) {\n    __extends(Table, _super);\n    function Table() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.splitBusinessHourSegs = memoize(splitSegsByRow);\n        _this.splitBgEventSegs = memoize(splitSegsByRow);\n        _this.splitFgEventSegs = memoize(splitSegsByRow);\n        _this.splitDateSelectionSegs = memoize(splitSegsByRow);\n        _this.splitEventDrag = memoize(splitInteractionByRow);\n        _this.splitEventResize = memoize(splitInteractionByRow);\n        _this.rowRefs = new RefMap();\n        _this.handleRootEl = function (rootEl) {\n            _this.rootEl = rootEl;\n            if (rootEl) {\n                _this.context.registerInteractiveComponent(_this, {\n                    el: rootEl,\n                    isHitComboAllowed: _this.props.isHitComboAllowed,\n                });\n            }\n            else {\n                _this.context.unregisterInteractiveComponent(_this);\n            }\n        };\n        return _this;\n    }\n    Table.prototype.render = function () {\n        var _this = this;\n        var props = this.props;\n        var dateProfile = props.dateProfile, dayMaxEventRows = props.dayMaxEventRows, dayMaxEvents = props.dayMaxEvents, expandRows = props.expandRows;\n        var rowCnt = props.cells.length;\n        var businessHourSegsByRow = this.splitBusinessHourSegs(props.businessHourSegs, rowCnt);\n        var bgEventSegsByRow = this.splitBgEventSegs(props.bgEventSegs, rowCnt);\n        var fgEventSegsByRow = this.splitFgEventSegs(props.fgEventSegs, rowCnt);\n        var dateSelectionSegsByRow = this.splitDateSelectionSegs(props.dateSelectionSegs, rowCnt);\n        var eventDragByRow = this.splitEventDrag(props.eventDrag, rowCnt);\n        var eventResizeByRow = this.splitEventResize(props.eventResize, rowCnt);\n        var limitViaBalanced = dayMaxEvents === true || dayMaxEventRows === true;\n        // if rows can't expand to fill fixed height, can't do balanced-height event limit\n        // TODO: best place to normalize these options?\n        if (limitViaBalanced && !expandRows) {\n            limitViaBalanced = false;\n            dayMaxEventRows = null;\n            dayMaxEvents = null;\n        }\n        var classNames = [\n            'fc-daygrid-body',\n            limitViaBalanced ? 'fc-daygrid-body-balanced' : 'fc-daygrid-body-unbalanced',\n            expandRows ? '' : 'fc-daygrid-body-natural', // will height of one row depend on the others?\n        ];\n        return (createElement(\"div\", { className: classNames.join(' '), ref: this.handleRootEl, style: {\n                // these props are important to give this wrapper correct dimensions for interactions\n                // TODO: if we set it here, can we avoid giving to inner tables?\n                width: props.clientWidth,\n                minWidth: props.tableMinWidth,\n            } },\n            createElement(NowTimer, { unit: \"day\" }, function (nowDate, todayRange) { return (createElement(Fragment, null,\n                createElement(\"table\", { role: \"presentation\", className: \"fc-scrollgrid-sync-table\", style: {\n                        width: props.clientWidth,\n                        minWidth: props.tableMinWidth,\n                        height: expandRows ? props.clientHeight : '',\n                    } },\n                    props.colGroupNode,\n                    createElement(\"tbody\", { role: \"presentation\" }, props.cells.map(function (cells, row) { return (createElement(TableRow, { ref: _this.rowRefs.createRef(row), key: cells.length\n                            ? cells[0].date.toISOString() /* best? or put key on cell? or use diff formatter? */\n                            : row // in case there are no cells (like when resource view is loading)\n                        , showDayNumbers: rowCnt > 1, showWeekNumbers: props.showWeekNumbers, todayRange: todayRange, dateProfile: dateProfile, cells: cells, renderIntro: props.renderRowIntro, businessHourSegs: businessHourSegsByRow[row], eventSelection: props.eventSelection, bgEventSegs: bgEventSegsByRow[row].filter(isSegAllDay) /* hack */, fgEventSegs: fgEventSegsByRow[row], dateSelectionSegs: dateSelectionSegsByRow[row], eventDrag: eventDragByRow[row], eventResize: eventResizeByRow[row], dayMaxEvents: dayMaxEvents, dayMaxEventRows: dayMaxEventRows, clientWidth: props.clientWidth, clientHeight: props.clientHeight, forPrint: props.forPrint })); }))))); })));\n    };\n    // Hit System\n    // ----------------------------------------------------------------------------------------------------\n    Table.prototype.prepareHits = function () {\n        this.rowPositions = new PositionCache(this.rootEl, this.rowRefs.collect().map(function (rowObj) { return rowObj.getCellEls()[0]; }), // first cell el in each row. TODO: not optimal\n        false, true);\n        this.colPositions = new PositionCache(this.rootEl, this.rowRefs.currentMap[0].getCellEls(), // cell els in first row\n        true, // horizontal\n        false);\n    };\n    Table.prototype.queryHit = function (positionLeft, positionTop) {\n        var _a = this, colPositions = _a.colPositions, rowPositions = _a.rowPositions;\n        var col = colPositions.leftToIndex(positionLeft);\n        var row = rowPositions.topToIndex(positionTop);\n        if (row != null && col != null) {\n            var cell = this.props.cells[row][col];\n            return {\n                dateProfile: this.props.dateProfile,\n                dateSpan: __assign({ range: this.getCellRange(row, col), allDay: true }, cell.extraDateSpan),\n                dayEl: this.getCellEl(row, col),\n                rect: {\n                    left: colPositions.lefts[col],\n                    right: colPositions.rights[col],\n                    top: rowPositions.tops[row],\n                    bottom: rowPositions.bottoms[row],\n                },\n                layer: 0,\n            };\n        }\n        return null;\n    };\n    Table.prototype.getCellEl = function (row, col) {\n        return this.rowRefs.currentMap[row].getCellEls()[col]; // TODO: not optimal\n    };\n    Table.prototype.getCellRange = function (row, col) {\n        var start = this.props.cells[row][col].date;\n        var end = addDays(start, 1);\n        return { start: start, end: end };\n    };\n    return Table;\n}(DateComponent));\nfunction isSegAllDay(seg) {\n    return seg.eventRange.def.allDay;\n}\n\nvar DayTableSlicer = /** @class */ (function (_super) {\n    __extends(DayTableSlicer, _super);\n    function DayTableSlicer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.forceDayIfListItem = true;\n        return _this;\n    }\n    DayTableSlicer.prototype.sliceRange = function (dateRange, dayTableModel) {\n        return dayTableModel.sliceRange(dateRange);\n    };\n    return DayTableSlicer;\n}(Slicer));\n\nvar DayTable = /** @class */ (function (_super) {\n    __extends(DayTable, _super);\n    function DayTable() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.slicer = new DayTableSlicer();\n        _this.tableRef = createRef();\n        return _this;\n    }\n    DayTable.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        return (createElement(Table, __assign({ ref: this.tableRef }, this.slicer.sliceProps(props, props.dateProfile, props.nextDayThreshold, context, props.dayTableModel), { dateProfile: props.dateProfile, cells: props.dayTableModel.cells, colGroupNode: props.colGroupNode, tableMinWidth: props.tableMinWidth, renderRowIntro: props.renderRowIntro, dayMaxEvents: props.dayMaxEvents, dayMaxEventRows: props.dayMaxEventRows, showWeekNumbers: props.showWeekNumbers, expandRows: props.expandRows, headerAlignElRef: props.headerAlignElRef, clientWidth: props.clientWidth, clientHeight: props.clientHeight, forPrint: props.forPrint })));\n    };\n    return DayTable;\n}(DateComponent));\n\nvar DayTableView = /** @class */ (function (_super) {\n    __extends(DayTableView, _super);\n    function DayTableView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.buildDayTableModel = memoize(buildDayTableModel);\n        _this.headerRef = createRef();\n        _this.tableRef = createRef();\n        return _this;\n    }\n    DayTableView.prototype.render = function () {\n        var _this = this;\n        var _a = this.context, options = _a.options, dateProfileGenerator = _a.dateProfileGenerator;\n        var props = this.props;\n        var dayTableModel = this.buildDayTableModel(props.dateProfile, dateProfileGenerator);\n        var headerContent = options.dayHeaders && (createElement(DayHeader, { ref: this.headerRef, dateProfile: props.dateProfile, dates: dayTableModel.headerDates, datesRepDistinctDays: dayTableModel.rowCnt === 1 }));\n        var bodyContent = function (contentArg) { return (createElement(DayTable, { ref: _this.tableRef, dateProfile: props.dateProfile, dayTableModel: dayTableModel, businessHours: props.businessHours, dateSelection: props.dateSelection, eventStore: props.eventStore, eventUiBases: props.eventUiBases, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, nextDayThreshold: options.nextDayThreshold, colGroupNode: contentArg.tableColGroupNode, tableMinWidth: contentArg.tableMinWidth, dayMaxEvents: options.dayMaxEvents, dayMaxEventRows: options.dayMaxEventRows, showWeekNumbers: options.weekNumbers, expandRows: !props.isHeightAuto, headerAlignElRef: _this.headerElRef, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, forPrint: props.forPrint })); };\n        return options.dayMinWidth\n            ? this.renderHScrollLayout(headerContent, bodyContent, dayTableModel.colCnt, options.dayMinWidth)\n            : this.renderSimpleLayout(headerContent, bodyContent);\n    };\n    return DayTableView;\n}(TableView));\nfunction buildDayTableModel(dateProfile, dateProfileGenerator) {\n    var daySeries = new DaySeriesModel(dateProfile.renderRange, dateProfileGenerator);\n    return new DayTableModel(daySeries, /year|month|week/.test(dateProfile.currentRangeUnit));\n}\n\nvar TableDateProfileGenerator = /** @class */ (function (_super) {\n    __extends(TableDateProfileGenerator, _super);\n    function TableDateProfileGenerator() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    // Computes the date range that will be rendered.\n    TableDateProfileGenerator.prototype.buildRenderRange = function (currentRange, currentRangeUnit, isRangeAllDay) {\n        var dateEnv = this.props.dateEnv;\n        var renderRange = _super.prototype.buildRenderRange.call(this, currentRange, currentRangeUnit, isRangeAllDay);\n        var start = renderRange.start;\n        var end = renderRange.end;\n        var endOfWeek;\n        // year and month views should be aligned with weeks. this is already done for week\n        if (/^(year|month)$/.test(currentRangeUnit)) {\n            start = dateEnv.startOfWeek(start);\n            // make end-of-week if not already\n            endOfWeek = dateEnv.startOfWeek(end);\n            if (endOfWeek.valueOf() !== end.valueOf()) {\n                end = addWeeks(endOfWeek, 1);\n            }\n        }\n        // ensure 6 weeks\n        if (this.props.monthMode &&\n            this.props.fixedWeekCount) {\n            var rowCnt = Math.ceil(// could be partial weeks due to hiddenDays\n            diffWeeks(start, end));\n            end = addWeeks(end, 6 - rowCnt);\n        }\n        return { start: start, end: end };\n    };\n    return TableDateProfileGenerator;\n}(DateProfileGenerator));\n\nvar main = createPlugin({\n    initialView: 'dayGridMonth',\n    views: {\n        dayGrid: {\n            component: DayTableView,\n            dateProfileGeneratorClass: TableDateProfileGenerator,\n        },\n        dayGridDay: {\n            type: 'dayGrid',\n            duration: { days: 1 },\n        },\n        dayGridWeek: {\n            type: 'dayGrid',\n            duration: { weeks: 1 },\n        },\n        dayGridMonth: {\n            type: 'dayGrid',\n            duration: { months: 1 },\n            monthMode: true,\n            fixedWeekCount: true,\n        },\n    },\n});\n\nexport default main;\nexport { DayTableView as DayGridView, DayTable, DayTableSlicer, Table, TableView, buildDayTableModel };\n","/*!\nFullCalendar v5.11.3\nDocs & License: https://fullcalendar.io/\n(c) 2022 Adam Shaw\n*/\nimport { config, elementClosest, Emitter, applyStyle, whenTransitionDone, removeElement, ScrollController, ElementScrollController, computeInnerRect, WindowScrollController, getElRoot, preventSelection, preventContextMenu, allowSelection, allowContextMenu, ElementDragging, computeRect, getClippingParents, pointInsideRect, isDateSpansEqual, constrainPoint, intersectRects, getRectCenter, diffPoints, mapHash, rangeContainsRange, interactionSettingsToStore, Interaction, isDateSelectionValid, enableCursor, disableCursor, triggerDateSelect, compareNumbers, getElSeg, getRelevantEvents, EventApi, createEmptyEventStore, applyMutationToEventStore, isInteractionValid, buildEventApis, interactionSettingsStore, startOfDay, diffDates, createDuration, getEventTargetViaRoot, identity, eventTupleToStore, parseDragMeta, elementMatches, refineEventDef, parseEventDef, getDefaultEventEnd, createEventInstance, BASE_OPTION_DEFAULTS, createPlugin } from '@fullcalendar/common';\nimport { __extends, __assign } from 'tslib';\n\nconfig.touchMouseIgnoreWait = 500;\nvar ignoreMouseDepth = 0;\nvar listenerCnt = 0;\nvar isWindowTouchMoveCancelled = false;\n/*\nUses a \"pointer\" abstraction, which monitors UI events for both mouse and touch.\nTracks when the pointer \"drags\" on a certain element, meaning down+move+up.\n\nAlso, tracks if there was touch-scrolling.\nAlso, can prevent touch-scrolling from happening.\nAlso, can fire pointermove events when scrolling happens underneath, even when no real pointer movement.\n\nemits:\n- pointerdown\n- pointermove\n- pointerup\n*/\nvar PointerDragging = /** @class */ (function () {\n    function PointerDragging(containerEl) {\n        var _this = this;\n        this.subjectEl = null;\n        // options that can be directly assigned by caller\n        this.selector = ''; // will cause subjectEl in all emitted events to be this element\n        this.handleSelector = '';\n        this.shouldIgnoreMove = false;\n        this.shouldWatchScroll = true; // for simulating pointermove on scroll\n        // internal states\n        this.isDragging = false;\n        this.isTouchDragging = false;\n        this.wasTouchScroll = false;\n        // Mouse\n        // ----------------------------------------------------------------------------------------------------\n        this.handleMouseDown = function (ev) {\n            if (!_this.shouldIgnoreMouse() &&\n                isPrimaryMouseButton(ev) &&\n                _this.tryStart(ev)) {\n                var pev = _this.createEventFromMouse(ev, true);\n                _this.emitter.trigger('pointerdown', pev);\n                _this.initScrollWatch(pev);\n                if (!_this.shouldIgnoreMove) {\n                    document.addEventListener('mousemove', _this.handleMouseMove);\n                }\n                document.addEventListener('mouseup', _this.handleMouseUp);\n            }\n        };\n        this.handleMouseMove = function (ev) {\n            var pev = _this.createEventFromMouse(ev);\n            _this.recordCoords(pev);\n            _this.emitter.trigger('pointermove', pev);\n        };\n        this.handleMouseUp = function (ev) {\n            document.removeEventListener('mousemove', _this.handleMouseMove);\n            document.removeEventListener('mouseup', _this.handleMouseUp);\n            _this.emitter.trigger('pointerup', _this.createEventFromMouse(ev));\n            _this.cleanup(); // call last so that pointerup has access to props\n        };\n        // Touch\n        // ----------------------------------------------------------------------------------------------------\n        this.handleTouchStart = function (ev) {\n            if (_this.tryStart(ev)) {\n                _this.isTouchDragging = true;\n                var pev = _this.createEventFromTouch(ev, true);\n                _this.emitter.trigger('pointerdown', pev);\n                _this.initScrollWatch(pev);\n                // unlike mouse, need to attach to target, not document\n                // https://stackoverflow.com/a/45760014\n                var targetEl = ev.target;\n                if (!_this.shouldIgnoreMove) {\n                    targetEl.addEventListener('touchmove', _this.handleTouchMove);\n                }\n                targetEl.addEventListener('touchend', _this.handleTouchEnd);\n                targetEl.addEventListener('touchcancel', _this.handleTouchEnd); // treat it as a touch end\n                // attach a handler to get called when ANY scroll action happens on the page.\n                // this was impossible to do with normal on/off because 'scroll' doesn't bubble.\n                // http://stackoverflow.com/a/32954565/96342\n                window.addEventListener('scroll', _this.handleTouchScroll, true);\n            }\n        };\n        this.handleTouchMove = function (ev) {\n            var pev = _this.createEventFromTouch(ev);\n            _this.recordCoords(pev);\n            _this.emitter.trigger('pointermove', pev);\n        };\n        this.handleTouchEnd = function (ev) {\n            if (_this.isDragging) { // done to guard against touchend followed by touchcancel\n                var targetEl = ev.target;\n                targetEl.removeEventListener('touchmove', _this.handleTouchMove);\n                targetEl.removeEventListener('touchend', _this.handleTouchEnd);\n                targetEl.removeEventListener('touchcancel', _this.handleTouchEnd);\n                window.removeEventListener('scroll', _this.handleTouchScroll, true); // useCaptured=true\n                _this.emitter.trigger('pointerup', _this.createEventFromTouch(ev));\n                _this.cleanup(); // call last so that pointerup has access to props\n                _this.isTouchDragging = false;\n                startIgnoringMouse();\n            }\n        };\n        this.handleTouchScroll = function () {\n            _this.wasTouchScroll = true;\n        };\n        this.handleScroll = function (ev) {\n            if (!_this.shouldIgnoreMove) {\n                var pageX = (window.pageXOffset - _this.prevScrollX) + _this.prevPageX;\n                var pageY = (window.pageYOffset - _this.prevScrollY) + _this.prevPageY;\n                _this.emitter.trigger('pointermove', {\n                    origEvent: ev,\n                    isTouch: _this.isTouchDragging,\n                    subjectEl: _this.subjectEl,\n                    pageX: pageX,\n                    pageY: pageY,\n                    deltaX: pageX - _this.origPageX,\n                    deltaY: pageY - _this.origPageY,\n                });\n            }\n        };\n        this.containerEl = containerEl;\n        this.emitter = new Emitter();\n        containerEl.addEventListener('mousedown', this.handleMouseDown);\n        containerEl.addEventListener('touchstart', this.handleTouchStart, { passive: true });\n        listenerCreated();\n    }\n    PointerDragging.prototype.destroy = function () {\n        this.containerEl.removeEventListener('mousedown', this.handleMouseDown);\n        this.containerEl.removeEventListener('touchstart', this.handleTouchStart, { passive: true });\n        listenerDestroyed();\n    };\n    PointerDragging.prototype.tryStart = function (ev) {\n        var subjectEl = this.querySubjectEl(ev);\n        var downEl = ev.target;\n        if (subjectEl &&\n            (!this.handleSelector || elementClosest(downEl, this.handleSelector))) {\n            this.subjectEl = subjectEl;\n            this.isDragging = true; // do this first so cancelTouchScroll will work\n            this.wasTouchScroll = false;\n            return true;\n        }\n        return false;\n    };\n    PointerDragging.prototype.cleanup = function () {\n        isWindowTouchMoveCancelled = false;\n        this.isDragging = false;\n        this.subjectEl = null;\n        // keep wasTouchScroll around for later access\n        this.destroyScrollWatch();\n    };\n    PointerDragging.prototype.querySubjectEl = function (ev) {\n        if (this.selector) {\n            return elementClosest(ev.target, this.selector);\n        }\n        return this.containerEl;\n    };\n    PointerDragging.prototype.shouldIgnoreMouse = function () {\n        return ignoreMouseDepth || this.isTouchDragging;\n    };\n    // can be called by user of this class, to cancel touch-based scrolling for the current drag\n    PointerDragging.prototype.cancelTouchScroll = function () {\n        if (this.isDragging) {\n            isWindowTouchMoveCancelled = true;\n        }\n    };\n    // Scrolling that simulates pointermoves\n    // ----------------------------------------------------------------------------------------------------\n    PointerDragging.prototype.initScrollWatch = function (ev) {\n        if (this.shouldWatchScroll) {\n            this.recordCoords(ev);\n            window.addEventListener('scroll', this.handleScroll, true); // useCapture=true\n        }\n    };\n    PointerDragging.prototype.recordCoords = function (ev) {\n        if (this.shouldWatchScroll) {\n            this.prevPageX = ev.pageX;\n            this.prevPageY = ev.pageY;\n            this.prevScrollX = window.pageXOffset;\n            this.prevScrollY = window.pageYOffset;\n        }\n    };\n    PointerDragging.prototype.destroyScrollWatch = function () {\n        if (this.shouldWatchScroll) {\n            window.removeEventListener('scroll', this.handleScroll, true); // useCaptured=true\n        }\n    };\n    // Event Normalization\n    // ----------------------------------------------------------------------------------------------------\n    PointerDragging.prototype.createEventFromMouse = function (ev, isFirst) {\n        var deltaX = 0;\n        var deltaY = 0;\n        // TODO: repeat code\n        if (isFirst) {\n            this.origPageX = ev.pageX;\n            this.origPageY = ev.pageY;\n        }\n        else {\n            deltaX = ev.pageX - this.origPageX;\n            deltaY = ev.pageY - this.origPageY;\n        }\n        return {\n            origEvent: ev,\n            isTouch: false,\n            subjectEl: this.subjectEl,\n            pageX: ev.pageX,\n            pageY: ev.pageY,\n            deltaX: deltaX,\n            deltaY: deltaY,\n        };\n    };\n    PointerDragging.prototype.createEventFromTouch = function (ev, isFirst) {\n        var touches = ev.touches;\n        var pageX;\n        var pageY;\n        var deltaX = 0;\n        var deltaY = 0;\n        // if touch coords available, prefer,\n        // because FF would give bad ev.pageX ev.pageY\n        if (touches && touches.length) {\n            pageX = touches[0].pageX;\n            pageY = touches[0].pageY;\n        }\n        else {\n            pageX = ev.pageX;\n            pageY = ev.pageY;\n        }\n        // TODO: repeat code\n        if (isFirst) {\n            this.origPageX = pageX;\n            this.origPageY = pageY;\n        }\n        else {\n            deltaX = pageX - this.origPageX;\n            deltaY = pageY - this.origPageY;\n        }\n        return {\n            origEvent: ev,\n            isTouch: true,\n            subjectEl: this.subjectEl,\n            pageX: pageX,\n            pageY: pageY,\n            deltaX: deltaX,\n            deltaY: deltaY,\n        };\n    };\n    return PointerDragging;\n}());\n// Returns a boolean whether this was a left mouse click and no ctrl key (which means right click on Mac)\nfunction isPrimaryMouseButton(ev) {\n    return ev.button === 0 && !ev.ctrlKey;\n}\n// Ignoring fake mouse events generated by touch\n// ----------------------------------------------------------------------------------------------------\nfunction startIgnoringMouse() {\n    ignoreMouseDepth += 1;\n    setTimeout(function () {\n        ignoreMouseDepth -= 1;\n    }, config.touchMouseIgnoreWait);\n}\n// We want to attach touchmove as early as possible for Safari\n// ----------------------------------------------------------------------------------------------------\nfunction listenerCreated() {\n    listenerCnt += 1;\n    if (listenerCnt === 1) {\n        window.addEventListener('touchmove', onWindowTouchMove, { passive: false });\n    }\n}\nfunction listenerDestroyed() {\n    listenerCnt -= 1;\n    if (!listenerCnt) {\n        window.removeEventListener('touchmove', onWindowTouchMove, { passive: false });\n    }\n}\nfunction onWindowTouchMove(ev) {\n    if (isWindowTouchMoveCancelled) {\n        ev.preventDefault();\n    }\n}\n\n/*\nAn effect in which an element follows the movement of a pointer across the screen.\nThe moving element is a clone of some other element.\nMust call start + handleMove + stop.\n*/\nvar ElementMirror = /** @class */ (function () {\n    function ElementMirror() {\n        this.isVisible = false; // must be explicitly enabled\n        this.sourceEl = null;\n        this.mirrorEl = null;\n        this.sourceElRect = null; // screen coords relative to viewport\n        // options that can be set directly by caller\n        this.parentNode = document.body; // HIGHLY SUGGESTED to set this to sidestep ShadowDOM issues\n        this.zIndex = 9999;\n        this.revertDuration = 0;\n    }\n    ElementMirror.prototype.start = function (sourceEl, pageX, pageY) {\n        this.sourceEl = sourceEl;\n        this.sourceElRect = this.sourceEl.getBoundingClientRect();\n        this.origScreenX = pageX - window.pageXOffset;\n        this.origScreenY = pageY - window.pageYOffset;\n        this.deltaX = 0;\n        this.deltaY = 0;\n        this.updateElPosition();\n    };\n    ElementMirror.prototype.handleMove = function (pageX, pageY) {\n        this.deltaX = (pageX - window.pageXOffset) - this.origScreenX;\n        this.deltaY = (pageY - window.pageYOffset) - this.origScreenY;\n        this.updateElPosition();\n    };\n    // can be called before start\n    ElementMirror.prototype.setIsVisible = function (bool) {\n        if (bool) {\n            if (!this.isVisible) {\n                if (this.mirrorEl) {\n                    this.mirrorEl.style.display = '';\n                }\n                this.isVisible = bool; // needs to happen before updateElPosition\n                this.updateElPosition(); // because was not updating the position while invisible\n            }\n        }\n        else if (this.isVisible) {\n            if (this.mirrorEl) {\n                this.mirrorEl.style.display = 'none';\n            }\n            this.isVisible = bool;\n        }\n    };\n    // always async\n    ElementMirror.prototype.stop = function (needsRevertAnimation, callback) {\n        var _this = this;\n        var done = function () {\n            _this.cleanup();\n            callback();\n        };\n        if (needsRevertAnimation &&\n            this.mirrorEl &&\n            this.isVisible &&\n            this.revertDuration && // if 0, transition won't work\n            (this.deltaX || this.deltaY) // if same coords, transition won't work\n        ) {\n            this.doRevertAnimation(done, this.revertDuration);\n        }\n        else {\n            setTimeout(done, 0);\n        }\n    };\n    ElementMirror.prototype.doRevertAnimation = function (callback, revertDuration) {\n        var mirrorEl = this.mirrorEl;\n        var finalSourceElRect = this.sourceEl.getBoundingClientRect(); // because autoscrolling might have happened\n        mirrorEl.style.transition =\n            'top ' + revertDuration + 'ms,' +\n                'left ' + revertDuration + 'ms';\n        applyStyle(mirrorEl, {\n            left: finalSourceElRect.left,\n            top: finalSourceElRect.top,\n        });\n        whenTransitionDone(mirrorEl, function () {\n            mirrorEl.style.transition = '';\n            callback();\n        });\n    };\n    ElementMirror.prototype.cleanup = function () {\n        if (this.mirrorEl) {\n            removeElement(this.mirrorEl);\n            this.mirrorEl = null;\n        }\n        this.sourceEl = null;\n    };\n    ElementMirror.prototype.updateElPosition = function () {\n        if (this.sourceEl && this.isVisible) {\n            applyStyle(this.getMirrorEl(), {\n                left: this.sourceElRect.left + this.deltaX,\n                top: this.sourceElRect.top + this.deltaY,\n            });\n        }\n    };\n    ElementMirror.prototype.getMirrorEl = function () {\n        var sourceElRect = this.sourceElRect;\n        var mirrorEl = this.mirrorEl;\n        if (!mirrorEl) {\n            mirrorEl = this.mirrorEl = this.sourceEl.cloneNode(true); // cloneChildren=true\n            // we don't want long taps or any mouse interaction causing selection/menus.\n            // would use preventSelection(), but that prevents selectstart, causing problems.\n            mirrorEl.classList.add('fc-unselectable');\n            mirrorEl.classList.add('fc-event-dragging');\n            applyStyle(mirrorEl, {\n                position: 'fixed',\n                zIndex: this.zIndex,\n                visibility: '',\n                boxSizing: 'border-box',\n                width: sourceElRect.right - sourceElRect.left,\n                height: sourceElRect.bottom - sourceElRect.top,\n                right: 'auto',\n                bottom: 'auto',\n                margin: 0,\n            });\n            this.parentNode.appendChild(mirrorEl);\n        }\n        return mirrorEl;\n    };\n    return ElementMirror;\n}());\n\n/*\nIs a cache for a given element's scroll information (all the info that ScrollController stores)\nin addition the \"client rectangle\" of the element.. the area within the scrollbars.\n\nThe cache can be in one of two modes:\n- doesListening:false - ignores when the container is scrolled by someone else\n- doesListening:true - watch for scrolling and update the cache\n*/\nvar ScrollGeomCache = /** @class */ (function (_super) {\n    __extends(ScrollGeomCache, _super);\n    function ScrollGeomCache(scrollController, doesListening) {\n        var _this = _super.call(this) || this;\n        _this.handleScroll = function () {\n            _this.scrollTop = _this.scrollController.getScrollTop();\n            _this.scrollLeft = _this.scrollController.getScrollLeft();\n            _this.handleScrollChange();\n        };\n        _this.scrollController = scrollController;\n        _this.doesListening = doesListening;\n        _this.scrollTop = _this.origScrollTop = scrollController.getScrollTop();\n        _this.scrollLeft = _this.origScrollLeft = scrollController.getScrollLeft();\n        _this.scrollWidth = scrollController.getScrollWidth();\n        _this.scrollHeight = scrollController.getScrollHeight();\n        _this.clientWidth = scrollController.getClientWidth();\n        _this.clientHeight = scrollController.getClientHeight();\n        _this.clientRect = _this.computeClientRect(); // do last in case it needs cached values\n        if (_this.doesListening) {\n            _this.getEventTarget().addEventListener('scroll', _this.handleScroll);\n        }\n        return _this;\n    }\n    ScrollGeomCache.prototype.destroy = function () {\n        if (this.doesListening) {\n            this.getEventTarget().removeEventListener('scroll', this.handleScroll);\n        }\n    };\n    ScrollGeomCache.prototype.getScrollTop = function () {\n        return this.scrollTop;\n    };\n    ScrollGeomCache.prototype.getScrollLeft = function () {\n        return this.scrollLeft;\n    };\n    ScrollGeomCache.prototype.setScrollTop = function (top) {\n        this.scrollController.setScrollTop(top);\n        if (!this.doesListening) {\n            // we are not relying on the element to normalize out-of-bounds scroll values\n            // so we need to sanitize ourselves\n            this.scrollTop = Math.max(Math.min(top, this.getMaxScrollTop()), 0);\n            this.handleScrollChange();\n        }\n    };\n    ScrollGeomCache.prototype.setScrollLeft = function (top) {\n        this.scrollController.setScrollLeft(top);\n        if (!this.doesListening) {\n            // we are not relying on the element to normalize out-of-bounds scroll values\n            // so we need to sanitize ourselves\n            this.scrollLeft = Math.max(Math.min(top, this.getMaxScrollLeft()), 0);\n            this.handleScrollChange();\n        }\n    };\n    ScrollGeomCache.prototype.getClientWidth = function () {\n        return this.clientWidth;\n    };\n    ScrollGeomCache.prototype.getClientHeight = function () {\n        return this.clientHeight;\n    };\n    ScrollGeomCache.prototype.getScrollWidth = function () {\n        return this.scrollWidth;\n    };\n    ScrollGeomCache.prototype.getScrollHeight = function () {\n        return this.scrollHeight;\n    };\n    ScrollGeomCache.prototype.handleScrollChange = function () {\n    };\n    return ScrollGeomCache;\n}(ScrollController));\n\nvar ElementScrollGeomCache = /** @class */ (function (_super) {\n    __extends(ElementScrollGeomCache, _super);\n    function ElementScrollGeomCache(el, doesListening) {\n        return _super.call(this, new ElementScrollController(el), doesListening) || this;\n    }\n    ElementScrollGeomCache.prototype.getEventTarget = function () {\n        return this.scrollController.el;\n    };\n    ElementScrollGeomCache.prototype.computeClientRect = function () {\n        return computeInnerRect(this.scrollController.el);\n    };\n    return ElementScrollGeomCache;\n}(ScrollGeomCache));\n\nvar WindowScrollGeomCache = /** @class */ (function (_super) {\n    __extends(WindowScrollGeomCache, _super);\n    function WindowScrollGeomCache(doesListening) {\n        return _super.call(this, new WindowScrollController(), doesListening) || this;\n    }\n    WindowScrollGeomCache.prototype.getEventTarget = function () {\n        return window;\n    };\n    WindowScrollGeomCache.prototype.computeClientRect = function () {\n        return {\n            left: this.scrollLeft,\n            right: this.scrollLeft + this.clientWidth,\n            top: this.scrollTop,\n            bottom: this.scrollTop + this.clientHeight,\n        };\n    };\n    // the window is the only scroll object that changes it's rectangle relative\n    // to the document's topleft as it scrolls\n    WindowScrollGeomCache.prototype.handleScrollChange = function () {\n        this.clientRect = this.computeClientRect();\n    };\n    return WindowScrollGeomCache;\n}(ScrollGeomCache));\n\n// If available we are using native \"performance\" API instead of \"Date\"\n// Read more about it on MDN:\n// https://developer.mozilla.org/en-US/docs/Web/API/Performance\nvar getTime = typeof performance === 'function' ? performance.now : Date.now;\n/*\nFor a pointer interaction, automatically scrolls certain scroll containers when the pointer\napproaches the edge.\n\nThe caller must call start + handleMove + stop.\n*/\nvar AutoScroller = /** @class */ (function () {\n    function AutoScroller() {\n        var _this = this;\n        // options that can be set by caller\n        this.isEnabled = true;\n        this.scrollQuery = [window, '.fc-scroller'];\n        this.edgeThreshold = 50; // pixels\n        this.maxVelocity = 300; // pixels per second\n        // internal state\n        this.pointerScreenX = null;\n        this.pointerScreenY = null;\n        this.isAnimating = false;\n        this.scrollCaches = null;\n        // protect against the initial pointerdown being too close to an edge and starting the scroll\n        this.everMovedUp = false;\n        this.everMovedDown = false;\n        this.everMovedLeft = false;\n        this.everMovedRight = false;\n        this.animate = function () {\n            if (_this.isAnimating) { // wasn't cancelled between animation calls\n                var edge = _this.computeBestEdge(_this.pointerScreenX + window.pageXOffset, _this.pointerScreenY + window.pageYOffset);\n                if (edge) {\n                    var now = getTime();\n                    _this.handleSide(edge, (now - _this.msSinceRequest) / 1000);\n                    _this.requestAnimation(now);\n                }\n                else {\n                    _this.isAnimating = false; // will stop animation\n                }\n            }\n        };\n    }\n    AutoScroller.prototype.start = function (pageX, pageY, scrollStartEl) {\n        if (this.isEnabled) {\n            this.scrollCaches = this.buildCaches(scrollStartEl);\n            this.pointerScreenX = null;\n            this.pointerScreenY = null;\n            this.everMovedUp = false;\n            this.everMovedDown = false;\n            this.everMovedLeft = false;\n            this.everMovedRight = false;\n            this.handleMove(pageX, pageY);\n        }\n    };\n    AutoScroller.prototype.handleMove = function (pageX, pageY) {\n        if (this.isEnabled) {\n            var pointerScreenX = pageX - window.pageXOffset;\n            var pointerScreenY = pageY - window.pageYOffset;\n            var yDelta = this.pointerScreenY === null ? 0 : pointerScreenY - this.pointerScreenY;\n            var xDelta = this.pointerScreenX === null ? 0 : pointerScreenX - this.pointerScreenX;\n            if (yDelta < 0) {\n                this.everMovedUp = true;\n            }\n            else if (yDelta > 0) {\n                this.everMovedDown = true;\n            }\n            if (xDelta < 0) {\n                this.everMovedLeft = true;\n            }\n            else if (xDelta > 0) {\n                this.everMovedRight = true;\n            }\n            this.pointerScreenX = pointerScreenX;\n            this.pointerScreenY = pointerScreenY;\n            if (!this.isAnimating) {\n                this.isAnimating = true;\n                this.requestAnimation(getTime());\n            }\n        }\n    };\n    AutoScroller.prototype.stop = function () {\n        if (this.isEnabled) {\n            this.isAnimating = false; // will stop animation\n            for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n                var scrollCache = _a[_i];\n                scrollCache.destroy();\n            }\n            this.scrollCaches = null;\n        }\n    };\n    AutoScroller.prototype.requestAnimation = function (now) {\n        this.msSinceRequest = now;\n        requestAnimationFrame(this.animate);\n    };\n    AutoScroller.prototype.handleSide = function (edge, seconds) {\n        var scrollCache = edge.scrollCache;\n        var edgeThreshold = this.edgeThreshold;\n        var invDistance = edgeThreshold - edge.distance;\n        var velocity = // the closer to the edge, the faster we scroll\n         ((invDistance * invDistance) / (edgeThreshold * edgeThreshold)) * // quadratic\n            this.maxVelocity * seconds;\n        var sign = 1;\n        switch (edge.name) {\n            case 'left':\n                sign = -1;\n            // falls through\n            case 'right':\n                scrollCache.setScrollLeft(scrollCache.getScrollLeft() + velocity * sign);\n                break;\n            case 'top':\n                sign = -1;\n            // falls through\n            case 'bottom':\n                scrollCache.setScrollTop(scrollCache.getScrollTop() + velocity * sign);\n                break;\n        }\n    };\n    // left/top are relative to document topleft\n    AutoScroller.prototype.computeBestEdge = function (left, top) {\n        var edgeThreshold = this.edgeThreshold;\n        var bestSide = null;\n        var scrollCaches = this.scrollCaches || [];\n        for (var _i = 0, scrollCaches_1 = scrollCaches; _i < scrollCaches_1.length; _i++) {\n            var scrollCache = scrollCaches_1[_i];\n            var rect = scrollCache.clientRect;\n            var leftDist = left - rect.left;\n            var rightDist = rect.right - left;\n            var topDist = top - rect.top;\n            var bottomDist = rect.bottom - top;\n            // completely within the rect?\n            if (leftDist >= 0 && rightDist >= 0 && topDist >= 0 && bottomDist >= 0) {\n                if (topDist <= edgeThreshold && this.everMovedUp && scrollCache.canScrollUp() &&\n                    (!bestSide || bestSide.distance > topDist)) {\n                    bestSide = { scrollCache: scrollCache, name: 'top', distance: topDist };\n                }\n                if (bottomDist <= edgeThreshold && this.everMovedDown && scrollCache.canScrollDown() &&\n                    (!bestSide || bestSide.distance > bottomDist)) {\n                    bestSide = { scrollCache: scrollCache, name: 'bottom', distance: bottomDist };\n                }\n                if (leftDist <= edgeThreshold && this.everMovedLeft && scrollCache.canScrollLeft() &&\n                    (!bestSide || bestSide.distance > leftDist)) {\n                    bestSide = { scrollCache: scrollCache, name: 'left', distance: leftDist };\n                }\n                if (rightDist <= edgeThreshold && this.everMovedRight && scrollCache.canScrollRight() &&\n                    (!bestSide || bestSide.distance > rightDist)) {\n                    bestSide = { scrollCache: scrollCache, name: 'right', distance: rightDist };\n                }\n            }\n        }\n        return bestSide;\n    };\n    AutoScroller.prototype.buildCaches = function (scrollStartEl) {\n        return this.queryScrollEls(scrollStartEl).map(function (el) {\n            if (el === window) {\n                return new WindowScrollGeomCache(false); // false = don't listen to user-generated scrolls\n            }\n            return new ElementScrollGeomCache(el, false); // false = don't listen to user-generated scrolls\n        });\n    };\n    AutoScroller.prototype.queryScrollEls = function (scrollStartEl) {\n        var els = [];\n        for (var _i = 0, _a = this.scrollQuery; _i < _a.length; _i++) {\n            var query = _a[_i];\n            if (typeof query === 'object') {\n                els.push(query);\n            }\n            else {\n                els.push.apply(els, Array.prototype.slice.call(getElRoot(scrollStartEl).querySelectorAll(query)));\n            }\n        }\n        return els;\n    };\n    return AutoScroller;\n}());\n\n/*\nMonitors dragging on an element. Has a number of high-level features:\n- minimum distance required before dragging\n- minimum wait time (\"delay\") before dragging\n- a mirror element that follows the pointer\n*/\nvar FeaturefulElementDragging = /** @class */ (function (_super) {\n    __extends(FeaturefulElementDragging, _super);\n    function FeaturefulElementDragging(containerEl, selector) {\n        var _this = _super.call(this, containerEl) || this;\n        _this.containerEl = containerEl;\n        // options that can be directly set by caller\n        // the caller can also set the PointerDragging's options as well\n        _this.delay = null;\n        _this.minDistance = 0;\n        _this.touchScrollAllowed = true; // prevents drag from starting and blocks scrolling during drag\n        _this.mirrorNeedsRevert = false;\n        _this.isInteracting = false; // is the user validly moving the pointer? lasts until pointerup\n        _this.isDragging = false; // is it INTENTFULLY dragging? lasts until after revert animation\n        _this.isDelayEnded = false;\n        _this.isDistanceSurpassed = false;\n        _this.delayTimeoutId = null;\n        _this.onPointerDown = function (ev) {\n            if (!_this.isDragging) { // so new drag doesn't happen while revert animation is going\n                _this.isInteracting = true;\n                _this.isDelayEnded = false;\n                _this.isDistanceSurpassed = false;\n                preventSelection(document.body);\n                preventContextMenu(document.body);\n                // prevent links from being visited if there's an eventual drag.\n                // also prevents selection in older browsers (maybe?).\n                // not necessary for touch, besides, browser would complain about passiveness.\n                if (!ev.isTouch) {\n                    ev.origEvent.preventDefault();\n                }\n                _this.emitter.trigger('pointerdown', ev);\n                if (_this.isInteracting && // not destroyed via pointerdown handler\n                    !_this.pointer.shouldIgnoreMove) {\n                    // actions related to initiating dragstart+dragmove+dragend...\n                    _this.mirror.setIsVisible(false); // reset. caller must set-visible\n                    _this.mirror.start(ev.subjectEl, ev.pageX, ev.pageY); // must happen on first pointer down\n                    _this.startDelay(ev);\n                    if (!_this.minDistance) {\n                        _this.handleDistanceSurpassed(ev);\n                    }\n                }\n            }\n        };\n        _this.onPointerMove = function (ev) {\n            if (_this.isInteracting) {\n                _this.emitter.trigger('pointermove', ev);\n                if (!_this.isDistanceSurpassed) {\n                    var minDistance = _this.minDistance;\n                    var distanceSq = void 0; // current distance from the origin, squared\n                    var deltaX = ev.deltaX, deltaY = ev.deltaY;\n                    distanceSq = deltaX * deltaX + deltaY * deltaY;\n                    if (distanceSq >= minDistance * minDistance) { // use pythagorean theorem\n                        _this.handleDistanceSurpassed(ev);\n                    }\n                }\n                if (_this.isDragging) {\n                    // a real pointer move? (not one simulated by scrolling)\n                    if (ev.origEvent.type !== 'scroll') {\n                        _this.mirror.handleMove(ev.pageX, ev.pageY);\n                        _this.autoScroller.handleMove(ev.pageX, ev.pageY);\n                    }\n                    _this.emitter.trigger('dragmove', ev);\n                }\n            }\n        };\n        _this.onPointerUp = function (ev) {\n            if (_this.isInteracting) {\n                _this.isInteracting = false;\n                allowSelection(document.body);\n                allowContextMenu(document.body);\n                _this.emitter.trigger('pointerup', ev); // can potentially set mirrorNeedsRevert\n                if (_this.isDragging) {\n                    _this.autoScroller.stop();\n                    _this.tryStopDrag(ev); // which will stop the mirror\n                }\n                if (_this.delayTimeoutId) {\n                    clearTimeout(_this.delayTimeoutId);\n                    _this.delayTimeoutId = null;\n                }\n            }\n        };\n        var pointer = _this.pointer = new PointerDragging(containerEl);\n        pointer.emitter.on('pointerdown', _this.onPointerDown);\n        pointer.emitter.on('pointermove', _this.onPointerMove);\n        pointer.emitter.on('pointerup', _this.onPointerUp);\n        if (selector) {\n            pointer.selector = selector;\n        }\n        _this.mirror = new ElementMirror();\n        _this.autoScroller = new AutoScroller();\n        return _this;\n    }\n    FeaturefulElementDragging.prototype.destroy = function () {\n        this.pointer.destroy();\n        // HACK: simulate a pointer-up to end the current drag\n        // TODO: fire 'dragend' directly and stop interaction. discourage use of pointerup event (b/c might not fire)\n        this.onPointerUp({});\n    };\n    FeaturefulElementDragging.prototype.startDelay = function (ev) {\n        var _this = this;\n        if (typeof this.delay === 'number') {\n            this.delayTimeoutId = setTimeout(function () {\n                _this.delayTimeoutId = null;\n                _this.handleDelayEnd(ev);\n            }, this.delay); // not assignable to number!\n        }\n        else {\n            this.handleDelayEnd(ev);\n        }\n    };\n    FeaturefulElementDragging.prototype.handleDelayEnd = function (ev) {\n        this.isDelayEnded = true;\n        this.tryStartDrag(ev);\n    };\n    FeaturefulElementDragging.prototype.handleDistanceSurpassed = function (ev) {\n        this.isDistanceSurpassed = true;\n        this.tryStartDrag(ev);\n    };\n    FeaturefulElementDragging.prototype.tryStartDrag = function (ev) {\n        if (this.isDelayEnded && this.isDistanceSurpassed) {\n            if (!this.pointer.wasTouchScroll || this.touchScrollAllowed) {\n                this.isDragging = true;\n                this.mirrorNeedsRevert = false;\n                this.autoScroller.start(ev.pageX, ev.pageY, this.containerEl);\n                this.emitter.trigger('dragstart', ev);\n                if (this.touchScrollAllowed === false) {\n                    this.pointer.cancelTouchScroll();\n                }\n            }\n        }\n    };\n    FeaturefulElementDragging.prototype.tryStopDrag = function (ev) {\n        // .stop() is ALWAYS asynchronous, which we NEED because we want all pointerup events\n        // that come from the document to fire beforehand. much more convenient this way.\n        this.mirror.stop(this.mirrorNeedsRevert, this.stopDrag.bind(this, ev));\n    };\n    FeaturefulElementDragging.prototype.stopDrag = function (ev) {\n        this.isDragging = false;\n        this.emitter.trigger('dragend', ev);\n    };\n    // fill in the implementations...\n    FeaturefulElementDragging.prototype.setIgnoreMove = function (bool) {\n        this.pointer.shouldIgnoreMove = bool;\n    };\n    FeaturefulElementDragging.prototype.setMirrorIsVisible = function (bool) {\n        this.mirror.setIsVisible(bool);\n    };\n    FeaturefulElementDragging.prototype.setMirrorNeedsRevert = function (bool) {\n        this.mirrorNeedsRevert = bool;\n    };\n    FeaturefulElementDragging.prototype.setAutoScrollEnabled = function (bool) {\n        this.autoScroller.isEnabled = bool;\n    };\n    return FeaturefulElementDragging;\n}(ElementDragging));\n\n/*\nWhen this class is instantiated, it records the offset of an element (relative to the document topleft),\nand continues to monitor scrolling, updating the cached coordinates if it needs to.\nDoes not access the DOM after instantiation, so highly performant.\n\nAlso keeps track of all scrolling/overflow:hidden containers that are parents of the given element\nand an determine if a given point is inside the combined clipping rectangle.\n*/\nvar OffsetTracker = /** @class */ (function () {\n    function OffsetTracker(el) {\n        this.origRect = computeRect(el);\n        // will work fine for divs that have overflow:hidden\n        this.scrollCaches = getClippingParents(el).map(function (scrollEl) { return new ElementScrollGeomCache(scrollEl, true); });\n    }\n    OffsetTracker.prototype.destroy = function () {\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            scrollCache.destroy();\n        }\n    };\n    OffsetTracker.prototype.computeLeft = function () {\n        var left = this.origRect.left;\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            left += scrollCache.origScrollLeft - scrollCache.getScrollLeft();\n        }\n        return left;\n    };\n    OffsetTracker.prototype.computeTop = function () {\n        var top = this.origRect.top;\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            top += scrollCache.origScrollTop - scrollCache.getScrollTop();\n        }\n        return top;\n    };\n    OffsetTracker.prototype.isWithinClipping = function (pageX, pageY) {\n        var point = { left: pageX, top: pageY };\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            if (!isIgnoredClipping(scrollCache.getEventTarget()) &&\n                !pointInsideRect(point, scrollCache.clientRect)) {\n                return false;\n            }\n        }\n        return true;\n    };\n    return OffsetTracker;\n}());\n// certain clipping containers should never constrain interactions, like <html> and <body>\n// https://github.com/fullcalendar/fullcalendar/issues/3615\nfunction isIgnoredClipping(node) {\n    var tagName = node.tagName;\n    return tagName === 'HTML' || tagName === 'BODY';\n}\n\n/*\nTracks movement over multiple droppable areas (aka \"hits\")\nthat exist in one or more DateComponents.\nRelies on an existing draggable.\n\nemits:\n- pointerdown\n- dragstart\n- hitchange - fires initially, even if not over a hit\n- pointerup\n- (hitchange - again, to null, if ended over a hit)\n- dragend\n*/\nvar HitDragging = /** @class */ (function () {\n    function HitDragging(dragging, droppableStore) {\n        var _this = this;\n        // options that can be set by caller\n        this.useSubjectCenter = false;\n        this.requireInitial = true; // if doesn't start out on a hit, won't emit any events\n        this.initialHit = null;\n        this.movingHit = null;\n        this.finalHit = null; // won't ever be populated if shouldIgnoreMove\n        this.handlePointerDown = function (ev) {\n            var dragging = _this.dragging;\n            _this.initialHit = null;\n            _this.movingHit = null;\n            _this.finalHit = null;\n            _this.prepareHits();\n            _this.processFirstCoord(ev);\n            if (_this.initialHit || !_this.requireInitial) {\n                dragging.setIgnoreMove(false);\n                // TODO: fire this before computing processFirstCoord, so listeners can cancel. this gets fired by almost every handler :(\n                _this.emitter.trigger('pointerdown', ev);\n            }\n            else {\n                dragging.setIgnoreMove(true);\n            }\n        };\n        this.handleDragStart = function (ev) {\n            _this.emitter.trigger('dragstart', ev);\n            _this.handleMove(ev, true); // force = fire even if initially null\n        };\n        this.handleDragMove = function (ev) {\n            _this.emitter.trigger('dragmove', ev);\n            _this.handleMove(ev);\n        };\n        this.handlePointerUp = function (ev) {\n            _this.releaseHits();\n            _this.emitter.trigger('pointerup', ev);\n        };\n        this.handleDragEnd = function (ev) {\n            if (_this.movingHit) {\n                _this.emitter.trigger('hitupdate', null, true, ev);\n            }\n            _this.finalHit = _this.movingHit;\n            _this.movingHit = null;\n            _this.emitter.trigger('dragend', ev);\n        };\n        this.droppableStore = droppableStore;\n        dragging.emitter.on('pointerdown', this.handlePointerDown);\n        dragging.emitter.on('dragstart', this.handleDragStart);\n        dragging.emitter.on('dragmove', this.handleDragMove);\n        dragging.emitter.on('pointerup', this.handlePointerUp);\n        dragging.emitter.on('dragend', this.handleDragEnd);\n        this.dragging = dragging;\n        this.emitter = new Emitter();\n    }\n    // sets initialHit\n    // sets coordAdjust\n    HitDragging.prototype.processFirstCoord = function (ev) {\n        var origPoint = { left: ev.pageX, top: ev.pageY };\n        var adjustedPoint = origPoint;\n        var subjectEl = ev.subjectEl;\n        var subjectRect;\n        if (subjectEl instanceof HTMLElement) { // i.e. not a Document/ShadowRoot\n            subjectRect = computeRect(subjectEl);\n            adjustedPoint = constrainPoint(adjustedPoint, subjectRect);\n        }\n        var initialHit = this.initialHit = this.queryHitForOffset(adjustedPoint.left, adjustedPoint.top);\n        if (initialHit) {\n            if (this.useSubjectCenter && subjectRect) {\n                var slicedSubjectRect = intersectRects(subjectRect, initialHit.rect);\n                if (slicedSubjectRect) {\n                    adjustedPoint = getRectCenter(slicedSubjectRect);\n                }\n            }\n            this.coordAdjust = diffPoints(adjustedPoint, origPoint);\n        }\n        else {\n            this.coordAdjust = { left: 0, top: 0 };\n        }\n    };\n    HitDragging.prototype.handleMove = function (ev, forceHandle) {\n        var hit = this.queryHitForOffset(ev.pageX + this.coordAdjust.left, ev.pageY + this.coordAdjust.top);\n        if (forceHandle || !isHitsEqual(this.movingHit, hit)) {\n            this.movingHit = hit;\n            this.emitter.trigger('hitupdate', hit, false, ev);\n        }\n    };\n    HitDragging.prototype.prepareHits = function () {\n        this.offsetTrackers = mapHash(this.droppableStore, function (interactionSettings) {\n            interactionSettings.component.prepareHits();\n            return new OffsetTracker(interactionSettings.el);\n        });\n    };\n    HitDragging.prototype.releaseHits = function () {\n        var offsetTrackers = this.offsetTrackers;\n        for (var id in offsetTrackers) {\n            offsetTrackers[id].destroy();\n        }\n        this.offsetTrackers = {};\n    };\n    HitDragging.prototype.queryHitForOffset = function (offsetLeft, offsetTop) {\n        var _a = this, droppableStore = _a.droppableStore, offsetTrackers = _a.offsetTrackers;\n        var bestHit = null;\n        for (var id in droppableStore) {\n            var component = droppableStore[id].component;\n            var offsetTracker = offsetTrackers[id];\n            if (offsetTracker && // wasn't destroyed mid-drag\n                offsetTracker.isWithinClipping(offsetLeft, offsetTop)) {\n                var originLeft = offsetTracker.computeLeft();\n                var originTop = offsetTracker.computeTop();\n                var positionLeft = offsetLeft - originLeft;\n                var positionTop = offsetTop - originTop;\n                var origRect = offsetTracker.origRect;\n                var width = origRect.right - origRect.left;\n                var height = origRect.bottom - origRect.top;\n                if (\n                // must be within the element's bounds\n                positionLeft >= 0 && positionLeft < width &&\n                    positionTop >= 0 && positionTop < height) {\n                    var hit = component.queryHit(positionLeft, positionTop, width, height);\n                    if (hit && (\n                    // make sure the hit is within activeRange, meaning it's not a dead cell\n                    rangeContainsRange(hit.dateProfile.activeRange, hit.dateSpan.range)) &&\n                        (!bestHit || hit.layer > bestHit.layer)) {\n                        hit.componentId = id;\n                        hit.context = component.context;\n                        // TODO: better way to re-orient rectangle\n                        hit.rect.left += originLeft;\n                        hit.rect.right += originLeft;\n                        hit.rect.top += originTop;\n                        hit.rect.bottom += originTop;\n                        bestHit = hit;\n                    }\n                }\n            }\n        }\n        return bestHit;\n    };\n    return HitDragging;\n}());\nfunction isHitsEqual(hit0, hit1) {\n    if (!hit0 && !hit1) {\n        return true;\n    }\n    if (Boolean(hit0) !== Boolean(hit1)) {\n        return false;\n    }\n    return isDateSpansEqual(hit0.dateSpan, hit1.dateSpan);\n}\n\nfunction buildDatePointApiWithContext(dateSpan, context) {\n    var props = {};\n    for (var _i = 0, _a = context.pluginHooks.datePointTransforms; _i < _a.length; _i++) {\n        var transform = _a[_i];\n        __assign(props, transform(dateSpan, context));\n    }\n    __assign(props, buildDatePointApi(dateSpan, context.dateEnv));\n    return props;\n}\nfunction buildDatePointApi(span, dateEnv) {\n    return {\n        date: dateEnv.toDate(span.range.start),\n        dateStr: dateEnv.formatIso(span.range.start, { omitTime: span.allDay }),\n        allDay: span.allDay,\n    };\n}\n\n/*\nMonitors when the user clicks on a specific date/time of a component.\nA pointerdown+pointerup on the same \"hit\" constitutes a click.\n*/\nvar DateClicking = /** @class */ (function (_super) {\n    __extends(DateClicking, _super);\n    function DateClicking(settings) {\n        var _this = _super.call(this, settings) || this;\n        _this.handlePointerDown = function (pev) {\n            var dragging = _this.dragging;\n            var downEl = pev.origEvent.target;\n            // do this in pointerdown (not dragend) because DOM might be mutated by the time dragend is fired\n            dragging.setIgnoreMove(!_this.component.isValidDateDownEl(downEl));\n        };\n        // won't even fire if moving was ignored\n        _this.handleDragEnd = function (ev) {\n            var component = _this.component;\n            var pointer = _this.dragging.pointer;\n            if (!pointer.wasTouchScroll) {\n                var _a = _this.hitDragging, initialHit = _a.initialHit, finalHit = _a.finalHit;\n                if (initialHit && finalHit && isHitsEqual(initialHit, finalHit)) {\n                    var context = component.context;\n                    var arg = __assign(__assign({}, buildDatePointApiWithContext(initialHit.dateSpan, context)), { dayEl: initialHit.dayEl, jsEvent: ev.origEvent, view: context.viewApi || context.calendarApi.view });\n                    context.emitter.trigger('dateClick', arg);\n                }\n            }\n        };\n        // we DO want to watch pointer moves because otherwise finalHit won't get populated\n        _this.dragging = new FeaturefulElementDragging(settings.el);\n        _this.dragging.autoScroller.isEnabled = false;\n        var hitDragging = _this.hitDragging = new HitDragging(_this.dragging, interactionSettingsToStore(settings));\n        hitDragging.emitter.on('pointerdown', _this.handlePointerDown);\n        hitDragging.emitter.on('dragend', _this.handleDragEnd);\n        return _this;\n    }\n    DateClicking.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    return DateClicking;\n}(Interaction));\n\n/*\nTracks when the user selects a portion of time of a component,\nconstituted by a drag over date cells, with a possible delay at the beginning of the drag.\n*/\nvar DateSelecting = /** @class */ (function (_super) {\n    __extends(DateSelecting, _super);\n    function DateSelecting(settings) {\n        var _this = _super.call(this, settings) || this;\n        _this.dragSelection = null;\n        _this.handlePointerDown = function (ev) {\n            var _a = _this, component = _a.component, dragging = _a.dragging;\n            var options = component.context.options;\n            var canSelect = options.selectable &&\n                component.isValidDateDownEl(ev.origEvent.target);\n            // don't bother to watch expensive moves if component won't do selection\n            dragging.setIgnoreMove(!canSelect);\n            // if touch, require user to hold down\n            dragging.delay = ev.isTouch ? getComponentTouchDelay$1(component) : null;\n        };\n        _this.handleDragStart = function (ev) {\n            _this.component.context.calendarApi.unselect(ev); // unselect previous selections\n        };\n        _this.handleHitUpdate = function (hit, isFinal) {\n            var context = _this.component.context;\n            var dragSelection = null;\n            var isInvalid = false;\n            if (hit) {\n                var initialHit = _this.hitDragging.initialHit;\n                var disallowed = hit.componentId === initialHit.componentId\n                    && _this.isHitComboAllowed\n                    && !_this.isHitComboAllowed(initialHit, hit);\n                if (!disallowed) {\n                    dragSelection = joinHitsIntoSelection(initialHit, hit, context.pluginHooks.dateSelectionTransformers);\n                }\n                if (!dragSelection || !isDateSelectionValid(dragSelection, hit.dateProfile, context)) {\n                    isInvalid = true;\n                    dragSelection = null;\n                }\n            }\n            if (dragSelection) {\n                context.dispatch({ type: 'SELECT_DATES', selection: dragSelection });\n            }\n            else if (!isFinal) { // only unselect if moved away while dragging\n                context.dispatch({ type: 'UNSELECT_DATES' });\n            }\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                _this.dragSelection = dragSelection; // only clear if moved away from all hits while dragging\n            }\n        };\n        _this.handlePointerUp = function (pev) {\n            if (_this.dragSelection) {\n                // selection is already rendered, so just need to report selection\n                triggerDateSelect(_this.dragSelection, pev, _this.component.context);\n                _this.dragSelection = null;\n            }\n        };\n        var component = settings.component;\n        var options = component.context.options;\n        var dragging = _this.dragging = new FeaturefulElementDragging(settings.el);\n        dragging.touchScrollAllowed = false;\n        dragging.minDistance = options.selectMinDistance || 0;\n        dragging.autoScroller.isEnabled = options.dragScroll;\n        var hitDragging = _this.hitDragging = new HitDragging(_this.dragging, interactionSettingsToStore(settings));\n        hitDragging.emitter.on('pointerdown', _this.handlePointerDown);\n        hitDragging.emitter.on('dragstart', _this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', _this.handleHitUpdate);\n        hitDragging.emitter.on('pointerup', _this.handlePointerUp);\n        return _this;\n    }\n    DateSelecting.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    return DateSelecting;\n}(Interaction));\nfunction getComponentTouchDelay$1(component) {\n    var options = component.context.options;\n    var delay = options.selectLongPressDelay;\n    if (delay == null) {\n        delay = options.longPressDelay;\n    }\n    return delay;\n}\nfunction joinHitsIntoSelection(hit0, hit1, dateSelectionTransformers) {\n    var dateSpan0 = hit0.dateSpan;\n    var dateSpan1 = hit1.dateSpan;\n    var ms = [\n        dateSpan0.range.start,\n        dateSpan0.range.end,\n        dateSpan1.range.start,\n        dateSpan1.range.end,\n    ];\n    ms.sort(compareNumbers);\n    var props = {};\n    for (var _i = 0, dateSelectionTransformers_1 = dateSelectionTransformers; _i < dateSelectionTransformers_1.length; _i++) {\n        var transformer = dateSelectionTransformers_1[_i];\n        var res = transformer(hit0, hit1);\n        if (res === false) {\n            return null;\n        }\n        if (res) {\n            __assign(props, res);\n        }\n    }\n    props.range = { start: ms[0], end: ms[3] };\n    props.allDay = dateSpan0.allDay;\n    return props;\n}\n\nvar EventDragging = /** @class */ (function (_super) {\n    __extends(EventDragging, _super);\n    function EventDragging(settings) {\n        var _this = _super.call(this, settings) || this;\n        // internal state\n        _this.subjectEl = null;\n        _this.subjectSeg = null; // the seg being selected/dragged\n        _this.isDragging = false;\n        _this.eventRange = null;\n        _this.relevantEvents = null; // the events being dragged\n        _this.receivingContext = null;\n        _this.validMutation = null;\n        _this.mutatedRelevantEvents = null;\n        _this.handlePointerDown = function (ev) {\n            var origTarget = ev.origEvent.target;\n            var _a = _this, component = _a.component, dragging = _a.dragging;\n            var mirror = dragging.mirror;\n            var options = component.context.options;\n            var initialContext = component.context;\n            _this.subjectEl = ev.subjectEl;\n            var subjectSeg = _this.subjectSeg = getElSeg(ev.subjectEl);\n            var eventRange = _this.eventRange = subjectSeg.eventRange;\n            var eventInstanceId = eventRange.instance.instanceId;\n            _this.relevantEvents = getRelevantEvents(initialContext.getCurrentData().eventStore, eventInstanceId);\n            dragging.minDistance = ev.isTouch ? 0 : options.eventDragMinDistance;\n            dragging.delay =\n                // only do a touch delay if touch and this event hasn't been selected yet\n                (ev.isTouch && eventInstanceId !== component.props.eventSelection) ?\n                    getComponentTouchDelay(component) :\n                    null;\n            if (options.fixedMirrorParent) {\n                mirror.parentNode = options.fixedMirrorParent;\n            }\n            else {\n                mirror.parentNode = elementClosest(origTarget, '.fc');\n            }\n            mirror.revertDuration = options.dragRevertDuration;\n            var isValid = component.isValidSegDownEl(origTarget) &&\n                !elementClosest(origTarget, '.fc-event-resizer'); // NOT on a resizer\n            dragging.setIgnoreMove(!isValid);\n            // disable dragging for elements that are resizable (ie, selectable)\n            // but are not draggable\n            _this.isDragging = isValid &&\n                ev.subjectEl.classList.contains('fc-event-draggable');\n        };\n        _this.handleDragStart = function (ev) {\n            var initialContext = _this.component.context;\n            var eventRange = _this.eventRange;\n            var eventInstanceId = eventRange.instance.instanceId;\n            if (ev.isTouch) {\n                // need to select a different event?\n                if (eventInstanceId !== _this.component.props.eventSelection) {\n                    initialContext.dispatch({ type: 'SELECT_EVENT', eventInstanceId: eventInstanceId });\n                }\n            }\n            else {\n                // if now using mouse, but was previous touch interaction, clear selected event\n                initialContext.dispatch({ type: 'UNSELECT_EVENT' });\n            }\n            if (_this.isDragging) {\n                initialContext.calendarApi.unselect(ev); // unselect *date* selection\n                initialContext.emitter.trigger('eventDragStart', {\n                    el: _this.subjectEl,\n                    event: new EventApi(initialContext, eventRange.def, eventRange.instance),\n                    jsEvent: ev.origEvent,\n                    view: initialContext.viewApi,\n                });\n            }\n        };\n        _this.handleHitUpdate = function (hit, isFinal) {\n            if (!_this.isDragging) {\n                return;\n            }\n            var relevantEvents = _this.relevantEvents;\n            var initialHit = _this.hitDragging.initialHit;\n            var initialContext = _this.component.context;\n            // states based on new hit\n            var receivingContext = null;\n            var mutation = null;\n            var mutatedRelevantEvents = null;\n            var isInvalid = false;\n            var interaction = {\n                affectedEvents: relevantEvents,\n                mutatedEvents: createEmptyEventStore(),\n                isEvent: true,\n            };\n            if (hit) {\n                receivingContext = hit.context;\n                var receivingOptions = receivingContext.options;\n                if (initialContext === receivingContext ||\n                    (receivingOptions.editable && receivingOptions.droppable)) {\n                    mutation = computeEventMutation(initialHit, hit, receivingContext.getCurrentData().pluginHooks.eventDragMutationMassagers);\n                    if (mutation) {\n                        mutatedRelevantEvents = applyMutationToEventStore(relevantEvents, receivingContext.getCurrentData().eventUiBases, mutation, receivingContext);\n                        interaction.mutatedEvents = mutatedRelevantEvents;\n                        if (!isInteractionValid(interaction, hit.dateProfile, receivingContext)) {\n                            isInvalid = true;\n                            mutation = null;\n                            mutatedRelevantEvents = null;\n                            interaction.mutatedEvents = createEmptyEventStore();\n                        }\n                    }\n                }\n                else {\n                    receivingContext = null;\n                }\n            }\n            _this.displayDrag(receivingContext, interaction);\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                if (initialContext === receivingContext && // TODO: write test for this\n                    isHitsEqual(initialHit, hit)) {\n                    mutation = null;\n                }\n                _this.dragging.setMirrorNeedsRevert(!mutation);\n                // render the mirror if no already-rendered mirror\n                // TODO: wish we could somehow wait for dispatch to guarantee render\n                _this.dragging.setMirrorIsVisible(!hit || !getElRoot(_this.subjectEl).querySelector('.fc-event-mirror'));\n                // assign states based on new hit\n                _this.receivingContext = receivingContext;\n                _this.validMutation = mutation;\n                _this.mutatedRelevantEvents = mutatedRelevantEvents;\n            }\n        };\n        _this.handlePointerUp = function () {\n            if (!_this.isDragging) {\n                _this.cleanup(); // because handleDragEnd won't fire\n            }\n        };\n        _this.handleDragEnd = function (ev) {\n            if (_this.isDragging) {\n                var initialContext_1 = _this.component.context;\n                var initialView = initialContext_1.viewApi;\n                var _a = _this, receivingContext_1 = _a.receivingContext, validMutation = _a.validMutation;\n                var eventDef = _this.eventRange.def;\n                var eventInstance = _this.eventRange.instance;\n                var eventApi = new EventApi(initialContext_1, eventDef, eventInstance);\n                var relevantEvents_1 = _this.relevantEvents;\n                var mutatedRelevantEvents_1 = _this.mutatedRelevantEvents;\n                var finalHit = _this.hitDragging.finalHit;\n                _this.clearDrag(); // must happen after revert animation\n                initialContext_1.emitter.trigger('eventDragStop', {\n                    el: _this.subjectEl,\n                    event: eventApi,\n                    jsEvent: ev.origEvent,\n                    view: initialView,\n                });\n                if (validMutation) {\n                    // dropped within same calendar\n                    if (receivingContext_1 === initialContext_1) {\n                        var updatedEventApi = new EventApi(initialContext_1, mutatedRelevantEvents_1.defs[eventDef.defId], eventInstance ? mutatedRelevantEvents_1.instances[eventInstance.instanceId] : null);\n                        initialContext_1.dispatch({\n                            type: 'MERGE_EVENTS',\n                            eventStore: mutatedRelevantEvents_1,\n                        });\n                        var eventChangeArg = {\n                            oldEvent: eventApi,\n                            event: updatedEventApi,\n                            relatedEvents: buildEventApis(mutatedRelevantEvents_1, initialContext_1, eventInstance),\n                            revert: function () {\n                                initialContext_1.dispatch({\n                                    type: 'MERGE_EVENTS',\n                                    eventStore: relevantEvents_1, // the pre-change data\n                                });\n                            },\n                        };\n                        var transformed = {};\n                        for (var _i = 0, _b = initialContext_1.getCurrentData().pluginHooks.eventDropTransformers; _i < _b.length; _i++) {\n                            var transformer = _b[_i];\n                            __assign(transformed, transformer(validMutation, initialContext_1));\n                        }\n                        initialContext_1.emitter.trigger('eventDrop', __assign(__assign(__assign({}, eventChangeArg), transformed), { el: ev.subjectEl, delta: validMutation.datesDelta, jsEvent: ev.origEvent, view: initialView }));\n                        initialContext_1.emitter.trigger('eventChange', eventChangeArg);\n                        // dropped in different calendar\n                    }\n                    else if (receivingContext_1) {\n                        var eventRemoveArg = {\n                            event: eventApi,\n                            relatedEvents: buildEventApis(relevantEvents_1, initialContext_1, eventInstance),\n                            revert: function () {\n                                initialContext_1.dispatch({\n                                    type: 'MERGE_EVENTS',\n                                    eventStore: relevantEvents_1,\n                                });\n                            },\n                        };\n                        initialContext_1.emitter.trigger('eventLeave', __assign(__assign({}, eventRemoveArg), { draggedEl: ev.subjectEl, view: initialView }));\n                        initialContext_1.dispatch({\n                            type: 'REMOVE_EVENTS',\n                            eventStore: relevantEvents_1,\n                        });\n                        initialContext_1.emitter.trigger('eventRemove', eventRemoveArg);\n                        var addedEventDef = mutatedRelevantEvents_1.defs[eventDef.defId];\n                        var addedEventInstance = mutatedRelevantEvents_1.instances[eventInstance.instanceId];\n                        var addedEventApi = new EventApi(receivingContext_1, addedEventDef, addedEventInstance);\n                        receivingContext_1.dispatch({\n                            type: 'MERGE_EVENTS',\n                            eventStore: mutatedRelevantEvents_1,\n                        });\n                        var eventAddArg = {\n                            event: addedEventApi,\n                            relatedEvents: buildEventApis(mutatedRelevantEvents_1, receivingContext_1, addedEventInstance),\n                            revert: function () {\n                                receivingContext_1.dispatch({\n                                    type: 'REMOVE_EVENTS',\n                                    eventStore: mutatedRelevantEvents_1,\n                                });\n                            },\n                        };\n                        receivingContext_1.emitter.trigger('eventAdd', eventAddArg);\n                        if (ev.isTouch) {\n                            receivingContext_1.dispatch({\n                                type: 'SELECT_EVENT',\n                                eventInstanceId: eventInstance.instanceId,\n                            });\n                        }\n                        receivingContext_1.emitter.trigger('drop', __assign(__assign({}, buildDatePointApiWithContext(finalHit.dateSpan, receivingContext_1)), { draggedEl: ev.subjectEl, jsEvent: ev.origEvent, view: finalHit.context.viewApi }));\n                        receivingContext_1.emitter.trigger('eventReceive', __assign(__assign({}, eventAddArg), { draggedEl: ev.subjectEl, view: finalHit.context.viewApi }));\n                    }\n                }\n                else {\n                    initialContext_1.emitter.trigger('_noEventDrop');\n                }\n            }\n            _this.cleanup();\n        };\n        var component = _this.component;\n        var options = component.context.options;\n        var dragging = _this.dragging = new FeaturefulElementDragging(settings.el);\n        dragging.pointer.selector = EventDragging.SELECTOR;\n        dragging.touchScrollAllowed = false;\n        dragging.autoScroller.isEnabled = options.dragScroll;\n        var hitDragging = _this.hitDragging = new HitDragging(_this.dragging, interactionSettingsStore);\n        hitDragging.useSubjectCenter = settings.useEventCenter;\n        hitDragging.emitter.on('pointerdown', _this.handlePointerDown);\n        hitDragging.emitter.on('dragstart', _this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', _this.handleHitUpdate);\n        hitDragging.emitter.on('pointerup', _this.handlePointerUp);\n        hitDragging.emitter.on('dragend', _this.handleDragEnd);\n        return _this;\n    }\n    EventDragging.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    // render a drag state on the next receivingCalendar\n    EventDragging.prototype.displayDrag = function (nextContext, state) {\n        var initialContext = this.component.context;\n        var prevContext = this.receivingContext;\n        // does the previous calendar need to be cleared?\n        if (prevContext && prevContext !== nextContext) {\n            // does the initial calendar need to be cleared?\n            // if so, don't clear all the way. we still need to to hide the affectedEvents\n            if (prevContext === initialContext) {\n                prevContext.dispatch({\n                    type: 'SET_EVENT_DRAG',\n                    state: {\n                        affectedEvents: state.affectedEvents,\n                        mutatedEvents: createEmptyEventStore(),\n                        isEvent: true,\n                    },\n                });\n                // completely clear the old calendar if it wasn't the initial\n            }\n            else {\n                prevContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n            }\n        }\n        if (nextContext) {\n            nextContext.dispatch({ type: 'SET_EVENT_DRAG', state: state });\n        }\n    };\n    EventDragging.prototype.clearDrag = function () {\n        var initialCalendar = this.component.context;\n        var receivingContext = this.receivingContext;\n        if (receivingContext) {\n            receivingContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n        // the initial calendar might have an dummy drag state from displayDrag\n        if (initialCalendar !== receivingContext) {\n            initialCalendar.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n    };\n    EventDragging.prototype.cleanup = function () {\n        this.subjectSeg = null;\n        this.isDragging = false;\n        this.eventRange = null;\n        this.relevantEvents = null;\n        this.receivingContext = null;\n        this.validMutation = null;\n        this.mutatedRelevantEvents = null;\n    };\n    // TODO: test this in IE11\n    // QUESTION: why do we need it on the resizable???\n    EventDragging.SELECTOR = '.fc-event-draggable, .fc-event-resizable';\n    return EventDragging;\n}(Interaction));\nfunction computeEventMutation(hit0, hit1, massagers) {\n    var dateSpan0 = hit0.dateSpan;\n    var dateSpan1 = hit1.dateSpan;\n    var date0 = dateSpan0.range.start;\n    var date1 = dateSpan1.range.start;\n    var standardProps = {};\n    if (dateSpan0.allDay !== dateSpan1.allDay) {\n        standardProps.allDay = dateSpan1.allDay;\n        standardProps.hasEnd = hit1.context.options.allDayMaintainDuration;\n        if (dateSpan1.allDay) {\n            // means date1 is already start-of-day,\n            // but date0 needs to be converted\n            date0 = startOfDay(date0);\n        }\n    }\n    var delta = diffDates(date0, date1, hit0.context.dateEnv, hit0.componentId === hit1.componentId ?\n        hit0.largeUnit :\n        null);\n    if (delta.milliseconds) { // has hours/minutes/seconds\n        standardProps.allDay = false;\n    }\n    var mutation = {\n        datesDelta: delta,\n        standardProps: standardProps,\n    };\n    for (var _i = 0, massagers_1 = massagers; _i < massagers_1.length; _i++) {\n        var massager = massagers_1[_i];\n        massager(mutation, hit0, hit1);\n    }\n    return mutation;\n}\nfunction getComponentTouchDelay(component) {\n    var options = component.context.options;\n    var delay = options.eventLongPressDelay;\n    if (delay == null) {\n        delay = options.longPressDelay;\n    }\n    return delay;\n}\n\nvar EventResizing = /** @class */ (function (_super) {\n    __extends(EventResizing, _super);\n    function EventResizing(settings) {\n        var _this = _super.call(this, settings) || this;\n        // internal state\n        _this.draggingSegEl = null;\n        _this.draggingSeg = null; // TODO: rename to resizingSeg? subjectSeg?\n        _this.eventRange = null;\n        _this.relevantEvents = null;\n        _this.validMutation = null;\n        _this.mutatedRelevantEvents = null;\n        _this.handlePointerDown = function (ev) {\n            var component = _this.component;\n            var segEl = _this.querySegEl(ev);\n            var seg = getElSeg(segEl);\n            var eventRange = _this.eventRange = seg.eventRange;\n            _this.dragging.minDistance = component.context.options.eventDragMinDistance;\n            // if touch, need to be working with a selected event\n            _this.dragging.setIgnoreMove(!_this.component.isValidSegDownEl(ev.origEvent.target) ||\n                (ev.isTouch && _this.component.props.eventSelection !== eventRange.instance.instanceId));\n        };\n        _this.handleDragStart = function (ev) {\n            var context = _this.component.context;\n            var eventRange = _this.eventRange;\n            _this.relevantEvents = getRelevantEvents(context.getCurrentData().eventStore, _this.eventRange.instance.instanceId);\n            var segEl = _this.querySegEl(ev);\n            _this.draggingSegEl = segEl;\n            _this.draggingSeg = getElSeg(segEl);\n            context.calendarApi.unselect();\n            context.emitter.trigger('eventResizeStart', {\n                el: segEl,\n                event: new EventApi(context, eventRange.def, eventRange.instance),\n                jsEvent: ev.origEvent,\n                view: context.viewApi,\n            });\n        };\n        _this.handleHitUpdate = function (hit, isFinal, ev) {\n            var context = _this.component.context;\n            var relevantEvents = _this.relevantEvents;\n            var initialHit = _this.hitDragging.initialHit;\n            var eventInstance = _this.eventRange.instance;\n            var mutation = null;\n            var mutatedRelevantEvents = null;\n            var isInvalid = false;\n            var interaction = {\n                affectedEvents: relevantEvents,\n                mutatedEvents: createEmptyEventStore(),\n                isEvent: true,\n            };\n            if (hit) {\n                var disallowed = hit.componentId === initialHit.componentId\n                    && _this.isHitComboAllowed\n                    && !_this.isHitComboAllowed(initialHit, hit);\n                if (!disallowed) {\n                    mutation = computeMutation(initialHit, hit, ev.subjectEl.classList.contains('fc-event-resizer-start'), eventInstance.range);\n                }\n            }\n            if (mutation) {\n                mutatedRelevantEvents = applyMutationToEventStore(relevantEvents, context.getCurrentData().eventUiBases, mutation, context);\n                interaction.mutatedEvents = mutatedRelevantEvents;\n                if (!isInteractionValid(interaction, hit.dateProfile, context)) {\n                    isInvalid = true;\n                    mutation = null;\n                    mutatedRelevantEvents = null;\n                    interaction.mutatedEvents = null;\n                }\n            }\n            if (mutatedRelevantEvents) {\n                context.dispatch({\n                    type: 'SET_EVENT_RESIZE',\n                    state: interaction,\n                });\n            }\n            else {\n                context.dispatch({ type: 'UNSET_EVENT_RESIZE' });\n            }\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                if (mutation && isHitsEqual(initialHit, hit)) {\n                    mutation = null;\n                }\n                _this.validMutation = mutation;\n                _this.mutatedRelevantEvents = mutatedRelevantEvents;\n            }\n        };\n        _this.handleDragEnd = function (ev) {\n            var context = _this.component.context;\n            var eventDef = _this.eventRange.def;\n            var eventInstance = _this.eventRange.instance;\n            var eventApi = new EventApi(context, eventDef, eventInstance);\n            var relevantEvents = _this.relevantEvents;\n            var mutatedRelevantEvents = _this.mutatedRelevantEvents;\n            context.emitter.trigger('eventResizeStop', {\n                el: _this.draggingSegEl,\n                event: eventApi,\n                jsEvent: ev.origEvent,\n                view: context.viewApi,\n            });\n            if (_this.validMutation) {\n                var updatedEventApi = new EventApi(context, mutatedRelevantEvents.defs[eventDef.defId], eventInstance ? mutatedRelevantEvents.instances[eventInstance.instanceId] : null);\n                context.dispatch({\n                    type: 'MERGE_EVENTS',\n                    eventStore: mutatedRelevantEvents,\n                });\n                var eventChangeArg = {\n                    oldEvent: eventApi,\n                    event: updatedEventApi,\n                    relatedEvents: buildEventApis(mutatedRelevantEvents, context, eventInstance),\n                    revert: function () {\n                        context.dispatch({\n                            type: 'MERGE_EVENTS',\n                            eventStore: relevantEvents, // the pre-change events\n                        });\n                    },\n                };\n                context.emitter.trigger('eventResize', __assign(__assign({}, eventChangeArg), { el: _this.draggingSegEl, startDelta: _this.validMutation.startDelta || createDuration(0), endDelta: _this.validMutation.endDelta || createDuration(0), jsEvent: ev.origEvent, view: context.viewApi }));\n                context.emitter.trigger('eventChange', eventChangeArg);\n            }\n            else {\n                context.emitter.trigger('_noEventResize');\n            }\n            // reset all internal state\n            _this.draggingSeg = null;\n            _this.relevantEvents = null;\n            _this.validMutation = null;\n            // okay to keep eventInstance around. useful to set it in handlePointerDown\n        };\n        var component = settings.component;\n        var dragging = _this.dragging = new FeaturefulElementDragging(settings.el);\n        dragging.pointer.selector = '.fc-event-resizer';\n        dragging.touchScrollAllowed = false;\n        dragging.autoScroller.isEnabled = component.context.options.dragScroll;\n        var hitDragging = _this.hitDragging = new HitDragging(_this.dragging, interactionSettingsToStore(settings));\n        hitDragging.emitter.on('pointerdown', _this.handlePointerDown);\n        hitDragging.emitter.on('dragstart', _this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', _this.handleHitUpdate);\n        hitDragging.emitter.on('dragend', _this.handleDragEnd);\n        return _this;\n    }\n    EventResizing.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    EventResizing.prototype.querySegEl = function (ev) {\n        return elementClosest(ev.subjectEl, '.fc-event');\n    };\n    return EventResizing;\n}(Interaction));\nfunction computeMutation(hit0, hit1, isFromStart, instanceRange) {\n    var dateEnv = hit0.context.dateEnv;\n    var date0 = hit0.dateSpan.range.start;\n    var date1 = hit1.dateSpan.range.start;\n    var delta = diffDates(date0, date1, dateEnv, hit0.largeUnit);\n    if (isFromStart) {\n        if (dateEnv.add(instanceRange.start, delta) < instanceRange.end) {\n            return { startDelta: delta };\n        }\n    }\n    else if (dateEnv.add(instanceRange.end, delta) > instanceRange.start) {\n        return { endDelta: delta };\n    }\n    return null;\n}\n\nvar UnselectAuto = /** @class */ (function () {\n    function UnselectAuto(context) {\n        var _this = this;\n        this.context = context;\n        this.isRecentPointerDateSelect = false; // wish we could use a selector to detect date selection, but uses hit system\n        this.matchesCancel = false;\n        this.matchesEvent = false;\n        this.onSelect = function (selectInfo) {\n            if (selectInfo.jsEvent) {\n                _this.isRecentPointerDateSelect = true;\n            }\n        };\n        this.onDocumentPointerDown = function (pev) {\n            var unselectCancel = _this.context.options.unselectCancel;\n            var downEl = getEventTargetViaRoot(pev.origEvent);\n            _this.matchesCancel = !!elementClosest(downEl, unselectCancel);\n            _this.matchesEvent = !!elementClosest(downEl, EventDragging.SELECTOR); // interaction started on an event?\n        };\n        this.onDocumentPointerUp = function (pev) {\n            var context = _this.context;\n            var documentPointer = _this.documentPointer;\n            var calendarState = context.getCurrentData();\n            // touch-scrolling should never unfocus any type of selection\n            if (!documentPointer.wasTouchScroll) {\n                if (calendarState.dateSelection && // an existing date selection?\n                    !_this.isRecentPointerDateSelect // a new pointer-initiated date selection since last onDocumentPointerUp?\n                ) {\n                    var unselectAuto = context.options.unselectAuto;\n                    if (unselectAuto && (!unselectAuto || !_this.matchesCancel)) {\n                        context.calendarApi.unselect(pev);\n                    }\n                }\n                if (calendarState.eventSelection && // an existing event selected?\n                    !_this.matchesEvent // interaction DIDN'T start on an event\n                ) {\n                    context.dispatch({ type: 'UNSELECT_EVENT' });\n                }\n            }\n            _this.isRecentPointerDateSelect = false;\n        };\n        var documentPointer = this.documentPointer = new PointerDragging(document);\n        documentPointer.shouldIgnoreMove = true;\n        documentPointer.shouldWatchScroll = false;\n        documentPointer.emitter.on('pointerdown', this.onDocumentPointerDown);\n        documentPointer.emitter.on('pointerup', this.onDocumentPointerUp);\n        /*\n        TODO: better way to know about whether there was a selection with the pointer\n        */\n        context.emitter.on('select', this.onSelect);\n    }\n    UnselectAuto.prototype.destroy = function () {\n        this.context.emitter.off('select', this.onSelect);\n        this.documentPointer.destroy();\n    };\n    return UnselectAuto;\n}());\n\nvar OPTION_REFINERS = {\n    fixedMirrorParent: identity,\n};\nvar LISTENER_REFINERS = {\n    dateClick: identity,\n    eventDragStart: identity,\n    eventDragStop: identity,\n    eventDrop: identity,\n    eventResizeStart: identity,\n    eventResizeStop: identity,\n    eventResize: identity,\n    drop: identity,\n    eventReceive: identity,\n    eventLeave: identity,\n};\n\n/*\nGiven an already instantiated draggable object for one-or-more elements,\nInterprets any dragging as an attempt to drag an events that lives outside\nof a calendar onto a calendar.\n*/\nvar ExternalElementDragging = /** @class */ (function () {\n    function ExternalElementDragging(dragging, suppliedDragMeta) {\n        var _this = this;\n        this.receivingContext = null;\n        this.droppableEvent = null; // will exist for all drags, even if create:false\n        this.suppliedDragMeta = null;\n        this.dragMeta = null;\n        this.handleDragStart = function (ev) {\n            _this.dragMeta = _this.buildDragMeta(ev.subjectEl);\n        };\n        this.handleHitUpdate = function (hit, isFinal, ev) {\n            var dragging = _this.hitDragging.dragging;\n            var receivingContext = null;\n            var droppableEvent = null;\n            var isInvalid = false;\n            var interaction = {\n                affectedEvents: createEmptyEventStore(),\n                mutatedEvents: createEmptyEventStore(),\n                isEvent: _this.dragMeta.create,\n            };\n            if (hit) {\n                receivingContext = hit.context;\n                if (_this.canDropElOnCalendar(ev.subjectEl, receivingContext)) {\n                    droppableEvent = computeEventForDateSpan(hit.dateSpan, _this.dragMeta, receivingContext);\n                    interaction.mutatedEvents = eventTupleToStore(droppableEvent);\n                    isInvalid = !isInteractionValid(interaction, hit.dateProfile, receivingContext);\n                    if (isInvalid) {\n                        interaction.mutatedEvents = createEmptyEventStore();\n                        droppableEvent = null;\n                    }\n                }\n            }\n            _this.displayDrag(receivingContext, interaction);\n            // show mirror if no already-rendered mirror element OR if we are shutting down the mirror (?)\n            // TODO: wish we could somehow wait for dispatch to guarantee render\n            dragging.setMirrorIsVisible(isFinal || !droppableEvent || !document.querySelector('.fc-event-mirror'));\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                dragging.setMirrorNeedsRevert(!droppableEvent);\n                _this.receivingContext = receivingContext;\n                _this.droppableEvent = droppableEvent;\n            }\n        };\n        this.handleDragEnd = function (pev) {\n            var _a = _this, receivingContext = _a.receivingContext, droppableEvent = _a.droppableEvent;\n            _this.clearDrag();\n            if (receivingContext && droppableEvent) {\n                var finalHit = _this.hitDragging.finalHit;\n                var finalView = finalHit.context.viewApi;\n                var dragMeta = _this.dragMeta;\n                receivingContext.emitter.trigger('drop', __assign(__assign({}, buildDatePointApiWithContext(finalHit.dateSpan, receivingContext)), { draggedEl: pev.subjectEl, jsEvent: pev.origEvent, view: finalView }));\n                if (dragMeta.create) {\n                    var addingEvents_1 = eventTupleToStore(droppableEvent);\n                    receivingContext.dispatch({\n                        type: 'MERGE_EVENTS',\n                        eventStore: addingEvents_1,\n                    });\n                    if (pev.isTouch) {\n                        receivingContext.dispatch({\n                            type: 'SELECT_EVENT',\n                            eventInstanceId: droppableEvent.instance.instanceId,\n                        });\n                    }\n                    // signal that an external event landed\n                    receivingContext.emitter.trigger('eventReceive', {\n                        event: new EventApi(receivingContext, droppableEvent.def, droppableEvent.instance),\n                        relatedEvents: [],\n                        revert: function () {\n                            receivingContext.dispatch({\n                                type: 'REMOVE_EVENTS',\n                                eventStore: addingEvents_1,\n                            });\n                        },\n                        draggedEl: pev.subjectEl,\n                        view: finalView,\n                    });\n                }\n            }\n            _this.receivingContext = null;\n            _this.droppableEvent = null;\n        };\n        var hitDragging = this.hitDragging = new HitDragging(dragging, interactionSettingsStore);\n        hitDragging.requireInitial = false; // will start outside of a component\n        hitDragging.emitter.on('dragstart', this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', this.handleHitUpdate);\n        hitDragging.emitter.on('dragend', this.handleDragEnd);\n        this.suppliedDragMeta = suppliedDragMeta;\n    }\n    ExternalElementDragging.prototype.buildDragMeta = function (subjectEl) {\n        if (typeof this.suppliedDragMeta === 'object') {\n            return parseDragMeta(this.suppliedDragMeta);\n        }\n        if (typeof this.suppliedDragMeta === 'function') {\n            return parseDragMeta(this.suppliedDragMeta(subjectEl));\n        }\n        return getDragMetaFromEl(subjectEl);\n    };\n    ExternalElementDragging.prototype.displayDrag = function (nextContext, state) {\n        var prevContext = this.receivingContext;\n        if (prevContext && prevContext !== nextContext) {\n            prevContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n        if (nextContext) {\n            nextContext.dispatch({ type: 'SET_EVENT_DRAG', state: state });\n        }\n    };\n    ExternalElementDragging.prototype.clearDrag = function () {\n        if (this.receivingContext) {\n            this.receivingContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n    };\n    ExternalElementDragging.prototype.canDropElOnCalendar = function (el, receivingContext) {\n        var dropAccept = receivingContext.options.dropAccept;\n        if (typeof dropAccept === 'function') {\n            return dropAccept.call(receivingContext.calendarApi, el);\n        }\n        if (typeof dropAccept === 'string' && dropAccept) {\n            return Boolean(elementMatches(el, dropAccept));\n        }\n        return true;\n    };\n    return ExternalElementDragging;\n}());\n// Utils for computing event store from the DragMeta\n// ----------------------------------------------------------------------------------------------------\nfunction computeEventForDateSpan(dateSpan, dragMeta, context) {\n    var defProps = __assign({}, dragMeta.leftoverProps);\n    for (var _i = 0, _a = context.pluginHooks.externalDefTransforms; _i < _a.length; _i++) {\n        var transform = _a[_i];\n        __assign(defProps, transform(dateSpan, dragMeta));\n    }\n    var _b = refineEventDef(defProps, context), refined = _b.refined, extra = _b.extra;\n    var def = parseEventDef(refined, extra, dragMeta.sourceId, dateSpan.allDay, context.options.forceEventDuration || Boolean(dragMeta.duration), // hasEnd\n    context);\n    var start = dateSpan.range.start;\n    // only rely on time info if drop zone is all-day,\n    // otherwise, we already know the time\n    if (dateSpan.allDay && dragMeta.startTime) {\n        start = context.dateEnv.add(start, dragMeta.startTime);\n    }\n    var end = dragMeta.duration ?\n        context.dateEnv.add(start, dragMeta.duration) :\n        getDefaultEventEnd(dateSpan.allDay, start, context);\n    var instance = createEventInstance(def.defId, { start: start, end: end });\n    return { def: def, instance: instance };\n}\n// Utils for extracting data from element\n// ----------------------------------------------------------------------------------------------------\nfunction getDragMetaFromEl(el) {\n    var str = getEmbeddedElData(el, 'event');\n    var obj = str ?\n        JSON.parse(str) :\n        { create: false }; // if no embedded data, assume no event creation\n    return parseDragMeta(obj);\n}\nconfig.dataAttrPrefix = '';\nfunction getEmbeddedElData(el, name) {\n    var prefix = config.dataAttrPrefix;\n    var prefixedName = (prefix ? prefix + '-' : '') + name;\n    return el.getAttribute('data-' + prefixedName) || '';\n}\n\n/*\nMakes an element (that is *external* to any calendar) draggable.\nCan pass in data that determines how an event will be created when dropped onto a calendar.\nLeverages FullCalendar's internal drag-n-drop functionality WITHOUT a third-party drag system.\n*/\nvar ExternalDraggable = /** @class */ (function () {\n    function ExternalDraggable(el, settings) {\n        var _this = this;\n        if (settings === void 0) { settings = {}; }\n        this.handlePointerDown = function (ev) {\n            var dragging = _this.dragging;\n            var _a = _this.settings, minDistance = _a.minDistance, longPressDelay = _a.longPressDelay;\n            dragging.minDistance =\n                minDistance != null ?\n                    minDistance :\n                    (ev.isTouch ? 0 : BASE_OPTION_DEFAULTS.eventDragMinDistance);\n            dragging.delay =\n                ev.isTouch ? // TODO: eventually read eventLongPressDelay instead vvv\n                    (longPressDelay != null ? longPressDelay : BASE_OPTION_DEFAULTS.longPressDelay) :\n                    0;\n        };\n        this.handleDragStart = function (ev) {\n            if (ev.isTouch &&\n                _this.dragging.delay &&\n                ev.subjectEl.classList.contains('fc-event')) {\n                _this.dragging.mirror.getMirrorEl().classList.add('fc-event-selected');\n            }\n        };\n        this.settings = settings;\n        var dragging = this.dragging = new FeaturefulElementDragging(el);\n        dragging.touchScrollAllowed = false;\n        if (settings.itemSelector != null) {\n            dragging.pointer.selector = settings.itemSelector;\n        }\n        if (settings.appendTo != null) {\n            dragging.mirror.parentNode = settings.appendTo; // TODO: write tests\n        }\n        dragging.emitter.on('pointerdown', this.handlePointerDown);\n        dragging.emitter.on('dragstart', this.handleDragStart);\n        new ExternalElementDragging(dragging, settings.eventData); // eslint-disable-line no-new\n    }\n    ExternalDraggable.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    return ExternalDraggable;\n}());\n\n/*\nDetects when a *THIRD-PARTY* drag-n-drop system interacts with elements.\nThe third-party system is responsible for drawing the visuals effects of the drag.\nThis class simply monitors for pointer movements and fires events.\nIt also has the ability to hide the moving element (the \"mirror\") during the drag.\n*/\nvar InferredElementDragging = /** @class */ (function (_super) {\n    __extends(InferredElementDragging, _super);\n    function InferredElementDragging(containerEl) {\n        var _this = _super.call(this, containerEl) || this;\n        _this.shouldIgnoreMove = false;\n        _this.mirrorSelector = '';\n        _this.currentMirrorEl = null;\n        _this.handlePointerDown = function (ev) {\n            _this.emitter.trigger('pointerdown', ev);\n            if (!_this.shouldIgnoreMove) {\n                // fire dragstart right away. does not support delay or min-distance\n                _this.emitter.trigger('dragstart', ev);\n            }\n        };\n        _this.handlePointerMove = function (ev) {\n            if (!_this.shouldIgnoreMove) {\n                _this.emitter.trigger('dragmove', ev);\n            }\n        };\n        _this.handlePointerUp = function (ev) {\n            _this.emitter.trigger('pointerup', ev);\n            if (!_this.shouldIgnoreMove) {\n                // fire dragend right away. does not support a revert animation\n                _this.emitter.trigger('dragend', ev);\n            }\n        };\n        var pointer = _this.pointer = new PointerDragging(containerEl);\n        pointer.emitter.on('pointerdown', _this.handlePointerDown);\n        pointer.emitter.on('pointermove', _this.handlePointerMove);\n        pointer.emitter.on('pointerup', _this.handlePointerUp);\n        return _this;\n    }\n    InferredElementDragging.prototype.destroy = function () {\n        this.pointer.destroy();\n    };\n    InferredElementDragging.prototype.setIgnoreMove = function (bool) {\n        this.shouldIgnoreMove = bool;\n    };\n    InferredElementDragging.prototype.setMirrorIsVisible = function (bool) {\n        if (bool) {\n            // restore a previously hidden element.\n            // use the reference in case the selector class has already been removed.\n            if (this.currentMirrorEl) {\n                this.currentMirrorEl.style.visibility = '';\n                this.currentMirrorEl = null;\n            }\n        }\n        else {\n            var mirrorEl = this.mirrorSelector\n                // TODO: somehow query FullCalendars WITHIN shadow-roots\n                ? document.querySelector(this.mirrorSelector)\n                : null;\n            if (mirrorEl) {\n                this.currentMirrorEl = mirrorEl;\n                mirrorEl.style.visibility = 'hidden';\n            }\n        }\n    };\n    return InferredElementDragging;\n}(ElementDragging));\n\n/*\nBridges third-party drag-n-drop systems with FullCalendar.\nMust be instantiated and destroyed by caller.\n*/\nvar ThirdPartyDraggable = /** @class */ (function () {\n    function ThirdPartyDraggable(containerOrSettings, settings) {\n        var containerEl = document;\n        if (\n        // wish we could just test instanceof EventTarget, but doesn't work in IE11\n        containerOrSettings === document ||\n            containerOrSettings instanceof Element) {\n            containerEl = containerOrSettings;\n            settings = settings || {};\n        }\n        else {\n            settings = (containerOrSettings || {});\n        }\n        var dragging = this.dragging = new InferredElementDragging(containerEl);\n        if (typeof settings.itemSelector === 'string') {\n            dragging.pointer.selector = settings.itemSelector;\n        }\n        else if (containerEl === document) {\n            dragging.pointer.selector = '[data-event]';\n        }\n        if (typeof settings.mirrorSelector === 'string') {\n            dragging.mirrorSelector = settings.mirrorSelector;\n        }\n        new ExternalElementDragging(dragging, settings.eventData); // eslint-disable-line no-new\n    }\n    ThirdPartyDraggable.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    return ThirdPartyDraggable;\n}());\n\nvar main = createPlugin({\n    componentInteractions: [DateClicking, DateSelecting, EventDragging, EventResizing],\n    calendarInteractions: [UnselectAuto],\n    elementDraggingImpl: FeaturefulElementDragging,\n    optionRefiners: OPTION_REFINERS,\n    listenerRefiners: LISTENER_REFINERS,\n});\n\nexport default main;\nexport { ExternalDraggable as Draggable, FeaturefulElementDragging, PointerDragging, ThirdPartyDraggable };\n","/*!\nFullCalendar v5.11.3\nDocs & License: https://fullcalendar.io/\n(c) 2022 Adam Shaw\n*/\nimport './main.css';\n\nimport { getUniqueDomId, getDateMeta, buildNavLinkAttrs, getDayClassNames, createElement, RenderHook, formatDayString, BaseComponent, Fragment, createFormatter, EventRoot, getSegAnchorAttrs, isMultiDayRange, buildSegTimeText, memoize, ViewRoot, Scroller, NowTimer, sortEventSegs, getSegMeta, sliceEventStore, intersectRanges, DateComponent, startOfDay, addDays, identity, createPlugin } from '@fullcalendar/common';\nimport { __extends, __assign } from 'tslib';\n\nvar ListViewHeaderRow = /** @class */ (function (_super) {\n    __extends(ListViewHeaderRow, _super);\n    function ListViewHeaderRow() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            textId: getUniqueDomId(),\n        };\n        return _this;\n    }\n    ListViewHeaderRow.prototype.render = function () {\n        var _a = this.context, theme = _a.theme, dateEnv = _a.dateEnv, options = _a.options, viewApi = _a.viewApi;\n        var _b = this.props, cellId = _b.cellId, dayDate = _b.dayDate, todayRange = _b.todayRange;\n        var textId = this.state.textId;\n        var dayMeta = getDateMeta(dayDate, todayRange);\n        // will ever be falsy?\n        var text = options.listDayFormat ? dateEnv.format(dayDate, options.listDayFormat) : '';\n        // will ever be falsy? also, BAD NAME \"alt\"\n        var sideText = options.listDaySideFormat ? dateEnv.format(dayDate, options.listDaySideFormat) : '';\n        var hookProps = __assign({ date: dateEnv.toDate(dayDate), view: viewApi, textId: textId,\n            text: text,\n            sideText: sideText, navLinkAttrs: buildNavLinkAttrs(this.context, dayDate), sideNavLinkAttrs: buildNavLinkAttrs(this.context, dayDate, 'day', false) }, dayMeta);\n        var classNames = ['fc-list-day'].concat(getDayClassNames(dayMeta, theme));\n        // TODO: make a reusable HOC for dayHeader (used in daygrid/timegrid too)\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.dayHeaderClassNames, content: options.dayHeaderContent, defaultContent: renderInnerContent, didMount: options.dayHeaderDidMount, willUnmount: options.dayHeaderWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"tr\", { ref: rootElRef, className: classNames.concat(customClassNames).join(' '), \"data-date\": formatDayString(dayDate) },\n            createElement(\"th\", { scope: \"colgroup\", colSpan: 3, id: cellId, \"aria-labelledby\": textId },\n                createElement(\"div\", { className: 'fc-list-day-cushion ' + theme.getClass('tableCellShaded'), ref: innerElRef }, innerContent)))); }));\n    };\n    return ListViewHeaderRow;\n}(BaseComponent));\nfunction renderInnerContent(props) {\n    return (createElement(Fragment, null,\n        props.text && (createElement(\"a\", __assign({ id: props.textId, className: \"fc-list-day-text\" }, props.navLinkAttrs), props.text)),\n        props.sideText && ( /* not keyboard tabbable */createElement(\"a\", __assign({ \"aria-hidden\": true, className: \"fc-list-day-side-text\" }, props.sideNavLinkAttrs), props.sideText))));\n}\n\nvar DEFAULT_TIME_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    meridiem: 'short',\n});\nvar ListViewEventRow = /** @class */ (function (_super) {\n    __extends(ListViewEventRow, _super);\n    function ListViewEventRow() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ListViewEventRow.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var seg = props.seg, timeHeaderId = props.timeHeaderId, eventHeaderId = props.eventHeaderId, dateHeaderId = props.dateHeaderId;\n        var timeFormat = context.options.eventTimeFormat || DEFAULT_TIME_FORMAT;\n        return (createElement(EventRoot, { seg: seg, timeText: \"\" // BAD. because of all-day content\n            , disableDragging: true, disableResizing: true, defaultContent: function () { return renderEventInnerContent(seg, context); } /* weird */, isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday, isSelected: props.isSelected, isDragging: props.isDragging, isResizing: props.isResizing, isDateSelecting: props.isDateSelecting }, function (rootElRef, classNames, innerElRef, innerContent, hookProps) { return (createElement(\"tr\", { className: ['fc-list-event', hookProps.event.url ? 'fc-event-forced-url' : ''].concat(classNames).join(' '), ref: rootElRef },\n            buildTimeContent(seg, timeFormat, context, timeHeaderId, dateHeaderId),\n            createElement(\"td\", { \"aria-hidden\": true, className: \"fc-list-event-graphic\" },\n                createElement(\"span\", { className: \"fc-list-event-dot\", style: { borderColor: hookProps.borderColor || hookProps.backgroundColor } })),\n            createElement(\"td\", { ref: innerElRef, headers: eventHeaderId + \" \" + dateHeaderId, className: \"fc-list-event-title\" }, innerContent))); }));\n    };\n    return ListViewEventRow;\n}(BaseComponent));\nfunction renderEventInnerContent(seg, context) {\n    var interactiveAttrs = getSegAnchorAttrs(seg, context);\n    return (createElement(\"a\", __assign({}, interactiveAttrs), seg.eventRange.def.title));\n}\nfunction buildTimeContent(seg, timeFormat, context, timeHeaderId, dateHeaderId) {\n    var options = context.options;\n    if (options.displayEventTime !== false) {\n        var eventDef = seg.eventRange.def;\n        var eventInstance = seg.eventRange.instance;\n        var doAllDay = false;\n        var timeText = void 0;\n        if (eventDef.allDay) {\n            doAllDay = true;\n        }\n        else if (isMultiDayRange(seg.eventRange.range)) { // TODO: use (!isStart || !isEnd) instead?\n            if (seg.isStart) {\n                timeText = buildSegTimeText(seg, timeFormat, context, null, null, eventInstance.range.start, seg.end);\n            }\n            else if (seg.isEnd) {\n                timeText = buildSegTimeText(seg, timeFormat, context, null, null, seg.start, eventInstance.range.end);\n            }\n            else {\n                doAllDay = true;\n            }\n        }\n        else {\n            timeText = buildSegTimeText(seg, timeFormat, context);\n        }\n        if (doAllDay) {\n            var hookProps = {\n                text: context.options.allDayText,\n                view: context.viewApi,\n            };\n            return (createElement(RenderHook, { hookProps: hookProps, classNames: options.allDayClassNames, content: options.allDayContent, defaultContent: renderAllDayInner, didMount: options.allDayDidMount, willUnmount: options.allDayWillUnmount }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"td\", { ref: rootElRef, headers: timeHeaderId + \" \" + dateHeaderId, className: ['fc-list-event-time'].concat(classNames).join(' ') }, innerContent)); }));\n        }\n        return (createElement(\"td\", { className: \"fc-list-event-time\" }, timeText));\n    }\n    return null;\n}\nfunction renderAllDayInner(hookProps) {\n    return hookProps.text;\n}\n\n/*\nResponsible for the scroller, and forwarding event-related actions into the \"grid\".\n*/\nvar ListView = /** @class */ (function (_super) {\n    __extends(ListView, _super);\n    function ListView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.computeDateVars = memoize(computeDateVars);\n        _this.eventStoreToSegs = memoize(_this._eventStoreToSegs);\n        _this.state = {\n            timeHeaderId: getUniqueDomId(),\n            eventHeaderId: getUniqueDomId(),\n            dateHeaderIdRoot: getUniqueDomId(),\n        };\n        _this.setRootEl = function (rootEl) {\n            if (rootEl) {\n                _this.context.registerInteractiveComponent(_this, {\n                    el: rootEl,\n                });\n            }\n            else {\n                _this.context.unregisterInteractiveComponent(_this);\n            }\n        };\n        return _this;\n    }\n    ListView.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, context = _a.context;\n        var extraClassNames = [\n            'fc-list',\n            context.theme.getClass('table'),\n            context.options.stickyHeaderDates !== false ? 'fc-list-sticky' : '',\n        ];\n        var _b = this.computeDateVars(props.dateProfile), dayDates = _b.dayDates, dayRanges = _b.dayRanges;\n        var eventSegs = this.eventStoreToSegs(props.eventStore, props.eventUiBases, dayRanges);\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec, elRef: this.setRootEl }, function (rootElRef, classNames) { return (createElement(\"div\", { ref: rootElRef, className: extraClassNames.concat(classNames).join(' ') },\n            createElement(Scroller, { liquid: !props.isHeightAuto, overflowX: props.isHeightAuto ? 'visible' : 'hidden', overflowY: props.isHeightAuto ? 'visible' : 'auto' }, eventSegs.length > 0 ?\n                _this.renderSegList(eventSegs, dayDates) :\n                _this.renderEmptyMessage()))); }));\n    };\n    ListView.prototype.renderEmptyMessage = function () {\n        var _a = this.context, options = _a.options, viewApi = _a.viewApi;\n        var hookProps = {\n            text: options.noEventsText,\n            view: viewApi,\n        };\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.noEventsClassNames, content: options.noEventsContent, defaultContent: renderNoEventsInner, didMount: options.noEventsDidMount, willUnmount: options.noEventsWillUnmount }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"div\", { className: ['fc-list-empty'].concat(classNames).join(' '), ref: rootElRef },\n            createElement(\"div\", { className: \"fc-list-empty-cushion\", ref: innerElRef }, innerContent))); }));\n    };\n    ListView.prototype.renderSegList = function (allSegs, dayDates) {\n        var _a = this.context, theme = _a.theme, options = _a.options;\n        var _b = this.state, timeHeaderId = _b.timeHeaderId, eventHeaderId = _b.eventHeaderId, dateHeaderIdRoot = _b.dateHeaderIdRoot;\n        var segsByDay = groupSegsByDay(allSegs); // sparse array\n        return (createElement(NowTimer, { unit: \"day\" }, function (nowDate, todayRange) {\n            var innerNodes = [];\n            for (var dayIndex = 0; dayIndex < segsByDay.length; dayIndex += 1) {\n                var daySegs = segsByDay[dayIndex];\n                if (daySegs) { // sparse array, so might be undefined\n                    var dayStr = formatDayString(dayDates[dayIndex]);\n                    var dateHeaderId = dateHeaderIdRoot + '-' + dayStr;\n                    // append a day header\n                    innerNodes.push(createElement(ListViewHeaderRow, { key: dayStr, cellId: dateHeaderId, dayDate: dayDates[dayIndex], todayRange: todayRange }));\n                    daySegs = sortEventSegs(daySegs, options.eventOrder);\n                    for (var _i = 0, daySegs_1 = daySegs; _i < daySegs_1.length; _i++) {\n                        var seg = daySegs_1[_i];\n                        innerNodes.push(createElement(ListViewEventRow, __assign({ key: dayStr + ':' + seg.eventRange.instance.instanceId /* are multiple segs for an instanceId */, seg: seg, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: false, timeHeaderId: timeHeaderId, eventHeaderId: eventHeaderId, dateHeaderId: dateHeaderId }, getSegMeta(seg, todayRange, nowDate))));\n                    }\n                }\n            }\n            return (createElement(\"table\", { className: 'fc-list-table ' + theme.getClass('table') },\n                createElement(\"thead\", null,\n                    createElement(\"tr\", null,\n                        createElement(\"th\", { scope: \"col\", id: timeHeaderId }, options.timeHint),\n                        createElement(\"th\", { scope: \"col\", \"aria-hidden\": true }),\n                        createElement(\"th\", { scope: \"col\", id: eventHeaderId }, options.eventHint))),\n                createElement(\"tbody\", null, innerNodes)));\n        }));\n    };\n    ListView.prototype._eventStoreToSegs = function (eventStore, eventUiBases, dayRanges) {\n        return this.eventRangesToSegs(sliceEventStore(eventStore, eventUiBases, this.props.dateProfile.activeRange, this.context.options.nextDayThreshold).fg, dayRanges);\n    };\n    ListView.prototype.eventRangesToSegs = function (eventRanges, dayRanges) {\n        var segs = [];\n        for (var _i = 0, eventRanges_1 = eventRanges; _i < eventRanges_1.length; _i++) {\n            var eventRange = eventRanges_1[_i];\n            segs.push.apply(segs, this.eventRangeToSegs(eventRange, dayRanges));\n        }\n        return segs;\n    };\n    ListView.prototype.eventRangeToSegs = function (eventRange, dayRanges) {\n        var dateEnv = this.context.dateEnv;\n        var nextDayThreshold = this.context.options.nextDayThreshold;\n        var range = eventRange.range;\n        var allDay = eventRange.def.allDay;\n        var dayIndex;\n        var segRange;\n        var seg;\n        var segs = [];\n        for (dayIndex = 0; dayIndex < dayRanges.length; dayIndex += 1) {\n            segRange = intersectRanges(range, dayRanges[dayIndex]);\n            if (segRange) {\n                seg = {\n                    component: this,\n                    eventRange: eventRange,\n                    start: segRange.start,\n                    end: segRange.end,\n                    isStart: eventRange.isStart && segRange.start.valueOf() === range.start.valueOf(),\n                    isEnd: eventRange.isEnd && segRange.end.valueOf() === range.end.valueOf(),\n                    dayIndex: dayIndex,\n                };\n                segs.push(seg);\n                // detect when range won't go fully into the next day,\n                // and mutate the latest seg to the be the end.\n                if (!seg.isEnd && !allDay &&\n                    dayIndex + 1 < dayRanges.length &&\n                    range.end <\n                        dateEnv.add(dayRanges[dayIndex + 1].start, nextDayThreshold)) {\n                    seg.end = range.end;\n                    seg.isEnd = true;\n                    break;\n                }\n            }\n        }\n        return segs;\n    };\n    return ListView;\n}(DateComponent));\nfunction renderNoEventsInner(hookProps) {\n    return hookProps.text;\n}\nfunction computeDateVars(dateProfile) {\n    var dayStart = startOfDay(dateProfile.renderRange.start);\n    var viewEnd = dateProfile.renderRange.end;\n    var dayDates = [];\n    var dayRanges = [];\n    while (dayStart < viewEnd) {\n        dayDates.push(dayStart);\n        dayRanges.push({\n            start: dayStart,\n            end: addDays(dayStart, 1),\n        });\n        dayStart = addDays(dayStart, 1);\n    }\n    return { dayDates: dayDates, dayRanges: dayRanges };\n}\n// Returns a sparse array of arrays, segs grouped by their dayIndex\nfunction groupSegsByDay(segs) {\n    var segsByDay = []; // sparse array\n    var i;\n    var seg;\n    for (i = 0; i < segs.length; i += 1) {\n        seg = segs[i];\n        (segsByDay[seg.dayIndex] || (segsByDay[seg.dayIndex] = []))\n            .push(seg);\n    }\n    return segsByDay;\n}\n\nvar OPTION_REFINERS = {\n    listDayFormat: createFalsableFormatter,\n    listDaySideFormat: createFalsableFormatter,\n    noEventsClassNames: identity,\n    noEventsContent: identity,\n    noEventsDidMount: identity,\n    noEventsWillUnmount: identity,\n    // noEventsText is defined in base options\n};\nfunction createFalsableFormatter(input) {\n    return input === false ? null : createFormatter(input);\n}\n\nvar main = createPlugin({\n    optionRefiners: OPTION_REFINERS,\n    views: {\n        list: {\n            component: ListView,\n            buttonTextKey: 'list',\n            listDayFormat: { month: 'long', day: 'numeric', year: 'numeric' }, // like \"January 1, 2016\"\n        },\n        listDay: {\n            type: 'list',\n            duration: { days: 1 },\n            listDayFormat: { weekday: 'long' }, // day-of-week is all we need. full date is probably in headerToolbar\n        },\n        listWeek: {\n            type: 'list',\n            duration: { weeks: 1 },\n            listDayFormat: { weekday: 'long' },\n            listDaySideFormat: { month: 'long', day: 'numeric', year: 'numeric' },\n        },\n        listMonth: {\n            type: 'list',\n            duration: { month: 1 },\n            listDaySideFormat: { weekday: 'long' }, // day-of-week is nice-to-have\n        },\n        listYear: {\n            type: 'list',\n            duration: { year: 1 },\n            listDaySideFormat: { weekday: 'long' }, // day-of-week is nice-to-have\n        },\n    },\n});\n\nexport default main;\nexport { ListView };\n","/*!\nFullCalendar v5.11.3\nDocs & License: https://fullcalendar.io/\n(c) 2022 Adam Shaw\n*/\nimport './main.css';\n\nimport { hasBgRendering, Splitter, createFormatter, createElement, ViewContextType, RenderHook, BaseComponent, createRef, diffDays, buildNavLinkAttrs, WeekNumberRoot, getStickyHeaderDates, ViewRoot, SimpleScrollGrid, getStickyFooterScrollbar, NowTimer, NowIndicatorRoot, renderScrollShim, DateComponent, rangeContainsMarker, startOfDay, asRoughMs, createDuration, RefMap, PositionCache, MoreLinkRoot, setRef, SegHierarchy, groupIntersectingEntries, buildEntryKey, binarySearch, getEntrySpanEnd, StandardEvent, DayCellContent, Fragment, getSegMeta, memoize, sortEventSegs, DayCellRoot, buildIsoString, computeEarliestSegStart, buildEventRangeKey, BgEvent, renderFill, addDurations, multiplyDuration, wholeDivideDurations, intersectRanges, Slicer, formatIsoTimeString, DayHeader, DaySeriesModel, DayTableModel, createPlugin } from '@fullcalendar/common';\nimport { __extends, __assign } from 'tslib';\nimport { DayTable } from '@fullcalendar/daygrid';\n\nvar AllDaySplitter = /** @class */ (function (_super) {\n    __extends(AllDaySplitter, _super);\n    function AllDaySplitter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    AllDaySplitter.prototype.getKeyInfo = function () {\n        return {\n            allDay: {},\n            timed: {},\n        };\n    };\n    AllDaySplitter.prototype.getKeysForDateSpan = function (dateSpan) {\n        if (dateSpan.allDay) {\n            return ['allDay'];\n        }\n        return ['timed'];\n    };\n    AllDaySplitter.prototype.getKeysForEventDef = function (eventDef) {\n        if (!eventDef.allDay) {\n            return ['timed'];\n        }\n        if (hasBgRendering(eventDef)) {\n            return ['timed', 'allDay'];\n        }\n        return ['allDay'];\n    };\n    return AllDaySplitter;\n}(Splitter));\n\nvar DEFAULT_SLAT_LABEL_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    omitZeroMinute: true,\n    meridiem: 'short',\n});\nfunction TimeColsAxisCell(props) {\n    var classNames = [\n        'fc-timegrid-slot',\n        'fc-timegrid-slot-label',\n        props.isLabeled ? 'fc-scrollgrid-shrink' : 'fc-timegrid-slot-minor',\n    ];\n    return (createElement(ViewContextType.Consumer, null, function (context) {\n        if (!props.isLabeled) {\n            return (createElement(\"td\", { className: classNames.join(' '), \"data-time\": props.isoTimeStr }));\n        }\n        var dateEnv = context.dateEnv, options = context.options, viewApi = context.viewApi;\n        var labelFormat = // TODO: fully pre-parse\n         options.slotLabelFormat == null ? DEFAULT_SLAT_LABEL_FORMAT :\n            Array.isArray(options.slotLabelFormat) ? createFormatter(options.slotLabelFormat[0]) :\n                createFormatter(options.slotLabelFormat);\n        var hookProps = {\n            level: 0,\n            time: props.time,\n            date: dateEnv.toDate(props.date),\n            view: viewApi,\n            text: dateEnv.format(props.date, labelFormat),\n        };\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.slotLabelClassNames, content: options.slotLabelContent, defaultContent: renderInnerContent, didMount: options.slotLabelDidMount, willUnmount: options.slotLabelWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"td\", { ref: rootElRef, className: classNames.concat(customClassNames).join(' '), \"data-time\": props.isoTimeStr },\n            createElement(\"div\", { className: \"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame\" },\n                createElement(\"div\", { className: \"fc-timegrid-slot-label-cushion fc-scrollgrid-shrink-cushion\", ref: innerElRef }, innerContent)))); }));\n    }));\n}\nfunction renderInnerContent(props) {\n    return props.text;\n}\n\nvar TimeBodyAxis = /** @class */ (function (_super) {\n    __extends(TimeBodyAxis, _super);\n    function TimeBodyAxis() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TimeBodyAxis.prototype.render = function () {\n        return this.props.slatMetas.map(function (slatMeta) { return (createElement(\"tr\", { key: slatMeta.key },\n            createElement(TimeColsAxisCell, __assign({}, slatMeta)))); });\n    };\n    return TimeBodyAxis;\n}(BaseComponent));\n\nvar DEFAULT_WEEK_NUM_FORMAT = createFormatter({ week: 'short' });\nvar AUTO_ALL_DAY_MAX_EVENT_ROWS = 5;\nvar TimeColsView = /** @class */ (function (_super) {\n    __extends(TimeColsView, _super);\n    function TimeColsView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.allDaySplitter = new AllDaySplitter(); // for use by subclasses\n        _this.headerElRef = createRef();\n        _this.rootElRef = createRef();\n        _this.scrollerElRef = createRef();\n        _this.state = {\n            slatCoords: null,\n        };\n        _this.handleScrollTopRequest = function (scrollTop) {\n            var scrollerEl = _this.scrollerElRef.current;\n            if (scrollerEl) { // TODO: not sure how this could ever be null. weirdness with the reducer\n                scrollerEl.scrollTop = scrollTop;\n            }\n        };\n        /* Header Render Methods\n        ------------------------------------------------------------------------------------------------------------------*/\n        _this.renderHeadAxis = function (rowKey, frameHeight) {\n            if (frameHeight === void 0) { frameHeight = ''; }\n            var options = _this.context.options;\n            var dateProfile = _this.props.dateProfile;\n            var range = dateProfile.renderRange;\n            var dayCnt = diffDays(range.start, range.end);\n            var navLinkAttrs = (dayCnt === 1) // only do in day views (to avoid doing in week views that dont need it)\n                ? buildNavLinkAttrs(_this.context, range.start, 'week')\n                : {};\n            if (options.weekNumbers && rowKey === 'day') {\n                return (createElement(WeekNumberRoot, { date: range.start, defaultFormat: DEFAULT_WEEK_NUM_FORMAT }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"th\", { ref: rootElRef, \"aria-hidden\": true, className: [\n                        'fc-timegrid-axis',\n                        'fc-scrollgrid-shrink',\n                    ].concat(classNames).join(' ') },\n                    createElement(\"div\", { className: \"fc-timegrid-axis-frame fc-scrollgrid-shrink-frame fc-timegrid-axis-frame-liquid\", style: { height: frameHeight } },\n                        createElement(\"a\", __assign({ ref: innerElRef, className: \"fc-timegrid-axis-cushion fc-scrollgrid-shrink-cushion fc-scrollgrid-sync-inner\" }, navLinkAttrs), innerContent)))); }));\n            }\n            return (createElement(\"th\", { \"aria-hidden\": true, className: \"fc-timegrid-axis\" },\n                createElement(\"div\", { className: \"fc-timegrid-axis-frame\", style: { height: frameHeight } })));\n        };\n        /* Table Component Render Methods\n        ------------------------------------------------------------------------------------------------------------------*/\n        // only a one-way height sync. we don't send the axis inner-content height to the DayGrid,\n        // but DayGrid still needs to have classNames on inner elements in order to measure.\n        _this.renderTableRowAxis = function (rowHeight) {\n            var _a = _this.context, options = _a.options, viewApi = _a.viewApi;\n            var hookProps = {\n                text: options.allDayText,\n                view: viewApi,\n            };\n            return (\n            // TODO: make reusable hook. used in list view too\n            createElement(RenderHook, { hookProps: hookProps, classNames: options.allDayClassNames, content: options.allDayContent, defaultContent: renderAllDayInner, didMount: options.allDayDidMount, willUnmount: options.allDayWillUnmount }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"td\", { ref: rootElRef, \"aria-hidden\": true, className: [\n                    'fc-timegrid-axis',\n                    'fc-scrollgrid-shrink',\n                ].concat(classNames).join(' ') },\n                createElement(\"div\", { className: 'fc-timegrid-axis-frame fc-scrollgrid-shrink-frame' + (rowHeight == null ? ' fc-timegrid-axis-frame-liquid' : ''), style: { height: rowHeight } },\n                    createElement(\"span\", { className: \"fc-timegrid-axis-cushion fc-scrollgrid-shrink-cushion fc-scrollgrid-sync-inner\", ref: innerElRef }, innerContent)))); }));\n        };\n        _this.handleSlatCoords = function (slatCoords) {\n            _this.setState({ slatCoords: slatCoords });\n        };\n        return _this;\n    }\n    // rendering\n    // ----------------------------------------------------------------------------------------------------\n    TimeColsView.prototype.renderSimpleLayout = function (headerRowContent, allDayContent, timeContent) {\n        var _a = this, context = _a.context, props = _a.props;\n        var sections = [];\n        var stickyHeaderDates = getStickyHeaderDates(context.options);\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                chunk: {\n                    elRef: this.headerElRef,\n                    tableClassName: 'fc-col-header',\n                    rowContent: headerRowContent,\n                },\n            });\n        }\n        if (allDayContent) {\n            sections.push({\n                type: 'body',\n                key: 'all-day',\n                chunk: { content: allDayContent },\n            });\n            sections.push({\n                type: 'body',\n                key: 'all-day-divider',\n                outerContent: ( // TODO: rename to cellContent so don't need to define <tr>?\n                createElement(\"tr\", { role: \"presentation\", className: \"fc-scrollgrid-section\" },\n                    createElement(\"td\", { className: 'fc-timegrid-divider ' + context.theme.getClass('tableCellShaded') }))),\n            });\n        }\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            expandRows: Boolean(context.options.expandRows),\n            chunk: {\n                scrollerElRef: this.scrollerElRef,\n                content: timeContent,\n            },\n        });\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec, elRef: this.rootElRef }, function (rootElRef, classNames) { return (createElement(\"div\", { className: ['fc-timegrid'].concat(classNames).join(' '), ref: rootElRef },\n            createElement(SimpleScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: props.forPrint, cols: [{ width: 'shrink' }], sections: sections }))); }));\n    };\n    TimeColsView.prototype.renderHScrollLayout = function (headerRowContent, allDayContent, timeContent, colCnt, dayMinWidth, slatMetas, slatCoords) {\n        var _this = this;\n        var ScrollGrid = this.context.pluginHooks.scrollGridImpl;\n        if (!ScrollGrid) {\n            throw new Error('No ScrollGrid implementation');\n        }\n        var _a = this, context = _a.context, props = _a.props;\n        var stickyHeaderDates = !props.forPrint && getStickyHeaderDates(context.options);\n        var stickyFooterScrollbar = !props.forPrint && getStickyFooterScrollbar(context.options);\n        var sections = [];\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                syncRowHeights: true,\n                chunks: [\n                    {\n                        key: 'axis',\n                        rowContent: function (arg) { return (createElement(\"tr\", { role: \"presentation\" }, _this.renderHeadAxis('day', arg.rowSyncHeights[0]))); },\n                    },\n                    {\n                        key: 'cols',\n                        elRef: this.headerElRef,\n                        tableClassName: 'fc-col-header',\n                        rowContent: headerRowContent,\n                    },\n                ],\n            });\n        }\n        if (allDayContent) {\n            sections.push({\n                type: 'body',\n                key: 'all-day',\n                syncRowHeights: true,\n                chunks: [\n                    {\n                        key: 'axis',\n                        rowContent: function (contentArg) { return (createElement(\"tr\", { role: \"presentation\" }, _this.renderTableRowAxis(contentArg.rowSyncHeights[0]))); },\n                    },\n                    {\n                        key: 'cols',\n                        content: allDayContent,\n                    },\n                ],\n            });\n            sections.push({\n                key: 'all-day-divider',\n                type: 'body',\n                outerContent: ( // TODO: rename to cellContent so don't need to define <tr>?\n                createElement(\"tr\", { role: \"presentation\", className: \"fc-scrollgrid-section\" },\n                    createElement(\"td\", { colSpan: 2, className: 'fc-timegrid-divider ' + context.theme.getClass('tableCellShaded') }))),\n            });\n        }\n        var isNowIndicator = context.options.nowIndicator;\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            expandRows: Boolean(context.options.expandRows),\n            chunks: [\n                {\n                    key: 'axis',\n                    content: function (arg) { return (\n                    // TODO: make this now-indicator arrow more DRY with TimeColsContent\n                    createElement(\"div\", { className: \"fc-timegrid-axis-chunk\" },\n                        createElement(\"table\", { \"aria-hidden\": true, style: { height: arg.expandRows ? arg.clientHeight : '' } },\n                            arg.tableColGroupNode,\n                            createElement(\"tbody\", null,\n                                createElement(TimeBodyAxis, { slatMetas: slatMetas }))),\n                        createElement(\"div\", { className: \"fc-timegrid-now-indicator-container\" },\n                            createElement(NowTimer, { unit: isNowIndicator ? 'minute' : 'day' /* hacky */ }, function (nowDate) {\n                                var nowIndicatorTop = isNowIndicator &&\n                                    slatCoords &&\n                                    slatCoords.safeComputeTop(nowDate); // might return void\n                                if (typeof nowIndicatorTop === 'number') {\n                                    return (createElement(NowIndicatorRoot, { isAxis: true, date: nowDate }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-timegrid-now-indicator-arrow'].concat(classNames).join(' '), style: { top: nowIndicatorTop } }, innerContent)); }));\n                                }\n                                return null;\n                            })))); },\n                },\n                {\n                    key: 'cols',\n                    scrollerElRef: this.scrollerElRef,\n                    content: timeContent,\n                },\n            ],\n        });\n        if (stickyFooterScrollbar) {\n            sections.push({\n                key: 'footer',\n                type: 'footer',\n                isSticky: true,\n                chunks: [\n                    {\n                        key: 'axis',\n                        content: renderScrollShim,\n                    },\n                    {\n                        key: 'cols',\n                        content: renderScrollShim,\n                    },\n                ],\n            });\n        }\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec, elRef: this.rootElRef }, function (rootElRef, classNames) { return (createElement(\"div\", { className: ['fc-timegrid'].concat(classNames).join(' '), ref: rootElRef },\n            createElement(ScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: false, colGroups: [\n                    { width: 'shrink', cols: [{ width: 'shrink' }] },\n                    { cols: [{ span: colCnt, minWidth: dayMinWidth }] },\n                ], sections: sections }))); }));\n    };\n    /* Dimensions\n    ------------------------------------------------------------------------------------------------------------------*/\n    TimeColsView.prototype.getAllDayMaxEventProps = function () {\n        var _a = this.context.options, dayMaxEvents = _a.dayMaxEvents, dayMaxEventRows = _a.dayMaxEventRows;\n        if (dayMaxEvents === true || dayMaxEventRows === true) { // is auto?\n            dayMaxEvents = undefined;\n            dayMaxEventRows = AUTO_ALL_DAY_MAX_EVENT_ROWS; // make sure \"auto\" goes to a real number\n        }\n        return { dayMaxEvents: dayMaxEvents, dayMaxEventRows: dayMaxEventRows };\n    };\n    return TimeColsView;\n}(DateComponent));\nfunction renderAllDayInner(hookProps) {\n    return hookProps.text;\n}\n\nvar TimeColsSlatsCoords = /** @class */ (function () {\n    function TimeColsSlatsCoords(positions, dateProfile, slotDuration) {\n        this.positions = positions;\n        this.dateProfile = dateProfile;\n        this.slotDuration = slotDuration;\n    }\n    TimeColsSlatsCoords.prototype.safeComputeTop = function (date) {\n        var dateProfile = this.dateProfile;\n        if (rangeContainsMarker(dateProfile.currentRange, date)) {\n            var startOfDayDate = startOfDay(date);\n            var timeMs = date.valueOf() - startOfDayDate.valueOf();\n            if (timeMs >= asRoughMs(dateProfile.slotMinTime) &&\n                timeMs < asRoughMs(dateProfile.slotMaxTime)) {\n                return this.computeTimeTop(createDuration(timeMs));\n            }\n        }\n        return null;\n    };\n    // Computes the top coordinate, relative to the bounds of the grid, of the given date.\n    // A `startOfDayDate` must be given for avoiding ambiguity over how to treat midnight.\n    TimeColsSlatsCoords.prototype.computeDateTop = function (when, startOfDayDate) {\n        if (!startOfDayDate) {\n            startOfDayDate = startOfDay(when);\n        }\n        return this.computeTimeTop(createDuration(when.valueOf() - startOfDayDate.valueOf()));\n    };\n    // Computes the top coordinate, relative to the bounds of the grid, of the given time (a Duration).\n    // This is a makeshify way to compute the time-top. Assumes all slatMetas dates are uniform.\n    // Eventually allow computation with arbirary slat dates.\n    TimeColsSlatsCoords.prototype.computeTimeTop = function (duration) {\n        var _a = this, positions = _a.positions, dateProfile = _a.dateProfile;\n        var len = positions.els.length;\n        // floating-point value of # of slots covered\n        var slatCoverage = (duration.milliseconds - asRoughMs(dateProfile.slotMinTime)) / asRoughMs(this.slotDuration);\n        var slatIndex;\n        var slatRemainder;\n        // compute a floating-point number for how many slats should be progressed through.\n        // from 0 to number of slats (inclusive)\n        // constrained because slotMinTime/slotMaxTime might be customized.\n        slatCoverage = Math.max(0, slatCoverage);\n        slatCoverage = Math.min(len, slatCoverage);\n        // an integer index of the furthest whole slat\n        // from 0 to number slats (*exclusive*, so len-1)\n        slatIndex = Math.floor(slatCoverage);\n        slatIndex = Math.min(slatIndex, len - 1);\n        // how much further through the slatIndex slat (from 0.0-1.0) must be covered in addition.\n        // could be 1.0 if slatCoverage is covering *all* the slots\n        slatRemainder = slatCoverage - slatIndex;\n        return positions.tops[slatIndex] +\n            positions.getHeight(slatIndex) * slatRemainder;\n    };\n    return TimeColsSlatsCoords;\n}());\n\nvar TimeColsSlatsBody = /** @class */ (function (_super) {\n    __extends(TimeColsSlatsBody, _super);\n    function TimeColsSlatsBody() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TimeColsSlatsBody.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var slatElRefs = props.slatElRefs;\n        return (createElement(\"tbody\", null, props.slatMetas.map(function (slatMeta, i) {\n            var hookProps = {\n                time: slatMeta.time,\n                date: context.dateEnv.toDate(slatMeta.date),\n                view: context.viewApi,\n            };\n            var classNames = [\n                'fc-timegrid-slot',\n                'fc-timegrid-slot-lane',\n                slatMeta.isLabeled ? '' : 'fc-timegrid-slot-minor',\n            ];\n            return (createElement(\"tr\", { key: slatMeta.key, ref: slatElRefs.createRef(slatMeta.key) },\n                props.axis && (createElement(TimeColsAxisCell, __assign({}, slatMeta))),\n                createElement(RenderHook, { hookProps: hookProps, classNames: options.slotLaneClassNames, content: options.slotLaneContent, didMount: options.slotLaneDidMount, willUnmount: options.slotLaneWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"td\", { ref: rootElRef, className: classNames.concat(customClassNames).join(' '), \"data-time\": slatMeta.isoTimeStr }, innerContent)); })));\n        })));\n    };\n    return TimeColsSlatsBody;\n}(BaseComponent));\n\n/*\nfor the horizontal \"slats\" that run width-wise. Has a time axis on a side. Depends on RTL.\n*/\nvar TimeColsSlats = /** @class */ (function (_super) {\n    __extends(TimeColsSlats, _super);\n    function TimeColsSlats() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.rootElRef = createRef();\n        _this.slatElRefs = new RefMap();\n        return _this;\n    }\n    TimeColsSlats.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        return (createElement(\"div\", { ref: this.rootElRef, className: \"fc-timegrid-slots\" },\n            createElement(\"table\", { \"aria-hidden\": true, className: context.theme.getClass('table'), style: {\n                    minWidth: props.tableMinWidth,\n                    width: props.clientWidth,\n                    height: props.minHeight,\n                } },\n                props.tableColGroupNode /* relies on there only being a single <col> for the axis */,\n                createElement(TimeColsSlatsBody, { slatElRefs: this.slatElRefs, axis: props.axis, slatMetas: props.slatMetas }))));\n    };\n    TimeColsSlats.prototype.componentDidMount = function () {\n        this.updateSizing();\n    };\n    TimeColsSlats.prototype.componentDidUpdate = function () {\n        this.updateSizing();\n    };\n    TimeColsSlats.prototype.componentWillUnmount = function () {\n        if (this.props.onCoords) {\n            this.props.onCoords(null);\n        }\n    };\n    TimeColsSlats.prototype.updateSizing = function () {\n        var _a = this, context = _a.context, props = _a.props;\n        if (props.onCoords &&\n            props.clientWidth !== null // means sizing has stabilized\n        ) {\n            var rootEl = this.rootElRef.current;\n            if (rootEl.offsetHeight) { // not hidden by css\n                props.onCoords(new TimeColsSlatsCoords(new PositionCache(this.rootElRef.current, collectSlatEls(this.slatElRefs.currentMap, props.slatMetas), false, true), this.props.dateProfile, context.options.slotDuration));\n            }\n        }\n    };\n    return TimeColsSlats;\n}(BaseComponent));\nfunction collectSlatEls(elMap, slatMetas) {\n    return slatMetas.map(function (slatMeta) { return elMap[slatMeta.key]; });\n}\n\nfunction splitSegsByCol(segs, colCnt) {\n    var segsByCol = [];\n    var i;\n    for (i = 0; i < colCnt; i += 1) {\n        segsByCol.push([]);\n    }\n    if (segs) {\n        for (i = 0; i < segs.length; i += 1) {\n            segsByCol[segs[i].col].push(segs[i]);\n        }\n    }\n    return segsByCol;\n}\nfunction splitInteractionByCol(ui, colCnt) {\n    var byRow = [];\n    if (!ui) {\n        for (var i = 0; i < colCnt; i += 1) {\n            byRow[i] = null;\n        }\n    }\n    else {\n        for (var i = 0; i < colCnt; i += 1) {\n            byRow[i] = {\n                affectedInstances: ui.affectedInstances,\n                isEvent: ui.isEvent,\n                segs: [],\n            };\n        }\n        for (var _i = 0, _a = ui.segs; _i < _a.length; _i++) {\n            var seg = _a[_i];\n            byRow[seg.col].segs.push(seg);\n        }\n    }\n    return byRow;\n}\n\nvar TimeColMoreLink = /** @class */ (function (_super) {\n    __extends(TimeColMoreLink, _super);\n    function TimeColMoreLink() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.rootElRef = createRef();\n        return _this;\n    }\n    TimeColMoreLink.prototype.render = function () {\n        var _this = this;\n        var props = this.props;\n        return (createElement(MoreLinkRoot, { allDayDate: null, moreCnt: props.hiddenSegs.length, allSegs: props.hiddenSegs, hiddenSegs: props.hiddenSegs, alignmentElRef: this.rootElRef, defaultContent: renderMoreLinkInner, extraDateSpan: props.extraDateSpan, dateProfile: props.dateProfile, todayRange: props.todayRange, popoverContent: function () { return renderPlainFgSegs(props.hiddenSegs, props); } }, function (rootElRef, classNames, innerElRef, innerContent, handleClick, title, isExpanded, popoverId) { return (createElement(\"a\", { ref: function (el) {\n                setRef(rootElRef, el);\n                setRef(_this.rootElRef, el);\n            }, className: ['fc-timegrid-more-link'].concat(classNames).join(' '), style: { top: props.top, bottom: props.bottom }, onClick: handleClick, title: title, \"aria-expanded\": isExpanded, \"aria-controls\": popoverId },\n            createElement(\"div\", { ref: innerElRef, className: \"fc-timegrid-more-link-inner fc-sticky\" }, innerContent))); }));\n    };\n    return TimeColMoreLink;\n}(BaseComponent));\nfunction renderMoreLinkInner(props) {\n    return props.shortText;\n}\n\n// segInputs assumed sorted\nfunction buildPositioning(segInputs, strictOrder, maxStackCnt) {\n    var hierarchy = new SegHierarchy();\n    if (strictOrder != null) {\n        hierarchy.strictOrder = strictOrder;\n    }\n    if (maxStackCnt != null) {\n        hierarchy.maxStackCnt = maxStackCnt;\n    }\n    var hiddenEntries = hierarchy.addSegs(segInputs);\n    var hiddenGroups = groupIntersectingEntries(hiddenEntries);\n    var web = buildWeb(hierarchy);\n    web = stretchWeb(web, 1); // all levelCoords/thickness will have 0.0-1.0\n    var segRects = webToRects(web);\n    return { segRects: segRects, hiddenGroups: hiddenGroups };\n}\nfunction buildWeb(hierarchy) {\n    var entriesByLevel = hierarchy.entriesByLevel;\n    var buildNode = cacheable(function (level, lateral) { return level + ':' + lateral; }, function (level, lateral) {\n        var siblingRange = findNextLevelSegs(hierarchy, level, lateral);\n        var nextLevelRes = buildNodes(siblingRange, buildNode);\n        var entry = entriesByLevel[level][lateral];\n        return [\n            __assign(__assign({}, entry), { nextLevelNodes: nextLevelRes[0] }),\n            entry.thickness + nextLevelRes[1], // the pressure builds\n        ];\n    });\n    return buildNodes(entriesByLevel.length\n        ? { level: 0, lateralStart: 0, lateralEnd: entriesByLevel[0].length }\n        : null, buildNode)[0];\n}\nfunction buildNodes(siblingRange, buildNode) {\n    if (!siblingRange) {\n        return [[], 0];\n    }\n    var level = siblingRange.level, lateralStart = siblingRange.lateralStart, lateralEnd = siblingRange.lateralEnd;\n    var lateral = lateralStart;\n    var pairs = [];\n    while (lateral < lateralEnd) {\n        pairs.push(buildNode(level, lateral));\n        lateral += 1;\n    }\n    pairs.sort(cmpDescPressures);\n    return [\n        pairs.map(extractNode),\n        pairs[0][1], // first item's pressure\n    ];\n}\nfunction cmpDescPressures(a, b) {\n    return b[1] - a[1];\n}\nfunction extractNode(a) {\n    return a[0];\n}\nfunction findNextLevelSegs(hierarchy, subjectLevel, subjectLateral) {\n    var levelCoords = hierarchy.levelCoords, entriesByLevel = hierarchy.entriesByLevel;\n    var subjectEntry = entriesByLevel[subjectLevel][subjectLateral];\n    var afterSubject = levelCoords[subjectLevel] + subjectEntry.thickness;\n    var levelCnt = levelCoords.length;\n    var level = subjectLevel;\n    // skip past levels that are too high up\n    for (; level < levelCnt && levelCoords[level] < afterSubject; level += 1)\n        ; // do nothing\n    for (; level < levelCnt; level += 1) {\n        var entries = entriesByLevel[level];\n        var entry = void 0;\n        var searchIndex = binarySearch(entries, subjectEntry.span.start, getEntrySpanEnd);\n        var lateralStart = searchIndex[0] + searchIndex[1]; // if exact match (which doesn't collide), go to next one\n        var lateralEnd = lateralStart;\n        while ( // loop through entries that horizontally intersect\n        (entry = entries[lateralEnd]) && // but not past the whole seg list\n            entry.span.start < subjectEntry.span.end) {\n            lateralEnd += 1;\n        }\n        if (lateralStart < lateralEnd) {\n            return { level: level, lateralStart: lateralStart, lateralEnd: lateralEnd };\n        }\n    }\n    return null;\n}\nfunction stretchWeb(topLevelNodes, totalThickness) {\n    var stretchNode = cacheable(function (node, startCoord, prevThickness) { return buildEntryKey(node); }, function (node, startCoord, prevThickness) {\n        var nextLevelNodes = node.nextLevelNodes, thickness = node.thickness;\n        var allThickness = thickness + prevThickness;\n        var thicknessFraction = thickness / allThickness;\n        var endCoord;\n        var newChildren = [];\n        if (!nextLevelNodes.length) {\n            endCoord = totalThickness;\n        }\n        else {\n            for (var _i = 0, nextLevelNodes_1 = nextLevelNodes; _i < nextLevelNodes_1.length; _i++) {\n                var childNode = nextLevelNodes_1[_i];\n                if (endCoord === undefined) {\n                    var res = stretchNode(childNode, startCoord, allThickness);\n                    endCoord = res[0];\n                    newChildren.push(res[1]);\n                }\n                else {\n                    var res = stretchNode(childNode, endCoord, 0);\n                    newChildren.push(res[1]);\n                }\n            }\n        }\n        var newThickness = (endCoord - startCoord) * thicknessFraction;\n        return [endCoord - newThickness, __assign(__assign({}, node), { thickness: newThickness, nextLevelNodes: newChildren })];\n    });\n    return topLevelNodes.map(function (node) { return stretchNode(node, 0, 0)[1]; });\n}\n// not sorted in any particular order\nfunction webToRects(topLevelNodes) {\n    var rects = [];\n    var processNode = cacheable(function (node, levelCoord, stackDepth) { return buildEntryKey(node); }, function (node, levelCoord, stackDepth) {\n        var rect = __assign(__assign({}, node), { levelCoord: levelCoord,\n            stackDepth: stackDepth, stackForward: 0 });\n        rects.push(rect);\n        return (rect.stackForward = processNodes(node.nextLevelNodes, levelCoord + node.thickness, stackDepth + 1) + 1);\n    });\n    function processNodes(nodes, levelCoord, stackDepth) {\n        var stackForward = 0;\n        for (var _i = 0, nodes_1 = nodes; _i < nodes_1.length; _i++) {\n            var node = nodes_1[_i];\n            stackForward = Math.max(processNode(node, levelCoord, stackDepth), stackForward);\n        }\n        return stackForward;\n    }\n    processNodes(topLevelNodes, 0, 0);\n    return rects; // TODO: sort rects by levelCoord to be consistent with toRects?\n}\n// TODO: move to general util\nfunction cacheable(keyFunc, workFunc) {\n    var cache = {};\n    return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var key = keyFunc.apply(void 0, args);\n        return (key in cache)\n            ? cache[key]\n            : (cache[key] = workFunc.apply(void 0, args));\n    };\n}\n\nfunction computeSegVCoords(segs, colDate, slatCoords, eventMinHeight) {\n    if (slatCoords === void 0) { slatCoords = null; }\n    if (eventMinHeight === void 0) { eventMinHeight = 0; }\n    var vcoords = [];\n    if (slatCoords) {\n        for (var i = 0; i < segs.length; i += 1) {\n            var seg = segs[i];\n            var spanStart = slatCoords.computeDateTop(seg.start, colDate);\n            var spanEnd = Math.max(spanStart + (eventMinHeight || 0), // :(\n            slatCoords.computeDateTop(seg.end, colDate));\n            vcoords.push({\n                start: Math.round(spanStart),\n                end: Math.round(spanEnd), //\n            });\n        }\n    }\n    return vcoords;\n}\nfunction computeFgSegPlacements(segs, segVCoords, // might not have for every seg\neventOrderStrict, eventMaxStack) {\n    var segInputs = [];\n    var dumbSegs = []; // segs without coords\n    for (var i = 0; i < segs.length; i += 1) {\n        var vcoords = segVCoords[i];\n        if (vcoords) {\n            segInputs.push({\n                index: i,\n                thickness: 1,\n                span: vcoords,\n            });\n        }\n        else {\n            dumbSegs.push(segs[i]);\n        }\n    }\n    var _a = buildPositioning(segInputs, eventOrderStrict, eventMaxStack), segRects = _a.segRects, hiddenGroups = _a.hiddenGroups;\n    var segPlacements = [];\n    for (var _i = 0, segRects_1 = segRects; _i < segRects_1.length; _i++) {\n        var segRect = segRects_1[_i];\n        segPlacements.push({\n            seg: segs[segRect.index],\n            rect: segRect,\n        });\n    }\n    for (var _b = 0, dumbSegs_1 = dumbSegs; _b < dumbSegs_1.length; _b++) {\n        var dumbSeg = dumbSegs_1[_b];\n        segPlacements.push({ seg: dumbSeg, rect: null });\n    }\n    return { segPlacements: segPlacements, hiddenGroups: hiddenGroups };\n}\n\nvar DEFAULT_TIME_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    meridiem: false,\n});\nvar TimeColEvent = /** @class */ (function (_super) {\n    __extends(TimeColEvent, _super);\n    function TimeColEvent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TimeColEvent.prototype.render = function () {\n        var classNames = [\n            'fc-timegrid-event',\n            'fc-v-event',\n        ];\n        if (this.props.isShort) {\n            classNames.push('fc-timegrid-event-short');\n        }\n        return (createElement(StandardEvent, __assign({}, this.props, { defaultTimeFormat: DEFAULT_TIME_FORMAT, extraClassNames: classNames })));\n    };\n    return TimeColEvent;\n}(BaseComponent));\n\nvar TimeColMisc = /** @class */ (function (_super) {\n    __extends(TimeColMisc, _super);\n    function TimeColMisc() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TimeColMisc.prototype.render = function () {\n        var props = this.props;\n        return (createElement(DayCellContent, { date: props.date, dateProfile: props.dateProfile, todayRange: props.todayRange, extraHookProps: props.extraHookProps }, function (innerElRef, innerContent) { return (innerContent &&\n            createElement(\"div\", { className: \"fc-timegrid-col-misc\", ref: innerElRef }, innerContent)); }));\n    };\n    return TimeColMisc;\n}(BaseComponent));\n\nvar TimeCol = /** @class */ (function (_super) {\n    __extends(TimeCol, _super);\n    function TimeCol() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.sortEventSegs = memoize(sortEventSegs);\n        return _this;\n    }\n    // TODO: memoize event-placement?\n    TimeCol.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, context = _a.context;\n        var isSelectMirror = context.options.selectMirror;\n        var mirrorSegs = (props.eventDrag && props.eventDrag.segs) ||\n            (props.eventResize && props.eventResize.segs) ||\n            (isSelectMirror && props.dateSelectionSegs) ||\n            [];\n        var interactionAffectedInstances = // TODO: messy way to compute this\n         (props.eventDrag && props.eventDrag.affectedInstances) ||\n            (props.eventResize && props.eventResize.affectedInstances) ||\n            {};\n        var sortedFgSegs = this.sortEventSegs(props.fgEventSegs, context.options.eventOrder);\n        return (createElement(DayCellRoot, { elRef: props.elRef, date: props.date, dateProfile: props.dateProfile, todayRange: props.todayRange, extraHookProps: props.extraHookProps }, function (rootElRef, classNames, dataAttrs) { return (createElement(\"td\", __assign({ ref: rootElRef, role: \"gridcell\", className: ['fc-timegrid-col'].concat(classNames, props.extraClassNames || []).join(' ') }, dataAttrs, props.extraDataAttrs),\n            createElement(\"div\", { className: \"fc-timegrid-col-frame\" },\n                createElement(\"div\", { className: \"fc-timegrid-col-bg\" },\n                    _this.renderFillSegs(props.businessHourSegs, 'non-business'),\n                    _this.renderFillSegs(props.bgEventSegs, 'bg-event'),\n                    _this.renderFillSegs(props.dateSelectionSegs, 'highlight')),\n                createElement(\"div\", { className: \"fc-timegrid-col-events\" }, _this.renderFgSegs(sortedFgSegs, interactionAffectedInstances, false, false, false)),\n                createElement(\"div\", { className: \"fc-timegrid-col-events\" }, _this.renderFgSegs(mirrorSegs, {}, Boolean(props.eventDrag), Boolean(props.eventResize), Boolean(isSelectMirror))),\n                createElement(\"div\", { className: \"fc-timegrid-now-indicator-container\" }, _this.renderNowIndicator(props.nowIndicatorSegs)),\n                createElement(TimeColMisc, { date: props.date, dateProfile: props.dateProfile, todayRange: props.todayRange, extraHookProps: props.extraHookProps })))); }));\n    };\n    TimeCol.prototype.renderFgSegs = function (sortedFgSegs, segIsInvisible, isDragging, isResizing, isDateSelecting) {\n        var props = this.props;\n        if (props.forPrint) {\n            return renderPlainFgSegs(sortedFgSegs, props);\n        }\n        return this.renderPositionedFgSegs(sortedFgSegs, segIsInvisible, isDragging, isResizing, isDateSelecting);\n    };\n    TimeCol.prototype.renderPositionedFgSegs = function (segs, // if not mirror, needs to be sorted\n    segIsInvisible, isDragging, isResizing, isDateSelecting) {\n        var _this = this;\n        var _a = this.context.options, eventMaxStack = _a.eventMaxStack, eventShortHeight = _a.eventShortHeight, eventOrderStrict = _a.eventOrderStrict, eventMinHeight = _a.eventMinHeight;\n        var _b = this.props, date = _b.date, slatCoords = _b.slatCoords, eventSelection = _b.eventSelection, todayRange = _b.todayRange, nowDate = _b.nowDate;\n        var isMirror = isDragging || isResizing || isDateSelecting;\n        var segVCoords = computeSegVCoords(segs, date, slatCoords, eventMinHeight);\n        var _c = computeFgSegPlacements(segs, segVCoords, eventOrderStrict, eventMaxStack), segPlacements = _c.segPlacements, hiddenGroups = _c.hiddenGroups;\n        return (createElement(Fragment, null,\n            this.renderHiddenGroups(hiddenGroups, segs),\n            segPlacements.map(function (segPlacement) {\n                var seg = segPlacement.seg, rect = segPlacement.rect;\n                var instanceId = seg.eventRange.instance.instanceId;\n                var isVisible = isMirror || Boolean(!segIsInvisible[instanceId] && rect);\n                var vStyle = computeSegVStyle(rect && rect.span);\n                var hStyle = (!isMirror && rect) ? _this.computeSegHStyle(rect) : { left: 0, right: 0 };\n                var isInset = Boolean(rect) && rect.stackForward > 0;\n                var isShort = Boolean(rect) && (rect.span.end - rect.span.start) < eventShortHeight; // look at other places for this problem\n                return (createElement(\"div\", { className: 'fc-timegrid-event-harness' +\n                        (isInset ? ' fc-timegrid-event-harness-inset' : ''), key: instanceId, style: __assign(__assign({ visibility: isVisible ? '' : 'hidden' }, vStyle), hStyle) },\n                    createElement(TimeColEvent, __assign({ seg: seg, isDragging: isDragging, isResizing: isResizing, isDateSelecting: isDateSelecting, isSelected: instanceId === eventSelection, isShort: isShort }, getSegMeta(seg, todayRange, nowDate)))));\n            })));\n    };\n    // will already have eventMinHeight applied because segInputs already had it\n    TimeCol.prototype.renderHiddenGroups = function (hiddenGroups, segs) {\n        var _a = this.props, extraDateSpan = _a.extraDateSpan, dateProfile = _a.dateProfile, todayRange = _a.todayRange, nowDate = _a.nowDate, eventSelection = _a.eventSelection, eventDrag = _a.eventDrag, eventResize = _a.eventResize;\n        return (createElement(Fragment, null, hiddenGroups.map(function (hiddenGroup) {\n            var positionCss = computeSegVStyle(hiddenGroup.span);\n            var hiddenSegs = compileSegsFromEntries(hiddenGroup.entries, segs);\n            return (createElement(TimeColMoreLink, { key: buildIsoString(computeEarliestSegStart(hiddenSegs)), hiddenSegs: hiddenSegs, top: positionCss.top, bottom: positionCss.bottom, extraDateSpan: extraDateSpan, dateProfile: dateProfile, todayRange: todayRange, nowDate: nowDate, eventSelection: eventSelection, eventDrag: eventDrag, eventResize: eventResize }));\n        })));\n    };\n    TimeCol.prototype.renderFillSegs = function (segs, fillType) {\n        var _a = this, props = _a.props, context = _a.context;\n        var segVCoords = computeSegVCoords(segs, props.date, props.slatCoords, context.options.eventMinHeight); // don't assume all populated\n        var children = segVCoords.map(function (vcoords, i) {\n            var seg = segs[i];\n            return (createElement(\"div\", { key: buildEventRangeKey(seg.eventRange), className: \"fc-timegrid-bg-harness\", style: computeSegVStyle(vcoords) }, fillType === 'bg-event' ?\n                createElement(BgEvent, __assign({ seg: seg }, getSegMeta(seg, props.todayRange, props.nowDate))) :\n                renderFill(fillType)));\n        });\n        return createElement(Fragment, null, children);\n    };\n    TimeCol.prototype.renderNowIndicator = function (segs) {\n        var _a = this.props, slatCoords = _a.slatCoords, date = _a.date;\n        if (!slatCoords) {\n            return null;\n        }\n        return segs.map(function (seg, i) { return (createElement(NowIndicatorRoot, { isAxis: false, date: date, \n            // key doesn't matter. will only ever be one\n            key: i }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-timegrid-now-indicator-line'].concat(classNames).join(' '), style: { top: slatCoords.computeDateTop(seg.start, date) } }, innerContent)); })); });\n    };\n    TimeCol.prototype.computeSegHStyle = function (segHCoords) {\n        var _a = this.context, isRtl = _a.isRtl, options = _a.options;\n        var shouldOverlap = options.slotEventOverlap;\n        var nearCoord = segHCoords.levelCoord; // the left side if LTR. the right side if RTL. floating-point\n        var farCoord = segHCoords.levelCoord + segHCoords.thickness; // the right side if LTR. the left side if RTL. floating-point\n        var left; // amount of space from left edge, a fraction of the total width\n        var right; // amount of space from right edge, a fraction of the total width\n        if (shouldOverlap) {\n            // double the width, but don't go beyond the maximum forward coordinate (1.0)\n            farCoord = Math.min(1, nearCoord + (farCoord - nearCoord) * 2);\n        }\n        if (isRtl) {\n            left = 1 - farCoord;\n            right = nearCoord;\n        }\n        else {\n            left = nearCoord;\n            right = 1 - farCoord;\n        }\n        var props = {\n            zIndex: segHCoords.stackDepth + 1,\n            left: left * 100 + '%',\n            right: right * 100 + '%',\n        };\n        if (shouldOverlap && !segHCoords.stackForward) {\n            // add padding to the edge so that forward stacked events don't cover the resizer's icon\n            props[isRtl ? 'marginLeft' : 'marginRight'] = 10 * 2; // 10 is a guesstimate of the icon's width\n        }\n        return props;\n    };\n    return TimeCol;\n}(BaseComponent));\nfunction renderPlainFgSegs(sortedFgSegs, _a) {\n    var todayRange = _a.todayRange, nowDate = _a.nowDate, eventSelection = _a.eventSelection, eventDrag = _a.eventDrag, eventResize = _a.eventResize;\n    var hiddenInstances = (eventDrag ? eventDrag.affectedInstances : null) ||\n        (eventResize ? eventResize.affectedInstances : null) ||\n        {};\n    return (createElement(Fragment, null, sortedFgSegs.map(function (seg) {\n        var instanceId = seg.eventRange.instance.instanceId;\n        return (createElement(\"div\", { key: instanceId, style: { visibility: hiddenInstances[instanceId] ? 'hidden' : '' } },\n            createElement(TimeColEvent, __assign({ seg: seg, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: instanceId === eventSelection, isShort: false }, getSegMeta(seg, todayRange, nowDate)))));\n    })));\n}\nfunction computeSegVStyle(segVCoords) {\n    if (!segVCoords) {\n        return { top: '', bottom: '' };\n    }\n    return {\n        top: segVCoords.start,\n        bottom: -segVCoords.end,\n    };\n}\nfunction compileSegsFromEntries(segEntries, allSegs) {\n    return segEntries.map(function (segEntry) { return allSegs[segEntry.index]; });\n}\n\nvar TimeColsContent = /** @class */ (function (_super) {\n    __extends(TimeColsContent, _super);\n    function TimeColsContent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.splitFgEventSegs = memoize(splitSegsByCol);\n        _this.splitBgEventSegs = memoize(splitSegsByCol);\n        _this.splitBusinessHourSegs = memoize(splitSegsByCol);\n        _this.splitNowIndicatorSegs = memoize(splitSegsByCol);\n        _this.splitDateSelectionSegs = memoize(splitSegsByCol);\n        _this.splitEventDrag = memoize(splitInteractionByCol);\n        _this.splitEventResize = memoize(splitInteractionByCol);\n        _this.rootElRef = createRef();\n        _this.cellElRefs = new RefMap();\n        return _this;\n    }\n    TimeColsContent.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, context = _a.context;\n        var nowIndicatorTop = context.options.nowIndicator &&\n            props.slatCoords &&\n            props.slatCoords.safeComputeTop(props.nowDate); // might return void\n        var colCnt = props.cells.length;\n        var fgEventSegsByRow = this.splitFgEventSegs(props.fgEventSegs, colCnt);\n        var bgEventSegsByRow = this.splitBgEventSegs(props.bgEventSegs, colCnt);\n        var businessHourSegsByRow = this.splitBusinessHourSegs(props.businessHourSegs, colCnt);\n        var nowIndicatorSegsByRow = this.splitNowIndicatorSegs(props.nowIndicatorSegs, colCnt);\n        var dateSelectionSegsByRow = this.splitDateSelectionSegs(props.dateSelectionSegs, colCnt);\n        var eventDragByRow = this.splitEventDrag(props.eventDrag, colCnt);\n        var eventResizeByRow = this.splitEventResize(props.eventResize, colCnt);\n        return (createElement(\"div\", { className: \"fc-timegrid-cols\", ref: this.rootElRef },\n            createElement(\"table\", { role: \"presentation\", style: {\n                    minWidth: props.tableMinWidth,\n                    width: props.clientWidth,\n                } },\n                props.tableColGroupNode,\n                createElement(\"tbody\", { role: \"presentation\" },\n                    createElement(\"tr\", { role: \"row\" },\n                        props.axis && (createElement(\"td\", { \"aria-hidden\": true, className: \"fc-timegrid-col fc-timegrid-axis\" },\n                            createElement(\"div\", { className: \"fc-timegrid-col-frame\" },\n                                createElement(\"div\", { className: \"fc-timegrid-now-indicator-container\" }, typeof nowIndicatorTop === 'number' && (createElement(NowIndicatorRoot, { isAxis: true, date: props.nowDate }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-timegrid-now-indicator-arrow'].concat(classNames).join(' '), style: { top: nowIndicatorTop } }, innerContent)); })))))),\n                        props.cells.map(function (cell, i) { return (createElement(TimeCol, { key: cell.key, elRef: _this.cellElRefs.createRef(cell.key), dateProfile: props.dateProfile, date: cell.date, nowDate: props.nowDate, todayRange: props.todayRange, extraHookProps: cell.extraHookProps, extraDataAttrs: cell.extraDataAttrs, extraClassNames: cell.extraClassNames, extraDateSpan: cell.extraDateSpan, fgEventSegs: fgEventSegsByRow[i], bgEventSegs: bgEventSegsByRow[i], businessHourSegs: businessHourSegsByRow[i], nowIndicatorSegs: nowIndicatorSegsByRow[i], dateSelectionSegs: dateSelectionSegsByRow[i], eventDrag: eventDragByRow[i], eventResize: eventResizeByRow[i], slatCoords: props.slatCoords, eventSelection: props.eventSelection, forPrint: props.forPrint })); }))))));\n    };\n    TimeColsContent.prototype.componentDidMount = function () {\n        this.updateCoords();\n    };\n    TimeColsContent.prototype.componentDidUpdate = function () {\n        this.updateCoords();\n    };\n    TimeColsContent.prototype.updateCoords = function () {\n        var props = this.props;\n        if (props.onColCoords &&\n            props.clientWidth !== null // means sizing has stabilized\n        ) {\n            props.onColCoords(new PositionCache(this.rootElRef.current, collectCellEls(this.cellElRefs.currentMap, props.cells), true, // horizontal\n            false));\n        }\n    };\n    return TimeColsContent;\n}(BaseComponent));\nfunction collectCellEls(elMap, cells) {\n    return cells.map(function (cell) { return elMap[cell.key]; });\n}\n\n/* A component that renders one or more columns of vertical time slots\n----------------------------------------------------------------------------------------------------------------------*/\nvar TimeCols = /** @class */ (function (_super) {\n    __extends(TimeCols, _super);\n    function TimeCols() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.processSlotOptions = memoize(processSlotOptions);\n        _this.state = {\n            slatCoords: null,\n        };\n        _this.handleRootEl = function (el) {\n            if (el) {\n                _this.context.registerInteractiveComponent(_this, {\n                    el: el,\n                    isHitComboAllowed: _this.props.isHitComboAllowed,\n                });\n            }\n            else {\n                _this.context.unregisterInteractiveComponent(_this);\n            }\n        };\n        _this.handleScrollRequest = function (request) {\n            var onScrollTopRequest = _this.props.onScrollTopRequest;\n            var slatCoords = _this.state.slatCoords;\n            if (onScrollTopRequest && slatCoords) {\n                if (request.time) {\n                    var top_1 = slatCoords.computeTimeTop(request.time);\n                    top_1 = Math.ceil(top_1); // zoom can give weird floating-point values. rather scroll a little bit further\n                    if (top_1) {\n                        top_1 += 1; // to overcome top border that slots beyond the first have. looks better\n                    }\n                    onScrollTopRequest(top_1);\n                }\n                return true;\n            }\n            return false;\n        };\n        _this.handleColCoords = function (colCoords) {\n            _this.colCoords = colCoords;\n        };\n        _this.handleSlatCoords = function (slatCoords) {\n            _this.setState({ slatCoords: slatCoords });\n            if (_this.props.onSlatCoords) {\n                _this.props.onSlatCoords(slatCoords);\n            }\n        };\n        return _this;\n    }\n    TimeCols.prototype.render = function () {\n        var _a = this, props = _a.props, state = _a.state;\n        return (createElement(\"div\", { className: \"fc-timegrid-body\", ref: this.handleRootEl, style: {\n                // these props are important to give this wrapper correct dimensions for interactions\n                // TODO: if we set it here, can we avoid giving to inner tables?\n                width: props.clientWidth,\n                minWidth: props.tableMinWidth,\n            } },\n            createElement(TimeColsSlats, { axis: props.axis, dateProfile: props.dateProfile, slatMetas: props.slatMetas, clientWidth: props.clientWidth, minHeight: props.expandRows ? props.clientHeight : '', tableMinWidth: props.tableMinWidth, tableColGroupNode: props.axis ? props.tableColGroupNode : null /* axis depends on the colgroup's shrinking */, onCoords: this.handleSlatCoords }),\n            createElement(TimeColsContent, { cells: props.cells, axis: props.axis, dateProfile: props.dateProfile, businessHourSegs: props.businessHourSegs, bgEventSegs: props.bgEventSegs, fgEventSegs: props.fgEventSegs, dateSelectionSegs: props.dateSelectionSegs, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, todayRange: props.todayRange, nowDate: props.nowDate, nowIndicatorSegs: props.nowIndicatorSegs, clientWidth: props.clientWidth, tableMinWidth: props.tableMinWidth, tableColGroupNode: props.tableColGroupNode, slatCoords: state.slatCoords, onColCoords: this.handleColCoords, forPrint: props.forPrint })));\n    };\n    TimeCols.prototype.componentDidMount = function () {\n        this.scrollResponder = this.context.createScrollResponder(this.handleScrollRequest);\n    };\n    TimeCols.prototype.componentDidUpdate = function (prevProps) {\n        this.scrollResponder.update(prevProps.dateProfile !== this.props.dateProfile);\n    };\n    TimeCols.prototype.componentWillUnmount = function () {\n        this.scrollResponder.detach();\n    };\n    TimeCols.prototype.queryHit = function (positionLeft, positionTop) {\n        var _a = this.context, dateEnv = _a.dateEnv, options = _a.options;\n        var colCoords = this.colCoords;\n        var dateProfile = this.props.dateProfile;\n        var slatCoords = this.state.slatCoords;\n        var _b = this.processSlotOptions(this.props.slotDuration, options.snapDuration), snapDuration = _b.snapDuration, snapsPerSlot = _b.snapsPerSlot;\n        var colIndex = colCoords.leftToIndex(positionLeft);\n        var slatIndex = slatCoords.positions.topToIndex(positionTop);\n        if (colIndex != null && slatIndex != null) {\n            var cell = this.props.cells[colIndex];\n            var slatTop = slatCoords.positions.tops[slatIndex];\n            var slatHeight = slatCoords.positions.getHeight(slatIndex);\n            var partial = (positionTop - slatTop) / slatHeight; // floating point number between 0 and 1\n            var localSnapIndex = Math.floor(partial * snapsPerSlot); // the snap # relative to start of slat\n            var snapIndex = slatIndex * snapsPerSlot + localSnapIndex;\n            var dayDate = this.props.cells[colIndex].date;\n            var time = addDurations(dateProfile.slotMinTime, multiplyDuration(snapDuration, snapIndex));\n            var start = dateEnv.add(dayDate, time);\n            var end = dateEnv.add(start, snapDuration);\n            return {\n                dateProfile: dateProfile,\n                dateSpan: __assign({ range: { start: start, end: end }, allDay: false }, cell.extraDateSpan),\n                dayEl: colCoords.els[colIndex],\n                rect: {\n                    left: colCoords.lefts[colIndex],\n                    right: colCoords.rights[colIndex],\n                    top: slatTop,\n                    bottom: slatTop + slatHeight,\n                },\n                layer: 0,\n            };\n        }\n        return null;\n    };\n    return TimeCols;\n}(DateComponent));\nfunction processSlotOptions(slotDuration, snapDurationOverride) {\n    var snapDuration = snapDurationOverride || slotDuration;\n    var snapsPerSlot = wholeDivideDurations(slotDuration, snapDuration);\n    if (snapsPerSlot === null) {\n        snapDuration = slotDuration;\n        snapsPerSlot = 1;\n        // TODO: say warning?\n    }\n    return { snapDuration: snapDuration, snapsPerSlot: snapsPerSlot };\n}\n\nvar DayTimeColsSlicer = /** @class */ (function (_super) {\n    __extends(DayTimeColsSlicer, _super);\n    function DayTimeColsSlicer() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    DayTimeColsSlicer.prototype.sliceRange = function (range, dayRanges) {\n        var segs = [];\n        for (var col = 0; col < dayRanges.length; col += 1) {\n            var segRange = intersectRanges(range, dayRanges[col]);\n            if (segRange) {\n                segs.push({\n                    start: segRange.start,\n                    end: segRange.end,\n                    isStart: segRange.start.valueOf() === range.start.valueOf(),\n                    isEnd: segRange.end.valueOf() === range.end.valueOf(),\n                    col: col,\n                });\n            }\n        }\n        return segs;\n    };\n    return DayTimeColsSlicer;\n}(Slicer));\n\nvar DayTimeCols = /** @class */ (function (_super) {\n    __extends(DayTimeCols, _super);\n    function DayTimeCols() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.buildDayRanges = memoize(buildDayRanges);\n        _this.slicer = new DayTimeColsSlicer();\n        _this.timeColsRef = createRef();\n        return _this;\n    }\n    DayTimeCols.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, context = _a.context;\n        var dateProfile = props.dateProfile, dayTableModel = props.dayTableModel;\n        var isNowIndicator = context.options.nowIndicator;\n        var dayRanges = this.buildDayRanges(dayTableModel, dateProfile, context.dateEnv);\n        // give it the first row of cells\n        // TODO: would move this further down hierarchy, but sliceNowDate needs it\n        return (createElement(NowTimer, { unit: isNowIndicator ? 'minute' : 'day' }, function (nowDate, todayRange) { return (createElement(TimeCols, __assign({ ref: _this.timeColsRef }, _this.slicer.sliceProps(props, dateProfile, null, context, dayRanges), { forPrint: props.forPrint, axis: props.axis, dateProfile: dateProfile, slatMetas: props.slatMetas, slotDuration: props.slotDuration, cells: dayTableModel.cells[0], tableColGroupNode: props.tableColGroupNode, tableMinWidth: props.tableMinWidth, clientWidth: props.clientWidth, clientHeight: props.clientHeight, expandRows: props.expandRows, nowDate: nowDate, nowIndicatorSegs: isNowIndicator && _this.slicer.sliceNowDate(nowDate, context, dayRanges), todayRange: todayRange, onScrollTopRequest: props.onScrollTopRequest, onSlatCoords: props.onSlatCoords }))); }));\n    };\n    return DayTimeCols;\n}(DateComponent));\nfunction buildDayRanges(dayTableModel, dateProfile, dateEnv) {\n    var ranges = [];\n    for (var _i = 0, _a = dayTableModel.headerDates; _i < _a.length; _i++) {\n        var date = _a[_i];\n        ranges.push({\n            start: dateEnv.add(date, dateProfile.slotMinTime),\n            end: dateEnv.add(date, dateProfile.slotMaxTime),\n        });\n    }\n    return ranges;\n}\n\n// potential nice values for the slot-duration and interval-duration\n// from largest to smallest\nvar STOCK_SUB_DURATIONS = [\n    { hours: 1 },\n    { minutes: 30 },\n    { minutes: 15 },\n    { seconds: 30 },\n    { seconds: 15 },\n];\nfunction buildSlatMetas(slotMinTime, slotMaxTime, explicitLabelInterval, slotDuration, dateEnv) {\n    var dayStart = new Date(0);\n    var slatTime = slotMinTime;\n    var slatIterator = createDuration(0);\n    var labelInterval = explicitLabelInterval || computeLabelInterval(slotDuration);\n    var metas = [];\n    while (asRoughMs(slatTime) < asRoughMs(slotMaxTime)) {\n        var date = dateEnv.add(dayStart, slatTime);\n        var isLabeled = wholeDivideDurations(slatIterator, labelInterval) !== null;\n        metas.push({\n            date: date,\n            time: slatTime,\n            key: date.toISOString(),\n            isoTimeStr: formatIsoTimeString(date),\n            isLabeled: isLabeled,\n        });\n        slatTime = addDurations(slatTime, slotDuration);\n        slatIterator = addDurations(slatIterator, slotDuration);\n    }\n    return metas;\n}\n// Computes an automatic value for slotLabelInterval\nfunction computeLabelInterval(slotDuration) {\n    var i;\n    var labelInterval;\n    var slotsPerLabel;\n    // find the smallest stock label interval that results in more than one slots-per-label\n    for (i = STOCK_SUB_DURATIONS.length - 1; i >= 0; i -= 1) {\n        labelInterval = createDuration(STOCK_SUB_DURATIONS[i]);\n        slotsPerLabel = wholeDivideDurations(labelInterval, slotDuration);\n        if (slotsPerLabel !== null && slotsPerLabel > 1) {\n            return labelInterval;\n        }\n    }\n    return slotDuration; // fall back\n}\n\nvar DayTimeColsView = /** @class */ (function (_super) {\n    __extends(DayTimeColsView, _super);\n    function DayTimeColsView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.buildTimeColsModel = memoize(buildTimeColsModel);\n        _this.buildSlatMetas = memoize(buildSlatMetas);\n        return _this;\n    }\n    DayTimeColsView.prototype.render = function () {\n        var _this = this;\n        var _a = this.context, options = _a.options, dateEnv = _a.dateEnv, dateProfileGenerator = _a.dateProfileGenerator;\n        var props = this.props;\n        var dateProfile = props.dateProfile;\n        var dayTableModel = this.buildTimeColsModel(dateProfile, dateProfileGenerator);\n        var splitProps = this.allDaySplitter.splitProps(props);\n        var slatMetas = this.buildSlatMetas(dateProfile.slotMinTime, dateProfile.slotMaxTime, options.slotLabelInterval, options.slotDuration, dateEnv);\n        var dayMinWidth = options.dayMinWidth;\n        var hasAttachedAxis = !dayMinWidth;\n        var hasDetachedAxis = dayMinWidth;\n        var headerContent = options.dayHeaders && (createElement(DayHeader, { dates: dayTableModel.headerDates, dateProfile: dateProfile, datesRepDistinctDays: true, renderIntro: hasAttachedAxis ? this.renderHeadAxis : null }));\n        var allDayContent = (options.allDaySlot !== false) && (function (contentArg) { return (createElement(DayTable, __assign({}, splitProps.allDay, { dateProfile: dateProfile, dayTableModel: dayTableModel, nextDayThreshold: options.nextDayThreshold, tableMinWidth: contentArg.tableMinWidth, colGroupNode: contentArg.tableColGroupNode, renderRowIntro: hasAttachedAxis ? _this.renderTableRowAxis : null, showWeekNumbers: false, expandRows: false, headerAlignElRef: _this.headerElRef, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, forPrint: props.forPrint }, _this.getAllDayMaxEventProps()))); });\n        var timeGridContent = function (contentArg) { return (createElement(DayTimeCols, __assign({}, splitProps.timed, { dayTableModel: dayTableModel, dateProfile: dateProfile, axis: hasAttachedAxis, slotDuration: options.slotDuration, slatMetas: slatMetas, forPrint: props.forPrint, tableColGroupNode: contentArg.tableColGroupNode, tableMinWidth: contentArg.tableMinWidth, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, onSlatCoords: _this.handleSlatCoords, expandRows: contentArg.expandRows, onScrollTopRequest: _this.handleScrollTopRequest }))); };\n        return hasDetachedAxis\n            ? this.renderHScrollLayout(headerContent, allDayContent, timeGridContent, dayTableModel.colCnt, dayMinWidth, slatMetas, this.state.slatCoords)\n            : this.renderSimpleLayout(headerContent, allDayContent, timeGridContent);\n    };\n    return DayTimeColsView;\n}(TimeColsView));\nfunction buildTimeColsModel(dateProfile, dateProfileGenerator) {\n    var daySeries = new DaySeriesModel(dateProfile.renderRange, dateProfileGenerator);\n    return new DayTableModel(daySeries, false);\n}\n\nvar OPTION_REFINERS = {\n    allDaySlot: Boolean,\n};\n\nvar main = createPlugin({\n    initialView: 'timeGridWeek',\n    optionRefiners: OPTION_REFINERS,\n    views: {\n        timeGrid: {\n            component: DayTimeColsView,\n            usesMinMaxTime: true,\n            allDaySlot: true,\n            slotDuration: '00:30:00',\n            slotEventOverlap: true, // a bad name. confused with overlap/constraint system\n        },\n        timeGridDay: {\n            type: 'timeGrid',\n            duration: { days: 1 },\n        },\n        timeGridWeek: {\n            type: 'timeGrid',\n            duration: { weeks: 1 },\n        },\n    },\n});\n\nexport default main;\nexport { DayTimeCols, DayTimeColsSlicer, DayTimeColsView, TimeCols, TimeColsSlatsCoords, TimeColsView, buildDayRanges, buildSlatMetas, buildTimeColsModel };\n","import getCompositeRect from \"./dom-utils/getCompositeRect.js\";\nimport getLayoutRect from \"./dom-utils/getLayoutRect.js\";\nimport listScrollParents from \"./dom-utils/listScrollParents.js\";\nimport getOffsetParent from \"./dom-utils/getOffsetParent.js\";\nimport getComputedStyle from \"./dom-utils/getComputedStyle.js\";\nimport orderModifiers from \"./utils/orderModifiers.js\";\nimport debounce from \"./utils/debounce.js\";\nimport validateModifiers from \"./utils/validateModifiers.js\";\nimport uniqueBy from \"./utils/uniqueBy.js\";\nimport getBasePlacement from \"./utils/getBasePlacement.js\";\nimport mergeByName from \"./utils/mergeByName.js\";\nimport detectOverflow from \"./utils/detectOverflow.js\";\nimport { isElement } from \"./dom-utils/instanceOf.js\";\nimport { auto } from \"./enums.js\";\nvar INVALID_ELEMENT_ERROR = 'Popper: Invalid reference or popper argument provided. They must be either a DOM element or virtual element.';\nvar INFINITE_LOOP_ERROR = 'Popper: An infinite loop in the modifiers cycle has been detected! The cycle has been interrupted to prevent a browser crash.';\nvar DEFAULT_OPTIONS = {\n  placement: 'bottom',\n  modifiers: [],\n  strategy: 'absolute'\n};\n\nfunction areValidElements() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return !args.some(function (element) {\n    return !(element && typeof element.getBoundingClientRect === 'function');\n  });\n}\n\nexport function popperGenerator(generatorOptions) {\n  if (generatorOptions === void 0) {\n    generatorOptions = {};\n  }\n\n  var _generatorOptions = generatorOptions,\n      _generatorOptions$def = _generatorOptions.defaultModifiers,\n      defaultModifiers = _generatorOptions$def === void 0 ? [] : _generatorOptions$def,\n      _generatorOptions$def2 = _generatorOptions.defaultOptions,\n      defaultOptions = _generatorOptions$def2 === void 0 ? DEFAULT_OPTIONS : _generatorOptions$def2;\n  return function createPopper(reference, popper, options) {\n    if (options === void 0) {\n      options = defaultOptions;\n    }\n\n    var state = {\n      placement: 'bottom',\n      orderedModifiers: [],\n      options: Object.assign({}, DEFAULT_OPTIONS, defaultOptions),\n      modifiersData: {},\n      elements: {\n        reference: reference,\n        popper: popper\n      },\n      attributes: {},\n      styles: {}\n    };\n    var effectCleanupFns = [];\n    var isDestroyed = false;\n    var instance = {\n      state: state,\n      setOptions: function setOptions(setOptionsAction) {\n        var options = typeof setOptionsAction === 'function' ? setOptionsAction(state.options) : setOptionsAction;\n        cleanupModifierEffects();\n        state.options = Object.assign({}, defaultOptions, state.options, options);\n        state.scrollParents = {\n          reference: isElement(reference) ? listScrollParents(reference) : reference.contextElement ? listScrollParents(reference.contextElement) : [],\n          popper: listScrollParents(popper)\n        }; // Orders the modifiers based on their dependencies and `phase`\n        // properties\n\n        var orderedModifiers = orderModifiers(mergeByName([].concat(defaultModifiers, state.options.modifiers))); // Strip out disabled modifiers\n\n        state.orderedModifiers = orderedModifiers.filter(function (m) {\n          return m.enabled;\n        }); // Validate the provided modifiers so that the consumer will get warned\n        // if one of the modifiers is invalid for any reason\n\n        if (process.env.NODE_ENV !== \"production\") {\n          var modifiers = uniqueBy([].concat(orderedModifiers, state.options.modifiers), function (_ref) {\n            var name = _ref.name;\n            return name;\n          });\n          validateModifiers(modifiers);\n\n          if (getBasePlacement(state.options.placement) === auto) {\n            var flipModifier = state.orderedModifiers.find(function (_ref2) {\n              var name = _ref2.name;\n              return name === 'flip';\n            });\n\n            if (!flipModifier) {\n              console.error(['Popper: \"auto\" placements require the \"flip\" modifier be', 'present and enabled to work.'].join(' '));\n            }\n          }\n\n          var _getComputedStyle = getComputedStyle(popper),\n              marginTop = _getComputedStyle.marginTop,\n              marginRight = _getComputedStyle.marginRight,\n              marginBottom = _getComputedStyle.marginBottom,\n              marginLeft = _getComputedStyle.marginLeft; // We no longer take into account `margins` on the popper, and it can\n          // cause bugs with positioning, so we'll warn the consumer\n\n\n          if ([marginTop, marginRight, marginBottom, marginLeft].some(function (margin) {\n            return parseFloat(margin);\n          })) {\n            console.warn(['Popper: CSS \"margin\" styles cannot be used to apply padding', 'between the popper and its reference element or boundary.', 'To replicate margin, use the `offset` modifier, as well as', 'the `padding` option in the `preventOverflow` and `flip`', 'modifiers.'].join(' '));\n          }\n        }\n\n        runModifierEffects();\n        return instance.update();\n      },\n      // Sync update – it will always be executed, even if not necessary. This\n      // is useful for low frequency updates where sync behavior simplifies the\n      // logic.\n      // For high frequency updates (e.g. `resize` and `scroll` events), always\n      // prefer the async Popper#update method\n      forceUpdate: function forceUpdate() {\n        if (isDestroyed) {\n          return;\n        }\n\n        var _state$elements = state.elements,\n            reference = _state$elements.reference,\n            popper = _state$elements.popper; // Don't proceed if `reference` or `popper` are not valid elements\n        // anymore\n\n        if (!areValidElements(reference, popper)) {\n          if (process.env.NODE_ENV !== \"production\") {\n            console.error(INVALID_ELEMENT_ERROR);\n          }\n\n          return;\n        } // Store the reference and popper rects to be read by modifiers\n\n\n        state.rects = {\n          reference: getCompositeRect(reference, getOffsetParent(popper), state.options.strategy === 'fixed'),\n          popper: getLayoutRect(popper)\n        }; // Modifiers have the ability to reset the current update cycle. The\n        // most common use case for this is the `flip` modifier changing the\n        // placement, which then needs to re-run all the modifiers, because the\n        // logic was previously ran for the previous placement and is therefore\n        // stale/incorrect\n\n        state.reset = false;\n        state.placement = state.options.placement; // On each update cycle, the `modifiersData` property for each modifier\n        // is filled with the initial data specified by the modifier. This means\n        // it doesn't persist and is fresh on each update.\n        // To ensure persistent data, use `${name}#persistent`\n\n        state.orderedModifiers.forEach(function (modifier) {\n          return state.modifiersData[modifier.name] = Object.assign({}, modifier.data);\n        });\n        var __debug_loops__ = 0;\n\n        for (var index = 0; index < state.orderedModifiers.length; index++) {\n          if (process.env.NODE_ENV !== \"production\") {\n            __debug_loops__ += 1;\n\n            if (__debug_loops__ > 100) {\n              console.error(INFINITE_LOOP_ERROR);\n              break;\n            }\n          }\n\n          if (state.reset === true) {\n            state.reset = false;\n            index = -1;\n            continue;\n          }\n\n          var _state$orderedModifie = state.orderedModifiers[index],\n              fn = _state$orderedModifie.fn,\n              _state$orderedModifie2 = _state$orderedModifie.options,\n              _options = _state$orderedModifie2 === void 0 ? {} : _state$orderedModifie2,\n              name = _state$orderedModifie.name;\n\n          if (typeof fn === 'function') {\n            state = fn({\n              state: state,\n              options: _options,\n              name: name,\n              instance: instance\n            }) || state;\n          }\n        }\n      },\n      // Async and optimistically optimized update – it will not be executed if\n      // not necessary (debounced to run at most once-per-tick)\n      update: debounce(function () {\n        return new Promise(function (resolve) {\n          instance.forceUpdate();\n          resolve(state);\n        });\n      }),\n      destroy: function destroy() {\n        cleanupModifierEffects();\n        isDestroyed = true;\n      }\n    };\n\n    if (!areValidElements(reference, popper)) {\n      if (process.env.NODE_ENV !== \"production\") {\n        console.error(INVALID_ELEMENT_ERROR);\n      }\n\n      return instance;\n    }\n\n    instance.setOptions(options).then(function (state) {\n      if (!isDestroyed && options.onFirstUpdate) {\n        options.onFirstUpdate(state);\n      }\n    }); // Modifiers have the ability to execute arbitrary code before the first\n    // update cycle runs. They will be executed in the same order as the update\n    // cycle. This is useful when a modifier adds some persistent data that\n    // other modifiers need to use, but the modifier is run after the dependent\n    // one.\n\n    function runModifierEffects() {\n      state.orderedModifiers.forEach(function (_ref3) {\n        var name = _ref3.name,\n            _ref3$options = _ref3.options,\n            options = _ref3$options === void 0 ? {} : _ref3$options,\n            effect = _ref3.effect;\n\n        if (typeof effect === 'function') {\n          var cleanupFn = effect({\n            state: state,\n            name: name,\n            instance: instance,\n            options: options\n          });\n\n          var noopFn = function noopFn() {};\n\n          effectCleanupFns.push(cleanupFn || noopFn);\n        }\n      });\n    }\n\n    function cleanupModifierEffects() {\n      effectCleanupFns.forEach(function (fn) {\n        return fn();\n      });\n      effectCleanupFns = [];\n    }\n\n    return instance;\n  };\n}\nexport var createPopper = /*#__PURE__*/popperGenerator(); // eslint-disable-next-line import/no-unused-modules\n\nexport { detectOverflow };","import { isShadowRoot } from \"./instanceOf.js\";\nexport default function contains(parent, child) {\n  var rootNode = child.getRootNode && child.getRootNode(); // First, attempt with faster native method\n\n  if (parent.contains(child)) {\n    return true;\n  } // then fallback to custom implementation with Shadow DOM support\n  else if (rootNode && isShadowRoot(rootNode)) {\n      var next = child;\n\n      do {\n        if (next && parent.isSameNode(next)) {\n          return true;\n        } // $FlowFixMe[prop-missing]: need a better way to handle this...\n\n\n        next = next.parentNode || next.host;\n      } while (next);\n    } // Give up, the result is false\n\n\n  return false;\n}","import { isElement, isHTMLElement } from \"./instanceOf.js\";\nimport { round } from \"../utils/math.js\";\nimport getWindow from \"./getWindow.js\";\nimport isLayoutViewport from \"./isLayoutViewport.js\";\nexport default function getBoundingClientRect(element, includeScale, isFixedStrategy) {\n  if (includeScale === void 0) {\n    includeScale = false;\n  }\n\n  if (isFixedStrategy === void 0) {\n    isFixedStrategy = false;\n  }\n\n  var clientRect = element.getBoundingClientRect();\n  var scaleX = 1;\n  var scaleY = 1;\n\n  if (includeScale && isHTMLElement(element)) {\n    scaleX = element.offsetWidth > 0 ? round(clientRect.width) / element.offsetWidth || 1 : 1;\n    scaleY = element.offsetHeight > 0 ? round(clientRect.height) / element.offsetHeight || 1 : 1;\n  }\n\n  var _ref = isElement(element) ? getWindow(element) : window,\n      visualViewport = _ref.visualViewport;\n\n  var addVisualOffsets = !isLayoutViewport() && isFixedStrategy;\n  var x = (clientRect.left + (addVisualOffsets && visualViewport ? visualViewport.offsetLeft : 0)) / scaleX;\n  var y = (clientRect.top + (addVisualOffsets && visualViewport ? visualViewport.offsetTop : 0)) / scaleY;\n  var width = clientRect.width / scaleX;\n  var height = clientRect.height / scaleY;\n  return {\n    width: width,\n    height: height,\n    top: y,\n    right: x + width,\n    bottom: y + height,\n    left: x,\n    x: x,\n    y: y\n  };\n}","import { viewport } from \"../enums.js\";\nimport getViewportRect from \"./getViewportRect.js\";\nimport getDocumentRect from \"./getDocumentRect.js\";\nimport listScrollParents from \"./listScrollParents.js\";\nimport getOffsetParent from \"./getOffsetParent.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport getComputedStyle from \"./getComputedStyle.js\";\nimport { isElement, isHTMLElement } from \"./instanceOf.js\";\nimport getBoundingClientRect from \"./getBoundingClientRect.js\";\nimport getParentNode from \"./getParentNode.js\";\nimport contains from \"./contains.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport rectToClientRect from \"../utils/rectToClientRect.js\";\nimport { max, min } from \"../utils/math.js\";\n\nfunction getInnerBoundingClientRect(element, strategy) {\n  var rect = getBoundingClientRect(element, false, strategy === 'fixed');\n  rect.top = rect.top + element.clientTop;\n  rect.left = rect.left + element.clientLeft;\n  rect.bottom = rect.top + element.clientHeight;\n  rect.right = rect.left + element.clientWidth;\n  rect.width = element.clientWidth;\n  rect.height = element.clientHeight;\n  rect.x = rect.left;\n  rect.y = rect.top;\n  return rect;\n}\n\nfunction getClientRectFromMixedType(element, clippingParent, strategy) {\n  return clippingParent === viewport ? rectToClientRect(getViewportRect(element, strategy)) : isElement(clippingParent) ? getInnerBoundingClientRect(clippingParent, strategy) : rectToClientRect(getDocumentRect(getDocumentElement(element)));\n} // A \"clipping parent\" is an overflowable container with the characteristic of\n// clipping (or hiding) overflowing elements with a position different from\n// `initial`\n\n\nfunction getClippingParents(element) {\n  var clippingParents = listScrollParents(getParentNode(element));\n  var canEscapeClipping = ['absolute', 'fixed'].indexOf(getComputedStyle(element).position) >= 0;\n  var clipperElement = canEscapeClipping && isHTMLElement(element) ? getOffsetParent(element) : element;\n\n  if (!isElement(clipperElement)) {\n    return [];\n  } // $FlowFixMe[incompatible-return]: https://github.com/facebook/flow/issues/1414\n\n\n  return clippingParents.filter(function (clippingParent) {\n    return isElement(clippingParent) && contains(clippingParent, clipperElement) && getNodeName(clippingParent) !== 'body';\n  });\n} // Gets the maximum area that the element is visible in due to any number of\n// clipping parents\n\n\nexport default function getClippingRect(element, boundary, rootBoundary, strategy) {\n  var mainClippingParents = boundary === 'clippingParents' ? getClippingParents(element) : [].concat(boundary);\n  var clippingParents = [].concat(mainClippingParents, [rootBoundary]);\n  var firstClippingParent = clippingParents[0];\n  var clippingRect = clippingParents.reduce(function (accRect, clippingParent) {\n    var rect = getClientRectFromMixedType(element, clippingParent, strategy);\n    accRect.top = max(rect.top, accRect.top);\n    accRect.right = min(rect.right, accRect.right);\n    accRect.bottom = min(rect.bottom, accRect.bottom);\n    accRect.left = max(rect.left, accRect.left);\n    return accRect;\n  }, getClientRectFromMixedType(element, firstClippingParent, strategy));\n  clippingRect.width = clippingRect.right - clippingRect.left;\n  clippingRect.height = clippingRect.bottom - clippingRect.top;\n  clippingRect.x = clippingRect.left;\n  clippingRect.y = clippingRect.top;\n  return clippingRect;\n}","import getBoundingClientRect from \"./getBoundingClientRect.js\";\nimport getNodeScroll from \"./getNodeScroll.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nimport getWindowScrollBarX from \"./getWindowScrollBarX.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport isScrollParent from \"./isScrollParent.js\";\nimport { round } from \"../utils/math.js\";\n\nfunction isElementScaled(element) {\n  var rect = element.getBoundingClientRect();\n  var scaleX = round(rect.width) / element.offsetWidth || 1;\n  var scaleY = round(rect.height) / element.offsetHeight || 1;\n  return scaleX !== 1 || scaleY !== 1;\n} // Returns the composite rect of an element relative to its offsetParent.\n// Composite means it takes into account transforms as well as layout.\n\n\nexport default function getCompositeRect(elementOrVirtualElement, offsetParent, isFixed) {\n  if (isFixed === void 0) {\n    isFixed = false;\n  }\n\n  var isOffsetParentAnElement = isHTMLElement(offsetParent);\n  var offsetParentIsScaled = isHTMLElement(offsetParent) && isElementScaled(offsetParent);\n  var documentElement = getDocumentElement(offsetParent);\n  var rect = getBoundingClientRect(elementOrVirtualElement, offsetParentIsScaled, isFixed);\n  var scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  var offsets = {\n    x: 0,\n    y: 0\n  };\n\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== 'body' || // https://github.com/popperjs/popper-core/issues/1078\n    isScrollParent(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n\n    if (isHTMLElement(offsetParent)) {\n      offsets = getBoundingClientRect(offsetParent, true);\n      offsets.x += offsetParent.clientLeft;\n      offsets.y += offsetParent.clientTop;\n    } else if (documentElement) {\n      offsets.x = getWindowScrollBarX(documentElement);\n    }\n  }\n\n  return {\n    x: rect.left + scroll.scrollLeft - offsets.x,\n    y: rect.top + scroll.scrollTop - offsets.y,\n    width: rect.width,\n    height: rect.height\n  };\n}","import getWindow from \"./getWindow.js\";\nexport default function getComputedStyle(element) {\n  return getWindow(element).getComputedStyle(element);\n}","import { isElement } from \"./instanceOf.js\";\nexport default function getDocumentElement(element) {\n  // $FlowFixMe[incompatible-return]: assume body is always available\n  return ((isElement(element) ? element.ownerDocument : // $FlowFixMe[prop-missing]\n  element.document) || window.document).documentElement;\n}","import getDocumentElement from \"./getDocumentElement.js\";\nimport getComputedStyle from \"./getComputedStyle.js\";\nimport getWindowScrollBarX from \"./getWindowScrollBarX.js\";\nimport getWindowScroll from \"./getWindowScroll.js\";\nimport { max } from \"../utils/math.js\"; // Gets the entire size of the scrollable document area, even extending outside\n// of the `<html>` and `<body>` rect bounds if horizontally scrollable\n\nexport default function getDocumentRect(element) {\n  var _element$ownerDocumen;\n\n  var html = getDocumentElement(element);\n  var winScroll = getWindowScroll(element);\n  var body = (_element$ownerDocumen = element.ownerDocument) == null ? void 0 : _element$ownerDocumen.body;\n  var width = max(html.scrollWidth, html.clientWidth, body ? body.scrollWidth : 0, body ? body.clientWidth : 0);\n  var height = max(html.scrollHeight, html.clientHeight, body ? body.scrollHeight : 0, body ? body.clientHeight : 0);\n  var x = -winScroll.scrollLeft + getWindowScrollBarX(element);\n  var y = -winScroll.scrollTop;\n\n  if (getComputedStyle(body || html).direction === 'rtl') {\n    x += max(html.clientWidth, body ? body.clientWidth : 0) - width;\n  }\n\n  return {\n    width: width,\n    height: height,\n    x: x,\n    y: y\n  };\n}","export default function getHTMLElementScroll(element) {\n  return {\n    scrollLeft: element.scrollLeft,\n    scrollTop: element.scrollTop\n  };\n}","import getBoundingClientRect from \"./getBoundingClientRect.js\"; // Returns the layout rect of an element relative to its offsetParent. Layout\n// means it doesn't take into account transforms.\n\nexport default function getLayoutRect(element) {\n  var clientRect = getBoundingClientRect(element); // Use the clientRect sizes if it's not been transformed.\n  // Fixes https://github.com/popperjs/popper-core/issues/1223\n\n  var width = element.offsetWidth;\n  var height = element.offsetHeight;\n\n  if (Math.abs(clientRect.width - width) <= 1) {\n    width = clientRect.width;\n  }\n\n  if (Math.abs(clientRect.height - height) <= 1) {\n    height = clientRect.height;\n  }\n\n  return {\n    x: element.offsetLeft,\n    y: element.offsetTop,\n    width: width,\n    height: height\n  };\n}","export default function getNodeName(element) {\n  return element ? (element.nodeName || '').toLowerCase() : null;\n}","import getWindowScroll from \"./getWindowScroll.js\";\nimport getWindow from \"./getWindow.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nimport getHTMLElementScroll from \"./getHTMLElementScroll.js\";\nexport default function getNodeScroll(node) {\n  if (node === getWindow(node) || !isHTMLElement(node)) {\n    return getWindowScroll(node);\n  } else {\n    return getHTMLElementScroll(node);\n  }\n}","import getWindow from \"./getWindow.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport getComputedStyle from \"./getComputedStyle.js\";\nimport { isHTMLElement, isShadowRoot } from \"./instanceOf.js\";\nimport isTableElement from \"./isTableElement.js\";\nimport getParentNode from \"./getParentNode.js\";\nimport getUAString from \"../utils/userAgent.js\";\n\nfunction getTrueOffsetParent(element) {\n  if (!isHTMLElement(element) || // https://github.com/popperjs/popper-core/issues/837\n  getComputedStyle(element).position === 'fixed') {\n    return null;\n  }\n\n  return element.offsetParent;\n} // `.offsetParent` reports `null` for fixed elements, while absolute elements\n// return the containing block\n\n\nfunction getContainingBlock(element) {\n  var isFirefox = /firefox/i.test(getUAString());\n  var isIE = /Trident/i.test(getUAString());\n\n  if (isIE && isHTMLElement(element)) {\n    // In IE 9, 10 and 11 fixed elements containing block is always established by the viewport\n    var elementCss = getComputedStyle(element);\n\n    if (elementCss.position === 'fixed') {\n      return null;\n    }\n  }\n\n  var currentNode = getParentNode(element);\n\n  if (isShadowRoot(currentNode)) {\n    currentNode = currentNode.host;\n  }\n\n  while (isHTMLElement(currentNode) && ['html', 'body'].indexOf(getNodeName(currentNode)) < 0) {\n    var css = getComputedStyle(currentNode); // This is non-exhaustive but covers the most common CSS properties that\n    // create a containing block.\n    // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n\n    if (css.transform !== 'none' || css.perspective !== 'none' || css.contain === 'paint' || ['transform', 'perspective'].indexOf(css.willChange) !== -1 || isFirefox && css.willChange === 'filter' || isFirefox && css.filter && css.filter !== 'none') {\n      return currentNode;\n    } else {\n      currentNode = currentNode.parentNode;\n    }\n  }\n\n  return null;\n} // Gets the closest ancestor positioned element. Handles some edge cases,\n// such as table ancestors and cross browser bugs.\n\n\nexport default function getOffsetParent(element) {\n  var window = getWindow(element);\n  var offsetParent = getTrueOffsetParent(element);\n\n  while (offsetParent && isTableElement(offsetParent) && getComputedStyle(offsetParent).position === 'static') {\n    offsetParent = getTrueOffsetParent(offsetParent);\n  }\n\n  if (offsetParent && (getNodeName(offsetParent) === 'html' || getNodeName(offsetParent) === 'body' && getComputedStyle(offsetParent).position === 'static')) {\n    return window;\n  }\n\n  return offsetParent || getContainingBlock(element) || window;\n}","import getNodeName from \"./getNodeName.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport { isShadowRoot } from \"./instanceOf.js\";\nexport default function getParentNode(element) {\n  if (getNodeName(element) === 'html') {\n    return element;\n  }\n\n  return (// this is a quicker (but less type safe) way to save quite some bytes from the bundle\n    // $FlowFixMe[incompatible-return]\n    // $FlowFixMe[prop-missing]\n    element.assignedSlot || // step into the shadow DOM of the parent of a slotted node\n    element.parentNode || ( // DOM Element detected\n    isShadowRoot(element) ? element.host : null) || // ShadowRoot detected\n    // $FlowFixMe[incompatible-call]: HTMLElement is a Node\n    getDocumentElement(element) // fallback\n\n  );\n}","import getParentNode from \"./getParentNode.js\";\nimport isScrollParent from \"./isScrollParent.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nexport default function getScrollParent(node) {\n  if (['html', 'body', '#document'].indexOf(getNodeName(node)) >= 0) {\n    // $FlowFixMe[incompatible-return]: assume body is always available\n    return node.ownerDocument.body;\n  }\n\n  if (isHTMLElement(node) && isScrollParent(node)) {\n    return node;\n  }\n\n  return getScrollParent(getParentNode(node));\n}","import getWindow from \"./getWindow.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport getWindowScrollBarX from \"./getWindowScrollBarX.js\";\nimport isLayoutViewport from \"./isLayoutViewport.js\";\nexport default function getViewportRect(element, strategy) {\n  var win = getWindow(element);\n  var html = getDocumentElement(element);\n  var visualViewport = win.visualViewport;\n  var width = html.clientWidth;\n  var height = html.clientHeight;\n  var x = 0;\n  var y = 0;\n\n  if (visualViewport) {\n    width = visualViewport.width;\n    height = visualViewport.height;\n    var layoutViewport = isLayoutViewport();\n\n    if (layoutViewport || !layoutViewport && strategy === 'fixed') {\n      x = visualViewport.offsetLeft;\n      y = visualViewport.offsetTop;\n    }\n  }\n\n  return {\n    width: width,\n    height: height,\n    x: x + getWindowScrollBarX(element),\n    y: y\n  };\n}","export default function getWindow(node) {\n  if (node == null) {\n    return window;\n  }\n\n  if (node.toString() !== '[object Window]') {\n    var ownerDocument = node.ownerDocument;\n    return ownerDocument ? ownerDocument.defaultView || window : window;\n  }\n\n  return node;\n}","import getWindow from \"./getWindow.js\";\nexport default function getWindowScroll(node) {\n  var win = getWindow(node);\n  var scrollLeft = win.pageXOffset;\n  var scrollTop = win.pageYOffset;\n  return {\n    scrollLeft: scrollLeft,\n    scrollTop: scrollTop\n  };\n}","import getBoundingClientRect from \"./getBoundingClientRect.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport getWindowScroll from \"./getWindowScroll.js\";\nexport default function getWindowScrollBarX(element) {\n  // If <html> has a CSS width greater than the viewport, then this will be\n  // incorrect for RTL.\n  // Popper 1 is broken in this case and never had a bug report so let's assume\n  // it's not an issue. I don't think anyone ever specifies width on <html>\n  // anyway.\n  // Browsers where the left scrollbar doesn't cause an issue report `0` for\n  // this (e.g. Edge 2019, IE11, Safari)\n  return getBoundingClientRect(getDocumentElement(element)).left + getWindowScroll(element).scrollLeft;\n}","import getWindow from \"./getWindow.js\";\n\nfunction isElement(node) {\n  var OwnElement = getWindow(node).Element;\n  return node instanceof OwnElement || node instanceof Element;\n}\n\nfunction isHTMLElement(node) {\n  var OwnElement = getWindow(node).HTMLElement;\n  return node instanceof OwnElement || node instanceof HTMLElement;\n}\n\nfunction isShadowRoot(node) {\n  // IE 11 has no ShadowRoot\n  if (typeof ShadowRoot === 'undefined') {\n    return false;\n  }\n\n  var OwnElement = getWindow(node).ShadowRoot;\n  return node instanceof OwnElement || node instanceof ShadowRoot;\n}\n\nexport { isElement, isHTMLElement, isShadowRoot };","import getUAString from \"../utils/userAgent.js\";\nexport default function isLayoutViewport() {\n  return !/^((?!chrome|android).)*safari/i.test(getUAString());\n}","import getComputedStyle from \"./getComputedStyle.js\";\nexport default function isScrollParent(element) {\n  // Firefox wants us to check `-x` and `-y` variations as well\n  var _getComputedStyle = getComputedStyle(element),\n      overflow = _getComputedStyle.overflow,\n      overflowX = _getComputedStyle.overflowX,\n      overflowY = _getComputedStyle.overflowY;\n\n  return /auto|scroll|overlay|hidden/.test(overflow + overflowY + overflowX);\n}","import getNodeName from \"./getNodeName.js\";\nexport default function isTableElement(element) {\n  return ['table', 'td', 'th'].indexOf(getNodeName(element)) >= 0;\n}","import getScrollParent from \"./getScrollParent.js\";\nimport getParentNode from \"./getParentNode.js\";\nimport getWindow from \"./getWindow.js\";\nimport isScrollParent from \"./isScrollParent.js\";\n/*\ngiven a DOM element, return the list of all scroll parents, up the list of ancesors\nuntil we get to the top window object. This list is what we attach scroll listeners\nto, because if any of these parent elements scroll, we'll need to re-calculate the\nreference element's position.\n*/\n\nexport default function listScrollParents(element, list) {\n  var _element$ownerDocumen;\n\n  if (list === void 0) {\n    list = [];\n  }\n\n  var scrollParent = getScrollParent(element);\n  var isBody = scrollParent === ((_element$ownerDocumen = element.ownerDocument) == null ? void 0 : _element$ownerDocumen.body);\n  var win = getWindow(scrollParent);\n  var target = isBody ? [win].concat(win.visualViewport || [], isScrollParent(scrollParent) ? scrollParent : []) : scrollParent;\n  var updatedList = list.concat(target);\n  return isBody ? updatedList : // $FlowFixMe[incompatible-call]: isBody tells us target will be an HTMLElement here\n  updatedList.concat(listScrollParents(getParentNode(target)));\n}","export var top = 'top';\nexport var bottom = 'bottom';\nexport var right = 'right';\nexport var left = 'left';\nexport var auto = 'auto';\nexport var basePlacements = [top, bottom, right, left];\nexport var start = 'start';\nexport var end = 'end';\nexport var clippingParents = 'clippingParents';\nexport var viewport = 'viewport';\nexport var popper = 'popper';\nexport var reference = 'reference';\nexport var variationPlacements = /*#__PURE__*/basePlacements.reduce(function (acc, placement) {\n  return acc.concat([placement + \"-\" + start, placement + \"-\" + end]);\n}, []);\nexport var placements = /*#__PURE__*/[].concat(basePlacements, [auto]).reduce(function (acc, placement) {\n  return acc.concat([placement, placement + \"-\" + start, placement + \"-\" + end]);\n}, []); // modifiers that need to read the DOM\n\nexport var beforeRead = 'beforeRead';\nexport var read = 'read';\nexport var afterRead = 'afterRead'; // pure-logic modifiers\n\nexport var beforeMain = 'beforeMain';\nexport var main = 'main';\nexport var afterMain = 'afterMain'; // modifier with the purpose to write to the DOM (or write into a framework state)\n\nexport var beforeWrite = 'beforeWrite';\nexport var write = 'write';\nexport var afterWrite = 'afterWrite';\nexport var modifierPhases = [beforeRead, read, afterRead, beforeMain, main, afterMain, beforeWrite, write, afterWrite];","import getNodeName from \"../dom-utils/getNodeName.js\";\nimport { isHTMLElement } from \"../dom-utils/instanceOf.js\"; // This modifier takes the styles prepared by the `computeStyles` modifier\n// and applies them to the HTMLElements such as popper and arrow\n\nfunction applyStyles(_ref) {\n  var state = _ref.state;\n  Object.keys(state.elements).forEach(function (name) {\n    var style = state.styles[name] || {};\n    var attributes = state.attributes[name] || {};\n    var element = state.elements[name]; // arrow is optional + virtual elements\n\n    if (!isHTMLElement(element) || !getNodeName(element)) {\n      return;\n    } // Flow doesn't support to extend this property, but it's the most\n    // effective way to apply styles to an HTMLElement\n    // $FlowFixMe[cannot-write]\n\n\n    Object.assign(element.style, style);\n    Object.keys(attributes).forEach(function (name) {\n      var value = attributes[name];\n\n      if (value === false) {\n        element.removeAttribute(name);\n      } else {\n        element.setAttribute(name, value === true ? '' : value);\n      }\n    });\n  });\n}\n\nfunction effect(_ref2) {\n  var state = _ref2.state;\n  var initialStyles = {\n    popper: {\n      position: state.options.strategy,\n      left: '0',\n      top: '0',\n      margin: '0'\n    },\n    arrow: {\n      position: 'absolute'\n    },\n    reference: {}\n  };\n  Object.assign(state.elements.popper.style, initialStyles.popper);\n  state.styles = initialStyles;\n\n  if (state.elements.arrow) {\n    Object.assign(state.elements.arrow.style, initialStyles.arrow);\n  }\n\n  return function () {\n    Object.keys(state.elements).forEach(function (name) {\n      var element = state.elements[name];\n      var attributes = state.attributes[name] || {};\n      var styleProperties = Object.keys(state.styles.hasOwnProperty(name) ? state.styles[name] : initialStyles[name]); // Set all values to an empty string to unset them\n\n      var style = styleProperties.reduce(function (style, property) {\n        style[property] = '';\n        return style;\n      }, {}); // arrow is optional + virtual elements\n\n      if (!isHTMLElement(element) || !getNodeName(element)) {\n        return;\n      }\n\n      Object.assign(element.style, style);\n      Object.keys(attributes).forEach(function (attribute) {\n        element.removeAttribute(attribute);\n      });\n    });\n  };\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'applyStyles',\n  enabled: true,\n  phase: 'write',\n  fn: applyStyles,\n  effect: effect,\n  requires: ['computeStyles']\n};","import getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getLayoutRect from \"../dom-utils/getLayoutRect.js\";\nimport contains from \"../dom-utils/contains.js\";\nimport getOffsetParent from \"../dom-utils/getOffsetParent.js\";\nimport getMainAxisFromPlacement from \"../utils/getMainAxisFromPlacement.js\";\nimport { within } from \"../utils/within.js\";\nimport mergePaddingObject from \"../utils/mergePaddingObject.js\";\nimport expandToHashMap from \"../utils/expandToHashMap.js\";\nimport { left, right, basePlacements, top, bottom } from \"../enums.js\";\nimport { isHTMLElement } from \"../dom-utils/instanceOf.js\"; // eslint-disable-next-line import/no-unused-modules\n\nvar toPaddingObject = function toPaddingObject(padding, state) {\n  padding = typeof padding === 'function' ? padding(Object.assign({}, state.rects, {\n    placement: state.placement\n  })) : padding;\n  return mergePaddingObject(typeof padding !== 'number' ? padding : expandToHashMap(padding, basePlacements));\n};\n\nfunction arrow(_ref) {\n  var _state$modifiersData$;\n\n  var state = _ref.state,\n      name = _ref.name,\n      options = _ref.options;\n  var arrowElement = state.elements.arrow;\n  var popperOffsets = state.modifiersData.popperOffsets;\n  var basePlacement = getBasePlacement(state.placement);\n  var axis = getMainAxisFromPlacement(basePlacement);\n  var isVertical = [left, right].indexOf(basePlacement) >= 0;\n  var len = isVertical ? 'height' : 'width';\n\n  if (!arrowElement || !popperOffsets) {\n    return;\n  }\n\n  var paddingObject = toPaddingObject(options.padding, state);\n  var arrowRect = getLayoutRect(arrowElement);\n  var minProp = axis === 'y' ? top : left;\n  var maxProp = axis === 'y' ? bottom : right;\n  var endDiff = state.rects.reference[len] + state.rects.reference[axis] - popperOffsets[axis] - state.rects.popper[len];\n  var startDiff = popperOffsets[axis] - state.rects.reference[axis];\n  var arrowOffsetParent = getOffsetParent(arrowElement);\n  var clientSize = arrowOffsetParent ? axis === 'y' ? arrowOffsetParent.clientHeight || 0 : arrowOffsetParent.clientWidth || 0 : 0;\n  var centerToReference = endDiff / 2 - startDiff / 2; // Make sure the arrow doesn't overflow the popper if the center point is\n  // outside of the popper bounds\n\n  var min = paddingObject[minProp];\n  var max = clientSize - arrowRect[len] - paddingObject[maxProp];\n  var center = clientSize / 2 - arrowRect[len] / 2 + centerToReference;\n  var offset = within(min, center, max); // Prevents breaking syntax highlighting...\n\n  var axisProp = axis;\n  state.modifiersData[name] = (_state$modifiersData$ = {}, _state$modifiersData$[axisProp] = offset, _state$modifiersData$.centerOffset = offset - center, _state$modifiersData$);\n}\n\nfunction effect(_ref2) {\n  var state = _ref2.state,\n      options = _ref2.options;\n  var _options$element = options.element,\n      arrowElement = _options$element === void 0 ? '[data-popper-arrow]' : _options$element;\n\n  if (arrowElement == null) {\n    return;\n  } // CSS selector\n\n\n  if (typeof arrowElement === 'string') {\n    arrowElement = state.elements.popper.querySelector(arrowElement);\n\n    if (!arrowElement) {\n      return;\n    }\n  }\n\n  if (process.env.NODE_ENV !== \"production\") {\n    if (!isHTMLElement(arrowElement)) {\n      console.error(['Popper: \"arrow\" element must be an HTMLElement (not an SVGElement).', 'To use an SVG arrow, wrap it in an HTMLElement that will be used as', 'the arrow.'].join(' '));\n    }\n  }\n\n  if (!contains(state.elements.popper, arrowElement)) {\n    if (process.env.NODE_ENV !== \"production\") {\n      console.error(['Popper: \"arrow\" modifier\\'s `element` must be a child of the popper', 'element.'].join(' '));\n    }\n\n    return;\n  }\n\n  state.elements.arrow = arrowElement;\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'arrow',\n  enabled: true,\n  phase: 'main',\n  fn: arrow,\n  effect: effect,\n  requires: ['popperOffsets'],\n  requiresIfExists: ['preventOverflow']\n};","import { top, left, right, bottom, end } from \"../enums.js\";\nimport getOffsetParent from \"../dom-utils/getOffsetParent.js\";\nimport getWindow from \"../dom-utils/getWindow.js\";\nimport getDocumentElement from \"../dom-utils/getDocumentElement.js\";\nimport getComputedStyle from \"../dom-utils/getComputedStyle.js\";\nimport getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getVariation from \"../utils/getVariation.js\";\nimport { round } from \"../utils/math.js\"; // eslint-disable-next-line import/no-unused-modules\n\nvar unsetSides = {\n  top: 'auto',\n  right: 'auto',\n  bottom: 'auto',\n  left: 'auto'\n}; // Round the offsets to the nearest suitable subpixel based on the DPR.\n// Zooming can change the DPR, but it seems to report a value that will\n// cleanly divide the values into the appropriate subpixels.\n\nfunction roundOffsetsByDPR(_ref) {\n  var x = _ref.x,\n      y = _ref.y;\n  var win = window;\n  var dpr = win.devicePixelRatio || 1;\n  return {\n    x: round(x * dpr) / dpr || 0,\n    y: round(y * dpr) / dpr || 0\n  };\n}\n\nexport function mapToStyles(_ref2) {\n  var _Object$assign2;\n\n  var popper = _ref2.popper,\n      popperRect = _ref2.popperRect,\n      placement = _ref2.placement,\n      variation = _ref2.variation,\n      offsets = _ref2.offsets,\n      position = _ref2.position,\n      gpuAcceleration = _ref2.gpuAcceleration,\n      adaptive = _ref2.adaptive,\n      roundOffsets = _ref2.roundOffsets,\n      isFixed = _ref2.isFixed;\n  var _offsets$x = offsets.x,\n      x = _offsets$x === void 0 ? 0 : _offsets$x,\n      _offsets$y = offsets.y,\n      y = _offsets$y === void 0 ? 0 : _offsets$y;\n\n  var _ref3 = typeof roundOffsets === 'function' ? roundOffsets({\n    x: x,\n    y: y\n  }) : {\n    x: x,\n    y: y\n  };\n\n  x = _ref3.x;\n  y = _ref3.y;\n  var hasX = offsets.hasOwnProperty('x');\n  var hasY = offsets.hasOwnProperty('y');\n  var sideX = left;\n  var sideY = top;\n  var win = window;\n\n  if (adaptive) {\n    var offsetParent = getOffsetParent(popper);\n    var heightProp = 'clientHeight';\n    var widthProp = 'clientWidth';\n\n    if (offsetParent === getWindow(popper)) {\n      offsetParent = getDocumentElement(popper);\n\n      if (getComputedStyle(offsetParent).position !== 'static' && position === 'absolute') {\n        heightProp = 'scrollHeight';\n        widthProp = 'scrollWidth';\n      }\n    } // $FlowFixMe[incompatible-cast]: force type refinement, we compare offsetParent with window above, but Flow doesn't detect it\n\n\n    offsetParent = offsetParent;\n\n    if (placement === top || (placement === left || placement === right) && variation === end) {\n      sideY = bottom;\n      var offsetY = isFixed && offsetParent === win && win.visualViewport ? win.visualViewport.height : // $FlowFixMe[prop-missing]\n      offsetParent[heightProp];\n      y -= offsetY - popperRect.height;\n      y *= gpuAcceleration ? 1 : -1;\n    }\n\n    if (placement === left || (placement === top || placement === bottom) && variation === end) {\n      sideX = right;\n      var offsetX = isFixed && offsetParent === win && win.visualViewport ? win.visualViewport.width : // $FlowFixMe[prop-missing]\n      offsetParent[widthProp];\n      x -= offsetX - popperRect.width;\n      x *= gpuAcceleration ? 1 : -1;\n    }\n  }\n\n  var commonStyles = Object.assign({\n    position: position\n  }, adaptive && unsetSides);\n\n  var _ref4 = roundOffsets === true ? roundOffsetsByDPR({\n    x: x,\n    y: y\n  }) : {\n    x: x,\n    y: y\n  };\n\n  x = _ref4.x;\n  y = _ref4.y;\n\n  if (gpuAcceleration) {\n    var _Object$assign;\n\n    return Object.assign({}, commonStyles, (_Object$assign = {}, _Object$assign[sideY] = hasY ? '0' : '', _Object$assign[sideX] = hasX ? '0' : '', _Object$assign.transform = (win.devicePixelRatio || 1) <= 1 ? \"translate(\" + x + \"px, \" + y + \"px)\" : \"translate3d(\" + x + \"px, \" + y + \"px, 0)\", _Object$assign));\n  }\n\n  return Object.assign({}, commonStyles, (_Object$assign2 = {}, _Object$assign2[sideY] = hasY ? y + \"px\" : '', _Object$assign2[sideX] = hasX ? x + \"px\" : '', _Object$assign2.transform = '', _Object$assign2));\n}\n\nfunction computeStyles(_ref5) {\n  var state = _ref5.state,\n      options = _ref5.options;\n  var _options$gpuAccelerat = options.gpuAcceleration,\n      gpuAcceleration = _options$gpuAccelerat === void 0 ? true : _options$gpuAccelerat,\n      _options$adaptive = options.adaptive,\n      adaptive = _options$adaptive === void 0 ? true : _options$adaptive,\n      _options$roundOffsets = options.roundOffsets,\n      roundOffsets = _options$roundOffsets === void 0 ? true : _options$roundOffsets;\n\n  if (process.env.NODE_ENV !== \"production\") {\n    var transitionProperty = getComputedStyle(state.elements.popper).transitionProperty || '';\n\n    if (adaptive && ['transform', 'top', 'right', 'bottom', 'left'].some(function (property) {\n      return transitionProperty.indexOf(property) >= 0;\n    })) {\n      console.warn(['Popper: Detected CSS transitions on at least one of the following', 'CSS properties: \"transform\", \"top\", \"right\", \"bottom\", \"left\".', '\\n\\n', 'Disable the \"computeStyles\" modifier\\'s `adaptive` option to allow', 'for smooth transitions, or remove these properties from the CSS', 'transition declaration on the popper element if only transitioning', 'opacity or background-color for example.', '\\n\\n', 'We recommend using the popper element as a wrapper around an inner', 'element that can have any CSS property transitioned for animations.'].join(' '));\n    }\n  }\n\n  var commonStyles = {\n    placement: getBasePlacement(state.placement),\n    variation: getVariation(state.placement),\n    popper: state.elements.popper,\n    popperRect: state.rects.popper,\n    gpuAcceleration: gpuAcceleration,\n    isFixed: state.options.strategy === 'fixed'\n  };\n\n  if (state.modifiersData.popperOffsets != null) {\n    state.styles.popper = Object.assign({}, state.styles.popper, mapToStyles(Object.assign({}, commonStyles, {\n      offsets: state.modifiersData.popperOffsets,\n      position: state.options.strategy,\n      adaptive: adaptive,\n      roundOffsets: roundOffsets\n    })));\n  }\n\n  if (state.modifiersData.arrow != null) {\n    state.styles.arrow = Object.assign({}, state.styles.arrow, mapToStyles(Object.assign({}, commonStyles, {\n      offsets: state.modifiersData.arrow,\n      position: 'absolute',\n      adaptive: false,\n      roundOffsets: roundOffsets\n    })));\n  }\n\n  state.attributes.popper = Object.assign({}, state.attributes.popper, {\n    'data-popper-placement': state.placement\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'computeStyles',\n  enabled: true,\n  phase: 'beforeWrite',\n  fn: computeStyles,\n  data: {}\n};","import getWindow from \"../dom-utils/getWindow.js\"; // eslint-disable-next-line import/no-unused-modules\n\nvar passive = {\n  passive: true\n};\n\nfunction effect(_ref) {\n  var state = _ref.state,\n      instance = _ref.instance,\n      options = _ref.options;\n  var _options$scroll = options.scroll,\n      scroll = _options$scroll === void 0 ? true : _options$scroll,\n      _options$resize = options.resize,\n      resize = _options$resize === void 0 ? true : _options$resize;\n  var window = getWindow(state.elements.popper);\n  var scrollParents = [].concat(state.scrollParents.reference, state.scrollParents.popper);\n\n  if (scroll) {\n    scrollParents.forEach(function (scrollParent) {\n      scrollParent.addEventListener('scroll', instance.update, passive);\n    });\n  }\n\n  if (resize) {\n    window.addEventListener('resize', instance.update, passive);\n  }\n\n  return function () {\n    if (scroll) {\n      scrollParents.forEach(function (scrollParent) {\n        scrollParent.removeEventListener('scroll', instance.update, passive);\n      });\n    }\n\n    if (resize) {\n      window.removeEventListener('resize', instance.update, passive);\n    }\n  };\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'eventListeners',\n  enabled: true,\n  phase: 'write',\n  fn: function fn() {},\n  effect: effect,\n  data: {}\n};","import getOppositePlacement from \"../utils/getOppositePlacement.js\";\nimport getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getOppositeVariationPlacement from \"../utils/getOppositeVariationPlacement.js\";\nimport detectOverflow from \"../utils/detectOverflow.js\";\nimport computeAutoPlacement from \"../utils/computeAutoPlacement.js\";\nimport { bottom, top, start, right, left, auto } from \"../enums.js\";\nimport getVariation from \"../utils/getVariation.js\"; // eslint-disable-next-line import/no-unused-modules\n\nfunction getExpandedFallbackPlacements(placement) {\n  if (getBasePlacement(placement) === auto) {\n    return [];\n  }\n\n  var oppositePlacement = getOppositePlacement(placement);\n  return [getOppositeVariationPlacement(placement), oppositePlacement, getOppositeVariationPlacement(oppositePlacement)];\n}\n\nfunction flip(_ref) {\n  var state = _ref.state,\n      options = _ref.options,\n      name = _ref.name;\n\n  if (state.modifiersData[name]._skip) {\n    return;\n  }\n\n  var _options$mainAxis = options.mainAxis,\n      checkMainAxis = _options$mainAxis === void 0 ? true : _options$mainAxis,\n      _options$altAxis = options.altAxis,\n      checkAltAxis = _options$altAxis === void 0 ? true : _options$altAxis,\n      specifiedFallbackPlacements = options.fallbackPlacements,\n      padding = options.padding,\n      boundary = options.boundary,\n      rootBoundary = options.rootBoundary,\n      altBoundary = options.altBoundary,\n      _options$flipVariatio = options.flipVariations,\n      flipVariations = _options$flipVariatio === void 0 ? true : _options$flipVariatio,\n      allowedAutoPlacements = options.allowedAutoPlacements;\n  var preferredPlacement = state.options.placement;\n  var basePlacement = getBasePlacement(preferredPlacement);\n  var isBasePlacement = basePlacement === preferredPlacement;\n  var fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipVariations ? [getOppositePlacement(preferredPlacement)] : getExpandedFallbackPlacements(preferredPlacement));\n  var placements = [preferredPlacement].concat(fallbackPlacements).reduce(function (acc, placement) {\n    return acc.concat(getBasePlacement(placement) === auto ? computeAutoPlacement(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      padding: padding,\n      flipVariations: flipVariations,\n      allowedAutoPlacements: allowedAutoPlacements\n    }) : placement);\n  }, []);\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var checksMap = new Map();\n  var makeFallbackChecks = true;\n  var firstFittingPlacement = placements[0];\n\n  for (var i = 0; i < placements.length; i++) {\n    var placement = placements[i];\n\n    var _basePlacement = getBasePlacement(placement);\n\n    var isStartVariation = getVariation(placement) === start;\n    var isVertical = [top, bottom].indexOf(_basePlacement) >= 0;\n    var len = isVertical ? 'width' : 'height';\n    var overflow = detectOverflow(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      altBoundary: altBoundary,\n      padding: padding\n    });\n    var mainVariationSide = isVertical ? isStartVariation ? right : left : isStartVariation ? bottom : top;\n\n    if (referenceRect[len] > popperRect[len]) {\n      mainVariationSide = getOppositePlacement(mainVariationSide);\n    }\n\n    var altVariationSide = getOppositePlacement(mainVariationSide);\n    var checks = [];\n\n    if (checkMainAxis) {\n      checks.push(overflow[_basePlacement] <= 0);\n    }\n\n    if (checkAltAxis) {\n      checks.push(overflow[mainVariationSide] <= 0, overflow[altVariationSide] <= 0);\n    }\n\n    if (checks.every(function (check) {\n      return check;\n    })) {\n      firstFittingPlacement = placement;\n      makeFallbackChecks = false;\n      break;\n    }\n\n    checksMap.set(placement, checks);\n  }\n\n  if (makeFallbackChecks) {\n    // `2` may be desired in some cases – research later\n    var numberOfChecks = flipVariations ? 3 : 1;\n\n    var _loop = function _loop(_i) {\n      var fittingPlacement = placements.find(function (placement) {\n        var checks = checksMap.get(placement);\n\n        if (checks) {\n          return checks.slice(0, _i).every(function (check) {\n            return check;\n          });\n        }\n      });\n\n      if (fittingPlacement) {\n        firstFittingPlacement = fittingPlacement;\n        return \"break\";\n      }\n    };\n\n    for (var _i = numberOfChecks; _i > 0; _i--) {\n      var _ret = _loop(_i);\n\n      if (_ret === \"break\") break;\n    }\n  }\n\n  if (state.placement !== firstFittingPlacement) {\n    state.modifiersData[name]._skip = true;\n    state.placement = firstFittingPlacement;\n    state.reset = true;\n  }\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'flip',\n  enabled: true,\n  phase: 'main',\n  fn: flip,\n  requiresIfExists: ['offset'],\n  data: {\n    _skip: false\n  }\n};","import { top, bottom, left, right } from \"../enums.js\";\nimport detectOverflow from \"../utils/detectOverflow.js\";\n\nfunction getSideOffsets(overflow, rect, preventedOffsets) {\n  if (preventedOffsets === void 0) {\n    preventedOffsets = {\n      x: 0,\n      y: 0\n    };\n  }\n\n  return {\n    top: overflow.top - rect.height - preventedOffsets.y,\n    right: overflow.right - rect.width + preventedOffsets.x,\n    bottom: overflow.bottom - rect.height + preventedOffsets.y,\n    left: overflow.left - rect.width - preventedOffsets.x\n  };\n}\n\nfunction isAnySideFullyClipped(overflow) {\n  return [top, right, bottom, left].some(function (side) {\n    return overflow[side] >= 0;\n  });\n}\n\nfunction hide(_ref) {\n  var state = _ref.state,\n      name = _ref.name;\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var preventedOffsets = state.modifiersData.preventOverflow;\n  var referenceOverflow = detectOverflow(state, {\n    elementContext: 'reference'\n  });\n  var popperAltOverflow = detectOverflow(state, {\n    altBoundary: true\n  });\n  var referenceClippingOffsets = getSideOffsets(referenceOverflow, referenceRect);\n  var popperEscapeOffsets = getSideOffsets(popperAltOverflow, popperRect, preventedOffsets);\n  var isReferenceHidden = isAnySideFullyClipped(referenceClippingOffsets);\n  var hasPopperEscaped = isAnySideFullyClipped(popperEscapeOffsets);\n  state.modifiersData[name] = {\n    referenceClippingOffsets: referenceClippingOffsets,\n    popperEscapeOffsets: popperEscapeOffsets,\n    isReferenceHidden: isReferenceHidden,\n    hasPopperEscaped: hasPopperEscaped\n  };\n  state.attributes.popper = Object.assign({}, state.attributes.popper, {\n    'data-popper-reference-hidden': isReferenceHidden,\n    'data-popper-escaped': hasPopperEscaped\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'hide',\n  enabled: true,\n  phase: 'main',\n  requiresIfExists: ['preventOverflow'],\n  fn: hide\n};","export { default as applyStyles } from \"./applyStyles.js\";\nexport { default as arrow } from \"./arrow.js\";\nexport { default as computeStyles } from \"./computeStyles.js\";\nexport { default as eventListeners } from \"./eventListeners.js\";\nexport { default as flip } from \"./flip.js\";\nexport { default as hide } from \"./hide.js\";\nexport { default as offset } from \"./offset.js\";\nexport { default as popperOffsets } from \"./popperOffsets.js\";\nexport { default as preventOverflow } from \"./preventOverflow.js\";","import getBasePlacement from \"../utils/getBasePlacement.js\";\nimport { top, left, right, placements } from \"../enums.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport function distanceAndSkiddingToXY(placement, rects, offset) {\n  var basePlacement = getBasePlacement(placement);\n  var invertDistance = [left, top].indexOf(basePlacement) >= 0 ? -1 : 1;\n\n  var _ref = typeof offset === 'function' ? offset(Object.assign({}, rects, {\n    placement: placement\n  })) : offset,\n      skidding = _ref[0],\n      distance = _ref[1];\n\n  skidding = skidding || 0;\n  distance = (distance || 0) * invertDistance;\n  return [left, right].indexOf(basePlacement) >= 0 ? {\n    x: distance,\n    y: skidding\n  } : {\n    x: skidding,\n    y: distance\n  };\n}\n\nfunction offset(_ref2) {\n  var state = _ref2.state,\n      options = _ref2.options,\n      name = _ref2.name;\n  var _options$offset = options.offset,\n      offset = _options$offset === void 0 ? [0, 0] : _options$offset;\n  var data = placements.reduce(function (acc, placement) {\n    acc[placement] = distanceAndSkiddingToXY(placement, state.rects, offset);\n    return acc;\n  }, {});\n  var _data$state$placement = data[state.placement],\n      x = _data$state$placement.x,\n      y = _data$state$placement.y;\n\n  if (state.modifiersData.popperOffsets != null) {\n    state.modifiersData.popperOffsets.x += x;\n    state.modifiersData.popperOffsets.y += y;\n  }\n\n  state.modifiersData[name] = data;\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'offset',\n  enabled: true,\n  phase: 'main',\n  requires: ['popperOffsets'],\n  fn: offset\n};","import computeOffsets from \"../utils/computeOffsets.js\";\n\nfunction popperOffsets(_ref) {\n  var state = _ref.state,\n      name = _ref.name;\n  // Offsets are the actual position the popper needs to have to be\n  // properly positioned near its reference element\n  // This is the most basic placement, and will be adjusted by\n  // the modifiers in the next step\n  state.modifiersData[name] = computeOffsets({\n    reference: state.rects.reference,\n    element: state.rects.popper,\n    strategy: 'absolute',\n    placement: state.placement\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'popperOffsets',\n  enabled: true,\n  phase: 'read',\n  fn: popperOffsets,\n  data: {}\n};","import { top, left, right, bottom, start } from \"../enums.js\";\nimport getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getMainAxisFromPlacement from \"../utils/getMainAxisFromPlacement.js\";\nimport getAltAxis from \"../utils/getAltAxis.js\";\nimport { within, withinMaxClamp } from \"../utils/within.js\";\nimport getLayoutRect from \"../dom-utils/getLayoutRect.js\";\nimport getOffsetParent from \"../dom-utils/getOffsetParent.js\";\nimport detectOverflow from \"../utils/detectOverflow.js\";\nimport getVariation from \"../utils/getVariation.js\";\nimport getFreshSideObject from \"../utils/getFreshSideObject.js\";\nimport { min as mathMin, max as mathMax } from \"../utils/math.js\";\n\nfunction preventOverflow(_ref) {\n  var state = _ref.state,\n      options = _ref.options,\n      name = _ref.name;\n  var _options$mainAxis = options.mainAxis,\n      checkMainAxis = _options$mainAxis === void 0 ? true : _options$mainAxis,\n      _options$altAxis = options.altAxis,\n      checkAltAxis = _options$altAxis === void 0 ? false : _options$altAxis,\n      boundary = options.boundary,\n      rootBoundary = options.rootBoundary,\n      altBoundary = options.altBoundary,\n      padding = options.padding,\n      _options$tether = options.tether,\n      tether = _options$tether === void 0 ? true : _options$tether,\n      _options$tetherOffset = options.tetherOffset,\n      tetherOffset = _options$tetherOffset === void 0 ? 0 : _options$tetherOffset;\n  var overflow = detectOverflow(state, {\n    boundary: boundary,\n    rootBoundary: rootBoundary,\n    padding: padding,\n    altBoundary: altBoundary\n  });\n  var basePlacement = getBasePlacement(state.placement);\n  var variation = getVariation(state.placement);\n  var isBasePlacement = !variation;\n  var mainAxis = getMainAxisFromPlacement(basePlacement);\n  var altAxis = getAltAxis(mainAxis);\n  var popperOffsets = state.modifiersData.popperOffsets;\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var tetherOffsetValue = typeof tetherOffset === 'function' ? tetherOffset(Object.assign({}, state.rects, {\n    placement: state.placement\n  })) : tetherOffset;\n  var normalizedTetherOffsetValue = typeof tetherOffsetValue === 'number' ? {\n    mainAxis: tetherOffsetValue,\n    altAxis: tetherOffsetValue\n  } : Object.assign({\n    mainAxis: 0,\n    altAxis: 0\n  }, tetherOffsetValue);\n  var offsetModifierState = state.modifiersData.offset ? state.modifiersData.offset[state.placement] : null;\n  var data = {\n    x: 0,\n    y: 0\n  };\n\n  if (!popperOffsets) {\n    return;\n  }\n\n  if (checkMainAxis) {\n    var _offsetModifierState$;\n\n    var mainSide = mainAxis === 'y' ? top : left;\n    var altSide = mainAxis === 'y' ? bottom : right;\n    var len = mainAxis === 'y' ? 'height' : 'width';\n    var offset = popperOffsets[mainAxis];\n    var min = offset + overflow[mainSide];\n    var max = offset - overflow[altSide];\n    var additive = tether ? -popperRect[len] / 2 : 0;\n    var minLen = variation === start ? referenceRect[len] : popperRect[len];\n    var maxLen = variation === start ? -popperRect[len] : -referenceRect[len]; // We need to include the arrow in the calculation so the arrow doesn't go\n    // outside the reference bounds\n\n    var arrowElement = state.elements.arrow;\n    var arrowRect = tether && arrowElement ? getLayoutRect(arrowElement) : {\n      width: 0,\n      height: 0\n    };\n    var arrowPaddingObject = state.modifiersData['arrow#persistent'] ? state.modifiersData['arrow#persistent'].padding : getFreshSideObject();\n    var arrowPaddingMin = arrowPaddingObject[mainSide];\n    var arrowPaddingMax = arrowPaddingObject[altSide]; // If the reference length is smaller than the arrow length, we don't want\n    // to include its full size in the calculation. If the reference is small\n    // and near the edge of a boundary, the popper can overflow even if the\n    // reference is not overflowing as well (e.g. virtual elements with no\n    // width or height)\n\n    var arrowLen = within(0, referenceRect[len], arrowRect[len]);\n    var minOffset = isBasePlacement ? referenceRect[len] / 2 - additive - arrowLen - arrowPaddingMin - normalizedTetherOffsetValue.mainAxis : minLen - arrowLen - arrowPaddingMin - normalizedTetherOffsetValue.mainAxis;\n    var maxOffset = isBasePlacement ? -referenceRect[len] / 2 + additive + arrowLen + arrowPaddingMax + normalizedTetherOffsetValue.mainAxis : maxLen + arrowLen + arrowPaddingMax + normalizedTetherOffsetValue.mainAxis;\n    var arrowOffsetParent = state.elements.arrow && getOffsetParent(state.elements.arrow);\n    var clientOffset = arrowOffsetParent ? mainAxis === 'y' ? arrowOffsetParent.clientTop || 0 : arrowOffsetParent.clientLeft || 0 : 0;\n    var offsetModifierValue = (_offsetModifierState$ = offsetModifierState == null ? void 0 : offsetModifierState[mainAxis]) != null ? _offsetModifierState$ : 0;\n    var tetherMin = offset + minOffset - offsetModifierValue - clientOffset;\n    var tetherMax = offset + maxOffset - offsetModifierValue;\n    var preventedOffset = within(tether ? mathMin(min, tetherMin) : min, offset, tether ? mathMax(max, tetherMax) : max);\n    popperOffsets[mainAxis] = preventedOffset;\n    data[mainAxis] = preventedOffset - offset;\n  }\n\n  if (checkAltAxis) {\n    var _offsetModifierState$2;\n\n    var _mainSide = mainAxis === 'x' ? top : left;\n\n    var _altSide = mainAxis === 'x' ? bottom : right;\n\n    var _offset = popperOffsets[altAxis];\n\n    var _len = altAxis === 'y' ? 'height' : 'width';\n\n    var _min = _offset + overflow[_mainSide];\n\n    var _max = _offset - overflow[_altSide];\n\n    var isOriginSide = [top, left].indexOf(basePlacement) !== -1;\n\n    var _offsetModifierValue = (_offsetModifierState$2 = offsetModifierState == null ? void 0 : offsetModifierState[altAxis]) != null ? _offsetModifierState$2 : 0;\n\n    var _tetherMin = isOriginSide ? _min : _offset - referenceRect[_len] - popperRect[_len] - _offsetModifierValue + normalizedTetherOffsetValue.altAxis;\n\n    var _tetherMax = isOriginSide ? _offset + referenceRect[_len] + popperRect[_len] - _offsetModifierValue - normalizedTetherOffsetValue.altAxis : _max;\n\n    var _preventedOffset = tether && isOriginSide ? withinMaxClamp(_tetherMin, _offset, _tetherMax) : within(tether ? _tetherMin : _min, _offset, tether ? _tetherMax : _max);\n\n    popperOffsets[altAxis] = _preventedOffset;\n    data[altAxis] = _preventedOffset - _offset;\n  }\n\n  state.modifiersData[name] = data;\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'preventOverflow',\n  enabled: true,\n  phase: 'main',\n  fn: preventOverflow,\n  requiresIfExists: ['offset']\n};","import { popperGenerator, detectOverflow } from \"./createPopper.js\";\nimport eventListeners from \"./modifiers/eventListeners.js\";\nimport popperOffsets from \"./modifiers/popperOffsets.js\";\nimport computeStyles from \"./modifiers/computeStyles.js\";\nimport applyStyles from \"./modifiers/applyStyles.js\";\nvar defaultModifiers = [eventListeners, popperOffsets, computeStyles, applyStyles];\nvar createPopper = /*#__PURE__*/popperGenerator({\n  defaultModifiers: defaultModifiers\n}); // eslint-disable-next-line import/no-unused-modules\n\nexport { createPopper, popperGenerator, defaultModifiers, detectOverflow };","import { popperGenerator, detectOverflow } from \"./createPopper.js\";\nimport eventListeners from \"./modifiers/eventListeners.js\";\nimport popperOffsets from \"./modifiers/popperOffsets.js\";\nimport computeStyles from \"./modifiers/computeStyles.js\";\nimport applyStyles from \"./modifiers/applyStyles.js\";\nimport offset from \"./modifiers/offset.js\";\nimport flip from \"./modifiers/flip.js\";\nimport preventOverflow from \"./modifiers/preventOverflow.js\";\nimport arrow from \"./modifiers/arrow.js\";\nimport hide from \"./modifiers/hide.js\";\nvar defaultModifiers = [eventListeners, popperOffsets, computeStyles, applyStyles, offset, flip, preventOverflow, arrow, hide];\nvar createPopper = /*#__PURE__*/popperGenerator({\n  defaultModifiers: defaultModifiers\n}); // eslint-disable-next-line import/no-unused-modules\n\nexport { createPopper, popperGenerator, defaultModifiers, detectOverflow }; // eslint-disable-next-line import/no-unused-modules\n\nexport { createPopper as createPopperLite } from \"./popper-lite.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport * from \"./modifiers/index.js\";","import getVariation from \"./getVariation.js\";\nimport { variationPlacements, basePlacements, placements as allPlacements } from \"../enums.js\";\nimport detectOverflow from \"./detectOverflow.js\";\nimport getBasePlacement from \"./getBasePlacement.js\";\nexport default function computeAutoPlacement(state, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options = options,\n      placement = _options.placement,\n      boundary = _options.boundary,\n      rootBoundary = _options.rootBoundary,\n      padding = _options.padding,\n      flipVariations = _options.flipVariations,\n      _options$allowedAutoP = _options.allowedAutoPlacements,\n      allowedAutoPlacements = _options$allowedAutoP === void 0 ? allPlacements : _options$allowedAutoP;\n  var variation = getVariation(placement);\n  var placements = variation ? flipVariations ? variationPlacements : variationPlacements.filter(function (placement) {\n    return getVariation(placement) === variation;\n  }) : basePlacements;\n  var allowedPlacements = placements.filter(function (placement) {\n    return allowedAutoPlacements.indexOf(placement) >= 0;\n  });\n\n  if (allowedPlacements.length === 0) {\n    allowedPlacements = placements;\n\n    if (process.env.NODE_ENV !== \"production\") {\n      console.error(['Popper: The `allowedAutoPlacements` option did not allow any', 'placements. Ensure the `placement` option matches the variation', 'of the allowed placements.', 'For example, \"auto\" cannot be used to allow \"bottom-start\".', 'Use \"auto-start\" instead.'].join(' '));\n    }\n  } // $FlowFixMe[incompatible-type]: Flow seems to have problems with two array unions...\n\n\n  var overflows = allowedPlacements.reduce(function (acc, placement) {\n    acc[placement] = detectOverflow(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      padding: padding\n    })[getBasePlacement(placement)];\n    return acc;\n  }, {});\n  return Object.keys(overflows).sort(function (a, b) {\n    return overflows[a] - overflows[b];\n  });\n}","import getBasePlacement from \"./getBasePlacement.js\";\nimport getVariation from \"./getVariation.js\";\nimport getMainAxisFromPlacement from \"./getMainAxisFromPlacement.js\";\nimport { top, right, bottom, left, start, end } from \"../enums.js\";\nexport default function computeOffsets(_ref) {\n  var reference = _ref.reference,\n      element = _ref.element,\n      placement = _ref.placement;\n  var basePlacement = placement ? getBasePlacement(placement) : null;\n  var variation = placement ? getVariation(placement) : null;\n  var commonX = reference.x + reference.width / 2 - element.width / 2;\n  var commonY = reference.y + reference.height / 2 - element.height / 2;\n  var offsets;\n\n  switch (basePlacement) {\n    case top:\n      offsets = {\n        x: commonX,\n        y: reference.y - element.height\n      };\n      break;\n\n    case bottom:\n      offsets = {\n        x: commonX,\n        y: reference.y + reference.height\n      };\n      break;\n\n    case right:\n      offsets = {\n        x: reference.x + reference.width,\n        y: commonY\n      };\n      break;\n\n    case left:\n      offsets = {\n        x: reference.x - element.width,\n        y: commonY\n      };\n      break;\n\n    default:\n      offsets = {\n        x: reference.x,\n        y: reference.y\n      };\n  }\n\n  var mainAxis = basePlacement ? getMainAxisFromPlacement(basePlacement) : null;\n\n  if (mainAxis != null) {\n    var len = mainAxis === 'y' ? 'height' : 'width';\n\n    switch (variation) {\n      case start:\n        offsets[mainAxis] = offsets[mainAxis] - (reference[len] / 2 - element[len] / 2);\n        break;\n\n      case end:\n        offsets[mainAxis] = offsets[mainAxis] + (reference[len] / 2 - element[len] / 2);\n        break;\n\n      default:\n    }\n  }\n\n  return offsets;\n}","export default function debounce(fn) {\n  var pending;\n  return function () {\n    if (!pending) {\n      pending = new Promise(function (resolve) {\n        Promise.resolve().then(function () {\n          pending = undefined;\n          resolve(fn());\n        });\n      });\n    }\n\n    return pending;\n  };\n}","import getClippingRect from \"../dom-utils/getClippingRect.js\";\nimport getDocumentElement from \"../dom-utils/getDocumentElement.js\";\nimport getBoundingClientRect from \"../dom-utils/getBoundingClientRect.js\";\nimport computeOffsets from \"./computeOffsets.js\";\nimport rectToClientRect from \"./rectToClientRect.js\";\nimport { clippingParents, reference, popper, bottom, top, right, basePlacements, viewport } from \"../enums.js\";\nimport { isElement } from \"../dom-utils/instanceOf.js\";\nimport mergePaddingObject from \"./mergePaddingObject.js\";\nimport expandToHashMap from \"./expandToHashMap.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport default function detectOverflow(state, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options = options,\n      _options$placement = _options.placement,\n      placement = _options$placement === void 0 ? state.placement : _options$placement,\n      _options$strategy = _options.strategy,\n      strategy = _options$strategy === void 0 ? state.strategy : _options$strategy,\n      _options$boundary = _options.boundary,\n      boundary = _options$boundary === void 0 ? clippingParents : _options$boundary,\n      _options$rootBoundary = _options.rootBoundary,\n      rootBoundary = _options$rootBoundary === void 0 ? viewport : _options$rootBoundary,\n      _options$elementConte = _options.elementContext,\n      elementContext = _options$elementConte === void 0 ? popper : _options$elementConte,\n      _options$altBoundary = _options.altBoundary,\n      altBoundary = _options$altBoundary === void 0 ? false : _options$altBoundary,\n      _options$padding = _options.padding,\n      padding = _options$padding === void 0 ? 0 : _options$padding;\n  var paddingObject = mergePaddingObject(typeof padding !== 'number' ? padding : expandToHashMap(padding, basePlacements));\n  var altContext = elementContext === popper ? reference : popper;\n  var popperRect = state.rects.popper;\n  var element = state.elements[altBoundary ? altContext : elementContext];\n  var clippingClientRect = getClippingRect(isElement(element) ? element : element.contextElement || getDocumentElement(state.elements.popper), boundary, rootBoundary, strategy);\n  var referenceClientRect = getBoundingClientRect(state.elements.reference);\n  var popperOffsets = computeOffsets({\n    reference: referenceClientRect,\n    element: popperRect,\n    strategy: 'absolute',\n    placement: placement\n  });\n  var popperClientRect = rectToClientRect(Object.assign({}, popperRect, popperOffsets));\n  var elementClientRect = elementContext === popper ? popperClientRect : referenceClientRect; // positive = overflowing the clipping rect\n  // 0 or negative = within the clipping rect\n\n  var overflowOffsets = {\n    top: clippingClientRect.top - elementClientRect.top + paddingObject.top,\n    bottom: elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom,\n    left: clippingClientRect.left - elementClientRect.left + paddingObject.left,\n    right: elementClientRect.right - clippingClientRect.right + paddingObject.right\n  };\n  var offsetData = state.modifiersData.offset; // Offsets can be applied only to the popper element\n\n  if (elementContext === popper && offsetData) {\n    var offset = offsetData[placement];\n    Object.keys(overflowOffsets).forEach(function (key) {\n      var multiply = [right, bottom].indexOf(key) >= 0 ? 1 : -1;\n      var axis = [top, bottom].indexOf(key) >= 0 ? 'y' : 'x';\n      overflowOffsets[key] += offset[axis] * multiply;\n    });\n  }\n\n  return overflowOffsets;\n}","export default function expandToHashMap(value, keys) {\n  return keys.reduce(function (hashMap, key) {\n    hashMap[key] = value;\n    return hashMap;\n  }, {});\n}","export default function format(str) {\n  for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    args[_key - 1] = arguments[_key];\n  }\n\n  return [].concat(args).reduce(function (p, c) {\n    return p.replace(/%s/, c);\n  }, str);\n}","export default function getAltAxis(axis) {\n  return axis === 'x' ? 'y' : 'x';\n}","import { auto } from \"../enums.js\";\nexport default function getBasePlacement(placement) {\n  return placement.split('-')[0];\n}","export default function getFreshSideObject() {\n  return {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0\n  };\n}","export default function getMainAxisFromPlacement(placement) {\n  return ['top', 'bottom'].indexOf(placement) >= 0 ? 'x' : 'y';\n}","var hash = {\n  left: 'right',\n  right: 'left',\n  bottom: 'top',\n  top: 'bottom'\n};\nexport default function getOppositePlacement(placement) {\n  return placement.replace(/left|right|bottom|top/g, function (matched) {\n    return hash[matched];\n  });\n}","var hash = {\n  start: 'end',\n  end: 'start'\n};\nexport default function getOppositeVariationPlacement(placement) {\n  return placement.replace(/start|end/g, function (matched) {\n    return hash[matched];\n  });\n}","export default function getVariation(placement) {\n  return placement.split('-')[1];\n}","export var max = Math.max;\nexport var min = Math.min;\nexport var round = Math.round;","export default function mergeByName(modifiers) {\n  var merged = modifiers.reduce(function (merged, current) {\n    var existing = merged[current.name];\n    merged[current.name] = existing ? Object.assign({}, existing, current, {\n      options: Object.assign({}, existing.options, current.options),\n      data: Object.assign({}, existing.data, current.data)\n    }) : current;\n    return merged;\n  }, {}); // IE11 does not support Object.values\n\n  return Object.keys(merged).map(function (key) {\n    return merged[key];\n  });\n}","import getFreshSideObject from \"./getFreshSideObject.js\";\nexport default function mergePaddingObject(paddingObject) {\n  return Object.assign({}, getFreshSideObject(), paddingObject);\n}","import { modifierPhases } from \"../enums.js\"; // source: https://stackoverflow.com/questions/49875255\n\nfunction order(modifiers) {\n  var map = new Map();\n  var visited = new Set();\n  var result = [];\n  modifiers.forEach(function (modifier) {\n    map.set(modifier.name, modifier);\n  }); // On visiting object, check for its dependencies and visit them recursively\n\n  function sort(modifier) {\n    visited.add(modifier.name);\n    var requires = [].concat(modifier.requires || [], modifier.requiresIfExists || []);\n    requires.forEach(function (dep) {\n      if (!visited.has(dep)) {\n        var depModifier = map.get(dep);\n\n        if (depModifier) {\n          sort(depModifier);\n        }\n      }\n    });\n    result.push(modifier);\n  }\n\n  modifiers.forEach(function (modifier) {\n    if (!visited.has(modifier.name)) {\n      // check for visited object\n      sort(modifier);\n    }\n  });\n  return result;\n}\n\nexport default function orderModifiers(modifiers) {\n  // order based on dependencies\n  var orderedModifiers = order(modifiers); // order based on phase\n\n  return modifierPhases.reduce(function (acc, phase) {\n    return acc.concat(orderedModifiers.filter(function (modifier) {\n      return modifier.phase === phase;\n    }));\n  }, []);\n}","export default function rectToClientRect(rect) {\n  return Object.assign({}, rect, {\n    left: rect.x,\n    top: rect.y,\n    right: rect.x + rect.width,\n    bottom: rect.y + rect.height\n  });\n}","export default function uniqueBy(arr, fn) {\n  var identifiers = new Set();\n  return arr.filter(function (item) {\n    var identifier = fn(item);\n\n    if (!identifiers.has(identifier)) {\n      identifiers.add(identifier);\n      return true;\n    }\n  });\n}","export default function getUAString() {\n  var uaData = navigator.userAgentData;\n\n  if (uaData != null && uaData.brands) {\n    return uaData.brands.map(function (item) {\n      return item.brand + \"/\" + item.version;\n    }).join(' ');\n  }\n\n  return navigator.userAgent;\n}","import format from \"./format.js\";\nimport { modifierPhases } from \"../enums.js\";\nvar INVALID_MODIFIER_ERROR = 'Popper: modifier \"%s\" provided an invalid %s property, expected %s but got %s';\nvar MISSING_DEPENDENCY_ERROR = 'Popper: modifier \"%s\" requires \"%s\", but \"%s\" modifier is not available';\nvar VALID_PROPERTIES = ['name', 'enabled', 'phase', 'fn', 'effect', 'requires', 'options'];\nexport default function validateModifiers(modifiers) {\n  modifiers.forEach(function (modifier) {\n    [].concat(Object.keys(modifier), VALID_PROPERTIES) // IE11-compatible replacement for `new Set(iterable)`\n    .filter(function (value, index, self) {\n      return self.indexOf(value) === index;\n    }).forEach(function (key) {\n      switch (key) {\n        case 'name':\n          if (typeof modifier.name !== 'string') {\n            console.error(format(INVALID_MODIFIER_ERROR, String(modifier.name), '\"name\"', '\"string\"', \"\\\"\" + String(modifier.name) + \"\\\"\"));\n          }\n\n          break;\n\n        case 'enabled':\n          if (typeof modifier.enabled !== 'boolean') {\n            console.error(format(INVALID_MODIFIER_ERROR, modifier.name, '\"enabled\"', '\"boolean\"', \"\\\"\" + String(modifier.enabled) + \"\\\"\"));\n          }\n\n          break;\n\n        case 'phase':\n          if (modifierPhases.indexOf(modifier.phase) < 0) {\n            console.error(format(INVALID_MODIFIER_ERROR, modifier.name, '\"phase\"', \"either \" + modifierPhases.join(', '), \"\\\"\" + String(modifier.phase) + \"\\\"\"));\n          }\n\n          break;\n\n        case 'fn':\n          if (typeof modifier.fn !== 'function') {\n            console.error(format(INVALID_MODIFIER_ERROR, modifier.name, '\"fn\"', '\"function\"', \"\\\"\" + String(modifier.fn) + \"\\\"\"));\n          }\n\n          break;\n\n        case 'effect':\n          if (modifier.effect != null && typeof modifier.effect !== 'function') {\n            console.error(format(INVALID_MODIFIER_ERROR, modifier.name, '\"effect\"', '\"function\"', \"\\\"\" + String(modifier.fn) + \"\\\"\"));\n          }\n\n          break;\n\n        case 'requires':\n          if (modifier.requires != null && !Array.isArray(modifier.requires)) {\n            console.error(format(INVALID_MODIFIER_ERROR, modifier.name, '\"requires\"', '\"array\"', \"\\\"\" + String(modifier.requires) + \"\\\"\"));\n          }\n\n          break;\n\n        case 'requiresIfExists':\n          if (!Array.isArray(modifier.requiresIfExists)) {\n            console.error(format(INVALID_MODIFIER_ERROR, modifier.name, '\"requiresIfExists\"', '\"array\"', \"\\\"\" + String(modifier.requiresIfExists) + \"\\\"\"));\n          }\n\n          break;\n\n        case 'options':\n        case 'data':\n          break;\n\n        default:\n          console.error(\"PopperJS: an invalid property has been provided to the \\\"\" + modifier.name + \"\\\" modifier, valid properties are \" + VALID_PROPERTIES.map(function (s) {\n            return \"\\\"\" + s + \"\\\"\";\n          }).join(', ') + \"; but \\\"\" + key + \"\\\" was provided.\");\n      }\n\n      modifier.requires && modifier.requires.forEach(function (requirement) {\n        if (modifiers.find(function (mod) {\n          return mod.name === requirement;\n        }) == null) {\n          console.error(format(MISSING_DEPENDENCY_ERROR, String(modifier.name), requirement, requirement));\n        }\n      });\n    });\n  });\n}","import { max as mathMax, min as mathMin } from \"./math.js\";\nexport function within(min, value, max) {\n  return mathMax(min, mathMin(value, max));\n}\nexport function withinMaxClamp(min, value, max) {\n  var v = within(min, value, max);\n  return v > max ? max : v;\n}","'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n","import{Component as n,createElement as t,options as e,toChildArray as r,Fragment as u,render as o,hydrate as i,createContext as l,createRef as c,cloneElement as f}from\"preact\";export{Component,Fragment,createContext,createElement,createRef}from\"preact\";import{useState as a,useId as s,useReducer as h,useEffect as v,useLayoutEffect as d,useRef as p,useImperativeHandle as m,useMemo as y,useCallback as _,useContext as b,useDebugValue as S}from\"preact/hooks\";export*from\"preact/hooks\";function g(n,t){for(var e in t)n[e]=t[e];return n}function C(n,t){for(var e in n)if(\"__source\"!==e&&!(e in t))return!0;for(var r in t)if(\"__source\"!==r&&n[r]!==t[r])return!0;return!1}function E(n,t){return n===t&&(0!==n||1/n==1/t)||n!=n&&t!=t}function w(n){this.props=n}function R(n,e){function r(n){var t=this.props.ref,r=t==n.ref;return!r&&t&&(t.call?t(null):t.current=null),e?!e(this.props,n)||!r:C(this.props,n)}function u(e){return this.shouldComponentUpdate=r,t(n,e)}return u.displayName=\"Memo(\"+(n.displayName||n.name)+\")\",u.prototype.isReactComponent=!0,u.__f=!0,u}(w.prototype=new n).isPureReactComponent=!0,w.prototype.shouldComponentUpdate=function(n,t){return C(this.props,n)||C(this.state,t)};var x=e.__b;e.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),x&&x(n)};var N=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.forward_ref\")||3911;function k(n){function t(t){var e=g({},t);return delete e.ref,n(e,t.ref||null)}return t.$$typeof=N,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName=\"ForwardRef(\"+(n.displayName||n.name)+\")\",t}var A=function(n,t){return null==n?null:r(r(n).map(t))},O={map:A,forEach:A,count:function(n){return n?r(n).length:0},only:function(n){var t=r(n);if(1!==t.length)throw\"Children.only\";return t[0]},toArray:r},T=e.__e;e.__e=function(n,t,e,r){if(n.then)for(var u,o=t;o=o.__;)if((u=o.__c)&&u.__c)return null==t.__e&&(t.__e=e.__e,t.__k=e.__k),u.__c(n,t);T(n,t,e,r)};var I=e.unmount;function L(n,t,e){return n&&(n.__c&&n.__c.__H&&(n.__c.__H.__.forEach(function(n){\"function\"==typeof n.__c&&n.__c()}),n.__c.__H=null),null!=(n=g({},n)).__c&&(n.__c.__P===e&&(n.__c.__P=t),n.__c=null),n.__k=n.__k&&n.__k.map(function(n){return L(n,t,e)})),n}function U(n,t,e){return n&&(n.__v=null,n.__k=n.__k&&n.__k.map(function(n){return U(n,t,e)}),n.__c&&n.__c.__P===t&&(n.__e&&e.insertBefore(n.__e,n.__d),n.__c.__e=!0,n.__c.__P=e)),n}function D(){this.__u=0,this.t=null,this.__b=null}function F(n){var t=n.__.__c;return t&&t.__a&&t.__a(n)}function M(n){var e,r,u;function o(o){if(e||(e=n()).then(function(n){r=n.default||n},function(n){u=n}),u)throw u;if(!r)throw e;return t(r,o)}return o.displayName=\"Lazy\",o.__f=!0,o}function V(){this.u=null,this.o=null}e.unmount=function(n){var t=n.__c;t&&t.__R&&t.__R(),t&&!0===n.__h&&(n.type=null),I&&I(n)},(D.prototype=new n).__c=function(n,t){var e=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(e);var u=F(r.__v),o=!1,i=function(){o||(o=!0,e.__R=null,u?u(l):l())};e.__R=i;var l=function(){if(!--r.__u){if(r.state.__a){var n=r.state.__a;r.__v.__k[0]=U(n,n.__c.__P,n.__c.__O)}var t;for(r.setState({__a:r.__b=null});t=r.t.pop();)t.forceUpdate()}},c=!0===t.__h;r.__u++||c||r.setState({__a:r.__b=r.__v.__k[0]}),n.then(i,i)},D.prototype.componentWillUnmount=function(){this.t=[]},D.prototype.render=function(n,e){if(this.__b){if(this.__v.__k){var r=document.createElement(\"div\"),o=this.__v.__k[0].__c;this.__v.__k[0]=L(this.__b,r,o.__O=o.__P)}this.__b=null}var i=e.__a&&t(u,null,n.fallback);return i&&(i.__h=null),[t(u,null,e.__a?null:n.children),i]};var W=function(n,t,e){if(++e[1]===e[0]&&n.o.delete(t),n.props.revealOrder&&(\"t\"!==n.props.revealOrder[0]||!n.o.size))for(e=n.u;e;){for(;e.length>3;)e.pop()();if(e[1]<e[0])break;n.u=e=e[2]}};function P(n){return this.getChildContext=function(){return n.context},n.children}function $(n){var e=this,r=n.i;e.componentWillUnmount=function(){o(null,e.l),e.l=null,e.i=null},e.i&&e.i!==r&&e.componentWillUnmount(),n.__v?(e.l||(e.i=r,e.l={nodeType:1,parentNode:r,childNodes:[],appendChild:function(n){this.childNodes.push(n),e.i.appendChild(n)},insertBefore:function(n,t){this.childNodes.push(n),e.i.appendChild(n)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),e.i.removeChild(n)}}),o(t(P,{context:e.context},n.__v),e.l)):e.l&&e.componentWillUnmount()}function j(n,e){var r=t($,{__v:n,i:e});return r.containerInfo=e,r}(V.prototype=new n).__a=function(n){var t=this,e=F(t.__v),r=t.o.get(n);return r[0]++,function(u){var o=function(){t.props.revealOrder?(r.push(u),W(t,n,r)):u()};e?e(o):o()}},V.prototype.render=function(n){this.u=null,this.o=new Map;var t=r(n.children);n.revealOrder&&\"b\"===n.revealOrder[0]&&t.reverse();for(var e=t.length;e--;)this.o.set(t[e],this.u=[1,0,this.u]);return n.children},V.prototype.componentDidUpdate=V.prototype.componentDidMount=function(){var n=this;this.o.forEach(function(t,e){W(n,e,t)})};var z=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.element\")||60103,B=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,H=\"undefined\"!=typeof document,Z=function(n){return(\"undefined\"!=typeof Symbol&&\"symbol\"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(n)};function Y(n,t,e){return null==t.__k&&(t.textContent=\"\"),o(n,t),\"function\"==typeof e&&e(),n?n.__c:null}function q(n,t,e){return i(n,t),\"function\"==typeof e&&e(),n?n.__c:null}n.prototype.isReactComponent={},[\"componentWillMount\",\"componentWillReceiveProps\",\"componentWillUpdate\"].forEach(function(t){Object.defineProperty(n.prototype,t,{configurable:!0,get:function(){return this[\"UNSAFE_\"+t]},set:function(n){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:n})}})});var G=e.event;function J(){}function K(){return this.cancelBubble}function Q(){return this.defaultPrevented}e.event=function(n){return G&&(n=G(n)),n.persist=J,n.isPropagationStopped=K,n.isDefaultPrevented=Q,n.nativeEvent=n};var X,nn={configurable:!0,get:function(){return this.class}},tn=e.vnode;e.vnode=function(n){var t=n.type,e=n.props,u=e;if(\"string\"==typeof t){var o=-1===t.indexOf(\"-\");for(var i in u={},e){var l=e[i];H&&\"children\"===i&&\"noscript\"===t||\"value\"===i&&\"defaultValue\"in e&&null==l||(\"defaultValue\"===i&&\"value\"in e&&null==e.value?i=\"value\":\"download\"===i&&!0===l?l=\"\":/ondoubleclick/i.test(i)?i=\"ondblclick\":/^onchange(textarea|input)/i.test(i+t)&&!Z(e.type)?i=\"oninput\":/^onfocus$/i.test(i)?i=\"onfocusin\":/^onblur$/i.test(i)?i=\"onfocusout\":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(i)?i=i.toLowerCase():o&&B.test(i)?i=i.replace(/[A-Z0-9]/g,\"-$&\").toLowerCase():null===l&&(l=void 0),/^oninput$/i.test(i)&&(i=i.toLowerCase(),u[i]&&(i=\"oninputCapture\")),u[i]=l)}\"select\"==t&&u.multiple&&Array.isArray(u.value)&&(u.value=r(e.children).forEach(function(n){n.props.selected=-1!=u.value.indexOf(n.props.value)})),\"select\"==t&&null!=u.defaultValue&&(u.value=r(e.children).forEach(function(n){n.props.selected=u.multiple?-1!=u.defaultValue.indexOf(n.props.value):u.defaultValue==n.props.value})),n.props=u,e.class!=e.className&&(nn.enumerable=\"className\"in e,null!=e.className&&(u.class=e.className),Object.defineProperty(u,\"className\",nn))}n.$$typeof=z,tn&&tn(n)};var en=e.__r;e.__r=function(n){en&&en(n),X=n.__c};var rn={ReactCurrentDispatcher:{current:{readContext:function(n){return X.__n[n.__c].props.value}}}},un=\"17.0.2\";function on(n){return t.bind(null,n)}function ln(n){return!!n&&n.$$typeof===z}function cn(n){return ln(n)?f.apply(null,arguments):n}function fn(n){return!!n.__k&&(o(null,n),!0)}function an(n){return n&&(n.base||1===n.nodeType&&n)||null}var sn=function(n,t){return n(t)},hn=function(n,t){return n(t)},vn=u;function dn(n){n()}function pn(n){return n}function mn(){return[!1,dn]}var yn=d;function _n(n,t){var e=t(),r=a({h:{__:e,v:t}}),u=r[0].h,o=r[1];return d(function(){u.__=e,u.v=t,E(u.__,t())||o({h:u})},[n,e,t]),v(function(){return E(u.__,u.v())||o({h:u}),n(function(){E(u.__,u.v())||o({h:u})})},[n]),e}var bn={useState:a,useId:s,useReducer:h,useEffect:v,useLayoutEffect:d,useInsertionEffect:yn,useTransition:mn,useDeferredValue:pn,useSyncExternalStore:_n,startTransition:dn,useRef:p,useImperativeHandle:m,useMemo:y,useCallback:_,useContext:b,useDebugValue:S,version:\"17.0.2\",Children:O,render:Y,hydrate:q,unmountComponentAtNode:fn,createPortal:j,createElement:t,createContext:l,createFactory:on,cloneElement:cn,createRef:c,Fragment:u,isValidElement:ln,findDOMNode:an,Component:n,PureComponent:w,memo:R,forwardRef:k,flushSync:hn,unstable_batchedUpdates:sn,StrictMode:vn,Suspense:D,SuspenseList:V,lazy:M,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:rn};export{O as Children,w as PureComponent,vn as StrictMode,D as Suspense,V as SuspenseList,rn as __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,cn as cloneElement,on as createFactory,j as createPortal,bn as default,an as findDOMNode,hn as flushSync,k as forwardRef,q as hydrate,ln as isValidElement,M as lazy,R as memo,Y as render,dn as startTransition,fn as unmountComponentAtNode,sn as unstable_batchedUpdates,pn as useDeferredValue,yn as useInsertionEffect,_n as useSyncExternalStore,mn as useTransition,un as version};\n","var n,l,u,i,t,o,r,f={},e=[],c=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function s(n,l){for(var u in l)n[u]=l[u];return n}function a(n){var l=n.parentNode;l&&l.removeChild(n)}function h(l,u,i){var t,o,r,f={};for(r in u)\"key\"==r?t=u[r]:\"ref\"==r?o=u[r]:f[r]=u[r];if(arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):i),\"function\"==typeof l&&null!=l.defaultProps)for(r in l.defaultProps)void 0===f[r]&&(f[r]=l.defaultProps[r]);return v(l,f,t,o,null)}function v(n,i,t,o,r){var f={type:n,props:i,key:t,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==r?++u:r};return null==r&&null!=l.vnode&&l.vnode(f),f}function y(){return{current:null}}function p(n){return n.children}function d(n,l){this.props=n,this.context=l}function _(n,l){if(null==l)return n.__?_(n.__,n.__.__k.indexOf(n)+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return\"function\"==typeof n.type?_(n):null}function k(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return k(n)}}function b(n){(!n.__d&&(n.__d=!0)&&t.push(n)&&!g.__r++||o!==l.debounceRendering)&&((o=l.debounceRendering)||setTimeout)(g)}function g(){for(var n;g.__r=t.length;)n=t.sort(function(n,l){return n.__v.__b-l.__v.__b}),t=[],n.some(function(n){var l,u,i,t,o,r;n.__d&&(o=(t=(l=n).__v).__e,(r=l.__P)&&(u=[],(i=s({},t)).__v=t.__v+1,j(r,t,i,l.__n,void 0!==r.ownerSVGElement,null!=t.__h?[o]:null,u,null==o?_(t):o,t.__h),z(u,t),t.__e!=o&&k(t)))})}function w(n,l,u,i,t,o,r,c,s,a){var h,y,d,k,b,g,w,x=i&&i.__k||e,C=x.length;for(u.__k=[],h=0;h<l.length;h++)if(null!=(k=u.__k[h]=null==(k=l[h])||\"boolean\"==typeof k?null:\"string\"==typeof k||\"number\"==typeof k||\"bigint\"==typeof k?v(null,k,null,null,k):Array.isArray(k)?v(p,{children:k},null,null,null):k.__b>0?v(k.type,k.props,k.key,k.ref?k.ref:null,k.__v):k)){if(k.__=u,k.__b=u.__b+1,null===(d=x[h])||d&&k.key==d.key&&k.type===d.type)x[h]=void 0;else for(y=0;y<C;y++){if((d=x[y])&&k.key==d.key&&k.type===d.type){x[y]=void 0;break}d=null}j(n,k,d=d||f,t,o,r,c,s,a),b=k.__e,(y=k.ref)&&d.ref!=y&&(w||(w=[]),d.ref&&w.push(d.ref,null,k),w.push(y,k.__c||b,k)),null!=b?(null==g&&(g=b),\"function\"==typeof k.type&&k.__k===d.__k?k.__d=s=m(k,s,n):s=A(n,k,d,x,b,s),\"function\"==typeof u.type&&(u.__d=s)):s&&d.__e==s&&s.parentNode!=n&&(s=_(d))}for(u.__e=g,h=C;h--;)null!=x[h]&&N(x[h],x[h]);if(w)for(h=0;h<w.length;h++)M(w[h],w[++h],w[++h])}function m(n,l,u){for(var i,t=n.__k,o=0;t&&o<t.length;o++)(i=t[o])&&(i.__=n,l=\"function\"==typeof i.type?m(i,l,u):A(u,i,i,t,i.__e,l));return l}function x(n,l){return l=l||[],null==n||\"boolean\"==typeof n||(Array.isArray(n)?n.some(function(n){x(n,l)}):l.push(n)),l}function A(n,l,u,i,t,o){var r,f,e;if(void 0!==l.__d)r=l.__d,l.__d=void 0;else if(null==u||t!=o||null==t.parentNode)n:if(null==o||o.parentNode!==n)n.appendChild(t),r=null;else{for(f=o,e=0;(f=f.nextSibling)&&e<i.length;e+=1)if(f==t)break n;n.insertBefore(t,o),r=o}return void 0!==r?r:t.nextSibling}function C(n,l,u,i,t){var o;for(o in u)\"children\"===o||\"key\"===o||o in l||H(n,o,null,u[o],i);for(o in l)t&&\"function\"!=typeof l[o]||\"children\"===o||\"key\"===o||\"value\"===o||\"checked\"===o||u[o]===l[o]||H(n,o,l[o],u[o],i)}function $(n,l,u){\"-\"===l[0]?n.setProperty(l,u):n[l]=null==u?\"\":\"number\"!=typeof u||c.test(l)?u:u+\"px\"}function H(n,l,u,i,t){var o;n:if(\"style\"===l)if(\"string\"==typeof u)n.style.cssText=u;else{if(\"string\"==typeof i&&(n.style.cssText=i=\"\"),i)for(l in i)u&&l in u||$(n.style,l,\"\");if(u)for(l in u)i&&u[l]===i[l]||$(n.style,l,u[l])}else if(\"o\"===l[0]&&\"n\"===l[1])o=l!==(l=l.replace(/Capture$/,\"\")),l=l.toLowerCase()in n?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+o]=u,u?i||n.addEventListener(l,o?T:I,o):n.removeEventListener(l,o?T:I,o);else if(\"dangerouslySetInnerHTML\"!==l){if(t)l=l.replace(/xlink(H|:h)/,\"h\").replace(/sName$/,\"s\");else if(\"href\"!==l&&\"list\"!==l&&\"form\"!==l&&\"tabIndex\"!==l&&\"download\"!==l&&l in n)try{n[l]=null==u?\"\":u;break n}catch(n){}\"function\"==typeof u||(null==u||!1===u&&-1==l.indexOf(\"-\")?n.removeAttribute(l):n.setAttribute(l,u))}}function I(n){this.l[n.type+!1](l.event?l.event(n):n)}function T(n){this.l[n.type+!0](l.event?l.event(n):n)}function j(n,u,i,t,o,r,f,e,c){var a,h,v,y,_,k,b,g,m,x,A,C,$,H,I,T=u.type;if(void 0!==u.constructor)return null;null!=i.__h&&(c=i.__h,e=u.__e=i.__e,u.__h=null,r=[e]),(a=l.__b)&&a(u);try{n:if(\"function\"==typeof T){if(g=u.props,m=(a=T.contextType)&&t[a.__c],x=a?m?m.props.value:a.__:t,i.__c?b=(h=u.__c=i.__c).__=h.__E:(\"prototype\"in T&&T.prototype.render?u.__c=h=new T(g,x):(u.__c=h=new d(g,x),h.constructor=T,h.render=O),m&&m.sub(h),h.props=g,h.state||(h.state={}),h.context=x,h.__n=t,v=h.__d=!0,h.__h=[],h._sb=[]),null==h.__s&&(h.__s=h.state),null!=T.getDerivedStateFromProps&&(h.__s==h.state&&(h.__s=s({},h.__s)),s(h.__s,T.getDerivedStateFromProps(g,h.__s))),y=h.props,_=h.state,v)null==T.getDerivedStateFromProps&&null!=h.componentWillMount&&h.componentWillMount(),null!=h.componentDidMount&&h.__h.push(h.componentDidMount);else{if(null==T.getDerivedStateFromProps&&g!==y&&null!=h.componentWillReceiveProps&&h.componentWillReceiveProps(g,x),!h.__e&&null!=h.shouldComponentUpdate&&!1===h.shouldComponentUpdate(g,h.__s,x)||u.__v===i.__v){for(h.props=g,h.state=h.__s,u.__v!==i.__v&&(h.__d=!1),h.__v=u,u.__e=i.__e,u.__k=i.__k,u.__k.forEach(function(n){n&&(n.__=u)}),A=0;A<h._sb.length;A++)h.__h.push(h._sb[A]);h._sb=[],h.__h.length&&f.push(h);break n}null!=h.componentWillUpdate&&h.componentWillUpdate(g,h.__s,x),null!=h.componentDidUpdate&&h.__h.push(function(){h.componentDidUpdate(y,_,k)})}if(h.context=x,h.props=g,h.__v=u,h.__P=n,C=l.__r,$=0,\"prototype\"in T&&T.prototype.render){for(h.state=h.__s,h.__d=!1,C&&C(u),a=h.render(h.props,h.state,h.context),H=0;H<h._sb.length;H++)h.__h.push(h._sb[H]);h._sb=[]}else do{h.__d=!1,C&&C(u),a=h.render(h.props,h.state,h.context),h.state=h.__s}while(h.__d&&++$<25);h.state=h.__s,null!=h.getChildContext&&(t=s(s({},t),h.getChildContext())),v||null==h.getSnapshotBeforeUpdate||(k=h.getSnapshotBeforeUpdate(y,_)),I=null!=a&&a.type===p&&null==a.key?a.props.children:a,w(n,Array.isArray(I)?I:[I],u,i,t,o,r,f,e,c),h.base=u.__e,u.__h=null,h.__h.length&&f.push(h),b&&(h.__E=h.__=null),h.__e=!1}else null==r&&u.__v===i.__v?(u.__k=i.__k,u.__e=i.__e):u.__e=L(i.__e,u,i,t,o,r,f,c);(a=l.diffed)&&a(u)}catch(n){u.__v=null,(c||null!=r)&&(u.__e=e,u.__h=!!c,r[r.indexOf(e)]=null),l.__e(n,u,i)}}function z(n,u){l.__c&&l.__c(u,n),n.some(function(u){try{n=u.__h,u.__h=[],n.some(function(n){n.call(u)})}catch(n){l.__e(n,u.__v)}})}function L(l,u,i,t,o,r,e,c){var s,h,v,y=i.props,p=u.props,d=u.type,k=0;if(\"svg\"===d&&(o=!0),null!=r)for(;k<r.length;k++)if((s=r[k])&&\"setAttribute\"in s==!!d&&(d?s.localName===d:3===s.nodeType)){l=s,r[k]=null;break}if(null==l){if(null===d)return document.createTextNode(p);l=o?document.createElementNS(\"http://www.w3.org/2000/svg\",d):document.createElement(d,p.is&&p),r=null,c=!1}if(null===d)y===p||c&&l.data===p||(l.data=p);else{if(r=r&&n.call(l.childNodes),h=(y=i.props||f).dangerouslySetInnerHTML,v=p.dangerouslySetInnerHTML,!c){if(null!=r)for(y={},k=0;k<l.attributes.length;k++)y[l.attributes[k].name]=l.attributes[k].value;(v||h)&&(v&&(h&&v.__html==h.__html||v.__html===l.innerHTML)||(l.innerHTML=v&&v.__html||\"\"))}if(C(l,p,y,o,c),v)u.__k=[];else if(k=u.props.children,w(l,Array.isArray(k)?k:[k],u,i,t,o&&\"foreignObject\"!==d,r,e,r?r[0]:i.__k&&_(i,0),c),null!=r)for(k=r.length;k--;)null!=r[k]&&a(r[k]);c||(\"value\"in p&&void 0!==(k=p.value)&&(k!==l.value||\"progress\"===d&&!k||\"option\"===d&&k!==y.value)&&H(l,\"value\",k,y.value,!1),\"checked\"in p&&void 0!==(k=p.checked)&&k!==l.checked&&H(l,\"checked\",k,y.checked,!1))}return l}function M(n,u,i){try{\"function\"==typeof n?n(u):n.current=u}catch(n){l.__e(n,i)}}function N(n,u,i){var t,o;if(l.unmount&&l.unmount(n),(t=n.ref)&&(t.current&&t.current!==n.__e||M(t,null,u)),null!=(t=n.__c)){if(t.componentWillUnmount)try{t.componentWillUnmount()}catch(n){l.__e(n,u)}t.base=t.__P=null,n.__c=void 0}if(t=n.__k)for(o=0;o<t.length;o++)t[o]&&N(t[o],u,i||\"function\"!=typeof n.type);i||null==n.__e||a(n.__e),n.__=n.__e=n.__d=void 0}function O(n,l,u){return this.constructor(n,u)}function P(u,i,t){var o,r,e;l.__&&l.__(u,i),r=(o=\"function\"==typeof t)?null:t&&t.__k||i.__k,e=[],j(i,u=(!o&&t||i).__k=h(p,null,[u]),r||f,f,void 0!==i.ownerSVGElement,!o&&t?[t]:r?null:i.firstChild?n.call(i.childNodes):null,e,!o&&t?t:r?r.__e:i.firstChild,o),z(e,u)}function S(n,l){P(n,l,S)}function q(l,u,i){var t,o,r,f=s({},l.props);for(r in u)\"key\"==r?t=u[r]:\"ref\"==r?o=u[r]:f[r]=u[r];return arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):i),v(l.type,f,t||l.key,o||l.ref,null)}function B(n,l){var u={__c:l=\"__cC\"+r++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n){var u,i;return this.getChildContext||(u=[],(i={})[l]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&u.some(b)},this.sub=function(n){u.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u.splice(u.indexOf(n),1),l&&l.call(n)}}),n.children}};return u.Provider.__=u.Consumer.contextType=u}n=e.slice,l={__e:function(n,l,u,i){for(var t,o,r;l=l.__;)if((t=l.__c)&&!t.__)try{if((o=t.constructor)&&null!=o.getDerivedStateFromError&&(t.setState(o.getDerivedStateFromError(n)),r=t.__d),null!=t.componentDidCatch&&(t.componentDidCatch(n,i||{}),r=t.__d),r)return t.__E=t}catch(l){n=l}throw n}},u=0,i=function(n){return null!=n&&void 0===n.constructor},d.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=s({},this.state),\"function\"==typeof n&&(n=n(s({},u),this.props)),n&&s(u,n),null!=n&&this.__v&&(l&&this._sb.push(l),b(this))},d.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),b(this))},d.prototype.render=p,t=[],g.__r=0,r=0;export{d as Component,p as Fragment,q as cloneElement,B as createContext,h as createElement,y as createRef,h,S as hydrate,i as isValidElement,l as options,P as render,x as toChildArray};\n","import{options as n}from\"preact\";var t,r,u,i,o=0,f=[],c=[],e=n.__b,a=n.__r,v=n.diffed,l=n.__c,m=n.unmount;function d(t,u){n.__h&&n.__h(r,t,o||u),o=0;var i=r.__H||(r.__H={__:[],__h:[]});return t>=i.__.length&&i.__.push({__V:c}),i.__[t]}function p(n){return o=1,y(B,n)}function y(n,u,i){var o=d(t++,2);if(o.t=n,!o.__c&&(o.__=[i?i(u):B(void 0,u),function(n){var t=o.__N?o.__N[0]:o.__[0],r=o.t(t,n);t!==r&&(o.__N=[r,o.__[1]],o.__c.setState({}))}],o.__c=r,!r.u)){r.u=!0;var f=r.shouldComponentUpdate;r.shouldComponentUpdate=function(n,t,r){if(!o.__c.__H)return!0;var u=o.__c.__H.__.filter(function(n){return n.__c});if(u.every(function(n){return!n.__N}))return!f||f.call(this,n,t,r);var i=!1;return u.forEach(function(n){if(n.__N){var t=n.__[0];n.__=n.__N,n.__N=void 0,t!==n.__[0]&&(i=!0)}}),!(!i&&o.__c.props===n)&&(!f||f.call(this,n,t,r))}}return o.__N||o.__}function h(u,i){var o=d(t++,3);!n.__s&&z(o.__H,i)&&(o.__=u,o.i=i,r.__H.__h.push(o))}function s(u,i){var o=d(t++,4);!n.__s&&z(o.__H,i)&&(o.__=u,o.i=i,r.__h.push(o))}function _(n){return o=5,F(function(){return{current:n}},[])}function A(n,t,r){o=6,s(function(){return\"function\"==typeof n?(n(t()),function(){return n(null)}):n?(n.current=t(),function(){return n.current=null}):void 0},null==r?r:r.concat(n))}function F(n,r){var u=d(t++,7);return z(u.__H,r)?(u.__V=n(),u.i=r,u.__h=n,u.__V):u.__}function T(n,t){return o=8,F(function(){return n},t)}function q(n){var u=r.context[n.__c],i=d(t++,9);return i.c=n,u?(null==i.__&&(i.__=!0,u.sub(r)),u.props.value):n.__}function x(t,r){n.useDebugValue&&n.useDebugValue(r?r(t):t)}function P(n){var u=d(t++,10),i=p();return u.__=n,r.componentDidCatch||(r.componentDidCatch=function(n,t){u.__&&u.__(n,t),i[1](n)}),[i[0],function(){i[1](void 0)}]}function V(){var n=d(t++,11);if(!n.__){for(var u=r.__v;null!==u&&!u.__m&&null!==u.__;)u=u.__;var i=u.__m||(u.__m=[0,0]);n.__=\"P\"+i[0]+\"-\"+i[1]++}return n.__}function b(){for(var t;t=f.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(k),t.__H.__h.forEach(w),t.__H.__h=[]}catch(r){t.__H.__h=[],n.__e(r,t.__v)}}n.__b=function(n){r=null,e&&e(n)},n.__r=function(n){a&&a(n),t=0;var i=(r=n.__c).__H;i&&(u===r?(i.__h=[],r.__h=[],i.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=c,n.__N=n.i=void 0})):(i.__h.forEach(k),i.__h.forEach(w),i.__h=[])),u=r},n.diffed=function(t){v&&v(t);var o=t.__c;o&&o.__H&&(o.__H.__h.length&&(1!==f.push(o)&&i===n.requestAnimationFrame||((i=n.requestAnimationFrame)||j)(b)),o.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==c&&(n.__=n.__V),n.i=void 0,n.__V=c})),u=r=null},n.__c=function(t,r){r.some(function(t){try{t.__h.forEach(k),t.__h=t.__h.filter(function(n){return!n.__||w(n)})}catch(u){r.some(function(n){n.__h&&(n.__h=[])}),r=[],n.__e(u,t.__v)}}),l&&l(t,r)},n.unmount=function(t){m&&m(t);var r,u=t.__c;u&&u.__H&&(u.__H.__.forEach(function(n){try{k(n)}catch(n){r=n}}),u.__H=void 0,r&&n.__e(r,u.__v))};var g=\"function\"==typeof requestAnimationFrame;function j(n){var t,r=function(){clearTimeout(u),g&&cancelAnimationFrame(t),setTimeout(n)},u=setTimeout(r,100);g&&(t=requestAnimationFrame(r))}function k(n){var t=r,u=n.__c;\"function\"==typeof u&&(n.__c=void 0,u()),r=t}function w(n){var t=r;n.__c=n.__(),r=t}function z(n,t){return!n||n.length!==t.length||t.some(function(t,r){return t!==n[r]})}function B(n,t){return\"function\"==typeof t?t(n):t}export{T as useCallback,q as useContext,x as useDebugValue,h as useEffect,P as useErrorBoundary,V as useId,A as useImperativeHandle,s as useLayoutEffect,F as useMemo,y as useReducer,_ as useRef,p as useState};\n","/**!\n* tippy.js v6.3.7\n* (c) 2017-2021 atomiks\n* MIT License\n*/\nimport { createPopper, applyStyles } from '@popperjs/core';\n\nvar ROUND_ARROW = '<svg width=\"16\" height=\"6\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M0 6s1.796-.013 4.67-3.615C5.851.9 6.93.006 8 0c1.07-.006 2.148.887 3.343 2.385C14.233 6.005 16 6 16 6H0z\"></svg>';\nvar BOX_CLASS = \"tippy-box\";\nvar CONTENT_CLASS = \"tippy-content\";\nvar BACKDROP_CLASS = \"tippy-backdrop\";\nvar ARROW_CLASS = \"tippy-arrow\";\nvar SVG_ARROW_CLASS = \"tippy-svg-arrow\";\nvar TOUCH_OPTIONS = {\n  passive: true,\n  capture: true\n};\nvar TIPPY_DEFAULT_APPEND_TO = function TIPPY_DEFAULT_APPEND_TO() {\n  return document.body;\n};\n\nfunction hasOwnProperty(obj, key) {\n  return {}.hasOwnProperty.call(obj, key);\n}\nfunction getValueAtIndexOrReturn(value, index, defaultValue) {\n  if (Array.isArray(value)) {\n    var v = value[index];\n    return v == null ? Array.isArray(defaultValue) ? defaultValue[index] : defaultValue : v;\n  }\n\n  return value;\n}\nfunction isType(value, type) {\n  var str = {}.toString.call(value);\n  return str.indexOf('[object') === 0 && str.indexOf(type + \"]\") > -1;\n}\nfunction invokeWithArgsOrReturn(value, args) {\n  return typeof value === 'function' ? value.apply(void 0, args) : value;\n}\nfunction debounce(fn, ms) {\n  // Avoid wrapping in `setTimeout` if ms is 0 anyway\n  if (ms === 0) {\n    return fn;\n  }\n\n  var timeout;\n  return function (arg) {\n    clearTimeout(timeout);\n    timeout = setTimeout(function () {\n      fn(arg);\n    }, ms);\n  };\n}\nfunction removeProperties(obj, keys) {\n  var clone = Object.assign({}, obj);\n  keys.forEach(function (key) {\n    delete clone[key];\n  });\n  return clone;\n}\nfunction splitBySpaces(value) {\n  return value.split(/\\s+/).filter(Boolean);\n}\nfunction normalizeToArray(value) {\n  return [].concat(value);\n}\nfunction pushIfUnique(arr, value) {\n  if (arr.indexOf(value) === -1) {\n    arr.push(value);\n  }\n}\nfunction unique(arr) {\n  return arr.filter(function (item, index) {\n    return arr.indexOf(item) === index;\n  });\n}\nfunction getBasePlacement(placement) {\n  return placement.split('-')[0];\n}\nfunction arrayFrom(value) {\n  return [].slice.call(value);\n}\nfunction removeUndefinedProps(obj) {\n  return Object.keys(obj).reduce(function (acc, key) {\n    if (obj[key] !== undefined) {\n      acc[key] = obj[key];\n    }\n\n    return acc;\n  }, {});\n}\n\nfunction div() {\n  return document.createElement('div');\n}\nfunction isElement(value) {\n  return ['Element', 'Fragment'].some(function (type) {\n    return isType(value, type);\n  });\n}\nfunction isNodeList(value) {\n  return isType(value, 'NodeList');\n}\nfunction isMouseEvent(value) {\n  return isType(value, 'MouseEvent');\n}\nfunction isReferenceElement(value) {\n  return !!(value && value._tippy && value._tippy.reference === value);\n}\nfunction getArrayOfElements(value) {\n  if (isElement(value)) {\n    return [value];\n  }\n\n  if (isNodeList(value)) {\n    return arrayFrom(value);\n  }\n\n  if (Array.isArray(value)) {\n    return value;\n  }\n\n  return arrayFrom(document.querySelectorAll(value));\n}\nfunction setTransitionDuration(els, value) {\n  els.forEach(function (el) {\n    if (el) {\n      el.style.transitionDuration = value + \"ms\";\n    }\n  });\n}\nfunction setVisibilityState(els, state) {\n  els.forEach(function (el) {\n    if (el) {\n      el.setAttribute('data-state', state);\n    }\n  });\n}\nfunction getOwnerDocument(elementOrElements) {\n  var _element$ownerDocumen;\n\n  var _normalizeToArray = normalizeToArray(elementOrElements),\n      element = _normalizeToArray[0]; // Elements created via a <template> have an ownerDocument with no reference to the body\n\n\n  return element != null && (_element$ownerDocumen = element.ownerDocument) != null && _element$ownerDocumen.body ? element.ownerDocument : document;\n}\nfunction isCursorOutsideInteractiveBorder(popperTreeData, event) {\n  var clientX = event.clientX,\n      clientY = event.clientY;\n  return popperTreeData.every(function (_ref) {\n    var popperRect = _ref.popperRect,\n        popperState = _ref.popperState,\n        props = _ref.props;\n    var interactiveBorder = props.interactiveBorder;\n    var basePlacement = getBasePlacement(popperState.placement);\n    var offsetData = popperState.modifiersData.offset;\n\n    if (!offsetData) {\n      return true;\n    }\n\n    var topDistance = basePlacement === 'bottom' ? offsetData.top.y : 0;\n    var bottomDistance = basePlacement === 'top' ? offsetData.bottom.y : 0;\n    var leftDistance = basePlacement === 'right' ? offsetData.left.x : 0;\n    var rightDistance = basePlacement === 'left' ? offsetData.right.x : 0;\n    var exceedsTop = popperRect.top - clientY + topDistance > interactiveBorder;\n    var exceedsBottom = clientY - popperRect.bottom - bottomDistance > interactiveBorder;\n    var exceedsLeft = popperRect.left - clientX + leftDistance > interactiveBorder;\n    var exceedsRight = clientX - popperRect.right - rightDistance > interactiveBorder;\n    return exceedsTop || exceedsBottom || exceedsLeft || exceedsRight;\n  });\n}\nfunction updateTransitionEndListener(box, action, listener) {\n  var method = action + \"EventListener\"; // some browsers apparently support `transition` (unprefixed) but only fire\n  // `webkitTransitionEnd`...\n\n  ['transitionend', 'webkitTransitionEnd'].forEach(function (event) {\n    box[method](event, listener);\n  });\n}\n/**\n * Compared to xxx.contains, this function works for dom structures with shadow\n * dom\n */\n\nfunction actualContains(parent, child) {\n  var target = child;\n\n  while (target) {\n    var _target$getRootNode;\n\n    if (parent.contains(target)) {\n      return true;\n    }\n\n    target = target.getRootNode == null ? void 0 : (_target$getRootNode = target.getRootNode()) == null ? void 0 : _target$getRootNode.host;\n  }\n\n  return false;\n}\n\nvar currentInput = {\n  isTouch: false\n};\nvar lastMouseMoveTime = 0;\n/**\n * When a `touchstart` event is fired, it's assumed the user is using touch\n * input. We'll bind a `mousemove` event listener to listen for mouse input in\n * the future. This way, the `isTouch` property is fully dynamic and will handle\n * hybrid devices that use a mix of touch + mouse input.\n */\n\nfunction onDocumentTouchStart() {\n  if (currentInput.isTouch) {\n    return;\n  }\n\n  currentInput.isTouch = true;\n\n  if (window.performance) {\n    document.addEventListener('mousemove', onDocumentMouseMove);\n  }\n}\n/**\n * When two `mousemove` event are fired consecutively within 20ms, it's assumed\n * the user is using mouse input again. `mousemove` can fire on touch devices as\n * well, but very rarely that quickly.\n */\n\nfunction onDocumentMouseMove() {\n  var now = performance.now();\n\n  if (now - lastMouseMoveTime < 20) {\n    currentInput.isTouch = false;\n    document.removeEventListener('mousemove', onDocumentMouseMove);\n  }\n\n  lastMouseMoveTime = now;\n}\n/**\n * When an element is in focus and has a tippy, leaving the tab/window and\n * returning causes it to show again. For mouse users this is unexpected, but\n * for keyboard use it makes sense.\n * TODO: find a better technique to solve this problem\n */\n\nfunction onWindowBlur() {\n  var activeElement = document.activeElement;\n\n  if (isReferenceElement(activeElement)) {\n    var instance = activeElement._tippy;\n\n    if (activeElement.blur && !instance.state.isVisible) {\n      activeElement.blur();\n    }\n  }\n}\nfunction bindGlobalEventListeners() {\n  document.addEventListener('touchstart', onDocumentTouchStart, TOUCH_OPTIONS);\n  window.addEventListener('blur', onWindowBlur);\n}\n\nvar isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined';\nvar isIE11 = isBrowser ? // @ts-ignore\n!!window.msCrypto : false;\n\nfunction createMemoryLeakWarning(method) {\n  var txt = method === 'destroy' ? 'n already-' : ' ';\n  return [method + \"() was called on a\" + txt + \"destroyed instance. This is a no-op but\", 'indicates a potential memory leak.'].join(' ');\n}\nfunction clean(value) {\n  var spacesAndTabs = /[ \\t]{2,}/g;\n  var lineStartWithSpaces = /^[ \\t]*/gm;\n  return value.replace(spacesAndTabs, ' ').replace(lineStartWithSpaces, '').trim();\n}\n\nfunction getDevMessage(message) {\n  return clean(\"\\n  %ctippy.js\\n\\n  %c\" + clean(message) + \"\\n\\n  %c\\uD83D\\uDC77\\u200D This is a development-only message. It will be removed in production.\\n  \");\n}\n\nfunction getFormattedMessage(message) {\n  return [getDevMessage(message), // title\n  'color: #00C584; font-size: 1.3em; font-weight: bold;', // message\n  'line-height: 1.5', // footer\n  'color: #a6a095;'];\n} // Assume warnings and errors never have the same message\n\nvar visitedMessages;\n\nif (process.env.NODE_ENV !== \"production\") {\n  resetVisitedMessages();\n}\n\nfunction resetVisitedMessages() {\n  visitedMessages = new Set();\n}\nfunction warnWhen(condition, message) {\n  if (condition && !visitedMessages.has(message)) {\n    var _console;\n\n    visitedMessages.add(message);\n\n    (_console = console).warn.apply(_console, getFormattedMessage(message));\n  }\n}\nfunction errorWhen(condition, message) {\n  if (condition && !visitedMessages.has(message)) {\n    var _console2;\n\n    visitedMessages.add(message);\n\n    (_console2 = console).error.apply(_console2, getFormattedMessage(message));\n  }\n}\nfunction validateTargets(targets) {\n  var didPassFalsyValue = !targets;\n  var didPassPlainObject = Object.prototype.toString.call(targets) === '[object Object]' && !targets.addEventListener;\n  errorWhen(didPassFalsyValue, ['tippy() was passed', '`' + String(targets) + '`', 'as its targets (first) argument. Valid types are: String, Element,', 'Element[], or NodeList.'].join(' '));\n  errorWhen(didPassPlainObject, ['tippy() was passed a plain object which is not supported as an argument', 'for virtual positioning. Use props.getReferenceClientRect instead.'].join(' '));\n}\n\nvar pluginProps = {\n  animateFill: false,\n  followCursor: false,\n  inlinePositioning: false,\n  sticky: false\n};\nvar renderProps = {\n  allowHTML: false,\n  animation: 'fade',\n  arrow: true,\n  content: '',\n  inertia: false,\n  maxWidth: 350,\n  role: 'tooltip',\n  theme: '',\n  zIndex: 9999\n};\nvar defaultProps = Object.assign({\n  appendTo: TIPPY_DEFAULT_APPEND_TO,\n  aria: {\n    content: 'auto',\n    expanded: 'auto'\n  },\n  delay: 0,\n  duration: [300, 250],\n  getReferenceClientRect: null,\n  hideOnClick: true,\n  ignoreAttributes: false,\n  interactive: false,\n  interactiveBorder: 2,\n  interactiveDebounce: 0,\n  moveTransition: '',\n  offset: [0, 10],\n  onAfterUpdate: function onAfterUpdate() {},\n  onBeforeUpdate: function onBeforeUpdate() {},\n  onCreate: function onCreate() {},\n  onDestroy: function onDestroy() {},\n  onHidden: function onHidden() {},\n  onHide: function onHide() {},\n  onMount: function onMount() {},\n  onShow: function onShow() {},\n  onShown: function onShown() {},\n  onTrigger: function onTrigger() {},\n  onUntrigger: function onUntrigger() {},\n  onClickOutside: function onClickOutside() {},\n  placement: 'top',\n  plugins: [],\n  popperOptions: {},\n  render: null,\n  showOnCreate: false,\n  touch: true,\n  trigger: 'mouseenter focus',\n  triggerTarget: null\n}, pluginProps, renderProps);\nvar defaultKeys = Object.keys(defaultProps);\nvar setDefaultProps = function setDefaultProps(partialProps) {\n  /* istanbul ignore else */\n  if (process.env.NODE_ENV !== \"production\") {\n    validateProps(partialProps, []);\n  }\n\n  var keys = Object.keys(partialProps);\n  keys.forEach(function (key) {\n    defaultProps[key] = partialProps[key];\n  });\n};\nfunction getExtendedPassedProps(passedProps) {\n  var plugins = passedProps.plugins || [];\n  var pluginProps = plugins.reduce(function (acc, plugin) {\n    var name = plugin.name,\n        defaultValue = plugin.defaultValue;\n\n    if (name) {\n      var _name;\n\n      acc[name] = passedProps[name] !== undefined ? passedProps[name] : (_name = defaultProps[name]) != null ? _name : defaultValue;\n    }\n\n    return acc;\n  }, {});\n  return Object.assign({}, passedProps, pluginProps);\n}\nfunction getDataAttributeProps(reference, plugins) {\n  var propKeys = plugins ? Object.keys(getExtendedPassedProps(Object.assign({}, defaultProps, {\n    plugins: plugins\n  }))) : defaultKeys;\n  var props = propKeys.reduce(function (acc, key) {\n    var valueAsString = (reference.getAttribute(\"data-tippy-\" + key) || '').trim();\n\n    if (!valueAsString) {\n      return acc;\n    }\n\n    if (key === 'content') {\n      acc[key] = valueAsString;\n    } else {\n      try {\n        acc[key] = JSON.parse(valueAsString);\n      } catch (e) {\n        acc[key] = valueAsString;\n      }\n    }\n\n    return acc;\n  }, {});\n  return props;\n}\nfunction evaluateProps(reference, props) {\n  var out = Object.assign({}, props, {\n    content: invokeWithArgsOrReturn(props.content, [reference])\n  }, props.ignoreAttributes ? {} : getDataAttributeProps(reference, props.plugins));\n  out.aria = Object.assign({}, defaultProps.aria, out.aria);\n  out.aria = {\n    expanded: out.aria.expanded === 'auto' ? props.interactive : out.aria.expanded,\n    content: out.aria.content === 'auto' ? props.interactive ? null : 'describedby' : out.aria.content\n  };\n  return out;\n}\nfunction validateProps(partialProps, plugins) {\n  if (partialProps === void 0) {\n    partialProps = {};\n  }\n\n  if (plugins === void 0) {\n    plugins = [];\n  }\n\n  var keys = Object.keys(partialProps);\n  keys.forEach(function (prop) {\n    var nonPluginProps = removeProperties(defaultProps, Object.keys(pluginProps));\n    var didPassUnknownProp = !hasOwnProperty(nonPluginProps, prop); // Check if the prop exists in `plugins`\n\n    if (didPassUnknownProp) {\n      didPassUnknownProp = plugins.filter(function (plugin) {\n        return plugin.name === prop;\n      }).length === 0;\n    }\n\n    warnWhen(didPassUnknownProp, [\"`\" + prop + \"`\", \"is not a valid prop. You may have spelled it incorrectly, or if it's\", 'a plugin, forgot to pass it in an array as props.plugins.', '\\n\\n', 'All props: https://atomiks.github.io/tippyjs/v6/all-props/\\n', 'Plugins: https://atomiks.github.io/tippyjs/v6/plugins/'].join(' '));\n  });\n}\n\nvar innerHTML = function innerHTML() {\n  return 'innerHTML';\n};\n\nfunction dangerouslySetInnerHTML(element, html) {\n  element[innerHTML()] = html;\n}\n\nfunction createArrowElement(value) {\n  var arrow = div();\n\n  if (value === true) {\n    arrow.className = ARROW_CLASS;\n  } else {\n    arrow.className = SVG_ARROW_CLASS;\n\n    if (isElement(value)) {\n      arrow.appendChild(value);\n    } else {\n      dangerouslySetInnerHTML(arrow, value);\n    }\n  }\n\n  return arrow;\n}\n\nfunction setContent(content, props) {\n  if (isElement(props.content)) {\n    dangerouslySetInnerHTML(content, '');\n    content.appendChild(props.content);\n  } else if (typeof props.content !== 'function') {\n    if (props.allowHTML) {\n      dangerouslySetInnerHTML(content, props.content);\n    } else {\n      content.textContent = props.content;\n    }\n  }\n}\nfunction getChildren(popper) {\n  var box = popper.firstElementChild;\n  var boxChildren = arrayFrom(box.children);\n  return {\n    box: box,\n    content: boxChildren.find(function (node) {\n      return node.classList.contains(CONTENT_CLASS);\n    }),\n    arrow: boxChildren.find(function (node) {\n      return node.classList.contains(ARROW_CLASS) || node.classList.contains(SVG_ARROW_CLASS);\n    }),\n    backdrop: boxChildren.find(function (node) {\n      return node.classList.contains(BACKDROP_CLASS);\n    })\n  };\n}\nfunction render(instance) {\n  var popper = div();\n  var box = div();\n  box.className = BOX_CLASS;\n  box.setAttribute('data-state', 'hidden');\n  box.setAttribute('tabindex', '-1');\n  var content = div();\n  content.className = CONTENT_CLASS;\n  content.setAttribute('data-state', 'hidden');\n  setContent(content, instance.props);\n  popper.appendChild(box);\n  box.appendChild(content);\n  onUpdate(instance.props, instance.props);\n\n  function onUpdate(prevProps, nextProps) {\n    var _getChildren = getChildren(popper),\n        box = _getChildren.box,\n        content = _getChildren.content,\n        arrow = _getChildren.arrow;\n\n    if (nextProps.theme) {\n      box.setAttribute('data-theme', nextProps.theme);\n    } else {\n      box.removeAttribute('data-theme');\n    }\n\n    if (typeof nextProps.animation === 'string') {\n      box.setAttribute('data-animation', nextProps.animation);\n    } else {\n      box.removeAttribute('data-animation');\n    }\n\n    if (nextProps.inertia) {\n      box.setAttribute('data-inertia', '');\n    } else {\n      box.removeAttribute('data-inertia');\n    }\n\n    box.style.maxWidth = typeof nextProps.maxWidth === 'number' ? nextProps.maxWidth + \"px\" : nextProps.maxWidth;\n\n    if (nextProps.role) {\n      box.setAttribute('role', nextProps.role);\n    } else {\n      box.removeAttribute('role');\n    }\n\n    if (prevProps.content !== nextProps.content || prevProps.allowHTML !== nextProps.allowHTML) {\n      setContent(content, instance.props);\n    }\n\n    if (nextProps.arrow) {\n      if (!arrow) {\n        box.appendChild(createArrowElement(nextProps.arrow));\n      } else if (prevProps.arrow !== nextProps.arrow) {\n        box.removeChild(arrow);\n        box.appendChild(createArrowElement(nextProps.arrow));\n      }\n    } else if (arrow) {\n      box.removeChild(arrow);\n    }\n  }\n\n  return {\n    popper: popper,\n    onUpdate: onUpdate\n  };\n} // Runtime check to identify if the render function is the default one; this\n// way we can apply default CSS transitions logic and it can be tree-shaken away\n\nrender.$$tippy = true;\n\nvar idCounter = 1;\nvar mouseMoveListeners = []; // Used by `hideAll()`\n\nvar mountedInstances = [];\nfunction createTippy(reference, passedProps) {\n  var props = evaluateProps(reference, Object.assign({}, defaultProps, getExtendedPassedProps(removeUndefinedProps(passedProps)))); // ===========================================================================\n  // 🔒 Private members\n  // ===========================================================================\n\n  var showTimeout;\n  var hideTimeout;\n  var scheduleHideAnimationFrame;\n  var isVisibleFromClick = false;\n  var didHideDueToDocumentMouseDown = false;\n  var didTouchMove = false;\n  var ignoreOnFirstUpdate = false;\n  var lastTriggerEvent;\n  var currentTransitionEndListener;\n  var onFirstUpdate;\n  var listeners = [];\n  var debouncedOnMouseMove = debounce(onMouseMove, props.interactiveDebounce);\n  var currentTarget; // ===========================================================================\n  // 🔑 Public members\n  // ===========================================================================\n\n  var id = idCounter++;\n  var popperInstance = null;\n  var plugins = unique(props.plugins);\n  var state = {\n    // Is the instance currently enabled?\n    isEnabled: true,\n    // Is the tippy currently showing and not transitioning out?\n    isVisible: false,\n    // Has the instance been destroyed?\n    isDestroyed: false,\n    // Is the tippy currently mounted to the DOM?\n    isMounted: false,\n    // Has the tippy finished transitioning in?\n    isShown: false\n  };\n  var instance = {\n    // properties\n    id: id,\n    reference: reference,\n    popper: div(),\n    popperInstance: popperInstance,\n    props: props,\n    state: state,\n    plugins: plugins,\n    // methods\n    clearDelayTimeouts: clearDelayTimeouts,\n    setProps: setProps,\n    setContent: setContent,\n    show: show,\n    hide: hide,\n    hideWithInteractivity: hideWithInteractivity,\n    enable: enable,\n    disable: disable,\n    unmount: unmount,\n    destroy: destroy\n  }; // TODO: Investigate why this early return causes a TDZ error in the tests —\n  // it doesn't seem to happen in the browser\n\n  /* istanbul ignore if */\n\n  if (!props.render) {\n    if (process.env.NODE_ENV !== \"production\") {\n      errorWhen(true, 'render() function has not been supplied.');\n    }\n\n    return instance;\n  } // ===========================================================================\n  // Initial mutations\n  // ===========================================================================\n\n\n  var _props$render = props.render(instance),\n      popper = _props$render.popper,\n      onUpdate = _props$render.onUpdate;\n\n  popper.setAttribute('data-tippy-root', '');\n  popper.id = \"tippy-\" + instance.id;\n  instance.popper = popper;\n  reference._tippy = instance;\n  popper._tippy = instance;\n  var pluginsHooks = plugins.map(function (plugin) {\n    return plugin.fn(instance);\n  });\n  var hasAriaExpanded = reference.hasAttribute('aria-expanded');\n  addListeners();\n  handleAriaExpandedAttribute();\n  handleStyles();\n  invokeHook('onCreate', [instance]);\n\n  if (props.showOnCreate) {\n    scheduleShow();\n  } // Prevent a tippy with a delay from hiding if the cursor left then returned\n  // before it started hiding\n\n\n  popper.addEventListener('mouseenter', function () {\n    if (instance.props.interactive && instance.state.isVisible) {\n      instance.clearDelayTimeouts();\n    }\n  });\n  popper.addEventListener('mouseleave', function () {\n    if (instance.props.interactive && instance.props.trigger.indexOf('mouseenter') >= 0) {\n      getDocument().addEventListener('mousemove', debouncedOnMouseMove);\n    }\n  });\n  return instance; // ===========================================================================\n  // 🔒 Private methods\n  // ===========================================================================\n\n  function getNormalizedTouchSettings() {\n    var touch = instance.props.touch;\n    return Array.isArray(touch) ? touch : [touch, 0];\n  }\n\n  function getIsCustomTouchBehavior() {\n    return getNormalizedTouchSettings()[0] === 'hold';\n  }\n\n  function getIsDefaultRenderFn() {\n    var _instance$props$rende;\n\n    // @ts-ignore\n    return !!((_instance$props$rende = instance.props.render) != null && _instance$props$rende.$$tippy);\n  }\n\n  function getCurrentTarget() {\n    return currentTarget || reference;\n  }\n\n  function getDocument() {\n    var parent = getCurrentTarget().parentNode;\n    return parent ? getOwnerDocument(parent) : document;\n  }\n\n  function getDefaultTemplateChildren() {\n    return getChildren(popper);\n  }\n\n  function getDelay(isShow) {\n    // For touch or keyboard input, force `0` delay for UX reasons\n    // Also if the instance is mounted but not visible (transitioning out),\n    // ignore delay\n    if (instance.state.isMounted && !instance.state.isVisible || currentInput.isTouch || lastTriggerEvent && lastTriggerEvent.type === 'focus') {\n      return 0;\n    }\n\n    return getValueAtIndexOrReturn(instance.props.delay, isShow ? 0 : 1, defaultProps.delay);\n  }\n\n  function handleStyles(fromHide) {\n    if (fromHide === void 0) {\n      fromHide = false;\n    }\n\n    popper.style.pointerEvents = instance.props.interactive && !fromHide ? '' : 'none';\n    popper.style.zIndex = \"\" + instance.props.zIndex;\n  }\n\n  function invokeHook(hook, args, shouldInvokePropsHook) {\n    if (shouldInvokePropsHook === void 0) {\n      shouldInvokePropsHook = true;\n    }\n\n    pluginsHooks.forEach(function (pluginHooks) {\n      if (pluginHooks[hook]) {\n        pluginHooks[hook].apply(pluginHooks, args);\n      }\n    });\n\n    if (shouldInvokePropsHook) {\n      var _instance$props;\n\n      (_instance$props = instance.props)[hook].apply(_instance$props, args);\n    }\n  }\n\n  function handleAriaContentAttribute() {\n    var aria = instance.props.aria;\n\n    if (!aria.content) {\n      return;\n    }\n\n    var attr = \"aria-\" + aria.content;\n    var id = popper.id;\n    var nodes = normalizeToArray(instance.props.triggerTarget || reference);\n    nodes.forEach(function (node) {\n      var currentValue = node.getAttribute(attr);\n\n      if (instance.state.isVisible) {\n        node.setAttribute(attr, currentValue ? currentValue + \" \" + id : id);\n      } else {\n        var nextValue = currentValue && currentValue.replace(id, '').trim();\n\n        if (nextValue) {\n          node.setAttribute(attr, nextValue);\n        } else {\n          node.removeAttribute(attr);\n        }\n      }\n    });\n  }\n\n  function handleAriaExpandedAttribute() {\n    if (hasAriaExpanded || !instance.props.aria.expanded) {\n      return;\n    }\n\n    var nodes = normalizeToArray(instance.props.triggerTarget || reference);\n    nodes.forEach(function (node) {\n      if (instance.props.interactive) {\n        node.setAttribute('aria-expanded', instance.state.isVisible && node === getCurrentTarget() ? 'true' : 'false');\n      } else {\n        node.removeAttribute('aria-expanded');\n      }\n    });\n  }\n\n  function cleanupInteractiveMouseListeners() {\n    getDocument().removeEventListener('mousemove', debouncedOnMouseMove);\n    mouseMoveListeners = mouseMoveListeners.filter(function (listener) {\n      return listener !== debouncedOnMouseMove;\n    });\n  }\n\n  function onDocumentPress(event) {\n    // Moved finger to scroll instead of an intentional tap outside\n    if (currentInput.isTouch) {\n      if (didTouchMove || event.type === 'mousedown') {\n        return;\n      }\n    }\n\n    var actualTarget = event.composedPath && event.composedPath()[0] || event.target; // Clicked on interactive popper\n\n    if (instance.props.interactive && actualContains(popper, actualTarget)) {\n      return;\n    } // Clicked on the event listeners target\n\n\n    if (normalizeToArray(instance.props.triggerTarget || reference).some(function (el) {\n      return actualContains(el, actualTarget);\n    })) {\n      if (currentInput.isTouch) {\n        return;\n      }\n\n      if (instance.state.isVisible && instance.props.trigger.indexOf('click') >= 0) {\n        return;\n      }\n    } else {\n      invokeHook('onClickOutside', [instance, event]);\n    }\n\n    if (instance.props.hideOnClick === true) {\n      instance.clearDelayTimeouts();\n      instance.hide(); // `mousedown` event is fired right before `focus` if pressing the\n      // currentTarget. This lets a tippy with `focus` trigger know that it\n      // should not show\n\n      didHideDueToDocumentMouseDown = true;\n      setTimeout(function () {\n        didHideDueToDocumentMouseDown = false;\n      }); // The listener gets added in `scheduleShow()`, but this may be hiding it\n      // before it shows, and hide()'s early bail-out behavior can prevent it\n      // from being cleaned up\n\n      if (!instance.state.isMounted) {\n        removeDocumentPress();\n      }\n    }\n  }\n\n  function onTouchMove() {\n    didTouchMove = true;\n  }\n\n  function onTouchStart() {\n    didTouchMove = false;\n  }\n\n  function addDocumentPress() {\n    var doc = getDocument();\n    doc.addEventListener('mousedown', onDocumentPress, true);\n    doc.addEventListener('touchend', onDocumentPress, TOUCH_OPTIONS);\n    doc.addEventListener('touchstart', onTouchStart, TOUCH_OPTIONS);\n    doc.addEventListener('touchmove', onTouchMove, TOUCH_OPTIONS);\n  }\n\n  function removeDocumentPress() {\n    var doc = getDocument();\n    doc.removeEventListener('mousedown', onDocumentPress, true);\n    doc.removeEventListener('touchend', onDocumentPress, TOUCH_OPTIONS);\n    doc.removeEventListener('touchstart', onTouchStart, TOUCH_OPTIONS);\n    doc.removeEventListener('touchmove', onTouchMove, TOUCH_OPTIONS);\n  }\n\n  function onTransitionedOut(duration, callback) {\n    onTransitionEnd(duration, function () {\n      if (!instance.state.isVisible && popper.parentNode && popper.parentNode.contains(popper)) {\n        callback();\n      }\n    });\n  }\n\n  function onTransitionedIn(duration, callback) {\n    onTransitionEnd(duration, callback);\n  }\n\n  function onTransitionEnd(duration, callback) {\n    var box = getDefaultTemplateChildren().box;\n\n    function listener(event) {\n      if (event.target === box) {\n        updateTransitionEndListener(box, 'remove', listener);\n        callback();\n      }\n    } // Make callback synchronous if duration is 0\n    // `transitionend` won't fire otherwise\n\n\n    if (duration === 0) {\n      return callback();\n    }\n\n    updateTransitionEndListener(box, 'remove', currentTransitionEndListener);\n    updateTransitionEndListener(box, 'add', listener);\n    currentTransitionEndListener = listener;\n  }\n\n  function on(eventType, handler, options) {\n    if (options === void 0) {\n      options = false;\n    }\n\n    var nodes = normalizeToArray(instance.props.triggerTarget || reference);\n    nodes.forEach(function (node) {\n      node.addEventListener(eventType, handler, options);\n      listeners.push({\n        node: node,\n        eventType: eventType,\n        handler: handler,\n        options: options\n      });\n    });\n  }\n\n  function addListeners() {\n    if (getIsCustomTouchBehavior()) {\n      on('touchstart', onTrigger, {\n        passive: true\n      });\n      on('touchend', onMouseLeave, {\n        passive: true\n      });\n    }\n\n    splitBySpaces(instance.props.trigger).forEach(function (eventType) {\n      if (eventType === 'manual') {\n        return;\n      }\n\n      on(eventType, onTrigger);\n\n      switch (eventType) {\n        case 'mouseenter':\n          on('mouseleave', onMouseLeave);\n          break;\n\n        case 'focus':\n          on(isIE11 ? 'focusout' : 'blur', onBlurOrFocusOut);\n          break;\n\n        case 'focusin':\n          on('focusout', onBlurOrFocusOut);\n          break;\n      }\n    });\n  }\n\n  function removeListeners() {\n    listeners.forEach(function (_ref) {\n      var node = _ref.node,\n          eventType = _ref.eventType,\n          handler = _ref.handler,\n          options = _ref.options;\n      node.removeEventListener(eventType, handler, options);\n    });\n    listeners = [];\n  }\n\n  function onTrigger(event) {\n    var _lastTriggerEvent;\n\n    var shouldScheduleClickHide = false;\n\n    if (!instance.state.isEnabled || isEventListenerStopped(event) || didHideDueToDocumentMouseDown) {\n      return;\n    }\n\n    var wasFocused = ((_lastTriggerEvent = lastTriggerEvent) == null ? void 0 : _lastTriggerEvent.type) === 'focus';\n    lastTriggerEvent = event;\n    currentTarget = event.currentTarget;\n    handleAriaExpandedAttribute();\n\n    if (!instance.state.isVisible && isMouseEvent(event)) {\n      // If scrolling, `mouseenter` events can be fired if the cursor lands\n      // over a new target, but `mousemove` events don't get fired. This\n      // causes interactive tooltips to get stuck open until the cursor is\n      // moved\n      mouseMoveListeners.forEach(function (listener) {\n        return listener(event);\n      });\n    } // Toggle show/hide when clicking click-triggered tooltips\n\n\n    if (event.type === 'click' && (instance.props.trigger.indexOf('mouseenter') < 0 || isVisibleFromClick) && instance.props.hideOnClick !== false && instance.state.isVisible) {\n      shouldScheduleClickHide = true;\n    } else {\n      scheduleShow(event);\n    }\n\n    if (event.type === 'click') {\n      isVisibleFromClick = !shouldScheduleClickHide;\n    }\n\n    if (shouldScheduleClickHide && !wasFocused) {\n      scheduleHide(event);\n    }\n  }\n\n  function onMouseMove(event) {\n    var target = event.target;\n    var isCursorOverReferenceOrPopper = getCurrentTarget().contains(target) || popper.contains(target);\n\n    if (event.type === 'mousemove' && isCursorOverReferenceOrPopper) {\n      return;\n    }\n\n    var popperTreeData = getNestedPopperTree().concat(popper).map(function (popper) {\n      var _instance$popperInsta;\n\n      var instance = popper._tippy;\n      var state = (_instance$popperInsta = instance.popperInstance) == null ? void 0 : _instance$popperInsta.state;\n\n      if (state) {\n        return {\n          popperRect: popper.getBoundingClientRect(),\n          popperState: state,\n          props: props\n        };\n      }\n\n      return null;\n    }).filter(Boolean);\n\n    if (isCursorOutsideInteractiveBorder(popperTreeData, event)) {\n      cleanupInteractiveMouseListeners();\n      scheduleHide(event);\n    }\n  }\n\n  function onMouseLeave(event) {\n    var shouldBail = isEventListenerStopped(event) || instance.props.trigger.indexOf('click') >= 0 && isVisibleFromClick;\n\n    if (shouldBail) {\n      return;\n    }\n\n    if (instance.props.interactive) {\n      instance.hideWithInteractivity(event);\n      return;\n    }\n\n    scheduleHide(event);\n  }\n\n  function onBlurOrFocusOut(event) {\n    if (instance.props.trigger.indexOf('focusin') < 0 && event.target !== getCurrentTarget()) {\n      return;\n    } // If focus was moved to within the popper\n\n\n    if (instance.props.interactive && event.relatedTarget && popper.contains(event.relatedTarget)) {\n      return;\n    }\n\n    scheduleHide(event);\n  }\n\n  function isEventListenerStopped(event) {\n    return currentInput.isTouch ? getIsCustomTouchBehavior() !== event.type.indexOf('touch') >= 0 : false;\n  }\n\n  function createPopperInstance() {\n    destroyPopperInstance();\n    var _instance$props2 = instance.props,\n        popperOptions = _instance$props2.popperOptions,\n        placement = _instance$props2.placement,\n        offset = _instance$props2.offset,\n        getReferenceClientRect = _instance$props2.getReferenceClientRect,\n        moveTransition = _instance$props2.moveTransition;\n    var arrow = getIsDefaultRenderFn() ? getChildren(popper).arrow : null;\n    var computedReference = getReferenceClientRect ? {\n      getBoundingClientRect: getReferenceClientRect,\n      contextElement: getReferenceClientRect.contextElement || getCurrentTarget()\n    } : reference;\n    var tippyModifier = {\n      name: '$$tippy',\n      enabled: true,\n      phase: 'beforeWrite',\n      requires: ['computeStyles'],\n      fn: function fn(_ref2) {\n        var state = _ref2.state;\n\n        if (getIsDefaultRenderFn()) {\n          var _getDefaultTemplateCh = getDefaultTemplateChildren(),\n              box = _getDefaultTemplateCh.box;\n\n          ['placement', 'reference-hidden', 'escaped'].forEach(function (attr) {\n            if (attr === 'placement') {\n              box.setAttribute('data-placement', state.placement);\n            } else {\n              if (state.attributes.popper[\"data-popper-\" + attr]) {\n                box.setAttribute(\"data-\" + attr, '');\n              } else {\n                box.removeAttribute(\"data-\" + attr);\n              }\n            }\n          });\n          state.attributes.popper = {};\n        }\n      }\n    };\n    var modifiers = [{\n      name: 'offset',\n      options: {\n        offset: offset\n      }\n    }, {\n      name: 'preventOverflow',\n      options: {\n        padding: {\n          top: 2,\n          bottom: 2,\n          left: 5,\n          right: 5\n        }\n      }\n    }, {\n      name: 'flip',\n      options: {\n        padding: 5\n      }\n    }, {\n      name: 'computeStyles',\n      options: {\n        adaptive: !moveTransition\n      }\n    }, tippyModifier];\n\n    if (getIsDefaultRenderFn() && arrow) {\n      modifiers.push({\n        name: 'arrow',\n        options: {\n          element: arrow,\n          padding: 3\n        }\n      });\n    }\n\n    modifiers.push.apply(modifiers, (popperOptions == null ? void 0 : popperOptions.modifiers) || []);\n    instance.popperInstance = createPopper(computedReference, popper, Object.assign({}, popperOptions, {\n      placement: placement,\n      onFirstUpdate: onFirstUpdate,\n      modifiers: modifiers\n    }));\n  }\n\n  function destroyPopperInstance() {\n    if (instance.popperInstance) {\n      instance.popperInstance.destroy();\n      instance.popperInstance = null;\n    }\n  }\n\n  function mount() {\n    var appendTo = instance.props.appendTo;\n    var parentNode; // By default, we'll append the popper to the triggerTargets's parentNode so\n    // it's directly after the reference element so the elements inside the\n    // tippy can be tabbed to\n    // If there are clipping issues, the user can specify a different appendTo\n    // and ensure focus management is handled correctly manually\n\n    var node = getCurrentTarget();\n\n    if (instance.props.interactive && appendTo === TIPPY_DEFAULT_APPEND_TO || appendTo === 'parent') {\n      parentNode = node.parentNode;\n    } else {\n      parentNode = invokeWithArgsOrReturn(appendTo, [node]);\n    } // The popper element needs to exist on the DOM before its position can be\n    // updated as Popper needs to read its dimensions\n\n\n    if (!parentNode.contains(popper)) {\n      parentNode.appendChild(popper);\n    }\n\n    instance.state.isMounted = true;\n    createPopperInstance();\n    /* istanbul ignore else */\n\n    if (process.env.NODE_ENV !== \"production\") {\n      // Accessibility check\n      warnWhen(instance.props.interactive && appendTo === defaultProps.appendTo && node.nextElementSibling !== popper, ['Interactive tippy element may not be accessible via keyboard', 'navigation because it is not directly after the reference element', 'in the DOM source order.', '\\n\\n', 'Using a wrapper <div> or <span> tag around the reference element', 'solves this by creating a new parentNode context.', '\\n\\n', 'Specifying `appendTo: document.body` silences this warning, but it', 'assumes you are using a focus management solution to handle', 'keyboard navigation.', '\\n\\n', 'See: https://atomiks.github.io/tippyjs/v6/accessibility/#interactivity'].join(' '));\n    }\n  }\n\n  function getNestedPopperTree() {\n    return arrayFrom(popper.querySelectorAll('[data-tippy-root]'));\n  }\n\n  function scheduleShow(event) {\n    instance.clearDelayTimeouts();\n\n    if (event) {\n      invokeHook('onTrigger', [instance, event]);\n    }\n\n    addDocumentPress();\n    var delay = getDelay(true);\n\n    var _getNormalizedTouchSe = getNormalizedTouchSettings(),\n        touchValue = _getNormalizedTouchSe[0],\n        touchDelay = _getNormalizedTouchSe[1];\n\n    if (currentInput.isTouch && touchValue === 'hold' && touchDelay) {\n      delay = touchDelay;\n    }\n\n    if (delay) {\n      showTimeout = setTimeout(function () {\n        instance.show();\n      }, delay);\n    } else {\n      instance.show();\n    }\n  }\n\n  function scheduleHide(event) {\n    instance.clearDelayTimeouts();\n    invokeHook('onUntrigger', [instance, event]);\n\n    if (!instance.state.isVisible) {\n      removeDocumentPress();\n      return;\n    } // For interactive tippies, scheduleHide is added to a document.body handler\n    // from onMouseLeave so must intercept scheduled hides from mousemove/leave\n    // events when trigger contains mouseenter and click, and the tip is\n    // currently shown as a result of a click.\n\n\n    if (instance.props.trigger.indexOf('mouseenter') >= 0 && instance.props.trigger.indexOf('click') >= 0 && ['mouseleave', 'mousemove'].indexOf(event.type) >= 0 && isVisibleFromClick) {\n      return;\n    }\n\n    var delay = getDelay(false);\n\n    if (delay) {\n      hideTimeout = setTimeout(function () {\n        if (instance.state.isVisible) {\n          instance.hide();\n        }\n      }, delay);\n    } else {\n      // Fixes a `transitionend` problem when it fires 1 frame too\n      // late sometimes, we don't want hide() to be called.\n      scheduleHideAnimationFrame = requestAnimationFrame(function () {\n        instance.hide();\n      });\n    }\n  } // ===========================================================================\n  // 🔑 Public methods\n  // ===========================================================================\n\n\n  function enable() {\n    instance.state.isEnabled = true;\n  }\n\n  function disable() {\n    // Disabling the instance should also hide it\n    // https://github.com/atomiks/tippy.js-react/issues/106\n    instance.hide();\n    instance.state.isEnabled = false;\n  }\n\n  function clearDelayTimeouts() {\n    clearTimeout(showTimeout);\n    clearTimeout(hideTimeout);\n    cancelAnimationFrame(scheduleHideAnimationFrame);\n  }\n\n  function setProps(partialProps) {\n    /* istanbul ignore else */\n    if (process.env.NODE_ENV !== \"production\") {\n      warnWhen(instance.state.isDestroyed, createMemoryLeakWarning('setProps'));\n    }\n\n    if (instance.state.isDestroyed) {\n      return;\n    }\n\n    invokeHook('onBeforeUpdate', [instance, partialProps]);\n    removeListeners();\n    var prevProps = instance.props;\n    var nextProps = evaluateProps(reference, Object.assign({}, prevProps, removeUndefinedProps(partialProps), {\n      ignoreAttributes: true\n    }));\n    instance.props = nextProps;\n    addListeners();\n\n    if (prevProps.interactiveDebounce !== nextProps.interactiveDebounce) {\n      cleanupInteractiveMouseListeners();\n      debouncedOnMouseMove = debounce(onMouseMove, nextProps.interactiveDebounce);\n    } // Ensure stale aria-expanded attributes are removed\n\n\n    if (prevProps.triggerTarget && !nextProps.triggerTarget) {\n      normalizeToArray(prevProps.triggerTarget).forEach(function (node) {\n        node.removeAttribute('aria-expanded');\n      });\n    } else if (nextProps.triggerTarget) {\n      reference.removeAttribute('aria-expanded');\n    }\n\n    handleAriaExpandedAttribute();\n    handleStyles();\n\n    if (onUpdate) {\n      onUpdate(prevProps, nextProps);\n    }\n\n    if (instance.popperInstance) {\n      createPopperInstance(); // Fixes an issue with nested tippies if they are all getting re-rendered,\n      // and the nested ones get re-rendered first.\n      // https://github.com/atomiks/tippyjs-react/issues/177\n      // TODO: find a cleaner / more efficient solution(!)\n\n      getNestedPopperTree().forEach(function (nestedPopper) {\n        // React (and other UI libs likely) requires a rAF wrapper as it flushes\n        // its work in one\n        requestAnimationFrame(nestedPopper._tippy.popperInstance.forceUpdate);\n      });\n    }\n\n    invokeHook('onAfterUpdate', [instance, partialProps]);\n  }\n\n  function setContent(content) {\n    instance.setProps({\n      content: content\n    });\n  }\n\n  function show() {\n    /* istanbul ignore else */\n    if (process.env.NODE_ENV !== \"production\") {\n      warnWhen(instance.state.isDestroyed, createMemoryLeakWarning('show'));\n    } // Early bail-out\n\n\n    var isAlreadyVisible = instance.state.isVisible;\n    var isDestroyed = instance.state.isDestroyed;\n    var isDisabled = !instance.state.isEnabled;\n    var isTouchAndTouchDisabled = currentInput.isTouch && !instance.props.touch;\n    var duration = getValueAtIndexOrReturn(instance.props.duration, 0, defaultProps.duration);\n\n    if (isAlreadyVisible || isDestroyed || isDisabled || isTouchAndTouchDisabled) {\n      return;\n    } // Normalize `disabled` behavior across browsers.\n    // Firefox allows events on disabled elements, but Chrome doesn't.\n    // Using a wrapper element (i.e. <span>) is recommended.\n\n\n    if (getCurrentTarget().hasAttribute('disabled')) {\n      return;\n    }\n\n    invokeHook('onShow', [instance], false);\n\n    if (instance.props.onShow(instance) === false) {\n      return;\n    }\n\n    instance.state.isVisible = true;\n\n    if (getIsDefaultRenderFn()) {\n      popper.style.visibility = 'visible';\n    }\n\n    handleStyles();\n    addDocumentPress();\n\n    if (!instance.state.isMounted) {\n      popper.style.transition = 'none';\n    } // If flipping to the opposite side after hiding at least once, the\n    // animation will use the wrong placement without resetting the duration\n\n\n    if (getIsDefaultRenderFn()) {\n      var _getDefaultTemplateCh2 = getDefaultTemplateChildren(),\n          box = _getDefaultTemplateCh2.box,\n          content = _getDefaultTemplateCh2.content;\n\n      setTransitionDuration([box, content], 0);\n    }\n\n    onFirstUpdate = function onFirstUpdate() {\n      var _instance$popperInsta2;\n\n      if (!instance.state.isVisible || ignoreOnFirstUpdate) {\n        return;\n      }\n\n      ignoreOnFirstUpdate = true; // reflow\n\n      void popper.offsetHeight;\n      popper.style.transition = instance.props.moveTransition;\n\n      if (getIsDefaultRenderFn() && instance.props.animation) {\n        var _getDefaultTemplateCh3 = getDefaultTemplateChildren(),\n            _box = _getDefaultTemplateCh3.box,\n            _content = _getDefaultTemplateCh3.content;\n\n        setTransitionDuration([_box, _content], duration);\n        setVisibilityState([_box, _content], 'visible');\n      }\n\n      handleAriaContentAttribute();\n      handleAriaExpandedAttribute();\n      pushIfUnique(mountedInstances, instance); // certain modifiers (e.g. `maxSize`) require a second update after the\n      // popper has been positioned for the first time\n\n      (_instance$popperInsta2 = instance.popperInstance) == null ? void 0 : _instance$popperInsta2.forceUpdate();\n      invokeHook('onMount', [instance]);\n\n      if (instance.props.animation && getIsDefaultRenderFn()) {\n        onTransitionedIn(duration, function () {\n          instance.state.isShown = true;\n          invokeHook('onShown', [instance]);\n        });\n      }\n    };\n\n    mount();\n  }\n\n  function hide() {\n    /* istanbul ignore else */\n    if (process.env.NODE_ENV !== \"production\") {\n      warnWhen(instance.state.isDestroyed, createMemoryLeakWarning('hide'));\n    } // Early bail-out\n\n\n    var isAlreadyHidden = !instance.state.isVisible;\n    var isDestroyed = instance.state.isDestroyed;\n    var isDisabled = !instance.state.isEnabled;\n    var duration = getValueAtIndexOrReturn(instance.props.duration, 1, defaultProps.duration);\n\n    if (isAlreadyHidden || isDestroyed || isDisabled) {\n      return;\n    }\n\n    invokeHook('onHide', [instance], false);\n\n    if (instance.props.onHide(instance) === false) {\n      return;\n    }\n\n    instance.state.isVisible = false;\n    instance.state.isShown = false;\n    ignoreOnFirstUpdate = false;\n    isVisibleFromClick = false;\n\n    if (getIsDefaultRenderFn()) {\n      popper.style.visibility = 'hidden';\n    }\n\n    cleanupInteractiveMouseListeners();\n    removeDocumentPress();\n    handleStyles(true);\n\n    if (getIsDefaultRenderFn()) {\n      var _getDefaultTemplateCh4 = getDefaultTemplateChildren(),\n          box = _getDefaultTemplateCh4.box,\n          content = _getDefaultTemplateCh4.content;\n\n      if (instance.props.animation) {\n        setTransitionDuration([box, content], duration);\n        setVisibilityState([box, content], 'hidden');\n      }\n    }\n\n    handleAriaContentAttribute();\n    handleAriaExpandedAttribute();\n\n    if (instance.props.animation) {\n      if (getIsDefaultRenderFn()) {\n        onTransitionedOut(duration, instance.unmount);\n      }\n    } else {\n      instance.unmount();\n    }\n  }\n\n  function hideWithInteractivity(event) {\n    /* istanbul ignore else */\n    if (process.env.NODE_ENV !== \"production\") {\n      warnWhen(instance.state.isDestroyed, createMemoryLeakWarning('hideWithInteractivity'));\n    }\n\n    getDocument().addEventListener('mousemove', debouncedOnMouseMove);\n    pushIfUnique(mouseMoveListeners, debouncedOnMouseMove);\n    debouncedOnMouseMove(event);\n  }\n\n  function unmount() {\n    /* istanbul ignore else */\n    if (process.env.NODE_ENV !== \"production\") {\n      warnWhen(instance.state.isDestroyed, createMemoryLeakWarning('unmount'));\n    }\n\n    if (instance.state.isVisible) {\n      instance.hide();\n    }\n\n    if (!instance.state.isMounted) {\n      return;\n    }\n\n    destroyPopperInstance(); // If a popper is not interactive, it will be appended outside the popper\n    // tree by default. This seems mainly for interactive tippies, but we should\n    // find a workaround if possible\n\n    getNestedPopperTree().forEach(function (nestedPopper) {\n      nestedPopper._tippy.unmount();\n    });\n\n    if (popper.parentNode) {\n      popper.parentNode.removeChild(popper);\n    }\n\n    mountedInstances = mountedInstances.filter(function (i) {\n      return i !== instance;\n    });\n    instance.state.isMounted = false;\n    invokeHook('onHidden', [instance]);\n  }\n\n  function destroy() {\n    /* istanbul ignore else */\n    if (process.env.NODE_ENV !== \"production\") {\n      warnWhen(instance.state.isDestroyed, createMemoryLeakWarning('destroy'));\n    }\n\n    if (instance.state.isDestroyed) {\n      return;\n    }\n\n    instance.clearDelayTimeouts();\n    instance.unmount();\n    removeListeners();\n    delete reference._tippy;\n    instance.state.isDestroyed = true;\n    invokeHook('onDestroy', [instance]);\n  }\n}\n\nfunction tippy(targets, optionalProps) {\n  if (optionalProps === void 0) {\n    optionalProps = {};\n  }\n\n  var plugins = defaultProps.plugins.concat(optionalProps.plugins || []);\n  /* istanbul ignore else */\n\n  if (process.env.NODE_ENV !== \"production\") {\n    validateTargets(targets);\n    validateProps(optionalProps, plugins);\n  }\n\n  bindGlobalEventListeners();\n  var passedProps = Object.assign({}, optionalProps, {\n    plugins: plugins\n  });\n  var elements = getArrayOfElements(targets);\n  /* istanbul ignore else */\n\n  if (process.env.NODE_ENV !== \"production\") {\n    var isSingleContentElement = isElement(passedProps.content);\n    var isMoreThanOneReferenceElement = elements.length > 1;\n    warnWhen(isSingleContentElement && isMoreThanOneReferenceElement, ['tippy() was passed an Element as the `content` prop, but more than', 'one tippy instance was created by this invocation. This means the', 'content element will only be appended to the last tippy instance.', '\\n\\n', 'Instead, pass the .innerHTML of the element, or use a function that', 'returns a cloned version of the element instead.', '\\n\\n', '1) content: element.innerHTML\\n', '2) content: () => element.cloneNode(true)'].join(' '));\n  }\n\n  var instances = elements.reduce(function (acc, reference) {\n    var instance = reference && createTippy(reference, passedProps);\n\n    if (instance) {\n      acc.push(instance);\n    }\n\n    return acc;\n  }, []);\n  return isElement(targets) ? instances[0] : instances;\n}\n\ntippy.defaultProps = defaultProps;\ntippy.setDefaultProps = setDefaultProps;\ntippy.currentInput = currentInput;\nvar hideAll = function hideAll(_temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n      excludedReferenceOrInstance = _ref.exclude,\n      duration = _ref.duration;\n\n  mountedInstances.forEach(function (instance) {\n    var isExcluded = false;\n\n    if (excludedReferenceOrInstance) {\n      isExcluded = isReferenceElement(excludedReferenceOrInstance) ? instance.reference === excludedReferenceOrInstance : instance.popper === excludedReferenceOrInstance.popper;\n    }\n\n    if (!isExcluded) {\n      var originalDuration = instance.props.duration;\n      instance.setProps({\n        duration: duration\n      });\n      instance.hide();\n\n      if (!instance.state.isDestroyed) {\n        instance.setProps({\n          duration: originalDuration\n        });\n      }\n    }\n  });\n};\n\n// every time the popper is destroyed (i.e. a new target), removing the styles\n// and causing transitions to break for singletons when the console is open, but\n// most notably for non-transform styles being used, `gpuAcceleration: false`.\n\nvar applyStylesModifier = Object.assign({}, applyStyles, {\n  effect: function effect(_ref) {\n    var state = _ref.state;\n    var initialStyles = {\n      popper: {\n        position: state.options.strategy,\n        left: '0',\n        top: '0',\n        margin: '0'\n      },\n      arrow: {\n        position: 'absolute'\n      },\n      reference: {}\n    };\n    Object.assign(state.elements.popper.style, initialStyles.popper);\n    state.styles = initialStyles;\n\n    if (state.elements.arrow) {\n      Object.assign(state.elements.arrow.style, initialStyles.arrow);\n    } // intentionally return no cleanup function\n    // return () => { ... }\n\n  }\n});\n\nvar createSingleton = function createSingleton(tippyInstances, optionalProps) {\n  var _optionalProps$popper;\n\n  if (optionalProps === void 0) {\n    optionalProps = {};\n  }\n\n  /* istanbul ignore else */\n  if (process.env.NODE_ENV !== \"production\") {\n    errorWhen(!Array.isArray(tippyInstances), ['The first argument passed to createSingleton() must be an array of', 'tippy instances. The passed value was', String(tippyInstances)].join(' '));\n  }\n\n  var individualInstances = tippyInstances;\n  var references = [];\n  var triggerTargets = [];\n  var currentTarget;\n  var overrides = optionalProps.overrides;\n  var interceptSetPropsCleanups = [];\n  var shownOnCreate = false;\n\n  function setTriggerTargets() {\n    triggerTargets = individualInstances.map(function (instance) {\n      return normalizeToArray(instance.props.triggerTarget || instance.reference);\n    }).reduce(function (acc, item) {\n      return acc.concat(item);\n    }, []);\n  }\n\n  function setReferences() {\n    references = individualInstances.map(function (instance) {\n      return instance.reference;\n    });\n  }\n\n  function enableInstances(isEnabled) {\n    individualInstances.forEach(function (instance) {\n      if (isEnabled) {\n        instance.enable();\n      } else {\n        instance.disable();\n      }\n    });\n  }\n\n  function interceptSetProps(singleton) {\n    return individualInstances.map(function (instance) {\n      var originalSetProps = instance.setProps;\n\n      instance.setProps = function (props) {\n        originalSetProps(props);\n\n        if (instance.reference === currentTarget) {\n          singleton.setProps(props);\n        }\n      };\n\n      return function () {\n        instance.setProps = originalSetProps;\n      };\n    });\n  } // have to pass singleton, as it maybe undefined on first call\n\n\n  function prepareInstance(singleton, target) {\n    var index = triggerTargets.indexOf(target); // bail-out\n\n    if (target === currentTarget) {\n      return;\n    }\n\n    currentTarget = target;\n    var overrideProps = (overrides || []).concat('content').reduce(function (acc, prop) {\n      acc[prop] = individualInstances[index].props[prop];\n      return acc;\n    }, {});\n    singleton.setProps(Object.assign({}, overrideProps, {\n      getReferenceClientRect: typeof overrideProps.getReferenceClientRect === 'function' ? overrideProps.getReferenceClientRect : function () {\n        var _references$index;\n\n        return (_references$index = references[index]) == null ? void 0 : _references$index.getBoundingClientRect();\n      }\n    }));\n  }\n\n  enableInstances(false);\n  setReferences();\n  setTriggerTargets();\n  var plugin = {\n    fn: function fn() {\n      return {\n        onDestroy: function onDestroy() {\n          enableInstances(true);\n        },\n        onHidden: function onHidden() {\n          currentTarget = null;\n        },\n        onClickOutside: function onClickOutside(instance) {\n          if (instance.props.showOnCreate && !shownOnCreate) {\n            shownOnCreate = true;\n            currentTarget = null;\n          }\n        },\n        onShow: function onShow(instance) {\n          if (instance.props.showOnCreate && !shownOnCreate) {\n            shownOnCreate = true;\n            prepareInstance(instance, references[0]);\n          }\n        },\n        onTrigger: function onTrigger(instance, event) {\n          prepareInstance(instance, event.currentTarget);\n        }\n      };\n    }\n  };\n  var singleton = tippy(div(), Object.assign({}, removeProperties(optionalProps, ['overrides']), {\n    plugins: [plugin].concat(optionalProps.plugins || []),\n    triggerTarget: triggerTargets,\n    popperOptions: Object.assign({}, optionalProps.popperOptions, {\n      modifiers: [].concat(((_optionalProps$popper = optionalProps.popperOptions) == null ? void 0 : _optionalProps$popper.modifiers) || [], [applyStylesModifier])\n    })\n  }));\n  var originalShow = singleton.show;\n\n  singleton.show = function (target) {\n    originalShow(); // first time, showOnCreate or programmatic call with no params\n    // default to showing first instance\n\n    if (!currentTarget && target == null) {\n      return prepareInstance(singleton, references[0]);\n    } // triggered from event (do nothing as prepareInstance already called by onTrigger)\n    // programmatic call with no params when already visible (do nothing again)\n\n\n    if (currentTarget && target == null) {\n      return;\n    } // target is index of instance\n\n\n    if (typeof target === 'number') {\n      return references[target] && prepareInstance(singleton, references[target]);\n    } // target is a child tippy instance\n\n\n    if (individualInstances.indexOf(target) >= 0) {\n      var ref = target.reference;\n      return prepareInstance(singleton, ref);\n    } // target is a ReferenceElement\n\n\n    if (references.indexOf(target) >= 0) {\n      return prepareInstance(singleton, target);\n    }\n  };\n\n  singleton.showNext = function () {\n    var first = references[0];\n\n    if (!currentTarget) {\n      return singleton.show(0);\n    }\n\n    var index = references.indexOf(currentTarget);\n    singleton.show(references[index + 1] || first);\n  };\n\n  singleton.showPrevious = function () {\n    var last = references[references.length - 1];\n\n    if (!currentTarget) {\n      return singleton.show(last);\n    }\n\n    var index = references.indexOf(currentTarget);\n    var target = references[index - 1] || last;\n    singleton.show(target);\n  };\n\n  var originalSetProps = singleton.setProps;\n\n  singleton.setProps = function (props) {\n    overrides = props.overrides || overrides;\n    originalSetProps(props);\n  };\n\n  singleton.setInstances = function (nextInstances) {\n    enableInstances(true);\n    interceptSetPropsCleanups.forEach(function (fn) {\n      return fn();\n    });\n    individualInstances = nextInstances;\n    enableInstances(false);\n    setReferences();\n    setTriggerTargets();\n    interceptSetPropsCleanups = interceptSetProps(singleton);\n    singleton.setProps({\n      triggerTarget: triggerTargets\n    });\n  };\n\n  interceptSetPropsCleanups = interceptSetProps(singleton);\n  return singleton;\n};\n\nvar BUBBLING_EVENTS_MAP = {\n  mouseover: 'mouseenter',\n  focusin: 'focus',\n  click: 'click'\n};\n/**\n * Creates a delegate instance that controls the creation of tippy instances\n * for child elements (`target` CSS selector).\n */\n\nfunction delegate(targets, props) {\n  /* istanbul ignore else */\n  if (process.env.NODE_ENV !== \"production\") {\n    errorWhen(!(props && props.target), ['You must specity a `target` prop indicating a CSS selector string matching', 'the target elements that should receive a tippy.'].join(' '));\n  }\n\n  var listeners = [];\n  var childTippyInstances = [];\n  var disabled = false;\n  var target = props.target;\n  var nativeProps = removeProperties(props, ['target']);\n  var parentProps = Object.assign({}, nativeProps, {\n    trigger: 'manual',\n    touch: false\n  });\n  var childProps = Object.assign({\n    touch: defaultProps.touch\n  }, nativeProps, {\n    showOnCreate: true\n  });\n  var returnValue = tippy(targets, parentProps);\n  var normalizedReturnValue = normalizeToArray(returnValue);\n\n  function onTrigger(event) {\n    if (!event.target || disabled) {\n      return;\n    }\n\n    var targetNode = event.target.closest(target);\n\n    if (!targetNode) {\n      return;\n    } // Get relevant trigger with fallbacks:\n    // 1. Check `data-tippy-trigger` attribute on target node\n    // 2. Fallback to `trigger` passed to `delegate()`\n    // 3. Fallback to `defaultProps.trigger`\n\n\n    var trigger = targetNode.getAttribute('data-tippy-trigger') || props.trigger || defaultProps.trigger; // @ts-ignore\n\n    if (targetNode._tippy) {\n      return;\n    }\n\n    if (event.type === 'touchstart' && typeof childProps.touch === 'boolean') {\n      return;\n    }\n\n    if (event.type !== 'touchstart' && trigger.indexOf(BUBBLING_EVENTS_MAP[event.type]) < 0) {\n      return;\n    }\n\n    var instance = tippy(targetNode, childProps);\n\n    if (instance) {\n      childTippyInstances = childTippyInstances.concat(instance);\n    }\n  }\n\n  function on(node, eventType, handler, options) {\n    if (options === void 0) {\n      options = false;\n    }\n\n    node.addEventListener(eventType, handler, options);\n    listeners.push({\n      node: node,\n      eventType: eventType,\n      handler: handler,\n      options: options\n    });\n  }\n\n  function addEventListeners(instance) {\n    var reference = instance.reference;\n    on(reference, 'touchstart', onTrigger, TOUCH_OPTIONS);\n    on(reference, 'mouseover', onTrigger);\n    on(reference, 'focusin', onTrigger);\n    on(reference, 'click', onTrigger);\n  }\n\n  function removeEventListeners() {\n    listeners.forEach(function (_ref) {\n      var node = _ref.node,\n          eventType = _ref.eventType,\n          handler = _ref.handler,\n          options = _ref.options;\n      node.removeEventListener(eventType, handler, options);\n    });\n    listeners = [];\n  }\n\n  function applyMutations(instance) {\n    var originalDestroy = instance.destroy;\n    var originalEnable = instance.enable;\n    var originalDisable = instance.disable;\n\n    instance.destroy = function (shouldDestroyChildInstances) {\n      if (shouldDestroyChildInstances === void 0) {\n        shouldDestroyChildInstances = true;\n      }\n\n      if (shouldDestroyChildInstances) {\n        childTippyInstances.forEach(function (instance) {\n          instance.destroy();\n        });\n      }\n\n      childTippyInstances = [];\n      removeEventListeners();\n      originalDestroy();\n    };\n\n    instance.enable = function () {\n      originalEnable();\n      childTippyInstances.forEach(function (instance) {\n        return instance.enable();\n      });\n      disabled = false;\n    };\n\n    instance.disable = function () {\n      originalDisable();\n      childTippyInstances.forEach(function (instance) {\n        return instance.disable();\n      });\n      disabled = true;\n    };\n\n    addEventListeners(instance);\n  }\n\n  normalizedReturnValue.forEach(applyMutations);\n  return returnValue;\n}\n\nvar animateFill = {\n  name: 'animateFill',\n  defaultValue: false,\n  fn: function fn(instance) {\n    var _instance$props$rende;\n\n    // @ts-ignore\n    if (!((_instance$props$rende = instance.props.render) != null && _instance$props$rende.$$tippy)) {\n      if (process.env.NODE_ENV !== \"production\") {\n        errorWhen(instance.props.animateFill, 'The `animateFill` plugin requires the default render function.');\n      }\n\n      return {};\n    }\n\n    var _getChildren = getChildren(instance.popper),\n        box = _getChildren.box,\n        content = _getChildren.content;\n\n    var backdrop = instance.props.animateFill ? createBackdropElement() : null;\n    return {\n      onCreate: function onCreate() {\n        if (backdrop) {\n          box.insertBefore(backdrop, box.firstElementChild);\n          box.setAttribute('data-animatefill', '');\n          box.style.overflow = 'hidden';\n          instance.setProps({\n            arrow: false,\n            animation: 'shift-away'\n          });\n        }\n      },\n      onMount: function onMount() {\n        if (backdrop) {\n          var transitionDuration = box.style.transitionDuration;\n          var duration = Number(transitionDuration.replace('ms', '')); // The content should fade in after the backdrop has mostly filled the\n          // tooltip element. `clip-path` is the other alternative but is not\n          // well-supported and is buggy on some devices.\n\n          content.style.transitionDelay = Math.round(duration / 10) + \"ms\";\n          backdrop.style.transitionDuration = transitionDuration;\n          setVisibilityState([backdrop], 'visible');\n        }\n      },\n      onShow: function onShow() {\n        if (backdrop) {\n          backdrop.style.transitionDuration = '0ms';\n        }\n      },\n      onHide: function onHide() {\n        if (backdrop) {\n          setVisibilityState([backdrop], 'hidden');\n        }\n      }\n    };\n  }\n};\n\nfunction createBackdropElement() {\n  var backdrop = div();\n  backdrop.className = BACKDROP_CLASS;\n  setVisibilityState([backdrop], 'hidden');\n  return backdrop;\n}\n\nvar mouseCoords = {\n  clientX: 0,\n  clientY: 0\n};\nvar activeInstances = [];\n\nfunction storeMouseCoords(_ref) {\n  var clientX = _ref.clientX,\n      clientY = _ref.clientY;\n  mouseCoords = {\n    clientX: clientX,\n    clientY: clientY\n  };\n}\n\nfunction addMouseCoordsListener(doc) {\n  doc.addEventListener('mousemove', storeMouseCoords);\n}\n\nfunction removeMouseCoordsListener(doc) {\n  doc.removeEventListener('mousemove', storeMouseCoords);\n}\n\nvar followCursor = {\n  name: 'followCursor',\n  defaultValue: false,\n  fn: function fn(instance) {\n    var reference = instance.reference;\n    var doc = getOwnerDocument(instance.props.triggerTarget || reference);\n    var isInternalUpdate = false;\n    var wasFocusEvent = false;\n    var isUnmounted = true;\n    var prevProps = instance.props;\n\n    function getIsInitialBehavior() {\n      return instance.props.followCursor === 'initial' && instance.state.isVisible;\n    }\n\n    function addListener() {\n      doc.addEventListener('mousemove', onMouseMove);\n    }\n\n    function removeListener() {\n      doc.removeEventListener('mousemove', onMouseMove);\n    }\n\n    function unsetGetReferenceClientRect() {\n      isInternalUpdate = true;\n      instance.setProps({\n        getReferenceClientRect: null\n      });\n      isInternalUpdate = false;\n    }\n\n    function onMouseMove(event) {\n      // If the instance is interactive, avoid updating the position unless it's\n      // over the reference element\n      var isCursorOverReference = event.target ? reference.contains(event.target) : true;\n      var followCursor = instance.props.followCursor;\n      var clientX = event.clientX,\n          clientY = event.clientY;\n      var rect = reference.getBoundingClientRect();\n      var relativeX = clientX - rect.left;\n      var relativeY = clientY - rect.top;\n\n      if (isCursorOverReference || !instance.props.interactive) {\n        instance.setProps({\n          // @ts-ignore - unneeded DOMRect properties\n          getReferenceClientRect: function getReferenceClientRect() {\n            var rect = reference.getBoundingClientRect();\n            var x = clientX;\n            var y = clientY;\n\n            if (followCursor === 'initial') {\n              x = rect.left + relativeX;\n              y = rect.top + relativeY;\n            }\n\n            var top = followCursor === 'horizontal' ? rect.top : y;\n            var right = followCursor === 'vertical' ? rect.right : x;\n            var bottom = followCursor === 'horizontal' ? rect.bottom : y;\n            var left = followCursor === 'vertical' ? rect.left : x;\n            return {\n              width: right - left,\n              height: bottom - top,\n              top: top,\n              right: right,\n              bottom: bottom,\n              left: left\n            };\n          }\n        });\n      }\n    }\n\n    function create() {\n      if (instance.props.followCursor) {\n        activeInstances.push({\n          instance: instance,\n          doc: doc\n        });\n        addMouseCoordsListener(doc);\n      }\n    }\n\n    function destroy() {\n      activeInstances = activeInstances.filter(function (data) {\n        return data.instance !== instance;\n      });\n\n      if (activeInstances.filter(function (data) {\n        return data.doc === doc;\n      }).length === 0) {\n        removeMouseCoordsListener(doc);\n      }\n    }\n\n    return {\n      onCreate: create,\n      onDestroy: destroy,\n      onBeforeUpdate: function onBeforeUpdate() {\n        prevProps = instance.props;\n      },\n      onAfterUpdate: function onAfterUpdate(_, _ref2) {\n        var followCursor = _ref2.followCursor;\n\n        if (isInternalUpdate) {\n          return;\n        }\n\n        if (followCursor !== undefined && prevProps.followCursor !== followCursor) {\n          destroy();\n\n          if (followCursor) {\n            create();\n\n            if (instance.state.isMounted && !wasFocusEvent && !getIsInitialBehavior()) {\n              addListener();\n            }\n          } else {\n            removeListener();\n            unsetGetReferenceClientRect();\n          }\n        }\n      },\n      onMount: function onMount() {\n        if (instance.props.followCursor && !wasFocusEvent) {\n          if (isUnmounted) {\n            onMouseMove(mouseCoords);\n            isUnmounted = false;\n          }\n\n          if (!getIsInitialBehavior()) {\n            addListener();\n          }\n        }\n      },\n      onTrigger: function onTrigger(_, event) {\n        if (isMouseEvent(event)) {\n          mouseCoords = {\n            clientX: event.clientX,\n            clientY: event.clientY\n          };\n        }\n\n        wasFocusEvent = event.type === 'focus';\n      },\n      onHidden: function onHidden() {\n        if (instance.props.followCursor) {\n          unsetGetReferenceClientRect();\n          removeListener();\n          isUnmounted = true;\n        }\n      }\n    };\n  }\n};\n\nfunction getProps(props, modifier) {\n  var _props$popperOptions;\n\n  return {\n    popperOptions: Object.assign({}, props.popperOptions, {\n      modifiers: [].concat((((_props$popperOptions = props.popperOptions) == null ? void 0 : _props$popperOptions.modifiers) || []).filter(function (_ref) {\n        var name = _ref.name;\n        return name !== modifier.name;\n      }), [modifier])\n    })\n  };\n}\n\nvar inlinePositioning = {\n  name: 'inlinePositioning',\n  defaultValue: false,\n  fn: function fn(instance) {\n    var reference = instance.reference;\n\n    function isEnabled() {\n      return !!instance.props.inlinePositioning;\n    }\n\n    var placement;\n    var cursorRectIndex = -1;\n    var isInternalUpdate = false;\n    var triedPlacements = [];\n    var modifier = {\n      name: 'tippyInlinePositioning',\n      enabled: true,\n      phase: 'afterWrite',\n      fn: function fn(_ref2) {\n        var state = _ref2.state;\n\n        if (isEnabled()) {\n          if (triedPlacements.indexOf(state.placement) !== -1) {\n            triedPlacements = [];\n          }\n\n          if (placement !== state.placement && triedPlacements.indexOf(state.placement) === -1) {\n            triedPlacements.push(state.placement);\n            instance.setProps({\n              // @ts-ignore - unneeded DOMRect properties\n              getReferenceClientRect: function getReferenceClientRect() {\n                return _getReferenceClientRect(state.placement);\n              }\n            });\n          }\n\n          placement = state.placement;\n        }\n      }\n    };\n\n    function _getReferenceClientRect(placement) {\n      return getInlineBoundingClientRect(getBasePlacement(placement), reference.getBoundingClientRect(), arrayFrom(reference.getClientRects()), cursorRectIndex);\n    }\n\n    function setInternalProps(partialProps) {\n      isInternalUpdate = true;\n      instance.setProps(partialProps);\n      isInternalUpdate = false;\n    }\n\n    function addModifier() {\n      if (!isInternalUpdate) {\n        setInternalProps(getProps(instance.props, modifier));\n      }\n    }\n\n    return {\n      onCreate: addModifier,\n      onAfterUpdate: addModifier,\n      onTrigger: function onTrigger(_, event) {\n        if (isMouseEvent(event)) {\n          var rects = arrayFrom(instance.reference.getClientRects());\n          var cursorRect = rects.find(function (rect) {\n            return rect.left - 2 <= event.clientX && rect.right + 2 >= event.clientX && rect.top - 2 <= event.clientY && rect.bottom + 2 >= event.clientY;\n          });\n          var index = rects.indexOf(cursorRect);\n          cursorRectIndex = index > -1 ? index : cursorRectIndex;\n        }\n      },\n      onHidden: function onHidden() {\n        cursorRectIndex = -1;\n      }\n    };\n  }\n};\nfunction getInlineBoundingClientRect(currentBasePlacement, boundingRect, clientRects, cursorRectIndex) {\n  // Not an inline element, or placement is not yet known\n  if (clientRects.length < 2 || currentBasePlacement === null) {\n    return boundingRect;\n  } // There are two rects and they are disjoined\n\n\n  if (clientRects.length === 2 && cursorRectIndex >= 0 && clientRects[0].left > clientRects[1].right) {\n    return clientRects[cursorRectIndex] || boundingRect;\n  }\n\n  switch (currentBasePlacement) {\n    case 'top':\n    case 'bottom':\n      {\n        var firstRect = clientRects[0];\n        var lastRect = clientRects[clientRects.length - 1];\n        var isTop = currentBasePlacement === 'top';\n        var top = firstRect.top;\n        var bottom = lastRect.bottom;\n        var left = isTop ? firstRect.left : lastRect.left;\n        var right = isTop ? firstRect.right : lastRect.right;\n        var width = right - left;\n        var height = bottom - top;\n        return {\n          top: top,\n          bottom: bottom,\n          left: left,\n          right: right,\n          width: width,\n          height: height\n        };\n      }\n\n    case 'left':\n    case 'right':\n      {\n        var minLeft = Math.min.apply(Math, clientRects.map(function (rects) {\n          return rects.left;\n        }));\n        var maxRight = Math.max.apply(Math, clientRects.map(function (rects) {\n          return rects.right;\n        }));\n        var measureRects = clientRects.filter(function (rect) {\n          return currentBasePlacement === 'left' ? rect.left === minLeft : rect.right === maxRight;\n        });\n        var _top = measureRects[0].top;\n        var _bottom = measureRects[measureRects.length - 1].bottom;\n        var _left = minLeft;\n        var _right = maxRight;\n\n        var _width = _right - _left;\n\n        var _height = _bottom - _top;\n\n        return {\n          top: _top,\n          bottom: _bottom,\n          left: _left,\n          right: _right,\n          width: _width,\n          height: _height\n        };\n      }\n\n    default:\n      {\n        return boundingRect;\n      }\n  }\n}\n\nvar sticky = {\n  name: 'sticky',\n  defaultValue: false,\n  fn: function fn(instance) {\n    var reference = instance.reference,\n        popper = instance.popper;\n\n    function getReference() {\n      return instance.popperInstance ? instance.popperInstance.state.elements.reference : reference;\n    }\n\n    function shouldCheck(value) {\n      return instance.props.sticky === true || instance.props.sticky === value;\n    }\n\n    var prevRefRect = null;\n    var prevPopRect = null;\n\n    function updatePosition() {\n      var currentRefRect = shouldCheck('reference') ? getReference().getBoundingClientRect() : null;\n      var currentPopRect = shouldCheck('popper') ? popper.getBoundingClientRect() : null;\n\n      if (currentRefRect && areRectsDifferent(prevRefRect, currentRefRect) || currentPopRect && areRectsDifferent(prevPopRect, currentPopRect)) {\n        if (instance.popperInstance) {\n          instance.popperInstance.update();\n        }\n      }\n\n      prevRefRect = currentRefRect;\n      prevPopRect = currentPopRect;\n\n      if (instance.state.isMounted) {\n        requestAnimationFrame(updatePosition);\n      }\n    }\n\n    return {\n      onMount: function onMount() {\n        if (instance.props.sticky) {\n          updatePosition();\n        }\n      }\n    };\n  }\n};\n\nfunction areRectsDifferent(rectA, rectB) {\n  if (rectA && rectB) {\n    return rectA.top !== rectB.top || rectA.right !== rectB.right || rectA.bottom !== rectB.bottom || rectA.left !== rectB.left;\n  }\n\n  return true;\n}\n\ntippy.setDefaultProps({\n  render: render\n});\n\nexport default tippy;\nexport { animateFill, createSingleton, delegate, followCursor, hideAll, inlinePositioning, ROUND_ARROW as roundArrow, sticky };\n","","","","","import * as i0 from '@angular/core';\nimport { forwardRef, EventEmitter, Component, ChangeDetectionStrategy, ViewEncapsulation, Input, Output, ViewChild, NgModule } from '@angular/core';\nimport { trigger, transition, style, animate } from '@angular/animations';\nimport * as i2 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport { DomHandler, ConnectedOverlayScrollHandler } from 'primeng/dom';\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { ZIndexUtils } from 'primeng/utils';\nimport * as i1 from 'primeng/api';\n\nconst COLORPICKER_VALUE_ACCESSOR = {\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef(() => ColorPicker),\n    multi: true\n};\nclass ColorPicker {\n    constructor(el, renderer, cd, config, overlayService) {\n        this.el = el;\n        this.renderer = renderer;\n        this.cd = cd;\n        this.config = config;\n        this.overlayService = overlayService;\n        this.format = 'hex';\n        this.autoZIndex = true;\n        this.baseZIndex = 0;\n        this.showTransitionOptions = '.12s cubic-bezier(0, 0, 0.2, 1)';\n        this.hideTransitionOptions = '.1s linear';\n        this.onChange = new EventEmitter();\n        this.onShow = new EventEmitter();\n        this.onHide = new EventEmitter();\n        this.value = { h: 0, s: 100, b: 100 };\n        this.defaultColor = 'ff0000';\n        this.onModelChange = () => { };\n        this.onModelTouched = () => { };\n    }\n    set colorSelector(element) {\n        this.colorSelectorViewChild = element;\n    }\n    set colorHandle(element) {\n        this.colorHandleViewChild = element;\n    }\n    set hue(element) {\n        this.hueViewChild = element;\n    }\n    set hueHandle(element) {\n        this.hueHandleViewChild = element;\n    }\n    onHueMousedown(event) {\n        if (this.disabled) {\n            return;\n        }\n        this.bindDocumentMousemoveListener();\n        this.bindDocumentMouseupListener();\n        this.hueDragging = true;\n        this.pickHue(event);\n    }\n    onHueTouchStart(event) {\n        if (this.disabled) {\n            return;\n        }\n        this.hueDragging = true;\n        this.pickHue(event, event.changedTouches[0]);\n    }\n    onColorTouchStart(event) {\n        if (this.disabled) {\n            return;\n        }\n        this.colorDragging = true;\n        this.pickColor(event, event.changedTouches[0]);\n    }\n    pickHue(event, position) {\n        let pageY = position ? position.pageY : event.pageY;\n        let top = this.hueViewChild.nativeElement.getBoundingClientRect().top + (window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0);\n        this.value = this.validateHSB({\n            h: Math.floor(360 * (150 - Math.max(0, Math.min(150, (pageY - top)))) / 150),\n            s: this.value.s,\n            b: this.value.b\n        });\n        this.updateColorSelector();\n        this.updateUI();\n        this.updateModel();\n        this.onChange.emit({ originalEvent: event, value: this.getValueToUpdate() });\n    }\n    onColorMousedown(event) {\n        if (this.disabled) {\n            return;\n        }\n        this.bindDocumentMousemoveListener();\n        this.bindDocumentMouseupListener();\n        this.colorDragging = true;\n        this.pickColor(event);\n    }\n    onMove(event) {\n        if (this.colorDragging) {\n            this.pickColor(event, event.changedTouches[0]);\n            event.preventDefault();\n        }\n        if (this.hueDragging) {\n            this.pickHue(event, event.changedTouches[0]);\n            event.preventDefault();\n        }\n    }\n    onDragEnd() {\n        this.colorDragging = false;\n        this.hueDragging = false;\n        this.unbindDocumentMousemoveListener();\n        this.unbindDocumentMouseupListener();\n    }\n    pickColor(event, position) {\n        let pageX = position ? position.pageX : event.pageX;\n        let pageY = position ? position.pageY : event.pageY;\n        let rect = this.colorSelectorViewChild.nativeElement.getBoundingClientRect();\n        let top = rect.top + (window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0);\n        let left = rect.left + document.body.scrollLeft;\n        let saturation = Math.floor(100 * (Math.max(0, Math.min(150, ((pageX) - left)))) / 150);\n        let brightness = Math.floor(100 * (150 - Math.max(0, Math.min(150, ((pageY) - top)))) / 150);\n        this.value = this.validateHSB({\n            h: this.value.h,\n            s: saturation,\n            b: brightness\n        });\n        this.updateUI();\n        this.updateModel();\n        this.onChange.emit({ originalEvent: event, value: this.getValueToUpdate() });\n    }\n    getValueToUpdate() {\n        let val;\n        switch (this.format) {\n            case 'hex':\n                val = '#' + this.HSBtoHEX(this.value);\n                break;\n            case 'rgb':\n                val = this.HSBtoRGB(this.value);\n                break;\n            case 'hsb':\n                val = this.value;\n                break;\n        }\n        return val;\n    }\n    updateModel() {\n        this.onModelChange(this.getValueToUpdate());\n    }\n    writeValue(value) {\n        if (value) {\n            switch (this.format) {\n                case 'hex':\n                    this.value = this.HEXtoHSB(value);\n                    break;\n                case 'rgb':\n                    this.value = this.RGBtoHSB(value);\n                    break;\n                case 'hsb':\n                    this.value = value;\n                    break;\n            }\n        }\n        else {\n            this.value = this.HEXtoHSB(this.defaultColor);\n        }\n        this.updateColorSelector();\n        this.updateUI();\n        this.cd.markForCheck();\n    }\n    updateColorSelector() {\n        if (this.colorSelectorViewChild) {\n            const hsb = {};\n            hsb.s = 100;\n            hsb.b = 100;\n            hsb.h = this.value.h;\n            this.colorSelectorViewChild.nativeElement.style.backgroundColor = '#' + this.HSBtoHEX(hsb);\n        }\n    }\n    updateUI() {\n        if (this.colorHandleViewChild && this.hueHandleViewChild.nativeElement) {\n            this.colorHandleViewChild.nativeElement.style.left = Math.floor(150 * this.value.s / 100) + 'px';\n            this.colorHandleViewChild.nativeElement.style.top = Math.floor(150 * (100 - this.value.b) / 100) + 'px';\n            this.hueHandleViewChild.nativeElement.style.top = Math.floor(150 - (150 * this.value.h / 360)) + 'px';\n        }\n        this.inputBgColor = '#' + this.HSBtoHEX(this.value);\n    }\n    onInputFocus() {\n        this.onModelTouched();\n    }\n    show() {\n        this.overlayVisible = true;\n        this.cd.markForCheck();\n    }\n    onOverlayAnimationStart(event) {\n        switch (event.toState) {\n            case 'visible':\n                if (!this.inline) {\n                    this.overlay = event.element;\n                    this.appendOverlay();\n                    if (this.autoZIndex) {\n                        ZIndexUtils.set('overlay', this.overlay, this.config.zIndex.overlay);\n                    }\n                    this.alignOverlay();\n                    this.bindDocumentClickListener();\n                    this.bindDocumentResizeListener();\n                    this.bindScrollListener();\n                    this.updateColorSelector();\n                    this.updateUI();\n                }\n                break;\n            case 'void':\n                this.onOverlayHide();\n                break;\n        }\n    }\n    onOverlayAnimationEnd(event) {\n        switch (event.toState) {\n            case 'visible':\n                if (!this.inline) {\n                    this.onShow.emit({});\n                }\n                break;\n            case 'void':\n                if (this.autoZIndex) {\n                    ZIndexUtils.clear(event.element);\n                }\n                this.onHide.emit({});\n                break;\n        }\n    }\n    appendOverlay() {\n        if (this.appendTo) {\n            if (this.appendTo === 'body')\n                document.body.appendChild(this.overlay);\n            else\n                DomHandler.appendChild(this.overlay, this.appendTo);\n        }\n    }\n    restoreOverlayAppend() {\n        if (this.overlay && this.appendTo) {\n            this.el.nativeElement.appendChild(this.overlay);\n        }\n    }\n    alignOverlay() {\n        if (this.appendTo)\n            DomHandler.absolutePosition(this.overlay, this.inputViewChild.nativeElement);\n        else\n            DomHandler.relativePosition(this.overlay, this.inputViewChild.nativeElement);\n    }\n    hide() {\n        this.overlayVisible = false;\n        this.cd.markForCheck();\n    }\n    onInputClick() {\n        this.selfClick = true;\n        this.togglePanel();\n    }\n    togglePanel() {\n        if (!this.overlayVisible)\n            this.show();\n        else\n            this.hide();\n    }\n    onInputKeydown(event) {\n        switch (event.which) {\n            //space\n            case 32:\n                this.togglePanel();\n                event.preventDefault();\n                break;\n            //escape and tab\n            case 27:\n            case 9:\n                this.hide();\n                break;\n        }\n    }\n    onOverlayClick(event) {\n        this.overlayService.add({\n            originalEvent: event,\n            target: this.el.nativeElement\n        });\n        this.selfClick = true;\n    }\n    registerOnChange(fn) {\n        this.onModelChange = fn;\n    }\n    registerOnTouched(fn) {\n        this.onModelTouched = fn;\n    }\n    setDisabledState(val) {\n        this.disabled = val;\n        this.cd.markForCheck();\n    }\n    bindDocumentClickListener() {\n        if (!this.documentClickListener) {\n            const documentTarget = this.el ? this.el.nativeElement.ownerDocument : 'document';\n            this.documentClickListener = this.renderer.listen(documentTarget, 'click', () => {\n                if (!this.selfClick) {\n                    this.overlayVisible = false;\n                    this.unbindDocumentClickListener();\n                }\n                this.selfClick = false;\n                this.cd.markForCheck();\n            });\n        }\n    }\n    unbindDocumentClickListener() {\n        if (this.documentClickListener) {\n            this.documentClickListener();\n            this.documentClickListener = null;\n        }\n    }\n    bindDocumentMousemoveListener() {\n        if (!this.documentMousemoveListener) {\n            const documentTarget = this.el ? this.el.nativeElement.ownerDocument : 'document';\n            this.documentMousemoveListener = this.renderer.listen(documentTarget, 'mousemove', (event) => {\n                if (this.colorDragging) {\n                    this.pickColor(event);\n                }\n                if (this.hueDragging) {\n                    this.pickHue(event);\n                }\n            });\n        }\n    }\n    unbindDocumentMousemoveListener() {\n        if (this.documentMousemoveListener) {\n            this.documentMousemoveListener();\n            this.documentMousemoveListener = null;\n        }\n    }\n    bindDocumentMouseupListener() {\n        if (!this.documentMouseupListener) {\n            const documentTarget = this.el ? this.el.nativeElement.ownerDocument : 'document';\n            this.documentMouseupListener = this.renderer.listen(documentTarget, 'mouseup', () => {\n                this.colorDragging = false;\n                this.hueDragging = false;\n                this.unbindDocumentMousemoveListener();\n                this.unbindDocumentMouseupListener();\n            });\n        }\n    }\n    unbindDocumentMouseupListener() {\n        if (this.documentMouseupListener) {\n            this.documentMouseupListener();\n            this.documentMouseupListener = null;\n        }\n    }\n    bindDocumentResizeListener() {\n        this.documentResizeListener = this.onWindowResize.bind(this);\n        window.addEventListener('resize', this.documentResizeListener);\n    }\n    unbindDocumentResizeListener() {\n        if (this.documentResizeListener) {\n            window.removeEventListener('resize', this.documentResizeListener);\n            this.documentResizeListener = null;\n        }\n    }\n    onWindowResize() {\n        if (this.overlayVisible && !DomHandler.isTouchDevice()) {\n            this.hide();\n        }\n    }\n    bindScrollListener() {\n        if (!this.scrollHandler) {\n            this.scrollHandler = new ConnectedOverlayScrollHandler(this.containerViewChild.nativeElement, () => {\n                if (this.overlayVisible) {\n                    this.hide();\n                }\n            });\n        }\n        this.scrollHandler.bindScrollListener();\n    }\n    unbindScrollListener() {\n        if (this.scrollHandler) {\n            this.scrollHandler.unbindScrollListener();\n        }\n    }\n    validateHSB(hsb) {\n        return {\n            h: Math.min(360, Math.max(0, hsb.h)),\n            s: Math.min(100, Math.max(0, hsb.s)),\n            b: Math.min(100, Math.max(0, hsb.b))\n        };\n    }\n    validateRGB(rgb) {\n        return {\n            r: Math.min(255, Math.max(0, rgb.r)),\n            g: Math.min(255, Math.max(0, rgb.g)),\n            b: Math.min(255, Math.max(0, rgb.b))\n        };\n    }\n    validateHEX(hex) {\n        var len = 6 - hex.length;\n        if (len > 0) {\n            var o = [];\n            for (var i = 0; i < len; i++) {\n                o.push('0');\n            }\n            o.push(hex);\n            hex = o.join('');\n        }\n        return hex;\n    }\n    HEXtoRGB(hex) {\n        let hexValue = parseInt(((hex.indexOf('#') > -1) ? hex.substring(1) : hex), 16);\n        return { r: hexValue >> 16, g: (hexValue & 0x00FF00) >> 8, b: (hexValue & 0x0000FF) };\n    }\n    HEXtoHSB(hex) {\n        return this.RGBtoHSB(this.HEXtoRGB(hex));\n    }\n    RGBtoHSB(rgb) {\n        var hsb = {\n            h: 0,\n            s: 0,\n            b: 0\n        };\n        var min = Math.min(rgb.r, rgb.g, rgb.b);\n        var max = Math.max(rgb.r, rgb.g, rgb.b);\n        var delta = max - min;\n        hsb.b = max;\n        hsb.s = max != 0 ? 255 * delta / max : 0;\n        if (hsb.s != 0) {\n            if (rgb.r == max) {\n                hsb.h = (rgb.g - rgb.b) / delta;\n            }\n            else if (rgb.g == max) {\n                hsb.h = 2 + (rgb.b - rgb.r) / delta;\n            }\n            else {\n                hsb.h = 4 + (rgb.r - rgb.g) / delta;\n            }\n        }\n        else {\n            hsb.h = -1;\n        }\n        hsb.h *= 60;\n        if (hsb.h < 0) {\n            hsb.h += 360;\n        }\n        hsb.s *= 100 / 255;\n        hsb.b *= 100 / 255;\n        return hsb;\n    }\n    HSBtoRGB(hsb) {\n        var rgb = {\n            r: null, g: null, b: null\n        };\n        let h = hsb.h;\n        let s = hsb.s * 255 / 100;\n        let v = hsb.b * 255 / 100;\n        if (s == 0) {\n            rgb = {\n                r: v,\n                g: v,\n                b: v\n            };\n        }\n        else {\n            let t1 = v;\n            let t2 = (255 - s) * v / 255;\n            let t3 = (t1 - t2) * (h % 60) / 60;\n            if (h == 360)\n                h = 0;\n            if (h < 60) {\n                rgb.r = t1;\n                rgb.b = t2;\n                rgb.g = t2 + t3;\n            }\n            else if (h < 120) {\n                rgb.g = t1;\n                rgb.b = t2;\n                rgb.r = t1 - t3;\n            }\n            else if (h < 180) {\n                rgb.g = t1;\n                rgb.r = t2;\n                rgb.b = t2 + t3;\n            }\n            else if (h < 240) {\n                rgb.b = t1;\n                rgb.r = t2;\n                rgb.g = t1 - t3;\n            }\n            else if (h < 300) {\n                rgb.b = t1;\n                rgb.g = t2;\n                rgb.r = t2 + t3;\n            }\n            else if (h < 360) {\n                rgb.r = t1;\n                rgb.g = t2;\n                rgb.b = t1 - t3;\n            }\n            else {\n                rgb.r = 0;\n                rgb.g = 0;\n                rgb.b = 0;\n            }\n        }\n        return { r: Math.round(rgb.r), g: Math.round(rgb.g), b: Math.round(rgb.b) };\n    }\n    RGBtoHEX(rgb) {\n        var hex = [\n            rgb.r.toString(16),\n            rgb.g.toString(16),\n            rgb.b.toString(16)\n        ];\n        for (var key in hex) {\n            if (hex[key].length == 1) {\n                hex[key] = '0' + hex[key];\n            }\n        }\n        return hex.join('');\n    }\n    HSBtoHEX(hsb) {\n        return this.RGBtoHEX(this.HSBtoRGB(hsb));\n    }\n    onOverlayHide() {\n        this.unbindScrollListener();\n        this.unbindDocumentResizeListener();\n        this.unbindDocumentClickListener();\n        this.overlay = null;\n    }\n    ngOnDestroy() {\n        if (this.scrollHandler) {\n            this.scrollHandler.destroy();\n            this.scrollHandler = null;\n        }\n        if (this.overlay && this.autoZIndex) {\n            ZIndexUtils.clear(this.overlay);\n        }\n        this.restoreOverlayAppend();\n        this.onOverlayHide();\n    }\n}\nColorPicker.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.0.6\", ngImport: i0, type: ColorPicker, deps: [{ token: i0.ElementRef }, { token: i0.Renderer2 }, { token: i0.ChangeDetectorRef }, { token: i1.PrimeNGConfig }, { token: i1.OverlayService }], target: i0.ɵɵFactoryTarget.Component });\nColorPicker.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"14.0.6\", type: ColorPicker, selector: \"p-colorPicker\", inputs: { style: \"style\", styleClass: \"styleClass\", inline: \"inline\", format: \"format\", appendTo: \"appendTo\", disabled: \"disabled\", tabindex: \"tabindex\", inputId: \"inputId\", autoZIndex: \"autoZIndex\", baseZIndex: \"baseZIndex\", showTransitionOptions: \"showTransitionOptions\", hideTransitionOptions: \"hideTransitionOptions\" }, outputs: { onChange: \"onChange\", onShow: \"onShow\", onHide: \"onHide\" }, host: { classAttribute: \"p-element\" }, providers: [COLORPICKER_VALUE_ACCESSOR], viewQueries: [{ propertyName: \"containerViewChild\", first: true, predicate: [\"container\"], descendants: true }, { propertyName: \"inputViewChild\", first: true, predicate: [\"input\"], descendants: true }, { propertyName: \"colorSelector\", first: true, predicate: [\"colorSelector\"], descendants: true }, { propertyName: \"colorHandle\", first: true, predicate: [\"colorHandle\"], descendants: true }, { propertyName: \"hue\", first: true, predicate: [\"hue\"], descendants: true }, { propertyName: \"hueHandle\", first: true, predicate: [\"hueHandle\"], descendants: true }], ngImport: i0, template: `\n        <div #container [ngStyle]=\"style\" [class]=\"styleClass\" [ngClass]=\"{'p-colorpicker p-component':true,'p-colorpicker-overlay':!inline,'p-colorpicker-dragging':colorDragging||hueDragging}\">\n            <input #input type=\"text\" *ngIf=\"!inline\" class=\"p-colorpicker-preview p-inputtext\" readonly=\"readonly\" [ngClass]=\"{'p-disabled': disabled}\"\n                (focus)=\"onInputFocus()\" (click)=\"onInputClick()\" (keydown)=\"onInputKeydown($event)\" [attr.id]=\"inputId\" [attr.tabindex]=\"tabindex\" [disabled]=\"disabled\"\n                [style.backgroundColor]=\"inputBgColor\">\n            <div *ngIf=\"inline || overlayVisible\" [ngClass]=\"{'p-colorpicker-panel': true, 'p-colorpicker-overlay-panel':!inline, 'p-disabled': disabled}\" (click)=\"onOverlayClick($event)\"\n                [@overlayAnimation]=\"{value: 'visible', params: {showTransitionParams: showTransitionOptions, hideTransitionParams: hideTransitionOptions}}\" [@.disabled]=\"inline === true\"\n                    (@overlayAnimation.start)=\"onOverlayAnimationStart($event)\" (@overlayAnimation.done)=\"onOverlayAnimationEnd($event)\">\n                <div class=\"p-colorpicker-content\">\n                    <div #colorSelector class=\"p-colorpicker-color-selector\" (touchstart)=\"onColorTouchStart($event)\" (touchmove)=\"onMove($event)\" (touchend)=\"onDragEnd()\" (mousedown)=\"onColorMousedown($event)\">\n                        <div class=\"p-colorpicker-color\">\n                            <div #colorHandle class=\"p-colorpicker-color-handle\"></div>\n                        </div>\n                    </div>\n                    <div #hue class=\"p-colorpicker-hue\" (mousedown)=\"onHueMousedown($event)\" (touchstart)=\"onHueTouchStart($event)\" (touchmove)=\"onMove($event)\" (touchend)=\"onDragEnd()\">\n                        <div #hueHandle class=\"p-colorpicker-hue-handle\"></div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    `, isInline: true, styles: [\".p-colorpicker{display:inline-block}.p-colorpicker-dragging{cursor:pointer}.p-colorpicker-overlay{position:relative}.p-colorpicker-panel{position:relative;width:193px;height:166px}.p-colorpicker-overlay-panel{position:absolute;top:0;left:0}.p-colorpicker-preview{cursor:pointer}.p-colorpicker-panel .p-colorpicker-content{position:relative}.p-colorpicker-panel .p-colorpicker-color-selector{width:150px;height:150px;top:8px;left:8px;position:absolute}.p-colorpicker-panel .p-colorpicker-color{width:150px;height:150px}.p-colorpicker-panel .p-colorpicker-color-handle{position:absolute;top:0px;left:150px;border-radius:100%;width:10px;height:10px;border-width:1px;border-style:solid;margin:-5px 0 0 -5px;cursor:pointer;opacity:.85}.p-colorpicker-panel .p-colorpicker-hue{width:17px;height:150px;top:8px;left:167px;position:absolute;opacity:.85}.p-colorpicker-panel .p-colorpicker-hue-handle{position:absolute;top:150px;left:0px;width:21px;margin-left:-2px;margin-top:-5px;height:10px;border-width:2px;border-style:solid;opacity:.85;cursor:pointer}\\n\"], dependencies: [{ kind: \"directive\", type: i2.NgClass, selector: \"[ngClass]\", inputs: [\"class\", \"ngClass\"] }, { kind: \"directive\", type: i2.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { kind: \"directive\", type: i2.NgStyle, selector: \"[ngStyle]\", inputs: [\"ngStyle\"] }], animations: [\n        trigger('overlayAnimation', [\n            transition(':enter', [\n                style({ opacity: 0, transform: 'scaleY(0.8)' }),\n                animate('{{showTransitionParams}}')\n            ]),\n            transition(':leave', [\n                animate('{{hideTransitionParams}}', style({ opacity: 0 }))\n            ])\n        ])\n    ], changeDetection: i0.ChangeDetectionStrategy.OnPush, encapsulation: i0.ViewEncapsulation.None });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.0.6\", ngImport: i0, type: ColorPicker, decorators: [{\n            type: Component,\n            args: [{ selector: 'p-colorPicker', template: `\n        <div #container [ngStyle]=\"style\" [class]=\"styleClass\" [ngClass]=\"{'p-colorpicker p-component':true,'p-colorpicker-overlay':!inline,'p-colorpicker-dragging':colorDragging||hueDragging}\">\n            <input #input type=\"text\" *ngIf=\"!inline\" class=\"p-colorpicker-preview p-inputtext\" readonly=\"readonly\" [ngClass]=\"{'p-disabled': disabled}\"\n                (focus)=\"onInputFocus()\" (click)=\"onInputClick()\" (keydown)=\"onInputKeydown($event)\" [attr.id]=\"inputId\" [attr.tabindex]=\"tabindex\" [disabled]=\"disabled\"\n                [style.backgroundColor]=\"inputBgColor\">\n            <div *ngIf=\"inline || overlayVisible\" [ngClass]=\"{'p-colorpicker-panel': true, 'p-colorpicker-overlay-panel':!inline, 'p-disabled': disabled}\" (click)=\"onOverlayClick($event)\"\n                [@overlayAnimation]=\"{value: 'visible', params: {showTransitionParams: showTransitionOptions, hideTransitionParams: hideTransitionOptions}}\" [@.disabled]=\"inline === true\"\n                    (@overlayAnimation.start)=\"onOverlayAnimationStart($event)\" (@overlayAnimation.done)=\"onOverlayAnimationEnd($event)\">\n                <div class=\"p-colorpicker-content\">\n                    <div #colorSelector class=\"p-colorpicker-color-selector\" (touchstart)=\"onColorTouchStart($event)\" (touchmove)=\"onMove($event)\" (touchend)=\"onDragEnd()\" (mousedown)=\"onColorMousedown($event)\">\n                        <div class=\"p-colorpicker-color\">\n                            <div #colorHandle class=\"p-colorpicker-color-handle\"></div>\n                        </div>\n                    </div>\n                    <div #hue class=\"p-colorpicker-hue\" (mousedown)=\"onHueMousedown($event)\" (touchstart)=\"onHueTouchStart($event)\" (touchmove)=\"onMove($event)\" (touchend)=\"onDragEnd()\">\n                        <div #hueHandle class=\"p-colorpicker-hue-handle\"></div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    `, animations: [\n                        trigger('overlayAnimation', [\n                            transition(':enter', [\n                                style({ opacity: 0, transform: 'scaleY(0.8)' }),\n                                animate('{{showTransitionParams}}')\n                            ]),\n                            transition(':leave', [\n                                animate('{{hideTransitionParams}}', style({ opacity: 0 }))\n                            ])\n                        ])\n                    ], providers: [COLORPICKER_VALUE_ACCESSOR], changeDetection: ChangeDetectionStrategy.OnPush, encapsulation: ViewEncapsulation.None, host: {\n                        'class': 'p-element'\n                    }, styles: [\".p-colorpicker{display:inline-block}.p-colorpicker-dragging{cursor:pointer}.p-colorpicker-overlay{position:relative}.p-colorpicker-panel{position:relative;width:193px;height:166px}.p-colorpicker-overlay-panel{position:absolute;top:0;left:0}.p-colorpicker-preview{cursor:pointer}.p-colorpicker-panel .p-colorpicker-content{position:relative}.p-colorpicker-panel .p-colorpicker-color-selector{width:150px;height:150px;top:8px;left:8px;position:absolute}.p-colorpicker-panel .p-colorpicker-color{width:150px;height:150px}.p-colorpicker-panel .p-colorpicker-color-handle{position:absolute;top:0px;left:150px;border-radius:100%;width:10px;height:10px;border-width:1px;border-style:solid;margin:-5px 0 0 -5px;cursor:pointer;opacity:.85}.p-colorpicker-panel .p-colorpicker-hue{width:17px;height:150px;top:8px;left:167px;position:absolute;opacity:.85}.p-colorpicker-panel .p-colorpicker-hue-handle{position:absolute;top:150px;left:0px;width:21px;margin-left:-2px;margin-top:-5px;height:10px;border-width:2px;border-style:solid;opacity:.85;cursor:pointer}\\n\"] }]\n        }], ctorParameters: function () { return [{ type: i0.ElementRef }, { type: i0.Renderer2 }, { type: i0.ChangeDetectorRef }, { type: i1.PrimeNGConfig }, { type: i1.OverlayService }]; }, propDecorators: { style: [{\n                type: Input\n            }], styleClass: [{\n                type: Input\n            }], inline: [{\n                type: Input\n            }], format: [{\n                type: Input\n            }], appendTo: [{\n                type: Input\n            }], disabled: [{\n                type: Input\n            }], tabindex: [{\n                type: Input\n            }], inputId: [{\n                type: Input\n            }], autoZIndex: [{\n                type: Input\n            }], baseZIndex: [{\n                type: Input\n            }], showTransitionOptions: [{\n                type: Input\n            }], hideTransitionOptions: [{\n                type: Input\n            }], onChange: [{\n                type: Output\n            }], onShow: [{\n                type: Output\n            }], onHide: [{\n                type: Output\n            }], containerViewChild: [{\n                type: ViewChild,\n                args: ['container']\n            }], inputViewChild: [{\n                type: ViewChild,\n                args: ['input']\n            }], colorSelector: [{\n                type: ViewChild,\n                args: ['colorSelector']\n            }], colorHandle: [{\n                type: ViewChild,\n                args: ['colorHandle']\n            }], hue: [{\n                type: ViewChild,\n                args: ['hue']\n            }], hueHandle: [{\n                type: ViewChild,\n                args: ['hueHandle']\n            }] } });\nclass ColorPickerModule {\n}\nColorPickerModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.0.6\", ngImport: i0, type: ColorPickerModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nColorPickerModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"14.0.0\", version: \"14.0.6\", ngImport: i0, type: ColorPickerModule, declarations: [ColorPicker], imports: [CommonModule], exports: [ColorPicker] });\nColorPickerModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"14.0.6\", ngImport: i0, type: ColorPickerModule, imports: [CommonModule] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.0.6\", ngImport: i0, type: ColorPickerModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [CommonModule],\n                    exports: [ColorPicker],\n                    declarations: [ColorPicker]\n                }]\n        }] });\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { COLORPICKER_VALUE_ACCESSOR, ColorPicker, ColorPickerModule };\n","import * as i0 from '@angular/core';\nimport { forwardRef, EventEmitter, Component, ChangeDetectionStrategy, ViewEncapsulation, Input, Output, NgModule } from '@angular/core';\nimport * as i1 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\n\nconst INPUTSWITCH_VALUE_ACCESSOR = {\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef(() => InputSwitch),\n    multi: true\n};\nclass InputSwitch {\n    constructor(cd) {\n        this.cd = cd;\n        this.trueValue = true;\n        this.falseValue = false;\n        this.onChange = new EventEmitter();\n        this.modelValue = false;\n        this.focused = false;\n        this.onModelChange = () => { };\n        this.onModelTouched = () => { };\n    }\n    onClick(event, cb) {\n        if (!this.disabled && !this.readonly) {\n            event.preventDefault();\n            this.toggle(event);\n            cb.focus();\n        }\n    }\n    onInputChange(event) {\n        if (!this.readonly) {\n            const inputChecked = event.target.checked;\n            this.updateModel(event, inputChecked);\n        }\n    }\n    toggle(event) {\n        this.updateModel(event, !this.checked());\n    }\n    updateModel(event, value) {\n        this.modelValue = value ? this.trueValue : this.falseValue;\n        this.onModelChange(this.modelValue);\n        this.onChange.emit({\n            originalEvent: event,\n            checked: this.modelValue\n        });\n    }\n    onFocus(event) {\n        this.focused = true;\n    }\n    onBlur(event) {\n        this.focused = false;\n        this.onModelTouched();\n    }\n    writeValue(value) {\n        this.modelValue = value;\n        this.cd.markForCheck();\n    }\n    registerOnChange(fn) {\n        this.onModelChange = fn;\n    }\n    registerOnTouched(fn) {\n        this.onModelTouched = fn;\n    }\n    setDisabledState(val) {\n        this.disabled = val;\n        this.cd.markForCheck();\n    }\n    checked() {\n        return this.modelValue === this.trueValue;\n    }\n}\nInputSwitch.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.0.6\", ngImport: i0, type: InputSwitch, deps: [{ token: i0.ChangeDetectorRef }], target: i0.ɵɵFactoryTarget.Component });\nInputSwitch.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"14.0.6\", type: InputSwitch, selector: \"p-inputSwitch\", inputs: { style: \"style\", styleClass: \"styleClass\", tabindex: \"tabindex\", inputId: \"inputId\", name: \"name\", disabled: \"disabled\", readonly: \"readonly\", trueValue: \"trueValue\", falseValue: \"falseValue\", ariaLabel: \"ariaLabel\", ariaLabelledBy: \"ariaLabelledBy\" }, outputs: { onChange: \"onChange\" }, host: { classAttribute: \"p-element\" }, providers: [INPUTSWITCH_VALUE_ACCESSOR], ngImport: i0, template: `\n        <div [ngClass]=\"{'p-inputswitch p-component': true, 'p-inputswitch-checked': checked(), 'p-disabled': disabled, 'p-focus': focused}\"\n            [ngStyle]=\"style\" [class]=\"styleClass\" (click)=\"onClick($event, cb)\">\n            <div class=\"p-hidden-accessible\">\n                <input #cb type=\"checkbox\" [attr.aria-label]=\"ariaLabel\" [attr.id]=\"inputId\" [attr.name]=\"name\" [attr.tabindex]=\"tabindex\" [checked]=\"checked()\" (change)=\"onInputChange($event)\"\n                    (focus)=\"onFocus($event)\" (blur)=\"onBlur($event)\" [disabled]=\"disabled\" role=\"switch\" [attr.aria-checked]=\"checked()\" [attr.aria-labelledby]=\"ariaLabelledBy\"/>\n            </div>\n            <span class=\"p-inputswitch-slider\"></span>\n        </div>\n    `, isInline: true, styles: [\".p-inputswitch{position:relative;display:inline-block;-webkit-user-select:none;user-select:none}.p-inputswitch-slider{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0}.p-inputswitch-slider:before{position:absolute;content:\\\"\\\";top:50%}\\n\"], dependencies: [{ kind: \"directive\", type: i1.NgClass, selector: \"[ngClass]\", inputs: [\"class\", \"ngClass\"] }, { kind: \"directive\", type: i1.NgStyle, selector: \"[ngStyle]\", inputs: [\"ngStyle\"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush, encapsulation: i0.ViewEncapsulation.None });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.0.6\", ngImport: i0, type: InputSwitch, decorators: [{\n            type: Component,\n            args: [{ selector: 'p-inputSwitch', template: `\n        <div [ngClass]=\"{'p-inputswitch p-component': true, 'p-inputswitch-checked': checked(), 'p-disabled': disabled, 'p-focus': focused}\"\n            [ngStyle]=\"style\" [class]=\"styleClass\" (click)=\"onClick($event, cb)\">\n            <div class=\"p-hidden-accessible\">\n                <input #cb type=\"checkbox\" [attr.aria-label]=\"ariaLabel\" [attr.id]=\"inputId\" [attr.name]=\"name\" [attr.tabindex]=\"tabindex\" [checked]=\"checked()\" (change)=\"onInputChange($event)\"\n                    (focus)=\"onFocus($event)\" (blur)=\"onBlur($event)\" [disabled]=\"disabled\" role=\"switch\" [attr.aria-checked]=\"checked()\" [attr.aria-labelledby]=\"ariaLabelledBy\"/>\n            </div>\n            <span class=\"p-inputswitch-slider\"></span>\n        </div>\n    `, providers: [INPUTSWITCH_VALUE_ACCESSOR], changeDetection: ChangeDetectionStrategy.OnPush, encapsulation: ViewEncapsulation.None, host: {\n                        'class': 'p-element'\n                    }, styles: [\".p-inputswitch{position:relative;display:inline-block;-webkit-user-select:none;user-select:none}.p-inputswitch-slider{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0}.p-inputswitch-slider:before{position:absolute;content:\\\"\\\";top:50%}\\n\"] }]\n        }], ctorParameters: function () { return [{ type: i0.ChangeDetectorRef }]; }, propDecorators: { style: [{\n                type: Input\n            }], styleClass: [{\n                type: Input\n            }], tabindex: [{\n                type: Input\n            }], inputId: [{\n                type: Input\n            }], name: [{\n                type: Input\n            }], disabled: [{\n                type: Input\n            }], readonly: [{\n                type: Input\n            }], trueValue: [{\n                type: Input\n            }], falseValue: [{\n                type: Input\n            }], ariaLabel: [{\n                type: Input\n            }], ariaLabelledBy: [{\n                type: Input\n            }], onChange: [{\n                type: Output\n            }] } });\nclass InputSwitchModule {\n}\nInputSwitchModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.0.6\", ngImport: i0, type: InputSwitchModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nInputSwitchModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"14.0.0\", version: \"14.0.6\", ngImport: i0, type: InputSwitchModule, declarations: [InputSwitch], imports: [CommonModule], exports: [InputSwitch] });\nInputSwitchModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"14.0.6\", ngImport: i0, type: InputSwitchModule, imports: [CommonModule] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.0.6\", ngImport: i0, type: InputSwitchModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [CommonModule],\n                    exports: [InputSwitch],\n                    declarations: [InputSwitch]\n                }]\n        }] });\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { INPUTSWITCH_VALUE_ACCESSOR, InputSwitch, InputSwitchModule };\n","import * as i0 from '@angular/core';\nimport { forwardRef, EventEmitter, Component, ChangeDetectionStrategy, ViewEncapsulation, Input, Output, ViewChild, NgModule } from '@angular/core';\nimport * as i1 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport { DomHandler } from 'primeng/dom';\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\n\nconst SLIDER_VALUE_ACCESSOR = {\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef(() => Slider),\n    multi: true\n};\nclass Slider {\n    constructor(el, renderer, ngZone, cd) {\n        this.el = el;\n        this.renderer = renderer;\n        this.ngZone = ngZone;\n        this.cd = cd;\n        this.min = 0;\n        this.max = 100;\n        this.orientation = 'horizontal';\n        this.tabindex = 0;\n        this.onChange = new EventEmitter();\n        this.onSlideEnd = new EventEmitter();\n        this.handleValues = [];\n        this.onModelChange = () => { };\n        this.onModelTouched = () => { };\n        this.handleIndex = 0;\n    }\n    onMouseDown(event, index) {\n        if (this.disabled) {\n            return;\n        }\n        this.dragging = true;\n        this.updateDomData();\n        this.sliderHandleClick = true;\n        if (this.range && this.handleValues && this.handleValues[0] === this.max) {\n            this.handleIndex = 0;\n        }\n        else {\n            this.handleIndex = index;\n        }\n        this.bindDragListeners();\n        event.target.focus();\n        event.preventDefault();\n        if (this.animate) {\n            DomHandler.removeClass(this.el.nativeElement.children[0], 'p-slider-animate');\n        }\n    }\n    onTouchStart(event, index) {\n        if (this.disabled) {\n            return;\n        }\n        var touchobj = event.changedTouches[0];\n        this.startHandleValue = (this.range) ? this.handleValues[index] : this.handleValue;\n        this.dragging = true;\n        if (this.range && this.handleValues && this.handleValues[0] === this.max) {\n            this.handleIndex = 0;\n        }\n        else {\n            this.handleIndex = index;\n        }\n        if (this.orientation === 'horizontal') {\n            this.startx = parseInt(touchobj.clientX, 10);\n            this.barWidth = this.el.nativeElement.children[0].offsetWidth;\n        }\n        else {\n            this.starty = parseInt(touchobj.clientY, 10);\n            this.barHeight = this.el.nativeElement.children[0].offsetHeight;\n        }\n        if (this.animate) {\n            DomHandler.removeClass(this.el.nativeElement.children[0], 'p-slider-animate');\n        }\n        event.preventDefault();\n    }\n    onTouchMove(event, index) {\n        if (this.disabled) {\n            return;\n        }\n        var touchobj = event.changedTouches[0], handleValue = 0;\n        if (this.orientation === 'horizontal') {\n            handleValue = Math.floor(((parseInt(touchobj.clientX, 10) - this.startx) * 100) / (this.barWidth)) + this.startHandleValue;\n        }\n        else {\n            handleValue = Math.floor(((this.starty - parseInt(touchobj.clientY, 10)) * 100) / (this.barHeight)) + this.startHandleValue;\n        }\n        this.setValueFromHandle(event, handleValue);\n        event.preventDefault();\n    }\n    onTouchEnd(event, index) {\n        if (this.disabled) {\n            return;\n        }\n        this.dragging = false;\n        if (this.range)\n            this.onSlideEnd.emit({ originalEvent: event, values: this.values });\n        else\n            this.onSlideEnd.emit({ originalEvent: event, value: this.value });\n        if (this.animate) {\n            DomHandler.addClass(this.el.nativeElement.children[0], 'p-slider-animate');\n        }\n        event.preventDefault();\n    }\n    onBarClick(event) {\n        if (this.disabled) {\n            return;\n        }\n        if (!this.sliderHandleClick) {\n            this.updateDomData();\n            this.handleChange(event);\n        }\n        this.sliderHandleClick = false;\n    }\n    onHandleKeydown(event, handleIndex) {\n        if (this.disabled) {\n            return;\n        }\n        if (event.which == 38 || event.which == 39) {\n            this.spin(event, 1, handleIndex);\n        }\n        else if (event.which == 37 || event.which == 40) {\n            this.spin(event, -1, handleIndex);\n        }\n    }\n    spin(event, dir, handleIndex) {\n        let step = (this.step || 1) * dir;\n        if (this.range) {\n            this.handleIndex = handleIndex;\n            this.updateValue(this.values[this.handleIndex] + step);\n            this.updateHandleValue();\n        }\n        else {\n            this.updateValue(this.value + step);\n            this.updateHandleValue();\n        }\n        event.preventDefault();\n    }\n    handleChange(event) {\n        let handleValue = this.calculateHandleValue(event);\n        this.setValueFromHandle(event, handleValue);\n    }\n    bindDragListeners() {\n        this.ngZone.runOutsideAngular(() => {\n            const documentTarget = this.el ? this.el.nativeElement.ownerDocument : 'document';\n            if (!this.dragListener) {\n                this.dragListener = this.renderer.listen(documentTarget, 'mousemove', (event) => {\n                    if (this.dragging) {\n                        this.ngZone.run(() => {\n                            this.handleChange(event);\n                        });\n                    }\n                });\n            }\n            if (!this.mouseupListener) {\n                this.mouseupListener = this.renderer.listen(documentTarget, 'mouseup', (event) => {\n                    if (this.dragging) {\n                        this.dragging = false;\n                        this.ngZone.run(() => {\n                            if (this.range)\n                                this.onSlideEnd.emit({ originalEvent: event, values: this.values });\n                            else\n                                this.onSlideEnd.emit({ originalEvent: event, value: this.value });\n                            if (this.animate) {\n                                DomHandler.addClass(this.el.nativeElement.children[0], 'p-slider-animate');\n                            }\n                        });\n                    }\n                });\n            }\n        });\n    }\n    unbindDragListeners() {\n        if (this.dragListener) {\n            this.dragListener();\n        }\n        if (this.mouseupListener) {\n            this.mouseupListener();\n        }\n    }\n    setValueFromHandle(event, handleValue) {\n        this.sliderHandleClick = false;\n        let newValue = this.getValueFromHandle(handleValue);\n        if (this.range) {\n            if (this.step) {\n                this.handleStepChange(newValue, this.values[this.handleIndex]);\n            }\n            else {\n                this.handleValues[this.handleIndex] = handleValue;\n                this.updateValue(newValue, event);\n            }\n        }\n        else {\n            if (this.step) {\n                this.handleStepChange(newValue, this.value);\n            }\n            else {\n                this.handleValue = handleValue;\n                this.updateValue(newValue, event);\n            }\n        }\n        this.cd.markForCheck();\n    }\n    handleStepChange(newValue, oldValue) {\n        let diff = (newValue - oldValue);\n        let val = oldValue;\n        if (diff < 0) {\n            val = oldValue + Math.ceil(newValue / this.step - oldValue / this.step) * this.step;\n        }\n        else if (diff > 0) {\n            val = oldValue + Math.floor(newValue / this.step - oldValue / this.step) * this.step;\n        }\n        this.updateValue(val);\n        this.updateHandleValue();\n    }\n    writeValue(value) {\n        if (this.range)\n            this.values = value || [0, 0];\n        else\n            this.value = value || 0;\n        this.updateHandleValue();\n        this.cd.markForCheck();\n    }\n    registerOnChange(fn) {\n        this.onModelChange = fn;\n    }\n    registerOnTouched(fn) {\n        this.onModelTouched = fn;\n    }\n    setDisabledState(val) {\n        this.disabled = val;\n        this.cd.markForCheck();\n    }\n    get rangeStartLeft() {\n        return this.isVertical() ? null : this.handleValues[0] + '%';\n    }\n    get rangeStartBottom() {\n        return this.isVertical() ? this.handleValues[0] + '%' : 'auto';\n    }\n    get rangeEndLeft() {\n        return this.isVertical() ? null : this.handleValues[1] + '%';\n    }\n    get rangeEndBottom() {\n        return this.isVertical() ? this.handleValues[1] + '%' : 'auto';\n    }\n    isVertical() {\n        return this.orientation === 'vertical';\n    }\n    updateDomData() {\n        let rect = this.el.nativeElement.children[0].getBoundingClientRect();\n        this.initX = rect.left + DomHandler.getWindowScrollLeft();\n        this.initY = rect.top + DomHandler.getWindowScrollTop();\n        this.barWidth = this.el.nativeElement.children[0].offsetWidth;\n        this.barHeight = this.el.nativeElement.children[0].offsetHeight;\n    }\n    calculateHandleValue(event) {\n        if (this.orientation === 'horizontal')\n            return ((event.pageX - this.initX) * 100) / (this.barWidth);\n        else\n            return (((this.initY + this.barHeight) - event.pageY) * 100) / (this.barHeight);\n    }\n    updateHandleValue() {\n        if (this.range) {\n            this.handleValues[0] = (this.values[0] < this.min ? 0 : this.values[0] - this.min) * 100 / (this.max - this.min);\n            this.handleValues[1] = (this.values[1] > this.max ? 100 : this.values[1] - this.min) * 100 / (this.max - this.min);\n        }\n        else {\n            if (this.value < this.min)\n                this.handleValue = 0;\n            else if (this.value > this.max)\n                this.handleValue = 100;\n            else\n                this.handleValue = (this.value - this.min) * 100 / (this.max - this.min);\n        }\n    }\n    updateValue(val, event) {\n        if (this.range) {\n            let value = val;\n            if (this.handleIndex == 0) {\n                if (value < this.min) {\n                    value = this.min;\n                    this.handleValues[0] = 0;\n                }\n                else if (value > this.values[1]) {\n                    if (value > this.max) {\n                        value = this.max;\n                        this.handleValues[0] = 100;\n                    }\n                    this.handleValues[0] = value;\n                }\n                this.sliderHandleStart.nativeElement.focus();\n            }\n            else {\n                if (value > this.max) {\n                    value = this.max;\n                    this.handleValues[1] = 100;\n                    this.offset = this.handleValues[1];\n                }\n                else if (value < this.min) {\n                    value = this.min;\n                    this.handleValues[1] = value;\n                }\n                else if (value < this.values[0]) {\n                    this.offset = this.handleValues[1];\n                }\n                this.sliderHandleEnd.nativeElement.focus();\n            }\n            this.diff = Math.abs(this.handleValues[0] - this.handleValues[1]);\n            this.offset = Math.min(this.handleValues[0], this.handleValues[1]);\n            this.values[this.handleIndex] = this.getNormalizedValue(value);\n            let newValues = [this.minVal, this.maxVal];\n            this.onModelChange(newValues);\n            this.onChange.emit({ event: event, values: this.values });\n        }\n        else {\n            if (val < this.min) {\n                val = this.min;\n                this.handleValue = 0;\n            }\n            else if (val > this.max) {\n                val = this.max;\n                this.handleValue = 100;\n            }\n            this.value = this.getNormalizedValue(val);\n            this.onModelChange(this.value);\n            this.onChange.emit({ event: event, value: this.value });\n            this.sliderHandle.nativeElement.focus();\n        }\n    }\n    getValueFromHandle(handleValue) {\n        return (this.max - this.min) * (handleValue / 100) + this.min;\n    }\n    getDecimalsCount(value) {\n        if (value && Math.floor(value) !== value)\n            return value.toString().split(\".\")[1].length || 0;\n        return 0;\n    }\n    getNormalizedValue(val) {\n        let decimalsCount = this.getDecimalsCount(this.step);\n        if (decimalsCount > 0) {\n            return +val.toFixed(decimalsCount);\n        }\n        else {\n            return Math.floor(val);\n        }\n    }\n    ngOnDestroy() {\n        this.unbindDragListeners();\n    }\n    get minVal() {\n        return Math.min(this.values[1], this.values[0]);\n    }\n    get maxVal() {\n        return Math.max(this.values[1], this.values[0]);\n    }\n}\nSlider.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.0.6\", ngImport: i0, type: Slider, deps: [{ token: i0.ElementRef }, { token: i0.Renderer2 }, { token: i0.NgZone }, { token: i0.ChangeDetectorRef }], target: i0.ɵɵFactoryTarget.Component });\nSlider.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"14.0.6\", type: Slider, selector: \"p-slider\", inputs: { animate: \"animate\", disabled: \"disabled\", min: \"min\", max: \"max\", orientation: \"orientation\", step: \"step\", range: \"range\", style: \"style\", styleClass: \"styleClass\", ariaLabelledBy: \"ariaLabelledBy\", tabindex: \"tabindex\" }, outputs: { onChange: \"onChange\", onSlideEnd: \"onSlideEnd\" }, host: { classAttribute: \"p-element\" }, providers: [SLIDER_VALUE_ACCESSOR], viewQueries: [{ propertyName: \"sliderHandle\", first: true, predicate: [\"sliderHandle\"], descendants: true }, { propertyName: \"sliderHandleStart\", first: true, predicate: [\"sliderHandleStart\"], descendants: true }, { propertyName: \"sliderHandleEnd\", first: true, predicate: [\"sliderHandleEnd\"], descendants: true }], ngImport: i0, template: `\n        <div [ngStyle]=\"style\" [class]=\"styleClass\" [ngClass]=\"{'p-slider p-component':true,'p-disabled':disabled,\n            'p-slider-horizontal':orientation == 'horizontal','p-slider-vertical':orientation == 'vertical','p-slider-animate':animate}\"\n            (click)=\"onBarClick($event)\">\n            <span *ngIf=\"range && orientation == 'horizontal'\" class=\"p-slider-range\" [ngStyle]=\"{'left':offset !== null && offset !== undefined ? offset + '%' : handleValues[0] + '%',width: diff ? diff + '%' : handleValues[1] - handleValues[0] + '%'}\"></span>\n            <span *ngIf=\"range && orientation == 'vertical'\" class=\"p-slider-range\" [ngStyle]=\"{'bottom':offset !== null && offset !== undefined ? offset + '%' : handleValues[0] + '%',height: diff ? diff + '%' : handleValues[1] - handleValues[0] + '%'}\"></span>\n            <span *ngIf=\"!range && orientation=='vertical'\" class=\"p-slider-range\" [ngStyle]=\"{'height': handleValue + '%'}\"></span>\n            <span *ngIf=\"!range && orientation=='horizontal'\" class=\"p-slider-range\" [ngStyle]=\"{'width': handleValue + '%'}\"></span>\n            <span #sliderHandle *ngIf=\"!range\" [attr.tabindex]=\"disabled ? null : tabindex\" (keydown)=\"onHandleKeydown($event)\" class=\"p-slider-handle\" (mousedown)=\"onMouseDown($event)\" (touchstart)=\"onTouchStart($event)\" (touchmove)=\"onTouchMove($event)\" (touchend)=\"onTouchEnd($event)\"\n                [style.transition]=\"dragging ? 'none': null\" [ngStyle]=\"{'left': orientation == 'horizontal' ? handleValue + '%' : null,'bottom': orientation == 'vertical' ? handleValue + '%' : null}\"\n                [attr.aria-valuemin]=\"min\" [attr.aria-valuenow]=\"value\" [attr.aria-valuemax]=\"max\" [attr.aria-labelledby]=\"ariaLabelledBy\"></span>\n            <span #sliderHandleStart *ngIf=\"range\" [attr.tabindex]=\"disabled ? null : tabindex\" (keydown)=\"onHandleKeydown($event,0)\" (mousedown)=\"onMouseDown($event,0)\" (touchstart)=\"onTouchStart($event,0)\" (touchmove)=\"onTouchMove($event,0)\" (touchend)=\"onTouchEnd($event)\" [style.transition]=\"dragging ? 'none': null\" class=\"p-slider-handle\"\n                [ngStyle]=\"{'left': rangeStartLeft, 'bottom': rangeStartBottom}\" [ngClass]=\"{'p-slider-handle-active':handleIndex==0}\"\n                [attr.aria-valuemin]=\"min\" [attr.aria-valuenow]=\"value ? value[0] : null\" [attr.aria-valuemax]=\"max\" [attr.aria-labelledby]=\"ariaLabelledBy\"></span>\n            <span #sliderHandleEnd *ngIf=\"range\" [attr.tabindex]=\"disabled ? null : tabindex\" (keydown)=\"onHandleKeydown($event,1)\" (mousedown)=\"onMouseDown($event,1)\" (touchstart)=\"onTouchStart($event,1)\" (touchmove)=\"onTouchMove($event,1)\" (touchend)=\"onTouchEnd($event)\" [style.transition]=\"dragging ? 'none': null\" class=\"p-slider-handle\"\n                [ngStyle]=\"{'left': rangeEndLeft, 'bottom': rangeEndBottom}\" [ngClass]=\"{'p-slider-handle-active':handleIndex==1}\"\n                [attr.aria-valuemin]=\"min\" [attr.aria-valuenow]=\"value ? value[1] : null\" [attr.aria-valuemax]=\"max\" [attr.aria-labelledby]=\"ariaLabelledBy\"></span>\n        </div>\n    `, isInline: true, styles: [\".p-slider{position:relative}.p-slider .p-slider-handle{position:absolute;cursor:grab;touch-action:none;display:block}.p-slider-range{position:absolute;display:block}.p-slider-horizontal .p-slider-range{top:0;left:0;height:100%}.p-slider-horizontal .p-slider-handle{top:50%}.p-slider-vertical{height:100px}.p-slider-vertical .p-slider-handle{left:50%}.p-slider-vertical .p-slider-range{bottom:0;left:0;width:100%}\\n\"], dependencies: [{ kind: \"directive\", type: i1.NgClass, selector: \"[ngClass]\", inputs: [\"class\", \"ngClass\"] }, { kind: \"directive\", type: i1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { kind: \"directive\", type: i1.NgStyle, selector: \"[ngStyle]\", inputs: [\"ngStyle\"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush, encapsulation: i0.ViewEncapsulation.None });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.0.6\", ngImport: i0, type: Slider, decorators: [{\n            type: Component,\n            args: [{ selector: 'p-slider', template: `\n        <div [ngStyle]=\"style\" [class]=\"styleClass\" [ngClass]=\"{'p-slider p-component':true,'p-disabled':disabled,\n            'p-slider-horizontal':orientation == 'horizontal','p-slider-vertical':orientation == 'vertical','p-slider-animate':animate}\"\n            (click)=\"onBarClick($event)\">\n            <span *ngIf=\"range && orientation == 'horizontal'\" class=\"p-slider-range\" [ngStyle]=\"{'left':offset !== null && offset !== undefined ? offset + '%' : handleValues[0] + '%',width: diff ? diff + '%' : handleValues[1] - handleValues[0] + '%'}\"></span>\n            <span *ngIf=\"range && orientation == 'vertical'\" class=\"p-slider-range\" [ngStyle]=\"{'bottom':offset !== null && offset !== undefined ? offset + '%' : handleValues[0] + '%',height: diff ? diff + '%' : handleValues[1] - handleValues[0] + '%'}\"></span>\n            <span *ngIf=\"!range && orientation=='vertical'\" class=\"p-slider-range\" [ngStyle]=\"{'height': handleValue + '%'}\"></span>\n            <span *ngIf=\"!range && orientation=='horizontal'\" class=\"p-slider-range\" [ngStyle]=\"{'width': handleValue + '%'}\"></span>\n            <span #sliderHandle *ngIf=\"!range\" [attr.tabindex]=\"disabled ? null : tabindex\" (keydown)=\"onHandleKeydown($event)\" class=\"p-slider-handle\" (mousedown)=\"onMouseDown($event)\" (touchstart)=\"onTouchStart($event)\" (touchmove)=\"onTouchMove($event)\" (touchend)=\"onTouchEnd($event)\"\n                [style.transition]=\"dragging ? 'none': null\" [ngStyle]=\"{'left': orientation == 'horizontal' ? handleValue + '%' : null,'bottom': orientation == 'vertical' ? handleValue + '%' : null}\"\n                [attr.aria-valuemin]=\"min\" [attr.aria-valuenow]=\"value\" [attr.aria-valuemax]=\"max\" [attr.aria-labelledby]=\"ariaLabelledBy\"></span>\n            <span #sliderHandleStart *ngIf=\"range\" [attr.tabindex]=\"disabled ? null : tabindex\" (keydown)=\"onHandleKeydown($event,0)\" (mousedown)=\"onMouseDown($event,0)\" (touchstart)=\"onTouchStart($event,0)\" (touchmove)=\"onTouchMove($event,0)\" (touchend)=\"onTouchEnd($event)\" [style.transition]=\"dragging ? 'none': null\" class=\"p-slider-handle\"\n                [ngStyle]=\"{'left': rangeStartLeft, 'bottom': rangeStartBottom}\" [ngClass]=\"{'p-slider-handle-active':handleIndex==0}\"\n                [attr.aria-valuemin]=\"min\" [attr.aria-valuenow]=\"value ? value[0] : null\" [attr.aria-valuemax]=\"max\" [attr.aria-labelledby]=\"ariaLabelledBy\"></span>\n            <span #sliderHandleEnd *ngIf=\"range\" [attr.tabindex]=\"disabled ? null : tabindex\" (keydown)=\"onHandleKeydown($event,1)\" (mousedown)=\"onMouseDown($event,1)\" (touchstart)=\"onTouchStart($event,1)\" (touchmove)=\"onTouchMove($event,1)\" (touchend)=\"onTouchEnd($event)\" [style.transition]=\"dragging ? 'none': null\" class=\"p-slider-handle\"\n                [ngStyle]=\"{'left': rangeEndLeft, 'bottom': rangeEndBottom}\" [ngClass]=\"{'p-slider-handle-active':handleIndex==1}\"\n                [attr.aria-valuemin]=\"min\" [attr.aria-valuenow]=\"value ? value[1] : null\" [attr.aria-valuemax]=\"max\" [attr.aria-labelledby]=\"ariaLabelledBy\"></span>\n        </div>\n    `, providers: [SLIDER_VALUE_ACCESSOR], changeDetection: ChangeDetectionStrategy.OnPush, encapsulation: ViewEncapsulation.None, host: {\n                        'class': 'p-element'\n                    }, styles: [\".p-slider{position:relative}.p-slider .p-slider-handle{position:absolute;cursor:grab;touch-action:none;display:block}.p-slider-range{position:absolute;display:block}.p-slider-horizontal .p-slider-range{top:0;left:0;height:100%}.p-slider-horizontal .p-slider-handle{top:50%}.p-slider-vertical{height:100px}.p-slider-vertical .p-slider-handle{left:50%}.p-slider-vertical .p-slider-range{bottom:0;left:0;width:100%}\\n\"] }]\n        }], ctorParameters: function () { return [{ type: i0.ElementRef }, { type: i0.Renderer2 }, { type: i0.NgZone }, { type: i0.ChangeDetectorRef }]; }, propDecorators: { animate: [{\n                type: Input\n            }], disabled: [{\n                type: Input\n            }], min: [{\n                type: Input\n            }], max: [{\n                type: Input\n            }], orientation: [{\n                type: Input\n            }], step: [{\n                type: Input\n            }], range: [{\n                type: Input\n            }], style: [{\n                type: Input\n            }], styleClass: [{\n                type: Input\n            }], ariaLabelledBy: [{\n                type: Input\n            }], tabindex: [{\n                type: Input\n            }], onChange: [{\n                type: Output\n            }], onSlideEnd: [{\n                type: Output\n            }], sliderHandle: [{\n                type: ViewChild,\n                args: [\"sliderHandle\"]\n            }], sliderHandleStart: [{\n                type: ViewChild,\n                args: [\"sliderHandleStart\"]\n            }], sliderHandleEnd: [{\n                type: ViewChild,\n                args: [\"sliderHandleEnd\"]\n            }] } });\nclass SliderModule {\n}\nSliderModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.0.6\", ngImport: i0, type: SliderModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nSliderModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"14.0.0\", version: \"14.0.6\", ngImport: i0, type: SliderModule, declarations: [Slider], imports: [CommonModule], exports: [Slider] });\nSliderModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"14.0.6\", ngImport: i0, type: SliderModule, imports: [CommonModule] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.0.6\", ngImport: i0, type: SliderModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [CommonModule],\n                    exports: [Slider],\n                    declarations: [Slider]\n                }]\n        }] });\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { SLIDER_VALUE_ACCESSOR, Slider, SliderModule };\n"],"names":["deepEqual","Component","ViewEncapsulation","ElementRef","Input","NgModule","Calendar","globalPlugins","ɵngcc0","hasOwnProperty","Object","prototype","deepCopy","input","Array","isArray","map","Date","valueOf","mapHash","shallowCopy","val","slice","call","assign","func","output","key","OPTION_IS_DEEP","headerToolbar","footerToolbar","events","eventSources","resources","FullCalendarComponent","constructor","element","optionSnapshot","ngAfterViewInit","deepChangeDetection","options","optionVal","optionName","calendar","nativeElement","render","ngDoCheck","newOptions","newProcessedOptions","anyChanges","oldOptionNames","keys","pauseRendering","resetOptions","ngAfterContentChecked","resumeRendering","ngOnDestroy","destroy","getApi","ɵfac","FullCalendarComponent_Factory","t","ɵɵdirectiveInject","ɵcmp","ɵɵdefineComponent","type","selectors","inputs","decls","vars","template","FullCalendarComponent_Template","rf","ctx","styles","encapsulation","ctorParameters","propDecorators","ngDevMode","ɵsetClassMetadata","args","selector","None","FullCalendarModule","registerPlugins","plugins","push","FullCalendarModule_Factory","ɵmod","ɵɵdefineNgModule","ɵinj","ɵɵdefineInjector","declarations","imports","exports","ngJitMode","ɵɵsetNgModuleScope","__assign","__spreadArray","__extends","createContext","createRef","createElement","Fragment","createPortal","EventSourceApi","context","internalEventSource","remove","dispatch","sourceId","refetch","sourceIds","isRefetch","defineProperty","get","publicId","enumerable","configurable","meta","url","format","removeElement","el","parentNode","removeChild","elementClosest","closest","document","documentElement","contains","elementMatches","parentElement","nodeType","method","matches","matchesSelector","msMatchesSelector","findElements","container","containers","HTMLElement","allMatches","i","length","querySelectorAll","j","findDirectChildren","parent","parents","childNodes","children","childNode","PIXEL_PROP_RE","applyStyle","props","propName","applyStyleProp","name","style","test","getEventTargetViaRoot","ev","_a","_b","composedPath","target","getElRoot","getRootNode","guid$1","getUniqueDomId","preventDefault","buildDelegationHandler","handler","matchedChild","listenBySelector","eventType","attachedHandler","addEventListener","removeEventListener","listenToHoverBySelector","onMouseEnter","onMouseLeave","currentMatchedChild","mouseOverEv","realOnMouseLeave_1","mouseLeaveEv","transitionEventNames","whenTransitionDone","callback","realCallback","forEach","eventName","createAriaClickAttrs","onClick","createAriaKeyboardAttrs","tabIndex","onKeyDown","guidNumber","guid","String","disableCursor","body","classList","add","enableCursor","preventSelection","allowSelection","preventContextMenu","allowContextMenu","parseFieldSpecs","specs","tokens","token","split","charAt","field","substring","order","compareByFieldSpecs","obj0","obj1","fieldSpecs","cmp","compareByFieldSpec","fieldSpec","flexibleCompare","a","b","localeCompare","padStart","len","s","substr","formatWithOrdinals","formatter","fallbackText","apply","reduce","str","arg","index","replace","compareNumbers","isInt","n","computeSmallestCellWidth","cellEl","allWidthEl","querySelector","contentWidthEl","Error","getBoundingClientRect","width","DAY_IDS","addWeeks","m","dateToUtcArray","arrayToUtcDate","addDays","addMs","diffWeeks","m0","m1","diffDays","diffHours","diffMinutes","diffSeconds","diffDayAndTime","m0day","startOfDay","m1day","years","months","days","Math","round","milliseconds","diffWholeWeeks","d","diffWholeDays","timeAsMs","getUTCFullYear","getUTCMonth","getUTCDate","startOfHour","getUTCHours","startOfMinute","getUTCMinutes","startOfSecond","getUTCSeconds","weekOfYear","marker","dow","doy","y","w","weekOfGivenYear","nextW","min","year","firstWeekStart","firstWeekOffset","dayStart","floor","fwd","fwdlw","getUTCDay","dateToLocalArray","date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","arrayToLocalDate","getUTCMilliseconds","concat","UTC","isValidDate","isNaN","createEventInstance","defId","range","forcedStartTzo","forcedEndTzo","instanceId","mergeProps","propObjs","complexPropsMap","dest","name_1","complexObjs","unshift","undefined","name_2","filterHash","hash","filtered","newHash","arrayToHash","_i","a_1","item","buildHashFromArray","tuple","hashValuesToArray","obj","isPropsEqual","getUnequalProps","compareObjs","oldProps","newProps","equalityFuncs","isObjValsEqual","val0","val1","comparator","collectFromHash","startIndex","endIndex","step","res","parseRecurring","refined","defaultAllDay","dateEnv","recurringTypes","parsed","parse","allDay","allDayGuess","duration","typeData","typeId","expandRecurring","eventStore","framingRange","pluginHooks","defs","instances","instance","recurringDef","def","defaultAllDayEventDuration","defaultTimedEventDuration","starts","expandRecurringRanges","starts_1","start","end","eventDef","typeDef","markers","expand","subtract","INTERNAL_UNITS","PARSE_RE","createDuration","unit","parseString","parseObject","exec","sign","parseInt","month","day","hours","hour","minutes","minute","seconds","second","millisecond","ms","weeks","week","specifiedWeeks","durationsEqual","d0","d1","asCleanDays","dur","addDurations","subtractDurations","multiplyDuration","asRoughYears","asRoughDays","asRoughMonths","asRoughMs","asRoughMinutes","asRoughSeconds","wholeDivideDurations","numerator","denominator","localRes","greatestDurationDenominator","value","buildIsoString","timeZoneOffset","stripZeroTime","toISOString","formatTimeZoneOffset","formatDayString","formatIsoTimeString","doIso","abs","mins","removeExact","array","exactVal","removeCnt","splice","isArraysEqual","a0","a1","equalityFunc","memoize","workerFunc","resEquality","teardownFunc","currentArgs","currentRes","newArgs","arguments","memoizeObjArg","_this","currentArg","newArg","memoizeArraylike","currentArgSets","currentResults","newArgSets","currentLen","newLen","memoizeHashlike","currentArgHash","currentResHash","newArgHash","newResHash","EXTENDED_SETTINGS_AND_SEVERITIES","separator","omitZeroMinute","meridiem","omitCommas","STANDARD_DATE_PROP_SEVERITIES","timeZoneName","era","weekday","MERIDIEM_RE","COMMA_RE","MULTI_SPACE_RE","LTR_RE","UTC_RE","NativeFormatter","formatSettings","standardDateProps","extendedSettings","severity","max","buildFormattingFunc","formatRange","betterDefaultSeparator","diffSeverity","computeMarkerDiffSeverity","calendarSystem","biggestUnitForPartial","full0","full1","partialDateProps","computePartialFormattingOptions","partialFormattingFunc","partial0","partial1","insertion","findCommonInsertion","defaultSeparator","before","after","getLargestUnit","standardDatePropCnt","formatWeekNumber","computeWeekNumber","weekText","weekTextLong","locale","buildNativeFormattingFunc","sanitizeSettings","timeZone","normalFormat","Intl","DateTimeFormat","codes","zeroFormat","zeroProps","postProcess","injectTzoStr","trim","toLocaleLowerCase","tzoStr","replaced","num","display","parts","simpleNumberFormat","direction","reverse","join","ca","getMarkerYear","getMarkerMonth","getMarkerDay","biggestUnit","partialOptions","i0","found0","indexOf","before0","after0","i1","found1","before1","after1","expandZonedMarker","dateInfo","markerToArray","createVerboseFormattingArg","startInfo","endInfo","localeCodes","CmdFormatter","cmdStr","cmdFormatter","FuncFormatter","createFormatter","BASE_OPTION_REFINERS","navLinkDayClick","identity","navLinkWeekClick","bootstrapFontAwesome","buttonIcons","customButtons","nextDayThreshold","scrollTime","scrollTimeReset","Boolean","slotMinTime","slotMaxTime","dayPopoverFormat","slotDuration","snapDuration","defaultRangeSeparator","titleRangeSeparator","forceEventDuration","dayHeaders","dayHeaderFormat","dayHeaderClassNames","dayHeaderContent","dayHeaderDidMount","dayHeaderWillUnmount","dayCellClassNames","dayCellContent","dayCellDidMount","dayCellWillUnmount","initialView","aspectRatio","Number","weekends","weekNumberCalculation","weekNumbers","weekNumberClassNames","weekNumberContent","weekNumberDidMount","weekNumberWillUnmount","editable","viewClassNames","viewDidMount","viewWillUnmount","nowIndicator","nowIndicatorClassNames","nowIndicatorContent","nowIndicatorDidMount","nowIndicatorWillUnmount","showNonCurrentDates","lazyFetching","startParam","endParam","timeZoneParam","locales","themeSystem","dragRevertDuration","dragScroll","allDayMaintainDuration","unselectAuto","dropAccept","eventOrder","eventOrderStrict","handleWindowResize","windowResizeDelay","longPressDelay","eventDragMinDistance","expandRows","height","contentHeight","weekNumberFormat","eventResizableFromStart","displayEventTime","displayEventEnd","progressiveEventRendering","businessHours","initialDate","now","eventDataTransform","stickyHeaderDates","stickyFooterScrollbar","viewHeight","eventSourceFailure","eventSourceSuccess","eventDisplay","eventStartEditable","eventDurationEditable","eventOverlap","eventConstraint","eventAllow","eventBackgroundColor","eventBorderColor","eventTextColor","eventColor","eventClassNames","eventContent","eventDidMount","eventWillUnmount","selectConstraint","selectOverlap","selectAllow","droppable","unselectCancel","slotLabelFormat","slotLaneClassNames","slotLaneContent","slotLaneDidMount","slotLaneWillUnmount","slotLabelClassNames","slotLabelContent","slotLabelDidMount","slotLabelWillUnmount","dayMaxEvents","dayMaxEventRows","dayMinWidth","slotLabelInterval","allDayText","allDayClassNames","allDayContent","allDayDidMount","allDayWillUnmount","slotMinWidth","navLinks","eventTimeFormat","rerenderDelay","moreLinkText","moreLinkHint","selectMinDistance","selectable","selectLongPressDelay","eventLongPressDelay","selectMirror","eventMaxStack","eventMinHeight","eventMinWidth","eventShortHeight","slotEventOverlap","firstDay","dayCount","dateAlignment","dateIncrement","hiddenDays","monthMode","fixedWeekCount","validRange","visibleRange","titleFormat","eventInteractive","noEventsText","viewHint","navLinkHint","closeHint","timeHint","eventHint","moreLinkClick","moreLinkClassNames","moreLinkContent","moreLinkDidMount","moreLinkWillUnmount","BASE_OPTION_DEFAULTS","center","CALENDAR_LISTENER_REFINERS","datesSet","eventsSet","eventAdd","eventChange","eventRemove","windowResize","eventClick","eventMouseEnter","eventMouseLeave","select","unselect","loading","_unmount","_beforeprint","_afterprint","_noEventDrop","_noEventResize","_resize","_scrollRequest","CALENDAR_OPTION_REFINERS","buttonText","buttonHints","views","initialEvents","COMPLEX_OPTION_COMPARATORS","isMaybeObjectsEqual","VIEW_OPTION_REFINERS","component","buttonTextKey","dateProfileGeneratorClass","usesMinMaxTime","classNames","content","didMount","willUnmount","mergeRawOptions","optionSets","refineProps","refiners","extra","raw","parseEvents","rawEvents","eventSource","allowOpenRange","createEmptyEventStore","eventRefiners","buildEventRefiners","rawEvents_1","rawEvent","parseEvent","eventTupleToStore","getRelevantEvents","def_1","newStore","filterEventStoreDefs","lookDef","isEventDefsGrouped","def0","def1","groupId","mergeEventStores","store0","store1","filterFunc","excludeSubEventStore","master","sub","filteredDefs","filteredInstances","normalizeConstraint","parseClassNames","EVENT_UI_REFINERS","startEditable","durationEditable","constraint","overlap","allow","className","color","backgroundColor","borderColor","textColor","EMPTY_EVENT_UI","constraints","allows","createEventUi","combineEventUis","uis","combineTwoEventUis","item0","item1","EVENT_NON_DATE_REFINERS","id","title","interactive","EVENT_DATE_REFINERS","EVENT_REFINERS","extendedProps","refineEventDef","computeIsDefaultAllDay","recurringRes","parseEventDef","singleRes","parseSingle","hasEnd","ui","eventDefMemberAdders","memberAdder","freeze","startMeta","startMarker","endMeta","endMarker","startInput","createMarkerMeta","isTimeUnspecified","forcedTzo","computeAlignedDayRange","timedRange","dayCnt","computeVisibleDayRange","startDay","endDay","endTimeMS","isMultiDayRange","diffDates","date0","date1","largeUnit","diffWholeYears","diffWholeMonths","parseRange","createMarker","invertRanges","ranges","constraintRange","invertedRanges","dateRange","sort","compareRanges","range0","range1","intersectRanges","newRange","rangesEqual","rangesIntersect","rangeContainsRange","outerRange","innerRange","rangeContainsMarker","constrainMarkerToRange","sliceEventStore","eventUiBases","inverseBgByGroupId","inverseBgByDefId","defByGroupId","bgRanges","fgRanges","eventUis","compileEventUis","origRange","normalRange","slicedRange","isStart","isEnd","invertedRanges_1","invertedRange","invertedRanges_2","bg","fg","hasBgRendering","setElSeg","seg","fcSeg","getElSeg","eventDefs","compileEventUi","sortEventSegs","segs","eventOrderSpecs","objs","buildSegCompareObj","c","_seg","eventRange","computeSegDraggable","transformers","isDraggableTransformers","transformers_1","transformer","computeSegStartResizable","computeSegEndResizable","buildSegTimeText","timeFormat","defaultDisplayEventTime","defaultDisplayEventEnd","startOverride","endOverride","eventInstance","wholeEventStart","wholeEventEnd","segStart","segEnd","isStartDay","isEndDay","getSegMeta","todayRange","nowDate","segRange","isPast","isFuture","isToday","getEventClassNames","isMirror","isDraggable","isStartResizable","isEndResizable","isDragging","isResizing","isSelected","buildEventRangeKey","getSegAnchorAttrs","href","emitter","hasHandlers","trigger","event","EventApi","jsEvent","view","viewApi","STANDARD_PROPS","parseDateSpan","defaultDuration","span","parseOpenDateSpan","standardProps","isDateSpansEqual","span0","span1","isSpanPropsEqual","buildDateSpanApi","buildRangeApi","buildRangeApiWithTimeZone","omitTime","toDate","startStr","formatIso","endStr","fabricateEventRange","dateSpan","triggerDateSelect","selection","pev","buildDateSpanApiWithContext","origEvent","calendarApi","triggerDateUnselect","dateSpanTransforms","transform","getDefaultEventEnd","applyMutationToEventStore","eventConfigBase","mutation","eventConfigs","applyMutationToEventDef","applyMutationToEventInstance","eventConfig","startDelta","endDelta","copy","eventDefMutationAppliers","applier","forceAllDay","clearEnd","datesDelta","ViewApi","getCurrentData","viewTitle","dateProfile","activeRange","currentRange","getOption","EVENT_SOURCE_REFINERS","success","failure","parseEventSource","buildEventSourceRefiners","rawObj","metaRes","buildEventSourceMeta","_raw","isFetching","latestFetchId","fetchRange","sourceDefId","eventSourceRefiners","eventSourceDefs","parseMeta","reduceCurrentDate","currentDate","action","dateMarker","getInitialDate","initialDateInput","getNow","nowInput","createNowMarker","CalendarApi","currentDataManager","batchRendering","updateSize","setOption","rawOptionValue","currentCalendarOptionsInput","getAvailableLocaleCodes","availableRawLocales","on","handlerName","currentCalendarOptionsRefiners","console","warn","off","changeView","viewType","dateOrRange","zoomTo","state","spec","viewSpecs","getUnitViewSpec","toolbarConfig","viewTypes","header","viewsWithButtons","footer","singleUnit","prev","next","prevYear","addYears","nextYear","today","calendarOptions","gotoDate","zonedDateInput","incrementDate","deltaInput","delta","formatDate","settings","dateOrObj","endDate","selectionInput","dateSelection","addEvent","eventInput","sourceInput","_def","_instance","currentData","triggerEventAdd","sourceApi","getEventSourceById","newEventApi","eventApi","relatedEvents","revert","eventApiToStore","getEventById","getEvents","buildEventApis","removeAllEvents","getEventSources","sourceHash","sourceApis","internalId","addEventSource","sources","removeAllEventSources","refetchEvents","scrollToTime","timeInput","time","_context","setProp","mutate","setExtendedProp","setStart","instanceRange","granularity","maintainDuration","setEnd","endInput","setDates","moveStart","moveEnd","moveDates","setAllDay","formatInput","context_1","eventStore_1","relevantEvents","oldEvent","asStore","toPlainObject","collapseColor","collapseExtendedProps","toJSON","excludeInstance","eventApis","excludeInstanceId","calendarSystemClassMap","registerCalendarSystem","theClass","createCalendarSystem","GregorianCalendarSystem","arrayToMarker","arr","ISO_RE","DateEnv","isNamedTimeZone","namedTimeZoneImpl","canComputeOffset","weekDow","weekDoy","weekNumberFunc","timestampToMarker","getYear","addMonths","greatestWholeUnit","countDurationsBetween","diff","startOf","startOfYear","startOfMonth","startOfWeek","dateOptions","offsetForMarker","isEndExclusive","extraOptions","omitTimeZoneOffset","timestampToArray","getTimezoneOffset","offsetForArray","globalLocales","MINIMAL_RAW_EN_LOCALE","code","list","RAW_EN_LOCALE","eventCnt","organizeRawLocales","explicitRawLocales","defaultCode","allRawLocales","rawLocaleMap","en","allRawLocales_1","rawLocale","buildLocale","inputSingular","available","parseLocale","queryLocale","codeArg","queryRawLocale","simpleId","merged","NumberFormat","dateInput","buildDateEnv$1","dateMeta","DEF_DEFAULTS","startTime","endTime","daysOfWeek","parseBusinessHours","refineInputs","rawDefs","filter","rawDef","pointInsideRect","point","rect","left","right","top","bottom","intersectRects","rect1","rect2","translateRect","deltaX","deltaY","constrainPoint","getRectCenter","diffPoints","point1","point2","canVGrowWithinCell","getCanVGrowWithinCell","computeCanVGrowWithinCell","position","innerHTML","appendChild","div","possible","offsetHeight","EMPTY_EVENT_STORE","Splitter","getKeysForEventDefs","_getKeysForEventDefs","splitDateSelection","_splitDateSpan","splitEventStore","_splitEventStore","splitIndividualUi","_splitIndividualUi","splitEventDrag","_splitInteraction","splitEventResize","eventUiBuilders","splitProps","keyInfos","getKeyInfo","defKeys","dateSelections","individualUi","eventStores","eventDrags","eventDrag","eventResizes","eventResize","info","buildEventUiForKey","keyInfo","buildEventUi","eventSelection","dateSpans","getKeysForDateSpan","keys_1","getKeysForEventDef","splitStores","_c","splitHashes","interaction","splitStates","affectedStores_1","affectedEvents","mutatedKeysByDefId","mutatedEvents","mutatedStores_1","populate","isEvent","allUi","eventUiForKey","baseParts","stuff","getDateMeta","isDisabled","isOther","getDayClassNames","theme","getClass","getSlotClassNames","DAY_FORMAT","WEEK_FORMAT","buildNavLinkAttrs","isTabbable","dateStr","zonedDate","handleInteraction","customAction","_isRtlScrollbarOnLeft","getIsRtlScrollbarOnLeft","computeIsRtlScrollbarOnLeft","outerEl","border","padding","overflow","innerEl","firstChild","_scrollbarWidths","getScrollbarWidths","computeScrollbarWidths","computeScrollbarWidthsForEl","x","clientHeight","offsetWidth","clientWidth","computeEdges","getPadding","computedStyle","window","getComputedStyle","borderLeft","borderLeftWidth","borderRight","borderRightWidth","borderTop","borderTopWidth","borderBottom","borderBottomWidth","badScrollbarWidths","scrollbarLeftRight","scrollbarBottom","scrollbarLeft","scrollbarRight","paddingLeft","paddingRight","paddingTop","paddingBottom","computeInnerRect","goWithinPadding","doFromWindowViewport","outerRect","computeRect","edges","pageXOffset","pageYOffset","computeClippedClientRect","clippingParents","getClippingParents","clippingParents_1","clippingParent","intersection","computeHeightAndMargins","computeVMargins","computed","marginTop","marginBottom","overflowY","overflowX","unpromisify","isResolved","wrappedSuccess","wrappedFailure","then","Emitter","handlers","thisContext","setThisContext","setOptions","addToHash","removeFromHash","attachedHandlers","optionHandler","handlers_1","PositionCache","originEl","els","isHorizontal","isVertical","originClientRect","buildElHorizontals","buildElVerticals","originClientLeft","lefts","rights","originClientTop","tops","bottoms","leftToIndex","leftPosition","topToIndex","topPosition","getWidth","leftIndex","getHeight","topIndex","ScrollController","getMaxScrollTop","getScrollHeight","getClientHeight","getMaxScrollLeft","getScrollWidth","getClientWidth","canScrollVertically","canScrollHorizontally","canScrollUp","getScrollTop","canScrollDown","canScrollLeft","getScrollLeft","canScrollRight","ElementScrollController","_super","scrollTop","scrollLeft","setScrollTop","setScrollLeft","scrollWidth","scrollHeight","WindowScrollController","scroll","Theme","iconOverrideOption","setIconOverride","iconOverrideHash","iconClassesCopy","buttonName","iconClasses","applyIconOverridePrefix","prefix","iconOverridePrefix","classes","getIconClass","isRtl","rtlIconClasses","baseIconClass","getCustomButtonIconClass","customButtonProps","iconOverrideCustomButtonOption","ScrollResponder","execFunc","handleScrollRequest","request","queuedRequest","drain","fireInitialScroll","detach","update","isDatesNew","ViewContextType","buildViewContext","viewSpec","viewOptions","dateProfileGenerator","registerInteractiveComponent","unregisterInteractiveComponent","addResizeHandler","removeResizeHandler","createScrollResponder","PureComponent","shouldComponentUpdate","nextProps","nextState","debug","log","propEquality","stateEquality","safeSetState","newState","setState","addPropsEquality","addStateEquality","contextType","BaseComponent","create","setRef","ref","current","DateComponent","uid","prepareHits","queryHit","positionLeft","positionTop","elWidth","elHeight","isValidSegDownEl","isValidDateDownEl","createPlugin","deps","reducers","isLoadingFuncs","contextInit","eventDragMutationMassagers","dateSelectionTransformers","datePointTransforms","viewPropsTransformers","isPropsValid","externalDefTransforms","viewContainerAppends","eventDropTransformers","componentInteractions","calendarInteractions","themeClasses","namedTimeZonedImpl","elementDraggingImpl","optionChangeHandlers","scrollGridImpl","contentTypeHandlers","listenerRefiners","optionRefiners","propSetHandlers","buildPluginHooks","pluginDefs","globalDefs","isAdded","hooks","addDefs","defs_1","combineHooks","buildBuildPluginHooks","currentOverrideDefs","currentGlobalDefs","currentHooks","overrideDefs","hooks0","hooks1","StandardTheme","root","tableCellShaded","buttonGroup","button","buttonActive","close","compileViewDefs","defaultConfigs","overrideConfigs","ensureViewDef","viewDef","buildViewDef","defaultConfig","overrideConfig","queryProp","theComponent","superType","superDef","defaults","rawOptions","overrides","RenderHook","rootElRef","handleRootEl","elRef","hookProps","MountHook","ContentHook","defaultContent","backupElRef","innerElRef","innerContent","normalizeClassNames","CustomContentRenderContext","Consumer","renderId","ContentHookInner","renderInnerContent","componentDidMount","updateCustomContent","componentDidUpdate","componentWillUnmount","customContentInfo","getInnerContent","getContentMeta","contentKey","contentVal","buildLifecycleFuncs","normalizeContent","searchKey","rootEl","buildClassNameNormalizer","currentGenerator","currentHookProps","currentClassNames","generator","ViewRoot","customClassNames","parseViewConfigs","parseViewConfig","createViewHookComponent","viewProps","viewElRef","buildViewSpecs","defaultInputs","optionOverrides","dynamicOptionOverrides","localeDefaults","viewDefs","buildViewSpec","durationInput","durationUnit","singleUnitOverrides","createDurationCached","denom","queryButtonText","optionsSubset","buttonTextMap","queryButtonTitle","buttonKey","optionDefaults","buttonTextOverride","buttonTextDefault","buttonTitleOverride","buttonHint","buttonTitleDefault","durationInputMap","json","JSON","stringify","DateProfileGenerator","initHiddenDays","buildPrev","currentDateProfile","forceToValid","prevDate","currentRangeUnit","build","buildNext","nextDate","currentInfo","isRangeAllDay","renderRange","isValid","buildValidRange","trimHiddenDays","buildCurrentRangeInfo","buildRenderRange","adjustActiveRange","buildDateIncrement","validRangeInput","simpleInput","refineRange","buildRangeFromDuration","buildRangeFromDayCount","buildCustomVisibleRange","getFallbackDuration","isHiddenDay","skipHiddenDays","computeRes","runningCount","visibleRangeInput","fallback","customAlignment","rangeInput","isHiddenDayHash","inc","isExclusive","reduceViewType","reduceDynamicOptionOverrides","reduceDateProfile","dp","initEventSources","addSources","parseInitialSources","reduceEventSources","removeSource","fetchDirtySources","fetchSourcesByIds","excludeStaticSources","receiveResponse","fetchId","reduceEventSourcesNewTimeZone","computeEventSourcesLoading","eventSourceHash","sources_1","source","isSourceDirty","doesSourceNeedRange","prevSources","sourceIdHash","nextSources","fetchSource","sourceDef","fetch","xhr","error","message","rawSources","rawSources_1","rawSource","ignoreRange","reduceEventStore","receiveRawEvents","excludeEventsBySourceId","subset","transformRawEvents","calEachTransform","sourceEachTransform","transformEachRawEvent","refinedEvents","refinedEvent","expandRange","rezoneEventStoreDates","oldDateEnv","newDateEnv","excludeInstances","removals","reduceDateSelection","currentSelection","reduceSelectedEvent","currentInstanceId","eventInstanceId","reduceEventDrag","currentDrag","newDrag","reduceEventResize","currentResize","newResize","parseToolbars","calendarOptionOverrides","parseToolbar","sectionStrHash","sectionWidgets","hasTitle","sectionName","sectionStr","sectionRes","parseSection","widgets","calendarCustomButtons","calendarButtonTextOverrides","calendarButtonText","calendarButtonHintOverrides","calendarButtonHints","sectionSubstrs","buttonGroupStr","buttonClick","buttonIcon","click","text","hint","textFallback","prevOrNext","navUnit","eventSourceDef$2","arrayEventSourcePlugin","eventSourceDef$1","bind","funcEventSourcePlugin","requestJson","params","successCallback","failureCallback","toUpperCase","injectQueryStringParams","encodeParams","XMLHttpRequest","open","setRequestHeader","onload","status","responseText","err","onerror","send","encodeURIComponent","JSON_FEED_EVENT_SOURCE_REFINERS","extraParams","eventSourceDef","requestParams","buildRequestParams","errorMessage","jsonFeedEventSourcePlugin","customRequestParams","SIMPLE_RECURRING_REFINERS","startRecur","endRecur","recurring","recurringData","clippedFramingRange","expandRanges","simpleRecurringEventsPlugin","dowHash","dayMarker","instanceStarts","instanceStart","changeHandlerPlugin","handleEventSources","unfoundSources","newInputs","inputs_1","inputFound","unfoundSources_1","unfoundSource","newInputs_1","newInput","handleDateProfile","handleEventStore","html","buildHtmlRenderer","domNodes","buildDomNodeRenderer","currentEl","currentHtml","currentDomNodes","newDomNodes","newDomNodes_1","newNode","DelayedRunner","drainedOption","isRunning","isDirty","pauseDepths","timeoutId","delay","isPaused","clearTimeout","tryDrain","setTimeout","pause","scope","resume","force","depth","drained","clear","TaskRunner","runTaskOption","queue","delayedRunner","task","completedTasks","shift","runTask","buildTitle","buildTitleFormat","CalendarDataManager","computeOptionsData","_computeOptionsData","computeCurrentViewData","_computeCurrentViewData","buildDateEnv","buildTheme","buildDateProfileGenerator","buildViewApi","buildViewUiProps","buildEventUiBySource","buildEventUiBases","parseContextBusinessHours","actionRunner","_handleAction","updateData","currentCalendarOptionsRefined","currentViewOptionsInput","currentViewOptionsRefined","data","optionsData","currentViewType","currentViewData","calendarContext","initialState","renderableEventStore","selectionConfig","contextAndState","reducer","computeIsLoading","append","isEventsLoading","eventUiSingleBase","eventUiBySource","wasLoading","isLoading","onAction","oldData","changeHandlers","oldCalendarOptions","newCalendarOptions","onData","processRawCalendarOptions","refinedOptions","availableLocaleData","warnUnknownOptions","currentRaw","currentRefined","processRawViewOptions","explicitLocale","ThemeClass","DateProfileGeneratorClass","isLoadingFunc","viewName","CalendarDataProvider","handleData","dataManager","prevProps","newOptionOverrides","sliceEvents","NamedTimeZoneImpl","SegHierarchy","strictOrder","allowReslicing","maxCoord","maxStackCnt","levelCoords","entriesByLevel","stackCnts","addSegs","hiddenEntries","insertEntry","entry","findInsertion","isInsertionValid","insertEntryAt","handleInvalidInsertion","levelCoord","thickness","stackCnt","touchingEntry","splitEntry","barrier","partCnt","splitHiddenEntries","entrySpan","barrierSpan","intersectSpans","lateral","insertAt","level","buildEntryKey","newEntry","levelCnt","candidateCoord","touchingLevel","touchingLateral","trackingLevel","trackingCoord","trackingEntries","trackingEntry","searchRes","binarySearch","getEntrySpanEnd","lateralIndex","trackingEntryBottom","destLevel","destLateral","toRects","rects","entries","entries_1","groupIntersectingEntries","merges","entries_2","filteredMerges","hungryMerge","merges_1","merge","joinSpans","searchVal","getItemVal","middleIndex","middleVal","Interaction","isHitComboAllowed","parseInteractionSettings","useEventCenter","interactionSettingsToStore","interactionSettingsStore","ElementDragging","setMirrorIsVisible","bool","setMirrorNeedsRevert","setAutoScrollEnabled","config","DRAG_META_REFINERS","parseDragMeta","leftoverProps","ToolbarSection","widgetGroups","widgetGroup","renderWidgetGroup","isOnlyButtons","widgetGroup_1","widget","titleId","isPressed","activeButton","isTodayEnabled","isPrevEnabled","isNextEnabled","buttonClasses","disabled","groupClassName","Toolbar","model","extraClassName","forceLtr","startContent","endContent","centerContent","renderSection","ViewContainer","availableWidth","handleEl","updateAvailableWidth","handleResize","liquid","labeledById","EventClicking","handleSegClick","segEl","hasUrlContainer","defaultPrevented","location","EventHovering","handleEventElRemove","currentSegEl","handleSegLeave","handleSegEnter","triggerEvent","removeHoverListeners","publicEvName","CalendarContent","buildViewPropTransformers","buildToolbarProps","headerRef","footerRef","interactionsStore","viewLabelId","settingsInput","DEFAULT_INTERACTIONS","interactionClasses","interactions","TheInteractionClass","listeners","listeners_1","listener","resizeRunner","toolbarProps","viewVGrow","viewAspectRatio","isHeightAuto","forPrint","viewContext","Provider","renderView","buildAppendContent","CalendarInteractionClass","ViewComponent","todayInfo","prevInfo","nextInfo","theClasses","TheClass","CalendarRoot","handleBeforePrint","handleAfterPrint","computeFallbackHeaderFormat","datesRepDistinctDays","CLASS_NAME","renderInner$1","TableDateCell","dayMeta","navLinkAttrs","colCnt","extraHookProps","role","colSpan","extraDataAttrs","isSticky","WEEKDAY_FORMAT","TableDowCell","extraClassNames","NowTimer","initialNowDate","initialNowQueriedMs","computeTiming","currentState","unroundedNow","currentUnitStart","nextUnitStart","waitMs","buildDayRange","DayHeader","createDayHeaderFormatter","dates","renderIntro","explicitFormat","dateCnt","DaySeriesModel","indices","dayIndex","cnt","sliceRange","firstIndex","getDateDayIndex","lastIndex","clippedFirstIndex","clippedLastIndex","ceil","dayOffset","DayTableModel","daySeries","breakOnWeeks","daysPerRow","rowCnt","cells","buildCells","headerDates","buildHeaderDates","rows","row","col","buildCell","seriesSeg","nextIndex","firstCol","lastCol","Slicer","sliceBusinessHours","_sliceBusinessHours","sliceDateSelection","_sliceDateSpan","_sliceEventStore","sliceEventDrag","_sliceInteraction","sliceEventResize","forceDayIfListItem","sliceProps","extraArgs","eventSegs","dateSelectionSegs","businessHourSegs","fgEventSegs","bgEventSegs","sliceNowDate","computeActiveRange","rangeRes","sliceEventRanges","affectedInstances","segs_1","eventRanges","eventRanges_1","sliceEventRange","segs_2","isComponentAllDay","isInteractionValid","isNewPropsValid","isDateSelectionValid","calendarState","dateSpanMeta","filterConfig","isInteractionPropsValid","isDateSelectionPropsValid","subjectEventStore","subjectDefs","subjectInstances","subjectConfigs","otherEventStore","otherDefs","otherInstances","otherConfigs","subjectInstanceId","subjectInstance","subjectRange","subjectConfig","subjectDef","allConstraintsPass","eventOverlapFunc","otherInstanceId","otherInstance","otherOverlap","calendarEventStore","subjectAllow","subjectDateSpan","origDef","origInstance","relevantEventStore","relevantDefs","relevantInstances","selectionRange","selectOverlapFunc","relevantInstanceId","relevantInstance","selectionAllow","fullDateSpan","businessHoursUnexpanded","constraints_1","anyRangesContainRange","constraintToRanges","eventStoreToRanges","outerRanges","outerRanges_1","VISIBLE_HIDDEN_RE","Scroller","liquidIsAbsolute","isAbsolute","overcomeLeft","overcomeRight","overcomeBottom","marginLeft","marginRight","maxHeight","needsXScrolling","realClientWidth","getYScrollbarWidth","childEl","needsYScrolling","realClientHeight","getXScrollbarWidth","RefMap","masterCallback","currentMap","depths","callbackMap","handleValue","removed","added","refCallback","collect","getAll","computeShrinkWidth","chunkEls","shrinkCells","largestWidth","shrinkCells_1","shrinkCell","getSectionHasLiquidHeight","sectionConfig","getAllowYScrolling","renderChunkContent","chunkConfig","isHeader","tableClassName","syncRowHeights","minWidth","tableMinWidth","tableColGroupNode","rowContent","isColPropsEqual","cols0","cols1","renderMicroColGroup","cols","shrinkWidth","colNodes","cols_1","colProps","sanitizeShrinkWidth","hasShrinkWidth","cols_2","getScrollGridClassNames","getSectionClassNames","wholeTableVGrow","renderScrollShim","getStickyHeaderDates","getStickyFooterScrollbar","SimpleScrollGrid","processCols","scrollerRefs","scrollerElRefs","_handleScrollerEl","forceYScrollbars","scrollerClientWidths","scrollerClientHeights","handleSizing","computeScrollerDims","sectionConfigs","sections","microColGroupNode","collapsibleWidth","configCnt","configI","currentConfig","headSectionNodes","bodySectionNodes","footSectionNodes","isBuggy","roleAttrs","outerContent","renderChunkTd","chunk","isLiquid","sectionKey","rowSyncHeights","reportRowHeightChange","scrollerEl","section","getSectionByKey","scrollerElRef","scrollbarWidth","scroller","harnessEl","sections_1","EventRoot","timeText","disableDragging","disableResizing","isDateSelecting","standardClassNames","StandardEvent","defaultTimeFormat","renderInnerContent$1","innerProps","NowIndicatorRoot","isAxis","DAY_NUM_FORMAT","DayCellContent","refineDayCellHookProps","showDayNumber","extraProps","dayNumberText","DayCellRoot","refineHookProps","dataAttrs","renderFill","fillType","BgEvent","WeekNumberRoot","defaultFormat","renderInner","PADDING_FROM_VIEWPORT","Popover","handleDocumentMouseDown","handleCloseClick","handleDocumentKeyDown","onClose","extraAttrs","parentEl","alignmentEl","alignGridTop","alignmentRect","popoverDims","popoverTop","popoverLeft","origin_1","offsetParent","MorePopover","startDate","dayClassNames","extraDateSpan","dayEl","layer","MoreLinkRoot","linkElRef","isPopoverOpen","popoverId","handleClick","computeRange","buildPublicSeg","allDayDate","allSegs","hiddenSegs","handlePopoverClose","moreCnt","shortText","renderMoreLinkInner","alignmentElRef","popoverContent","updateParentEl","computeEarliestSegStart","computeLatestSegEnd","pickEarliestStart","seg0","seg1","pickLatestEnd","version","parseMarker","FullCalendarVDom","flushSync","unmountComponentAtNode","isRendering","isRendered","customContentRenderId","handleAction","renderRunner","handleRenderRequest","currentData_1","setClassNames","setHeight","wasRendering","classNames_1","preact","preactCompat","globalObj","globalThis","runBeforeFlush","oldDebounceRendering","debounceRendering","callbackQ","execCallbackSync","FakeComponent","defaultValue","ContextType","origProvider","isNew","getChildContext","subs_1","_props","forceUpdate","old","node","TableView","headerElRef","renderSimpleLayout","headerRowContent","bodyContent","renderHScrollLayout","ScrollGrid","chunks","colGroups","splitSegsByRow","byRow","splitSegsByFirstCol","byCol","splitInteractionByRow","TableCellTop","renderTopInner","forceDayTop","dayNumberId","DEFAULT_TABLE_EVENT_TIME_FORMAT","hasListItemDisplay","TableBlockEvent","TableListItemEvent","TableCellMoreLink","compileSegs","singlePlacements","invisibleSegs","isForcedInvisible","visibility","isExpanded","singlePlacements_1","placement","isVisible","DEFAULT_WEEK_NUM_FORMAT","TableCell","dayElRef","rootDataAttrs","showWeekNumber","weekElRef","weekClassNames","fgContentElRef","fgContent","moreMarginTop","bgContent","computeFgSegPlacement","eventInstanceHeights","maxContentHeight","hierarchy","DayGridSegHierarchy","hiddenConsumes","segInputs","unknownHeightSegs","eventHeight","segRects","placeRects","singleColPlacements","multiColPlacements","leftoverMargins","moreCnts","moreMarginTops","unknownHeightSegs_1","absoluteTop","resliceSeg","hiddenEntries_1","hiddenEntry","hiddenSpan","allRects","rectsByEachCol","groupRectsByEachCol","currentHeight","currentMarginTop","rects_1","multiPlacements","rects_2","isFirstCol","rects_3","spanStart","spanEnd","forceHidden","excludeHidden","touchingEntryId","placeholderEntry","placeholderEntryId","TableRow","cellElRefs","frameElRefs","fgElRefs","segHarnessRefs","framePositions","businessHoursByCol","bgEventSegsByCol","highlightSegsByCol","getHighlightSegs","mirrorSegsByCol","getMirrorSegs","cell","normalFgNodes","renderFgSegs","mirrorFgNodes","buildMirrorPlacements","showDayNumbers","showWeekNumbers","renderFillSegs","updateSizing","prevState","currentProps","segPlacements","nodes","segPlacements_1","leftRightCss","isExternalSizingChange","frameEls","oldInstanceHeights","newInstanceHeights","queryEventInstanceHeights","limitByContentHeight","computeMaxContentHeight","segElMap","firstKey","fcContainerEl","getCellEls","elMap","mirrorSegs","colPlacements","topsByInstanceId","buildAbsoluteTopHash","colPlacements_1","placements","placements_1","Table","splitBusinessHourSegs","splitBgEventSegs","splitFgEventSegs","splitDateSelectionSegs","rowRefs","businessHourSegsByRow","bgEventSegsByRow","fgEventSegsByRow","dateSelectionSegsByRow","eventDragByRow","eventResizeByRow","limitViaBalanced","colGroupNode","renderRowIntro","isSegAllDay","rowPositions","rowObj","colPositions","getCellRange","getCellEl","DayTableSlicer","dayTableModel","DayTable","slicer","tableRef","headerAlignElRef","DayTableView","buildDayTableModel","headerContent","contentArg","TableDateProfileGenerator","endOfWeek","main","dayGrid","dayGridDay","dayGridWeek","dayGridMonth","DayGridView","touchMouseIgnoreWait","ignoreMouseDepth","listenerCnt","isWindowTouchMoveCancelled","PointerDragging","containerEl","subjectEl","handleSelector","shouldIgnoreMove","shouldWatchScroll","isTouchDragging","wasTouchScroll","handleMouseDown","shouldIgnoreMouse","isPrimaryMouseButton","tryStart","createEventFromMouse","initScrollWatch","handleMouseMove","handleMouseUp","recordCoords","cleanup","handleTouchStart","createEventFromTouch","targetEl","handleTouchMove","handleTouchEnd","handleTouchScroll","startIgnoringMouse","handleScroll","pageX","prevScrollX","prevPageX","pageY","prevScrollY","prevPageY","isTouch","origPageX","origPageY","passive","listenerCreated","listenerDestroyed","querySubjectEl","downEl","destroyScrollWatch","cancelTouchScroll","isFirst","touches","ctrlKey","onWindowTouchMove","ElementMirror","sourceEl","mirrorEl","sourceElRect","zIndex","revertDuration","origScreenX","origScreenY","updateElPosition","handleMove","setIsVisible","stop","needsRevertAnimation","done","doRevertAnimation","finalSourceElRect","transition","getMirrorEl","cloneNode","boxSizing","margin","ScrollGeomCache","scrollController","doesListening","handleScrollChange","origScrollTop","origScrollLeft","clientRect","computeClientRect","getEventTarget","ElementScrollGeomCache","WindowScrollGeomCache","getTime","performance","AutoScroller","isEnabled","scrollQuery","edgeThreshold","maxVelocity","pointerScreenX","pointerScreenY","isAnimating","scrollCaches","everMovedUp","everMovedDown","everMovedLeft","everMovedRight","animate","edge","computeBestEdge","handleSide","msSinceRequest","requestAnimation","scrollStartEl","buildCaches","yDelta","xDelta","scrollCache","requestAnimationFrame","invDistance","distance","velocity","bestSide","scrollCaches_1","leftDist","rightDist","topDist","bottomDist","queryScrollEls","query","FeaturefulElementDragging","minDistance","touchScrollAllowed","mirrorNeedsRevert","isInteracting","isDelayEnded","isDistanceSurpassed","delayTimeoutId","onPointerDown","pointer","mirror","startDelay","handleDistanceSurpassed","onPointerMove","distanceSq","autoScroller","onPointerUp","tryStopDrag","handleDelayEnd","tryStartDrag","stopDrag","setIgnoreMove","OffsetTracker","origRect","scrollEl","computeLeft","computeTop","isWithinClipping","isIgnoredClipping","tagName","HitDragging","dragging","droppableStore","useSubjectCenter","requireInitial","initialHit","movingHit","finalHit","handlePointerDown","processFirstCoord","handleDragStart","handleDragMove","handlePointerUp","releaseHits","handleDragEnd","origPoint","adjustedPoint","subjectRect","queryHitForOffset","slicedSubjectRect","coordAdjust","forceHandle","hit","isHitsEqual","offsetTrackers","interactionSettings","offsetLeft","offsetTop","bestHit","offsetTracker","originLeft","originTop","componentId","hit0","hit1","buildDatePointApiWithContext","buildDatePointApi","DateClicking","hitDragging","DateSelecting","dragSelection","canSelect","getComponentTouchDelay$1","handleHitUpdate","isFinal","isInvalid","disallowed","joinHitsIntoSelection","dateSpan0","dateSpan1","dateSelectionTransformers_1","EventDragging","subjectSeg","receivingContext","validMutation","mutatedRelevantEvents","origTarget","initialContext","getComponentTouchDelay","fixedMirrorParent","receivingOptions","computeEventMutation","displayDrag","initialContext_1","receivingContext_1","relevantEvents_1","mutatedRelevantEvents_1","clearDrag","updatedEventApi","eventChangeArg","transformed","eventRemoveArg","draggedEl","addedEventDef","addedEventInstance","addedEventApi","eventAddArg","SELECTOR","nextContext","prevContext","initialCalendar","massagers","massagers_1","massager","EventResizing","draggingSegEl","draggingSeg","querySegEl","computeMutation","isFromStart","UnselectAuto","isRecentPointerDateSelect","matchesCancel","matchesEvent","onSelect","selectInfo","onDocumentPointerDown","onDocumentPointerUp","documentPointer","OPTION_REFINERS","LISTENER_REFINERS","dateClick","eventDragStart","eventDragStop","eventDrop","eventResizeStart","eventResizeStop","drop","eventReceive","eventLeave","ExternalElementDragging","suppliedDragMeta","droppableEvent","dragMeta","buildDragMeta","canDropElOnCalendar","computeEventForDateSpan","finalView","addingEvents_1","getDragMetaFromEl","defProps","getEmbeddedElData","dataAttrPrefix","prefixedName","getAttribute","ExternalDraggable","itemSelector","appendTo","eventData","InferredElementDragging","mirrorSelector","currentMirrorEl","handlePointerMove","ThirdPartyDraggable","containerOrSettings","Element","Draggable","ListViewHeaderRow","textId","cellId","dayDate","listDayFormat","sideText","listDaySideFormat","sideNavLinkAttrs","DEFAULT_TIME_FORMAT","ListViewEventRow","timeHeaderId","eventHeaderId","dateHeaderId","renderEventInnerContent","buildTimeContent","headers","interactiveAttrs","doAllDay","renderAllDayInner","ListView","computeDateVars","eventStoreToSegs","_eventStoreToSegs","dateHeaderIdRoot","setRootEl","dayDates","dayRanges","renderSegList","renderEmptyMessage","noEventsClassNames","noEventsContent","renderNoEventsInner","noEventsDidMount","noEventsWillUnmount","segsByDay","groupSegsByDay","innerNodes","daySegs","dayStr","daySegs_1","eventRangesToSegs","eventRangeToSegs","viewEnd","createFalsableFormatter","listDay","listWeek","listMonth","listYear","AllDaySplitter","timed","DEFAULT_SLAT_LABEL_FORMAT","TimeColsAxisCell","isLabeled","isoTimeStr","labelFormat","TimeBodyAxis","slatMetas","slatMeta","AUTO_ALL_DAY_MAX_EVENT_ROWS","TimeColsView","allDaySplitter","slatCoords","handleScrollTopRequest","renderHeadAxis","rowKey","frameHeight","renderTableRowAxis","rowHeight","handleSlatCoords","timeContent","isNowIndicator","nowIndicatorTop","safeComputeTop","getAllDayMaxEventProps","TimeColsSlatsCoords","positions","startOfDayDate","timeMs","computeTimeTop","computeDateTop","when","slatCoverage","slatIndex","slatRemainder","TimeColsSlatsBody","slatElRefs","axis","TimeColsSlats","minHeight","onCoords","collectSlatEls","splitSegsByCol","segsByCol","splitInteractionByCol","TimeColMoreLink","renderPlainFgSegs","buildPositioning","hiddenGroups","web","buildWeb","stretchWeb","webToRects","buildNode","cacheable","siblingRange","findNextLevelSegs","nextLevelRes","buildNodes","nextLevelNodes","lateralStart","lateralEnd","pairs","cmpDescPressures","extractNode","subjectLevel","subjectLateral","subjectEntry","afterSubject","searchIndex","topLevelNodes","totalThickness","stretchNode","startCoord","prevThickness","allThickness","thicknessFraction","endCoord","newChildren","nextLevelNodes_1","newThickness","processNode","stackDepth","stackForward","processNodes","nodes_1","keyFunc","workFunc","cache","computeSegVCoords","colDate","vcoords","computeFgSegPlacements","segVCoords","dumbSegs","segRects_1","segRect","dumbSegs_1","dumbSeg","TimeColEvent","isShort","TimeColMisc","TimeCol","isSelectMirror","interactionAffectedInstances","sortedFgSegs","renderNowIndicator","nowIndicatorSegs","segIsInvisible","renderPositionedFgSegs","renderHiddenGroups","segPlacement","vStyle","computeSegVStyle","hStyle","computeSegHStyle","isInset","hiddenGroup","positionCss","compileSegsFromEntries","segHCoords","shouldOverlap","nearCoord","farCoord","hiddenInstances","segEntries","segEntry","TimeColsContent","splitNowIndicatorSegs","nowIndicatorSegsByRow","updateCoords","onColCoords","collectCellEls","TimeCols","processSlotOptions","onScrollTopRequest","top_1","handleColCoords","colCoords","onSlatCoords","scrollResponder","snapsPerSlot","colIndex","slatTop","slatHeight","partial","localSnapIndex","snapIndex","snapDurationOverride","DayTimeColsSlicer","DayTimeCols","buildDayRanges","timeColsRef","STOCK_SUB_DURATIONS","buildSlatMetas","explicitLabelInterval","slatTime","slatIterator","labelInterval","computeLabelInterval","metas","slotsPerLabel","DayTimeColsView","buildTimeColsModel","hasAttachedAxis","hasDetachedAxis","allDaySlot","timeGridContent","timeGrid","timeGridDay","timeGridWeek","getCompositeRect","getLayoutRect","listScrollParents","getOffsetParent","orderModifiers","debounce","validateModifiers","uniqueBy","getBasePlacement","mergeByName","detectOverflow","isElement","auto","INVALID_ELEMENT_ERROR","INFINITE_LOOP_ERROR","DEFAULT_OPTIONS","modifiers","strategy","areValidElements","_len","_key","some","popperGenerator","generatorOptions","_generatorOptions","_generatorOptions$def","defaultModifiers","_generatorOptions$def2","defaultOptions","createPopper","reference","popper","orderedModifiers","modifiersData","elements","attributes","effectCleanupFns","isDestroyed","setOptionsAction","cleanupModifierEffects","scrollParents","contextElement","enabled","process","env","NODE_ENV","_ref","flipModifier","find","_ref2","_getComputedStyle","parseFloat","runModifierEffects","_state$elements","reset","modifier","__debug_loops__","_state$orderedModifie","fn","_state$orderedModifie2","_options","Promise","resolve","onFirstUpdate","_ref3","_ref3$options","effect","cleanupFn","noopFn","isShadowRoot","child","rootNode","isSameNode","host","isHTMLElement","getWindow","isLayoutViewport","includeScale","isFixedStrategy","scaleX","scaleY","visualViewport","addVisualOffsets","viewport","getViewportRect","getDocumentRect","getDocumentElement","getParentNode","getNodeName","rectToClientRect","getInnerBoundingClientRect","clientTop","clientLeft","getClientRectFromMixedType","canEscapeClipping","clipperElement","getClippingRect","boundary","rootBoundary","mainClippingParents","firstClippingParent","clippingRect","accRect","getNodeScroll","getWindowScrollBarX","isScrollParent","isElementScaled","elementOrVirtualElement","isFixed","isOffsetParentAnElement","offsetParentIsScaled","offsets","ownerDocument","getWindowScroll","_element$ownerDocumen","winScroll","getHTMLElementScroll","nodeName","toLowerCase","isTableElement","getUAString","getTrueOffsetParent","getContainingBlock","isFirefox","isIE","elementCss","currentNode","css","perspective","contain","willChange","assignedSlot","getScrollParent","win","layoutViewport","toString","defaultView","OwnElement","ShadowRoot","scrollParent","isBody","updatedList","basePlacements","variationPlacements","acc","beforeRead","read","afterRead","beforeMain","afterMain","beforeWrite","write","afterWrite","modifierPhases","applyStyles","removeAttribute","setAttribute","initialStyles","arrow","styleProperties","property","attribute","phase","requires","getMainAxisFromPlacement","within","mergePaddingObject","expandToHashMap","toPaddingObject","_state$modifiersData$","arrowElement","popperOffsets","basePlacement","paddingObject","arrowRect","minProp","maxProp","endDiff","startDiff","arrowOffsetParent","clientSize","centerToReference","offset","axisProp","centerOffset","_options$element","requiresIfExists","getVariation","unsetSides","roundOffsetsByDPR","dpr","devicePixelRatio","mapToStyles","_Object$assign2","popperRect","variation","gpuAcceleration","adaptive","roundOffsets","_offsets$x","_offsets$y","hasX","hasY","sideX","sideY","heightProp","widthProp","offsetY","offsetX","commonStyles","_ref4","_Object$assign","computeStyles","_ref5","_options$gpuAccelerat","_options$adaptive","_options$roundOffsets","transitionProperty","_options$scroll","_options$resize","resize","getOppositePlacement","getOppositeVariationPlacement","computeAutoPlacement","getExpandedFallbackPlacements","oppositePlacement","flip","_skip","_options$mainAxis","mainAxis","checkMainAxis","_options$altAxis","altAxis","checkAltAxis","specifiedFallbackPlacements","fallbackPlacements","altBoundary","_options$flipVariatio","flipVariations","allowedAutoPlacements","preferredPlacement","isBasePlacement","referenceRect","checksMap","Map","makeFallbackChecks","firstFittingPlacement","_basePlacement","isStartVariation","mainVariationSide","altVariationSide","checks","every","check","set","numberOfChecks","_loop","fittingPlacement","_ret","getSideOffsets","preventedOffsets","isAnySideFullyClipped","side","hide","preventOverflow","referenceOverflow","elementContext","popperAltOverflow","referenceClippingOffsets","popperEscapeOffsets","isReferenceHidden","hasPopperEscaped","default","eventListeners","distanceAndSkiddingToXY","invertDistance","skidding","_options$offset","_data$state$placement","computeOffsets","getAltAxis","withinMaxClamp","getFreshSideObject","mathMin","mathMax","_options$tether","tether","_options$tetherOffset","tetherOffset","tetherOffsetValue","normalizedTetherOffsetValue","offsetModifierState","_offsetModifierState$","mainSide","altSide","additive","minLen","maxLen","arrowPaddingObject","arrowPaddingMin","arrowPaddingMax","arrowLen","minOffset","maxOffset","clientOffset","offsetModifierValue","tetherMin","tetherMax","preventedOffset","_offsetModifierState$2","_mainSide","_altSide","_offset","_min","_max","isOriginSide","_offsetModifierValue","_tetherMin","_tetherMax","_preventedOffset","createPopperLite","allPlacements","_options$allowedAutoP","allowedPlacements","overflows","commonX","commonY","pending","_options$placement","_options$strategy","_options$boundary","_options$rootBoundary","_options$elementConte","_options$altBoundary","_options$padding","altContext","clippingClientRect","referenceClientRect","popperClientRect","elementClientRect","overflowOffsets","offsetData","multiply","hashMap","p","matched","existing","visited","Set","result","dep","has","depModifier","identifiers","identifier","uaData","navigator","userAgentData","brands","brand","userAgent","INVALID_MODIFIER_ERROR","MISSING_DEPENDENCY_ERROR","VALID_PROPERTIES","self","requirement","mod","v","module","equal","RegExp","flags","e","toChildArray","r","u","o","hydrate","l","cloneElement","f","useState","useId","useReducer","h","useEffect","useLayoutEffect","useRef","useImperativeHandle","useMemo","useCallback","_","useContext","useDebugValue","S","g","C","E","R","displayName","isReactComponent","__f","isPureReactComponent","__b","N","Symbol","for","k","$$typeof","A","O","count","only","toArray","T","__e","__","__c","__k","I","unmount","L","__H","__P","U","__v","insertBefore","__d","D","__u","F","__a","M","V","__R","__h","__O","pop","W","delete","revealOrder","size","P","$","containerInfo","z","B","H","Z","Y","textContent","q","writable","G","J","K","cancelBubble","Q","persist","isPropagationStopped","isDefaultPrevented","nativeEvent","X","nn","class","tn","vnode","multiple","selected","__r","rn","ReactCurrentDispatcher","readContext","__n","un","ln","cn","an","base","sn","hn","vn","dn","pn","mn","yn","_n","bn","useInsertionEffect","useTransition","useDeferredValue","useSyncExternalStore","startTransition","Children","createFactory","isValidElement","findDOMNode","memo","forwardRef","unstable_batchedUpdates","StrictMode","Suspense","SuspenseList","lazy","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","defaultProps","ownerSVGElement","nextSibling","setProperty","cssText","__E","_sb","__s","getDerivedStateFromProps","componentWillMount","componentWillReceiveProps","componentWillUpdate","getSnapshotBeforeUpdate","diffed","localName","createTextNode","createElementNS","is","dangerouslySetInnerHTML","__html","checked","getDerivedStateFromError","componentDidCatch","__V","__N","__m","cancelAnimationFrame","useErrorBoundary","ROUND_ARROW","BOX_CLASS","CONTENT_CLASS","BACKDROP_CLASS","ARROW_CLASS","SVG_ARROW_CLASS","TOUCH_OPTIONS","capture","TIPPY_DEFAULT_APPEND_TO","getValueAtIndexOrReturn","isType","invokeWithArgsOrReturn","timeout","removeProperties","clone","splitBySpaces","normalizeToArray","pushIfUnique","unique","arrayFrom","removeUndefinedProps","isNodeList","isMouseEvent","isReferenceElement","_tippy","getArrayOfElements","setTransitionDuration","transitionDuration","setVisibilityState","getOwnerDocument","elementOrElements","_normalizeToArray","isCursorOutsideInteractiveBorder","popperTreeData","clientX","clientY","popperState","interactiveBorder","topDistance","bottomDistance","leftDistance","rightDistance","exceedsTop","exceedsBottom","exceedsLeft","exceedsRight","updateTransitionEndListener","box","actualContains","_target$getRootNode","currentInput","lastMouseMoveTime","onDocumentTouchStart","onDocumentMouseMove","onWindowBlur","activeElement","blur","bindGlobalEventListeners","isBrowser","isIE11","msCrypto","createMemoryLeakWarning","txt","clean","spacesAndTabs","lineStartWithSpaces","getDevMessage","getFormattedMessage","visitedMessages","resetVisitedMessages","warnWhen","condition","_console","errorWhen","_console2","validateTargets","targets","didPassFalsyValue","didPassPlainObject","pluginProps","animateFill","followCursor","inlinePositioning","sticky","renderProps","allowHTML","animation","inertia","maxWidth","aria","expanded","getReferenceClientRect","hideOnClick","ignoreAttributes","interactiveDebounce","moveTransition","onAfterUpdate","onBeforeUpdate","onCreate","onDestroy","onHidden","onHide","onMount","onShow","onShown","onTrigger","onUntrigger","onClickOutside","popperOptions","showOnCreate","touch","triggerTarget","defaultKeys","setDefaultProps","partialProps","validateProps","getExtendedPassedProps","passedProps","plugin","_name","getDataAttributeProps","propKeys","valueAsString","evaluateProps","out","prop","nonPluginProps","didPassUnknownProp","createArrowElement","setContent","getChildren","firstElementChild","boxChildren","backdrop","onUpdate","_getChildren","$$tippy","idCounter","mouseMoveListeners","mountedInstances","createTippy","showTimeout","hideTimeout","scheduleHideAnimationFrame","isVisibleFromClick","didHideDueToDocumentMouseDown","didTouchMove","ignoreOnFirstUpdate","lastTriggerEvent","currentTransitionEndListener","debouncedOnMouseMove","onMouseMove","currentTarget","popperInstance","isMounted","isShown","clearDelayTimeouts","setProps","show","hideWithInteractivity","enable","disable","_props$render","pluginsHooks","hasAriaExpanded","hasAttribute","addListeners","handleAriaExpandedAttribute","handleStyles","invokeHook","scheduleShow","getDocument","getNormalizedTouchSettings","getIsCustomTouchBehavior","getIsDefaultRenderFn","_instance$props$rende","getCurrentTarget","getDefaultTemplateChildren","getDelay","isShow","fromHide","pointerEvents","hook","shouldInvokePropsHook","_instance$props","handleAriaContentAttribute","attr","currentValue","nextValue","cleanupInteractiveMouseListeners","onDocumentPress","actualTarget","removeDocumentPress","onTouchMove","onTouchStart","addDocumentPress","doc","onTransitionedOut","onTransitionEnd","onTransitionedIn","onBlurOrFocusOut","removeListeners","_lastTriggerEvent","shouldScheduleClickHide","isEventListenerStopped","wasFocused","scheduleHide","isCursorOverReferenceOrPopper","getNestedPopperTree","_instance$popperInsta","shouldBail","relatedTarget","createPopperInstance","destroyPopperInstance","_instance$props2","computedReference","tippyModifier","_getDefaultTemplateCh","mount","nextElementSibling","_getNormalizedTouchSe","touchValue","touchDelay","nestedPopper","isAlreadyVisible","isTouchAndTouchDisabled","_getDefaultTemplateCh2","_instance$popperInsta2","_getDefaultTemplateCh3","_box","_content","isAlreadyHidden","_getDefaultTemplateCh4","tippy","optionalProps","isSingleContentElement","isMoreThanOneReferenceElement","hideAll","_temp","excludedReferenceOrInstance","exclude","isExcluded","originalDuration","applyStylesModifier","createSingleton","tippyInstances","_optionalProps$popper","individualInstances","references","triggerTargets","interceptSetPropsCleanups","shownOnCreate","setTriggerTargets","setReferences","enableInstances","interceptSetProps","singleton","originalSetProps","prepareInstance","overrideProps","_references$index","originalShow","showNext","first","showPrevious","last","setInstances","nextInstances","BUBBLING_EVENTS_MAP","mouseover","focusin","delegate","childTippyInstances","nativeProps","parentProps","childProps","returnValue","normalizedReturnValue","targetNode","addEventListeners","removeEventListeners","applyMutations","originalDestroy","originalEnable","originalDisable","shouldDestroyChildInstances","createBackdropElement","transitionDelay","mouseCoords","activeInstances","storeMouseCoords","addMouseCoordsListener","removeMouseCoordsListener","isInternalUpdate","wasFocusEvent","isUnmounted","getIsInitialBehavior","addListener","removeListener","unsetGetReferenceClientRect","isCursorOverReference","relativeX","relativeY","getProps","_props$popperOptions","cursorRectIndex","triedPlacements","_getReferenceClientRect","getInlineBoundingClientRect","getClientRects","setInternalProps","addModifier","cursorRect","currentBasePlacement","boundingRect","clientRects","firstRect","lastRect","isTop","minLeft","maxRight","measureRects","_top","_bottom","_left","_right","_width","_height","getReference","shouldCheck","prevRefRect","prevPopRect","updatePosition","currentRefRect","currentPopRect","areRectsDifferent","rectA","rectB","roundArrow","EventEmitter","ChangeDetectionStrategy","Output","ViewChild","i2","CommonModule","DomHandler","ConnectedOverlayScrollHandler","NG_VALUE_ACCESSOR","ZIndexUtils","COLORPICKER_VALUE_ACCESSOR","provide","useExisting","ColorPicker","multi","renderer","cd","overlayService","autoZIndex","baseZIndex","showTransitionOptions","hideTransitionOptions","onChange","defaultColor","onModelChange","onModelTouched","colorSelector","colorSelectorViewChild","colorHandle","colorHandleViewChild","hue","hueViewChild","hueHandle","hueHandleViewChild","onHueMousedown","bindDocumentMousemoveListener","bindDocumentMouseupListener","hueDragging","pickHue","onHueTouchStart","changedTouches","onColorTouchStart","colorDragging","pickColor","validateHSB","updateColorSelector","updateUI","updateModel","emit","originalEvent","getValueToUpdate","onColorMousedown","onMove","onDragEnd","unbindDocumentMousemoveListener","unbindDocumentMouseupListener","saturation","brightness","HSBtoHEX","HSBtoRGB","writeValue","HEXtoHSB","RGBtoHSB","markForCheck","hsb","inputBgColor","onInputFocus","overlayVisible","onOverlayAnimationStart","toState","inline","overlay","appendOverlay","alignOverlay","bindDocumentClickListener","bindDocumentResizeListener","bindScrollListener","onOverlayHide","onOverlayAnimationEnd","restoreOverlayAppend","absolutePosition","inputViewChild","relativePosition","onInputClick","selfClick","togglePanel","onInputKeydown","which","onOverlayClick","registerOnChange","registerOnTouched","setDisabledState","documentClickListener","documentTarget","listen","unbindDocumentClickListener","documentMousemoveListener","documentMouseupListener","documentResizeListener","onWindowResize","unbindDocumentResizeListener","isTouchDevice","scrollHandler","containerViewChild","unbindScrollListener","validateRGB","rgb","validateHEX","hex","HEXtoRGB","hexValue","t1","t2","t3","RGBtoHEX","Renderer2","ChangeDetectorRef","PrimeNGConfig","OverlayService","NgClass","NgIf","NgStyle","opacity","animations","providers","changeDetection","OnPush","styleClass","tabindex","inputId","ColorPickerModule","INPUTSWITCH_VALUE_ACCESSOR","InputSwitch","trueValue","falseValue","modelValue","focused","cb","readonly","toggle","focus","onInputChange","inputChecked","onFocus","onBlur","ariaLabel","ariaLabelledBy","InputSwitchModule","SLIDER_VALUE_ACCESSOR","Slider","ngZone","orientation","onSlideEnd","handleValues","handleIndex","onMouseDown","updateDomData","sliderHandleClick","bindDragListeners","removeClass","touchobj","startHandleValue","startx","barWidth","starty","barHeight","setValueFromHandle","onTouchEnd","values","addClass","onBarClick","handleChange","onHandleKeydown","spin","dir","updateValue","updateHandleValue","calculateHandleValue","runOutsideAngular","dragListener","run","mouseupListener","unbindDragListeners","newValue","getValueFromHandle","handleStepChange","oldValue","rangeStartLeft","rangeStartBottom","rangeEndLeft","rangeEndBottom","initX","getWindowScrollLeft","initY","getWindowScrollTop","sliderHandleStart","sliderHandleEnd","getNormalizedValue","newValues","minVal","maxVal","sliderHandle","getDecimalsCount","decimalsCount","toFixed","NgZone","SliderModule"],"sourceRoot":"webpack:///","x_google_ignoreList":[74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153]}