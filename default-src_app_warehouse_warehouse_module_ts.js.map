{"version":3,"file":"default-src_app_warehouse_warehouse_module_ts.js","mappings":"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","sources":["./src/app/procurement/models/order.ts","./src/app/qr-code/qr-code.service.ts","./src/app/shared/services/task.service.ts","./src/app/warehouse/components/physical-inventory/physical-inventory-products/physical-inventory-products.component.ts","./src/app/warehouse/components/physical-inventory/physical-inventory-products/physical-inventory-products.component.html","./src/app/warehouse/components/physical-inventory/physical-inventory.component.ts","./src/app/warehouse/components/physical-inventory/physical-inventory.component.html","./src/app/warehouse/components/production-lists/list-product-print-item/list-product-print-item.component.ts","./src/app/warehouse/components/production-lists/list-product-print-item/list-product-print-item.component.html","./src/app/warehouse/components/production-lists/production-list/production-list.component.ts","./src/app/warehouse/components/production-lists/production-list/production-list.component.html","./src/app/warehouse/components/production-lists/production-lists.component.ts","./src/app/warehouse/components/production-lists/production-lists.component.html","./src/app/warehouse/components/warehouse-categories/warehouse-categories.component.ts","./src/app/warehouse/components/warehouse-categories/warehouse-categories.component.html","./src/app/warehouse/components/warehouse-isolator/components/warehouse-isolator-invoices/warehouse-isolator-invoices.component.ts","./src/app/warehouse/components/warehouse-isolator/components/warehouse-isolator-invoices/warehouse-isolator-invoices.component.html","./src/app/warehouse/components/warehouse-isolator/components/warehouse-isolator-orders/warehouse-isolator-orders.component.ts","./src/app/warehouse/components/warehouse-isolator/components/warehouse-isolator-orders/warehouse-isolator-orders.component.html","./src/app/warehouse/components/warehouse-isolator/warehouse-isolator.component.ts","./src/app/warehouse/components/warehouse-isolator/warehouse-isolator.component.html","./src/app/warehouse/components/warehouse-items/warehouse-items.component.ts","./src/app/warehouse/components/warehouse-items/warehouse-items.component.html","./src/app/warehouse/components/warehouse-layout/warehouse-layout.component.ts","./src/app/warehouse/components/warehouse-layout/warehouse-layout.component.html","./src/app/warehouse/components/warehouse-locators/warehouse-locators.component.ts","./src/app/warehouse/components/warehouse-locators/warehouse-locators.component.html","./src/app/warehouse/components/warehouse-production-request-print-page/warehouse-production-request-print-page.component.ts","./src/app/warehouse/components/warehouse-production-request-print-page/warehouse-production-request-print-page.component.html","./src/app/warehouse/components/warehouse-production-request/warehouse-production-request.component.ts","./src/app/warehouse/components/warehouse-production-request/warehouse-production-request.component.html","./src/app/warehouse/components/warehouse-production-requests/warehouse-production-requests.component.ts","./src/app/warehouse/components/warehouse-production-requests/warehouse-production-requests.component.html","./src/app/warehouse/components/warehouse-qc/warehouse-qc-invoice/warehouse-qc-invoice.component.ts","./src/app/warehouse/components/warehouse-qc/warehouse-qc-invoice/warehouse-qc-invoice.component.html","./src/app/warehouse/components/warehouse-qc/warehouse-qc-order/warehouse-qc-order.component.ts","./src/app/warehouse/components/warehouse-qc/warehouse-qc-order/warehouse-qc-order.component.html","./src/app/warehouse/components/warehouse-qc/warehouse-qc.component.ts","./src/app/warehouse/components/warehouse-qc/warehouse-qc.component.html","./src/app/warehouse/components/warehouse-serial-types/warehouse-serial-types.component.ts","./src/app/warehouse/components/warehouse-serial-types/warehouse-serial-types.component.html","./src/app/warehouse/components/warehouse-shipping-requests/warehouse-shipping-request-print/warehouse-shipping-request-print.component.ts","./src/app/warehouse/components/warehouse-shipping-requests/warehouse-shipping-request-print/warehouse-shipping-request-print.component.html","./src/app/warehouse/components/warehouse-shipping-requests/warehouse-shipping-request/warehouse-shipping-request.component.ts","./src/app/warehouse/components/warehouse-shipping-requests/warehouse-shipping-request/warehouse-shipping-request.component.html","./src/app/warehouse/components/warehouse-shipping-requests/warehouse-shipping-requests.component.ts","./src/app/warehouse/components/warehouse-shipping-requests/warehouse-shipping-requests.component.html","./src/app/warehouse/components/warehouse-tool-request/warehouse-tool-request.component.ts","./src/app/warehouse/components/warehouse-tool-request/warehouse-tool-request.component.html","./src/app/warehouse/components/warehouse-tool-requests/warehouse-tool-requests.component.ts","./src/app/warehouse/components/warehouse-tool-requests/warehouse-tool-requests.component.html","./src/app/warehouse/components/warehouse-units-measure/warehouse-units-measure.component.ts","./src/app/warehouse/components/warehouse-units-measure/warehouse-units-measure.component.html","./src/app/warehouse/components/warehouse-warehouses/warehouse-warehouses.component.ts","./src/app/warehouse/components/warehouse-warehouses/warehouse-warehouses.component.html","./src/app/warehouse/components/warehouse-where-used/warehouse-where-used.component.ts","./src/app/warehouse/components/warehouse-where-used/warehouse-where-used.component.html","./src/app/warehouse/modals/add-product-to-physical-inventory/add-product-to-physical-inventory.component.ts","./src/app/warehouse/modals/add-product-to-physical-inventory/add-product-to-physical-inventory.component.html","./src/app/warehouse/modals/create-edit-serial-type/create-edit-serial-type.component.ts","./src/app/warehouse/modals/create-edit-serial-type/create-edit-serial-type.component.html","./src/app/warehouse/modals/create-physical-inventory/create-physical-inventory.component.ts","./src/app/warehouse/modals/create-physical-inventory/create-physical-inventory.component.html","./src/app/warehouse/modals/move-physical-inventory-product/move-physical-inventory-product.component.ts","./src/app/warehouse/modals/move-physical-inventory-product/move-physical-inventory-product.component.html","./src/app/warehouse/modals/physical-inventory-products-changes/physical-inventory-products-changes.component.ts","./src/app/warehouse/modals/physical-inventory-products-changes/physical-inventory-products-changes.component.html","./src/app/warehouse/services/delivery-chain.service.ts","./src/app/warehouse/services/physical-inventory.service.ts","./src/app/warehouse/services/request.service.ts","./src/app/warehouse/services/serial-type.service.ts","./src/app/warehouse/services/technical-equipments-in-use.service.ts","./src/app/warehouse/services/tool-order.service.ts","./src/app/warehouse/services/tool-request.service.ts","./src/app/warehouse/warehouse.module.ts","./src/app/warehouse/warehouse.routing.ts","./src/environments/environment.prod.ts"],"sourcesContent":["import {Company} from '../../crm/models/company';\r\n\r\nexport class Order {\r\n  readonly id: number;\r\n  request: string;\r\n  supplier: Company;\r\n  created?: any;\r\n  updated?: string;\r\n  deadline?: Date;\r\n  promised_date: string;\r\n  comment: string;\r\n  statuses: Array<any>;\r\n  dates: any;\r\n  type;\r\n  accointing_type;\r\n  status?;\r\n  order_products?: any[];\r\n  root_lists?: any[];\r\n  root_production_list_products?: any[];\r\n  root_search_lists?;\r\n  created_to?;\r\n  completed?: boolean;\r\n  qc_completed?: boolean;\r\n  searchFieldList?: any;\r\n  searchFiledStatus?: any;\r\n  quality_control: boolean;\r\n  is_closed?: boolean;\r\n  is_prepared?: boolean;\r\n  // purchase_category?: PurchasingCategory;\r\n  companyId?: number;\r\n  statusesIds?: number[];\r\n  dateFrom?: Date;\r\n  dateTo?: Date;\r\n  rootLists?: [];\r\n  list_ids?: number[];\r\n  orderStatuses?: any;\r\n  root_production_plans?: any[];\r\n  unique_root_production_plans?: any[];\r\n  activeStatusDate?: any;\r\n  // root_production_list_products?: ListProduct[];\r\n  can_select_supplier?: boolean;\r\n  is_hand_added?: boolean;\r\n  accounting_type?: number;\r\n}\r\n\r\nexport class Orders {\r\n  prev: string;\r\n  next: string;\r\n  count: number;\r\n  results: Order[];\r\n}\r\n","import {Injectable} from '@angular/core';\nimport {MatDialog} from '@angular/material/dialog';\nimport {QrCodeModalComponent} from './components/qr-code-modal/qr-code-modal.component';\nimport {Observable} from 'rxjs';\nimport {HttpClient} from '@angular/common/http';\nimport {environment} from '@env/environment';\nimport {map, tap} from 'rxjs/operators';\nimport {QrCodes} from './qr-code';\nimport {DomSanitizer} from '@angular/platform-browser';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class QrCodeService {\n\n  constructor(\n    private readonly dialog: MatDialog,\n    private readonly http: HttpClient,\n    private domSanitizer: DomSanitizer,\n  ) {\n  }\n\n  showQrCodeModal(qrCodes: QrCodes): Observable<void> {\n    return this.dialog\n      .open<QrCodeModalComponent>(QrCodeModalComponent, {\n        width: '80rem',\n        data: qrCodes,\n        height: 'auto',\n        autoFocus: false,\n        enterAnimationDuration: '250ms'\n      })\n      .afterClosed();\n  }\n\n  generateQrCodes(send: any): Observable<QrCodes> {\n    return this.http.post<{ data: QrCodes }>(environment.base_url + 'warehouse/generate_qr_codes/', send).pipe(\n      map(response => response.data),\n      tap(qrCodes => {\n        qrCodes.without_serial.forEach(code => {\n          code.qr_src = this.domSanitizer.bypassSecurityTrustUrl('data:image/svg+xml;base64,' + code.qr_src);\n        });\n\n        const newQrCodesSerials = [];\n\n        qrCodes.with_serial.forEach(code => {\n          // @ts-ignore\n          code.qr_codes.forEach(c => {\n            c.qr_src = this.domSanitizer.bypassSecurityTrustUrl('data:image/svg+xml;base64,' + c.qr_src);\n            newQrCodesSerials.push(c)\n          })\n        });\n\n        qrCodes.with_serial = [...newQrCodesSerials];\n      }),\n      tap(qrCodes => this.showQrCodeModal(qrCodes))\n    );\n  }\n}\n","import { Injectable } from '@angular/core';\nimport {ModalService} from '@shared/services/modal.service';\nimport {HttpClient} from '@angular/common/http';\nimport {environment} from '@env/environment';\nimport {QuerySearch} from '@shared/models/other';\nimport {Observable} from 'rxjs';\nimport {map} from 'rxjs/operators';\nimport {Task} from '@shared/models/task';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class TaskService {\n\n  API_URL = environment.base_url + environment.production_url;\n  readonly url = 'tasks/';\n\n  constructor(\n    private httpClient: HttpClient,\n  ) { }\n\n  get(query?: QuerySearch[]): Observable<Task[]> {\n    let queryParams = '';\n    if (query) {\n      query.forEach((element, index) => {\n        if (index > 0) {\n          queryParams += '&' + element.name + '=' + element.value;\n        } else {\n          queryParams += '?' + element.name + '=' + element.value;\n        }\n      });\n    }\n\n    return this.httpClient.get<{ data: Task[] }>(this.API_URL + this.url + queryParams).pipe(\n      map(response => response.data)\n    );\n  }\n}\n","import {Component, OnDestroy, OnInit, ViewChild} from '@angular/core';\r\nimport {PhysicalInventoryService} from '../../../services/physical-inventory.service';\r\nimport {ActivatedRoute, Router} from '@angular/router';\r\nimport {debounceTime, map, switchMap, tap} from 'rxjs/operators';\r\nimport {finalize, fromEvent, Subject, takeUntil} from 'rxjs';\r\nimport {FormBuilder, FormGroup} from '@angular/forms';\r\nimport {QuerySearch} from '@shared/models/other';\r\nimport {Product} from '../../../../product-structure/models/product';\r\nimport {Paginator} from 'primeng/paginator';\r\nimport {InventoryProduct, PhysicalInventory} from '../../../models/physical-inventory';\r\nimport {ENomenclatureType, Nomenclature} from '@shared/models/nomenclature';\r\nimport {ModalService} from '@shared/services/modal.service';\r\nimport {QrCodeService} from '../../../../qr-code/qr-code.service';\r\n\r\nexport class PreparedPhysicalInventory {\r\n  nomenclature: Nomenclature;\r\n  isSerializerProduct: boolean;\r\n  product: InventoryProduct[];\r\n}\r\n\r\n@Component({\r\n  selector: 'pek-physical-inventory-products',\r\n  templateUrl: './physical-inventory-products.component.html',\r\n  styleUrls: ['./physical-inventory-products.component.scss']\r\n})\r\nexport class PhysicalInventoryProductsComponent implements OnInit, OnDestroy {\r\n  @ViewChild('paginator') paginator: Paginator;\r\n  @ViewChild('searchBoxName') searchBoxName;\r\n  @ViewChild('searchBoxCode') searchBoxCode;\r\n  @ViewChild('searchBoxDescription') searchBoxDescription;\r\n\r\n  isCompleting = false;\r\n  isCancelation = false;\r\n  isGenerating = false;\r\n\r\n  stopScanned$: Subject<any> = new Subject();\r\n  scanningEnd = false;\r\n\r\n  searchForm: FormGroup = this.fb.group({\r\n    name: [null],\r\n    code: [null],\r\n    description: [null],\r\n    warehouse: [null],\r\n    category: [null],\r\n    locator: [null],\r\n    type: [null],\r\n    found_row_id: [null],\r\n    accepted_by_invoices: [null],\r\n    page: [1],\r\n  });\r\n\r\n  isShowAll = false;\r\n  warehousesIds: number[] = [];\r\n\r\n  selectedInventoryProducts: Product[] = [];\r\n  inventoryProducts: Product[] = [];\r\n\r\n  isLoadingCurrentInventory = true;\r\n  isLoadingInventoryList = true;\r\n\r\n  queryKey = 'name:null/code:null/description:null/type:null/accepted_by_invoices:null/warehouse:null/locator:null/category:null';\r\n\r\n  query: QuerySearch[] = [\r\n    {name: 'paginated', value: true},\r\n    {name: 'page', value: this.searchForm.get('page').value},\r\n  ];\r\n\r\n  isStartOnePage = false;\r\n  countProducts = 0;\r\n  inventoryId: number;\r\n  currentInventory: PhysicalInventory = null;\r\n\r\n  ignoringPagination = false;\r\n\r\n  // foundInventoryProductId\r\n  findItemId: number;\r\n\r\n  newQuantity$ = new Subject<InventoryProduct>();\r\n\r\n  private destroy$ = new Subject();\r\n  isScanned: boolean = false;\r\n  preparedProducts: Product[] = [];\r\n\r\n  constructor(\r\n    private readonly route: ActivatedRoute,\r\n    private readonly fb: FormBuilder,\r\n    private readonly modalService: ModalService,\r\n    private readonly physicalInventoryService: PhysicalInventoryService,\r\n    private readonly qrCodeService: QrCodeService,\r\n    private readonly router: Router,\r\n  ) {\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    fromEvent(this.searchBoxName.nativeElement, 'keyup')\r\n      .pipe(\r\n        tap(() => this.selectedInventoryProducts = []),\r\n        map(() => this.searchBoxName.nativeElement.value),\r\n        debounceTime(350),\r\n      ).subscribe(() => {\r\n      this.searchProducts();\r\n    });\r\n\r\n    fromEvent(this.searchBoxCode.nativeElement, 'keyup')\r\n      .pipe(\r\n        tap(() => this.selectedInventoryProducts = []),\r\n        map(() => this.searchBoxCode.nativeElement.value),\r\n        debounceTime(350),\r\n      ).subscribe(() => {\r\n      this.searchProducts();\r\n    });\r\n\r\n    fromEvent(this.searchBoxDescription.nativeElement, 'keyup')\r\n      .pipe(\r\n        tap(() => this.selectedInventoryProducts = []),\r\n        map(() => this.searchBoxDescription.nativeElement.value),\r\n        debounceTime(350),\r\n      ).subscribe(() => {\r\n      this.searchProducts();\r\n    });\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.route.paramMap.pipe(\r\n      map(params => params.get('id')),\r\n      tap(id => this.inventoryId = +id),\r\n      switchMap(() => this.physicalInventoryService.getById(this.inventoryId)),\r\n      takeUntil(this.destroy$)\r\n    ).subscribe(inventory => {\r\n      this.currentInventory = inventory;\r\n      this.warehousesIds = this.currentInventory.warehouses.map(w => w.id);\r\n      this.isLoadingCurrentInventory = false;\r\n    });\r\n\r\n    this.onChangeQuantity();\r\n    this.getInventoryProductsForPagination();\r\n  }\r\n\r\n  onChangeQuantity() {\r\n    this.newQuantity$.pipe(\r\n      tap(inventoryProduct => this.prepareForSave(inventoryProduct)),\r\n      debounceTime(350),\r\n      switchMap(inventoryProduct => this.physicalInventoryService.updateQuantityInventoryProduct(inventoryProduct)),\r\n    ).subscribe();\r\n  }\r\n\r\n  prepareForSave(inventoryProduct: InventoryProduct) {\r\n    if (inventoryProduct.new_quantity === null || inventoryProduct.new_quantity < 0) {\r\n      inventoryProduct.new_quantity = 0;\r\n    }\r\n  }\r\n\r\n  searchProducts() {\r\n    this.isLoadingInventoryList = true;\r\n    this.destroy$.next(true);\r\n    this.selectedInventoryProducts = [];\r\n\r\n    const newQueryKey = `name:${this.searchForm.get('name').value}/code:${this.searchForm.get('code').value}/description:${this.searchForm.get('description').value}/type:${this.searchForm.get('type').value}/accepted_by_invoices:${this.searchForm.get('accepted_by_invoices').value}/warehouse:${this.searchForm.get('warehouse').value}/locator:${this.searchForm.get('locator').value}/category:${this.searchForm.get('category').value}`;\r\n\r\n    if (newQueryKey !== this.queryKey) {\r\n      this.queryKey = newQueryKey;\r\n      this.searchForm.get('page').patchValue(1);\r\n      this.isStartOnePage = true;\r\n    }\r\n\r\n    this.query = [];\r\n\r\n    if (!this.isShowAll) {\r\n      this.query = [\r\n        {name: 'paginated', value: 'true'},\r\n        {name: 'page', value: this.searchForm.get('page').value},\r\n      ];\r\n    }\r\n\r\n    if (this.searchForm.get('code').value) {\r\n      this.query.push({name: 'code', value: this.searchForm.get('code').value});\r\n    }\r\n\r\n    if (this.searchForm.get('name').value) this.query.push({name: 'name', value: this.searchForm.get('name').value});\r\n\r\n    if (this.searchForm.get('description').value) this.query.push({\r\n      name: 'description',\r\n      value: this.searchForm.get('description').value\r\n    });\r\n\r\n    if (this.searchForm.get('warehouse').value) this.query.push({\r\n      name: 'warehouse',\r\n      value: this.searchForm.get('warehouse').value\r\n    });\r\n\r\n    if (this.searchForm.get('locator').value) this.query.push({\r\n      name: 'locator',\r\n      value: this.searchForm.get('locator').value\r\n    });\r\n\r\n    if (this.searchForm.get('type').value !== null) this.query.push({\r\n      name: 'type',\r\n      value: this.searchForm.get('type').value\r\n    });\r\n\r\n    if (this.searchForm.get('accepted_by_invoices').value !== null) this.query.push({\r\n      name: 'accepted_by_invoices',\r\n      value: this.searchForm.get('accepted_by_invoices').value\r\n    });\r\n\r\n    if (this.searchForm.get('found_row_id').value) {\r\n      this.query.push({\r\n        name: 'found_row_id',\r\n        value: this.searchForm.get('found_row_id').value\r\n      });\r\n    }\r\n\r\n    if (!this.isShowAll) {\r\n      this.getInventoryProductsForPagination();\r\n    } else {\r\n      this.searchForm.get('page').patchValue(1);\r\n      this.getInventoryProducts();\r\n    }\r\n  }\r\n\r\n  getInventoryProductsForPagination() {\r\n    const newInventoryProducts = [];\r\n\r\n    this.physicalInventoryService.getInventoryProductsListsForPagination(this.inventoryId, this.query).pipe(\r\n      takeUntil(this.destroy$)\r\n    ).subscribe(inventoryLists => {\r\n\r\n      const preparedProducts = [];\r\n      inventoryLists.results.forEach(product => {\r\n        preparedProducts.push(...product.products)\r\n      });\r\n      this.preparedProducts = [...preparedProducts];\r\n      inventoryLists.results.forEach(list => {\r\n        list.products[0].countProducts = list.products.length;\r\n        list.products[0].products = [...list.products];\r\n        list.products[0].is_scanned_root = list.is_scanned;\r\n        list.products[0].root_id = list.id;\r\n        newInventoryProducts.push(list.products[0]);\r\n      });\r\n\r\n      if (this.searchForm.get('found_row_id').value) {\r\n        this.ignoringPagination = true;\r\n        this.searchForm.get('found_row_id').patchValue(null);\r\n        let page: number;\r\n\r\n        if (!inventoryLists.previous) {\r\n          page = 1;\r\n        } else if (!inventoryLists.next) {\r\n          page = Math.ceil(inventoryLists.count / 10);\r\n        } else {\r\n          page = parseInt(\r\n            inventoryLists.next\r\n              .split('?')\r\n              .find(s => s.includes('page'))\r\n              .split('&')\r\n              .find(s => s.includes('page'))\r\n              .replace(/[^0-9]/g, ''),\r\n            10) - 1;\r\n        }\r\n\r\n        this.searchForm.get('page').patchValue(page);\r\n        this.paginator.changePage(page - 1);\r\n        newInventoryProducts.sort((a, b) => a.root_id === this.findItemId ? -1 : 1);\r\n      }\r\n\r\n      this.findItemId = null;\r\n      // preparedProducts\r\n      this.inventoryProducts = [...newInventoryProducts];\r\n      this.countProducts = inventoryLists.count;\r\n\r\n\r\n      if (this.isStartOnePage) {\r\n        this.paginator?.changePage(0);\r\n      }\r\n\r\n      this.isStartOnePage = false;\r\n      this.isLoadingInventoryList = false;\r\n    });\r\n  }\r\n\r\n  getInventoryProducts() {\r\n    const newInventoryProducts = [];\r\n\r\n    this.physicalInventoryService.getInventoryProducts(this.inventoryId, this.query).pipe(\r\n      takeUntil(this.destroy$)\r\n    ).subscribe(inventoryLists => {\r\n      inventoryLists.forEach(list => {\r\n        list.products[0].countProducts = list.products.length;\r\n        list.products[0].products = [...list.products];\r\n        list.products[0].is_scanned_root = list.is_scanned;\r\n        list.products[0].root_id = list.id;\r\n        newInventoryProducts.push(list.products[0]);\r\n      });\r\n\r\n      this.inventoryProducts = [...newInventoryProducts];\r\n      this.countProducts = inventoryLists.length;\r\n\r\n      if (this.isStartOnePage) {\r\n        this.paginator?.changePage(0);\r\n      }\r\n\r\n      this.isStartOnePage = false;\r\n      this.isLoadingInventoryList = false;\r\n    });\r\n  }\r\n\r\n  onSelectWarehouse(id: number) {\r\n    this.searchForm.get('warehouse').patchValue(id);\r\n    this.searchForm.get('locator').patchValue(null);\r\n    this.searchProducts();\r\n  }\r\n\r\n  onSelectLocator(id: number) {\r\n    this.searchForm.get('locator').patchValue(id);\r\n    this.searchProducts();\r\n  }\r\n\r\n  onSelectNomenclatureType(type: ENomenclatureType) {\r\n    this.searchForm.get('type').patchValue(type);\r\n    this.searchProducts();\r\n  }\r\n\r\n  onSelectAcceptedByInvoices(value: boolean) {\r\n    this.searchForm.get('accepted_by_invoices').patchValue(value);\r\n    this.searchProducts();\r\n  }\r\n\r\n  paginate(evt: any) {\r\n    if (this.ignoringPagination) {\r\n      this.ignoringPagination = false;\r\n      return;\r\n    }\r\n\r\n    if (!this.isStartOnePage) {\r\n      this.searchForm.get('page').patchValue(evt.page + 1);\r\n      this.searchProducts();\r\n    }\r\n  }\r\n\r\n  onComplete() {\r\n    this.modalService.confirm('success').subscribe(confirm => {\r\n      if (confirm) {\r\n        this.physicalInventoryService.getChangedPhysicalInventoryProductsHaveBeenChanged(+this.inventoryId).subscribe((res: { data: InventoryProduct[] }) => {\r\n          if (res.data.length > 0) {\r\n            this.physicalInventoryService.changesInInventory(res.data).subscribe(res => {\r\n              if (res) {\r\n                this.completePhysicalInventory();\r\n              }\r\n            });\r\n          } else {\r\n            this.completePhysicalInventory();\r\n          }\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  completePhysicalInventory() {\r\n    this.isCompleting = true;\r\n    this.physicalInventoryService.completePhysicalInventory(+this.inventoryId).pipe(\r\n      finalize(() => this.isCompleting = false)\r\n    ).subscribe(() => {\r\n      this.router.navigateByUrl('/warehouse/physical-inventory').then();\r\n    });\r\n  }\r\n\r\n  onRemovePhysicalInventory() {\r\n    this.modalService.confirm('danger').subscribe(confirm => {\r\n      if (confirm) {\r\n        this.isCancelation = true;\r\n        this.physicalInventoryService.removePhysicalInventory(+this.inventoryId).pipe(\r\n          finalize(() => this.isCancelation = false)\r\n        ).subscribe(() => {\r\n          this.router.navigateByUrl('/warehouse/physical-inventory').then();\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  onShowAll() {\r\n    this.isShowAll = true;\r\n    this.searchProducts();\r\n  }\r\n\r\n  onShowPartial() {\r\n    this.isShowAll = false;\r\n    this.searchProducts();\r\n  }\r\n\r\n  onMoveProduct() {\r\n    this.physicalInventoryService.openPhysicalInventoryProductMoveModal(this.selectedInventoryProducts[0]).subscribe(res => {\r\n      if (res) {\r\n        this.searchProducts();\r\n      }\r\n    });\r\n  }\r\n\r\n  onOpenAddProductModal() {\r\n    this.physicalInventoryService.openAddProductToPhysicalInventory(this.inventoryId).subscribe(res => {\r\n      if (res) {\r\n        this.searchProducts();\r\n      }\r\n    });\r\n  }\r\n\r\n  onGenerateQrCodes() {\r\n    this.isGenerating = true;\r\n\r\n    const send = {\r\n      by_nomenclatures_list: [],\r\n    };\r\n\r\n    this.selectedInventoryProducts.forEach(p => {\r\n      if (p.product) {\r\n        send.by_nomenclatures_list.push({\r\n          nomenclature_id: p.product.nomenclature.id,\r\n          serial_number_ids:\r\n            p.product.nomenclature.bulk_or_serial === '1' ?\r\n              p.products.filter(product => product.serial_number).map(product => +product.serial_number.id) : [],\r\n          order_product_ids: [p.id],\r\n          invoice_product_ids: [],\r\n        });\r\n      } else {\r\n        send.by_nomenclatures_list.push({\r\n          nomenclature_id: p.nomenclature.id,\r\n          serial_number_ids: [],\r\n          order_product_ids: [],\r\n          invoice_product_ids: [],\r\n        });\r\n      }\r\n    });\r\n\r\n    this.qrCodeService.generateQrCodes(send).subscribe(() => this.isGenerating = false);\r\n  }\r\n\r\n  onStartScanning() {\r\n    this.isScanned = true;\r\n    this.findItemId = null;\r\n    this.scanningEnd = false;\r\n  }\r\n\r\n  onScanned(data: any) {\r\n    this.physicalInventoryService.scanPhysicalInventoryQrCode(this.inventoryId, data).pipe(\r\n      takeUntil(this.destroy$)\r\n    ).subscribe(response => {\r\n      if (!this.scanningEnd) {\r\n        if (response) {\r\n          this.scanningComplete(response);\r\n        } else {\r\n          this.scanningEnd = true;\r\n          this.isScanned = false;\r\n\r\n          setTimeout(() => {\r\n            alert('Not Found');\r\n          }, 1000);\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  scanningComplete(data: { item_id_changed: number, list_id_changed: number }) {\r\n    const listId = data.item_id_changed;\r\n    const itemId = data.list_id_changed;\r\n\r\n    if (listId) {\r\n      this.findItemId = listId;\r\n      const findEl = this.inventoryProducts.find(p => p.root_id === this.findItemId);\r\n\r\n      if (findEl) {\r\n        if (findEl.product.nomenclature.bulk_or_serial === '1') {\r\n        } else {\r\n          findEl.is_scanned = true;\r\n          findEl.is_scanned_root = true;\r\n          this.inventoryProducts.sort((a, b) => a.root_id === this.findItemId ? -1 : 1);\r\n        }\r\n      } else {\r\n        this.searchForm.get('found_row_id').patchValue(listId);\r\n        this.searchProducts();\r\n      }\r\n    }\r\n\r\n    this.scanningEnd = true;\r\n    this.isScanned = false;\r\n  }\r\n\r\n  onCancelScanned() {\r\n    this.scanningEnd = true;\r\n    this.isScanned = false;\r\n  }\r\n\r\n  getWarehouseLocators(warehouseId: number) {\r\n    // @ts-ignore\r\n    return this.currentInventory.locators.filter(loc => loc.warehouse === warehouseId).map(loc => loc.name);\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.stopScanned$.next(true);\r\n    this.stopScanned$.complete();\r\n    this.destroy$.next(true);\r\n    this.destroy$.complete();\r\n  }\r\n\r\n}\r\n","<div class=\"page\">\r\n  <div class=\"page__header\">\r\n    <div class=\"page__title\">\r\n      <pek-module-icon [module]=\"'warehouse'\" [isActive]=\"true\"></pek-module-icon>\r\n      <h1>\r\n        Physical Inventory Products of Warehouses:\r\n        <ng-container *ngIf=\"isLoadingCurrentInventory\">...</ng-container>\r\n        <ng-container *ngIf=\"!isLoadingCurrentInventory\">\r\n          <ng-container *ngFor=\"let warehouse of currentInventory.warehouses; let idx = index\">\r\n            {{warehouse.name}}\r\n            locators(\r\n            <ng-container *ngFor=\"let locator of getWarehouseLocators(warehouse.id); let locatorIdx = index\">\r\n              {{locator}}<span *ngIf=\"locatorIdx !== getWarehouseLocators(warehouse.id).length - 1\">,</span>\r\n            </ng-container>\r\n            )\r\n            <span *ngIf=\"idx !== currentInventory.warehouses.length - 1\">,</span>\r\n          </ng-container>\r\n        </ng-container>\r\n        <div>Date Created {{ currentInventory?.system_creation_date | date:'dd/MM/yyyy'}}</div>\r\n      </h1>\r\n    </div>\r\n    <div class=\"page__tools\">\r\n      <button\r\n        pButton\r\n        type=\"button\"\r\n        icon=\"pi pi-plus\"\r\n        label=\"Add Product\"\r\n        class=\"mr-2\"\r\n        (click)=\"onOpenAddProductModal()\"\r\n      >\r\n      </button>\r\n      <button\r\n        pButton\r\n        type=\"button\"\r\n        class=\"mr-2 p-button-icon\"\r\n        icon=\"pi pi-check\"\r\n        label=\"Complete\"\r\n        (click)=\"onComplete()\"\r\n        [loading]=\"isCompleting\"\r\n        [disabled]=\"!currentInventory || (isLoadingCurrentInventory && currentInventory.status === '0')\">\r\n      </button>\r\n\r\n      <button\r\n        pButton\r\n        type=\"button\"\r\n        icon=\"pi pi-times\"\r\n        label=\"Cancel Physical Inventory\"\r\n        class=\"p-button-danger p-button-icon\"\r\n        [loading]=\"isCancelation\"\r\n        (click)=\"onRemovePhysicalInventory()\"\r\n      ></button>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"page__content\">\r\n  <div class=\"page__card\">\r\n    <form\r\n      [formGroup]=\"searchForm\"\r\n      class=\"physical-inventory-products__form mb-3\"\r\n    >\r\n      <div class=\"row\">\r\n        <div class=\"col-4\">\r\n          <div class=\"form-group\">\r\n            <label>Code</label>\r\n            <input class=\"form-control\" formControlName=\"code\" pInputText #searchBoxCode>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-4\">\r\n          <div class=\"form-group\">\r\n            <label>Name</label>\r\n            <input class=\"form-control\" formControlName=\"name\" pInputText #searchBoxName>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-4\">\r\n          <div class=\"form-group\">\r\n            <label>Description</label>\r\n            <input class=\"form-control\" formControlName=\"description\" pInputText #searchBoxDescription>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-4\">\r\n          <div class=\"row\">\r\n            <div class=\"col-6\">\r\n              <div class=\"form-group\">\r\n                <label>Warehouses</label>\r\n                <pek-warehouse-picker\r\n                  [acceptedWarehouseIds]=\"warehousesIds\"\r\n                  (selectWarehouse)=\"onSelectWarehouse($event)\"\r\n                ></pek-warehouse-picker>\r\n              </div>\r\n            </div>\r\n            <div class=\"col-6\">\r\n              <div class=\"form-group\">\r\n                <label>Locator</label>\r\n                <pek-locator-picker\r\n                  (selectLocator)=\"onSelectLocator($event)\"\r\n                  [warehouseId]=\"searchForm.get('warehouse').value\"\r\n                  [isAllLocators]=\"false\"\r\n                  [isDisabled]=\"true\"\r\n                ></pek-locator-picker>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-4\">\r\n          <div class=\"row\">\r\n            <div class=\"col-6\">\r\n              <div class=\"form-group\">\r\n                <label>Type</label>\r\n                <pek-nomenclature-type-picker\r\n                  (choiceNomenclatureType)=\"onSelectNomenclatureType($event)\"\r\n                ></pek-nomenclature-type-picker>\r\n              </div>\r\n            </div>\r\n            <div class=\"col-6\">\r\n              <div class=\"form-group\">\r\n                <label>Accepted Type</label>\r\n                <pek-accepted-type-picker\r\n                  (selectAcceptedType)=onSelectAcceptedByInvoices($event)\r\n                ></pek-accepted-type-picker>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-4\">\r\n          <div class=\"action-buttons\">\r\n            <button\r\n              class=\"ml-auto mr-2 p-button-icon\"\r\n              pButton\r\n              type=\"button\"\r\n              icon=\"pi pi-camera\"\r\n              label=\"Scan QR Codes\"\r\n              (click)=\"onStartScanning()\"\r\n            >\r\n            </button>\r\n            <button\r\n              class=\"mr-2 p-button-icon\"\r\n              pButton\r\n              type=\"button\"\r\n              icon=\"pi pi-qrcode\"\r\n              label=\"Generate QR Codes\"\r\n              [loading]=\"isGenerating\"\r\n              (click)=\"onGenerateQrCodes()\"\r\n              [disabled]=\"selectedInventoryProducts.length === 0\"\r\n            >\r\n            </button>\r\n            <button\r\n              class=\"\"\r\n              pButton\r\n              type=\"button\"\r\n              icon=\"pi pi-angle-double-right p-button-icon\"\r\n              label=\"Move product\"\r\n              [disabled]=\"selectedInventoryProducts.length === 0 || selectedInventoryProducts.length > 1\"\r\n              (click)=\"onMoveProduct()\"\r\n            >\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </form>\r\n\r\n    <div class=\"table-pagination-preloader\">\r\n      <p-table\r\n        #dt\r\n        selectionMode=\"multiple\"\r\n        scrollHeight=\"calc(100vh - 30.25rem)\"\r\n        [scrollable]=\"true\"\r\n        dataKey=\"id\"\r\n        groupRowsBy=\"nomenclature.id\"\r\n        rowGroupMode=\"rowspan\"\r\n        [rows]=\"preparedProducts.length\"\r\n        [(selection)]=\"selectedInventoryProducts\"\r\n        [value]=\"preparedProducts\"\r\n      >\r\n        <ng-template pTemplate=\"header\">\r\n          <tr>\r\n            <th style=\"width: 3%\">\r\n              <p-tableHeaderCheckbox></p-tableHeaderCheckbox>\r\n            </th>\r\n            <th class=\"index-header text-center\" style=\"width: 5%\">#</th>\r\n            <th style=\"width: 14%\">Code</th>\r\n            <th style=\"width: 10%\">Name</th>\r\n            <th style=\"width: 10%\" class=\"text-center\">Technology</th>\r\n            <th style=\"width: 9%\" class=\"text-center\">Initial Quantity</th>\r\n            <th style=\"width: 11%\" class=\"text-center\">Entered Quantity</th>\r\n            <th style=\"width: 11%\" class=\"text-center\">Category</th>\r\n            <th style=\"width: 6%\" class=\"text-center\">UOM</th>\r\n            <th style=\"width: 11%\" class=\"text-center\">Warehouse</th>\r\n            <th style=\"width: 14%\">Locator</th>\r\n          </tr>\r\n        </ng-template>\r\n\r\n        <ng-template pTemplate=\"body\" let-inventoryProduct let-i=\"rowIndex\" let-rowgroup=\"rowgroup\"\r\n                     let-rowspan=\"rowspan\">\r\n          <tr\r\n            [class.qr-code-item-scanned]=\"inventoryProduct.is_scanned\"\r\n            [class.qr-code-item-found]=\"inventoryProduct.id === findItemId\"\r\n          >\r\n            <td style=\"width: 3%\">\r\n              <p-tableCheckbox [value]=\"inventoryProduct\"></p-tableCheckbox>\r\n            </td>\r\n            <td style=\"width: 5%\" class=\"text-center\">\r\n              {{(this.searchForm.get('page').value - 1) * 10 + i + 1}}\r\n            </td>\r\n            <td style=\"width: 14%\" *ngIf=\"rowgroup\" [attr.rowspan]=\"rowspan\">\r\n              <ng-container *ngIf=\"inventoryProduct.product && !inventoryProduct.nomenclature\">\r\n                {{inventoryProduct.product.nomenclature.code}}\r\n              </ng-container>\r\n              <ng-container *ngIf=\"inventoryProduct.nomenclature\">\r\n                {{inventoryProduct.nomenclature.code}}\r\n              </ng-container>\r\n\r\n              <ng-container *ngIf=\"inventoryProduct.root_id === findItemId\">\r\n                <span>(found)</span>\r\n              </ng-container>\r\n            </td>\r\n            <td style=\"width: 10%\" *ngIf=\"rowgroup\" [attr.rowspan]=\"rowspan\">\r\n              <b *ngIf=\"inventoryProduct.nomenclature.bulk_or_serial === '1'\">(S)</b>\r\n              {{inventoryProduct.nomenclature.name}}\r\n            </td>\r\n            <td style=\"width: 10%\" class=\"text-center\">\r\n              <ng-container *ngIf=\"inventoryProduct.product\">\r\n                {{inventoryProduct.product.current_technology?.name}}\r\n              </ng-container>\r\n\r\n              <ng-container *ngIf=\"!inventoryProduct.product && inventoryProduct.technology\">\r\n                {{inventoryProduct.technology?.name}}\r\n              </ng-container>\r\n            </td>\r\n            <td style=\"width: 9%\" class=\"text-center\">\r\n                <span>\r\n                  <span *ngIf=\"inventoryProduct.initial_quantity === inventoryProduct.current_available_quantity\">\r\n                  {{inventoryProduct.initial_quantity}}\r\n                </span>\r\n                <span *ngIf=\"inventoryProduct.initial_quantity !== inventoryProduct.current_available_quantity\">\r\n                  {{inventoryProduct.initial_quantity}} <span\r\n                  class=\"warning-quantity-less\">({{inventoryProduct.current_available_quantity}})</span>\r\n                </span>\r\n                </span>\r\n            </td>\r\n            <td pEditableColumn class=\"text-center\" style=\"width: 11%\">\r\n\r\n              <p-cellEditor\r\n                *ngIf=\"inventoryProduct.nomenclature.bulk_or_serial !== '1' && currentInventory && currentInventory.status === '0'\">\r\n                <ng-template pTemplate=\"input\">\r\n                  <input\r\n                    pInputText\r\n                    style=\"width: 100%; text-align: center\"\r\n                    type=\"number\"\r\n                    step=\"1\"\r\n                    [(ngModel)]=\"inventoryProduct.new_quantity\"\r\n                    (ngModelChange)=\"newQuantity$.next(inventoryProduct)\"\r\n                  >\r\n                </ng-template>\r\n                <ng-template pTemplate=\"output\">\r\n                  {{inventoryProduct.new_quantity}}\r\n                </ng-template>\r\n              </p-cellEditor>\r\n\r\n              <span *ngIf=\"currentInventory && currentInventory.status === '1'\">{{inventoryProduct.new_quantity}}</span>\r\n            </td>\r\n            <td style=\"width: 11%\" class=\"text-center\">\r\n              <ng-container *ngIf=\"inventoryProduct.product && !inventoryProduct.nomenclature\">\r\n                {{inventoryProduct.product.nomenclature.category?.name}}\r\n              </ng-container>\r\n\r\n              <ng-container *ngIf=\"inventoryProduct.nomenclature\">\r\n                {{inventoryProduct.nomenclature.category?.name}}\r\n              </ng-container>\r\n            </td>\r\n            <td style=\"width: 6%\" class=\"text-center\">\r\n              <ng-container *ngIf=\"inventoryProduct.product  && !inventoryProduct.nomenclature\">\r\n                {{inventoryProduct.product.nomenclature.category?.unit_of_measure?.symbol ? inventoryProduct.product.nomenclature.category?.unit_of_measure?.symbol : 'Pcs' }}\r\n              </ng-container>\r\n\r\n              <ng-container *ngIf=\"inventoryProduct.nomenclature\">\r\n                {{inventoryProduct.nomenclature.category?.unit_of_measure?.symbol ? inventoryProduct.nomenclature.category?.unit_of_measure?.symbol : 'Pcs' }}\r\n              </ng-container>\r\n            </td>\r\n            <td style=\"width: 11%\" class=\"text-center\">\r\n              <ng-container *ngIf=\"inventoryProduct.locator; else productWarehouse\">\r\n                {{inventoryProduct.locator.warehouse.name}}\r\n              </ng-container>\r\n            </td>\r\n            <td style=\"width: 14%\">\r\n              <div *ngIf=\"inventoryProduct.locator; else productLocator\">\r\n                {{inventoryProduct.locator.name}}\r\n\r\n                <span class=\"d-block\">\r\n                    R: {{inventoryProduct.locator.row}}\r\n                  Col: {{inventoryProduct.locator.column}}\r\n                  Sh: {{inventoryProduct.locator.shelf}}\r\n                  Pl: {{inventoryProduct.locator.place}}\r\n                  </span>\r\n              </div>\r\n            </td>\r\n\r\n            <ng-template #productLocator>\r\n              <div *ngIf=\"inventoryProduct.product.locator\">\r\n                {{inventoryProduct.product.locator.name}}\r\n                <span class=\"d-block\">\r\n                    R: {{inventoryProduct.product.locator.row}}\r\n                  Col: {{inventoryProduct.product.locator.column}}\r\n                  Sh: {{inventoryProduct.product.locator.shelf}}\r\n                  Pl: {{inventoryProduct.product.locator.place}}\r\n                  </span>\r\n              </div>\r\n            </ng-template>\r\n\r\n            <ng-template #productWarehouse>\r\n              {{inventoryProduct.product.locator.warehouse.name}}\r\n            </ng-template>\r\n          </tr>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"emptymessage\">\r\n          <tr>\r\n            <td class=\"text-center p-4\" [attr.colspan]=\"10\">\r\n              <i *ngIf=\"isLoadingInventoryList\" class=\"pi pi-spin pi-spinner\" style=\"font-size: 2.25rem\"></i>\r\n              <span *ngIf=\"!isLoadingInventoryList\">No Records Found</span>\r\n            </td>\r\n          </tr>\r\n        </ng-template>\r\n      </p-table>\r\n      <div class=\"pagination-preloader pagination-preloader_bord\" *ngIf=\"isLoadingInventoryList\">\r\n        <i class=\"pi pi-spin pi-spinner\" style=\"font-size: 2.25rem\"></i>\r\n      </div>\r\n    </div>\r\n    <div\r\n      class=\"paginator-wrapper\"\r\n      *ngIf=\"!isShowAll\"\r\n      [class.paginator-wrapper_hide]=\"preparedProducts.length === 0\"\r\n    >\r\n      <p-paginator\r\n        #paginator\r\n        [rows]=\"10\"\r\n        [totalRecords]=\"countProducts\"\r\n        (onPageChange)=\"paginate($event)\"\r\n      >\r\n      </p-paginator>\r\n      <p-button\r\n        (click)=\"onShowAll()\"\r\n        class=\"paginator-all\"\r\n        type=\"button\"\r\n        styleClass=\"p-button-text\"\r\n      >\r\n        All\r\n      </p-button>\r\n    </div>\r\n\r\n    <div *ngIf=\"isShowAll\" class=\"paginator-return-pagination\">\r\n      <p-button\r\n        type=\"button\"\r\n        (click)=\"onShowPartial()\"\r\n        styleClass=\"p-button-text\"\r\n      >\r\n        Return pagination\r\n      </p-button>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<pek-qr-code-scanner\r\n  *ngIf=\"isScanned\"\r\n  (scanned)=\"onScanned($event)\"\r\n  (cancel)=\"onCancelScanned()\"\r\n></pek-qr-code-scanner>\r\n","import {Component, OnDestroy, OnInit} from '@angular/core';\nimport {PhysicalInventory} from '../../models/physical-inventory';\nimport {FormBuilder, FormGroup} from '@angular/forms';\nimport {QuerySearch} from '@shared/models/other';\nimport {PhysicalInventoryService} from '../../services/physical-inventory.service';\nimport {Subject, takeUntil} from 'rxjs';\n\n@Component({\n  selector: 'pek-physical-inventory',\n  templateUrl: './physical-inventory.component.html',\n  styleUrls: ['./physical-inventory.component.scss']\n})\nexport class PhysicalInventoryComponent implements OnInit, OnDestroy {\n  isLoading = true;\n\n  physicalInventories: PhysicalInventory[] = [];\n  selectedPhysicalInventory: PhysicalInventory;\n  countPhysicalInventory = 0;\n\n  searchForm: FormGroup = this.fb.group({\n    page: [1]\n  });\n\n  private destroy$ = new Subject();\n\n  constructor(\n    private fb: FormBuilder,\n    private readonly physicalInventoryService: PhysicalInventoryService\n  ) {\n  }\n\n  ngOnInit(): void {\n    this.getPhysicalInventoryForPagination();\n  }\n\n  query: QuerySearch[] = [\n    {name: 'page', value: this.searchForm.get('page').value},\n    {name: 'paginated', value: true}\n  ];\n\n  getPhysicalInventoryForPagination() {\n    this.physicalInventoryService.getForPagination(this.query).pipe(\n      takeUntil(this.destroy$)\n    ).subscribe(physicalInventories => {\n      this.physicalInventories = physicalInventories.results;\n      this.countPhysicalInventory = physicalInventories.count;\n      this.isLoading = false;\n    });\n  }\n\n  searchPhysicalInventory() {\n    this.isLoading = true;\n    this.selectedPhysicalInventory = null;\n\n    this.query = [\n      {name: 'page', value: this.searchForm.get('page').value},\n      {name: 'paginated', value: true}\n    ];\n\n    this.getPhysicalInventoryForPagination();\n  }\n\n  onCreatePhysicalInventory() {\n    this.physicalInventoryService.openCreatePhysicalInventoryModal().subscribe(response => {\n      if (response) {\n        this.searchPhysicalInventory();\n      }\n    })\n  }\n\n  paginate(evt: any) {\n    this.searchForm.get('page').patchValue(evt.page + 1);\n    this.searchPhysicalInventory();\n  }\n\n  ngOnDestroy() {\n    this.destroy$.next(true);\n    this.destroy$.complete();\n  }\n}\n","<div class=\"page\">\n  <div class=\"page__header\">\n    <div class=\"page__title\">\n      <pek-module-icon [module]=\"'warehouse'\" [isActive]=\"true\"></pek-module-icon>\n      <h1>Physical Inventory</h1>\n    </div>\n    <div class=\"page__tools\">\n      <button\n        pButton\n        type=\"button\"\n        icon=\"pi pi-plus\"\n        label=\"Create Physical Inventory\"\n        (click)=\"onCreatePhysicalInventory()\"\n      >\n      </button>\n    </div>\n  </div>\n</div>\n\n<div class=\"page__content\">\n  <div class=\"page__card\">\n    <div class=\"page__block\">\n      <button\n        pButton\n        type=\"button\"\n        class=\"ml-auto\"\n        icon=\"pi pi-bars\"\n        label=\"Inventory Products\"\n        [routerLink]=\"[selectedPhysicalInventory?.id]\"\n        [disabled]=\"!selectedPhysicalInventory\"\n      ></button>\n    </div>\n    <div class=\"page__table\">\n      <div class=\"table-pagination-preloader\">\n        <p-table\n          #dt\n          selectionMode=\"single\"\n          scrollHeight=\"calc(100vh - 18.8rem)\"\n          [scrollable]=\"true\"\n          [rows]=\"10\"\n          [(selection)]=\"selectedPhysicalInventory\"\n          [value]=\"physicalInventories\"\n        >\n          <ng-template pTemplate=\"header\">\n            <tr>\n              <th class=\"text-center\" style=\"width: 5%\">#</th>\n              <th class=\"text-center\" style=\"width: 25%\">Id</th>\n              <th class=\"text-center\" style=\"width: 35%\">Date</th>\n              <th class=\"text-center\" style=\"width: 35%\">Status</th>\n            </tr>\n          </ng-template>\n          <ng-template pTemplate=\"body\" let-physicalInventory let-i=\"rowIndex\">\n            <tr [pSelectableRow]=\"physicalInventory\">\n              <td style=\"width: 5%\" class=\"text-center\">{{(this.searchForm.get('page').value - 1) * 10 + i + 1}}</td>\n              <td style=\"width: 25%\" class=\"text-center\">{{physicalInventory.id}}</td>\n              <td style=\"width: 35%\"\n                  class=\"text-center\">{{physicalInventory?.system_creation_date | date:'dd/MM/yyyy'}}</td>\n              <td style=\"width: 35%\" class=\"text-center\">\n                <span *ngIf=\"physicalInventory.status === '1'\">Completed</span>\n                <span *ngIf=\"physicalInventory.status === '0'\">In Progress</span>\n              </td>\n            </tr>\n          </ng-template>\n          <ng-template pTemplate=\"emptymessage\">\n            <tr>\n              <td class=\"text-center p-4\" [attr.colspan]=\"4\">\n                <i *ngIf=\"isLoading\" class=\"pi pi-spin pi-spinner\" style=\"font-size: 2.25rem\"></i>\n                <span *ngIf=\"!isLoading\">No Records Found</span>\n              </td>\n            </tr>\n          </ng-template>\n          <ng-template pTemplate=\"paginatorright\">\n            <p-button\n              type=\"button\"\n              (click)=\"dt.paginator=false\"\n              styleClass=\"p-button-text\"\n            >\n              All\n            </p-button>\n          </ng-template>\n        </p-table>\n        <div class=\"pagination-preloader pagination-preloader_bord\" *ngIf=\"isLoading\">\n          <i class=\"pi pi-spin pi-spinner\" style=\"font-size: 2.25rem\"></i>\n        </div>\n      </div>\n    </div>\n    <div class=\"paginator-wrapper\" *ngIf=\"physicalInventories.length > 0\">\n      <p-paginator\n        #paginator\n        [rows]=\"10\"\n        [totalRecords]=\"countPhysicalInventory\"\n        (onPageChange)=\"paginate($event)\">\n      </p-paginator>\n      <p-button\n        class=\"paginator-all\"\n        type=\"button\"\n        styleClass=\"p-button-text\"\n      >\n        All\n      </p-button>\n    </div>\n  </div>\n</div>\n","import {Component, Input, OnInit} from '@angular/core';\r\nimport {TreePrint} from '../production-list/production-list.component';\r\n\r\n@Component({\r\n  selector: 'app-list-product-print-item',\r\n  templateUrl: './list-product-print-item.component.html',\r\n  styleUrls: ['./list-product-print-item.component.scss']\r\n})\r\nexport class ListProductPrintItemComponent implements OnInit {\r\n  @Input() product: TreePrint;\r\n  statuses = {'0': 'Not Processed', '1': 'Completed', '2': 'Deficit', '3': 'Reserved'};\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<div class=\"list-product-print-item\" *ngIf=\"product.children.length > 0\">\r\n  <h2>Production List {{product.data.nomenclature.code}} ({{product.data.list}}) {{product.data.nomenclature.name}}</h2>\r\n\r\n  <div class=\"list-product-print-item__row\">\r\n    <div class=\"list-product-print-item__col\">#</div>\r\n    <div class=\"list-product-print-item__col\">Code</div>\r\n    <div class=\"list-product-print-item__col\">Name</div>\r\n    <div class=\"list-product-print-item__col\">UOM</div>\r\n    <div class=\"list-product-print-item__col\">Total Req Qty</div>\r\n    <div class=\"list-product-print-item__col\">Locator</div>\r\n    <div class=\"list-product-print-item__col\">Status</div>\r\n  </div>\r\n\r\n  <div *ngFor=\"let product of product.children; let idx = index\" class=\"list-product-print-item__row\">\r\n    <div class=\"list-product-print-item__col\">{{idx + 1}}</div>\r\n    <div class=\"list-product-print-item__col\">{{product.nomenclature.code}}</div>\r\n    <div class=\"list-product-print-item__col\">{{product.nomenclature.name}}</div>\r\n    <div class=\"list-product-print-item__col\">{{product.nomenclature?.category?.unit_of_measure?.symbol ? product.nomenclature?.category?.unit_of_measure?.symbol : 'Pcs'}}</div>\r\n    <div class=\"list-product-print-item__col\">{{product.total_required_quantity}}</div>\r\n    <div class=\"list-product-print-item__col\">{{product.available_on_locator}}</div>\r\n    <div class=\"list-product-print-item__col\">{{statuses[product.status]}}</div>\r\n  </div>\r\n</div>\r\n","import {Component, OnInit} from '@angular/core';\r\nimport {List} from '../../../models/list';\r\nimport {ListProduct} from '../../../models/list-product';\r\nimport {ActivatedRoute, NavigationEnd, Router} from '@angular/router';\r\nimport {ModalService} from '@shared/services/modal.service';\r\nimport {ListService} from '../../../services/list.service';\r\nimport {take} from 'rxjs/operators';\r\nimport * as cloneDeep from 'lodash/cloneDeep';\r\nimport {Location} from '@angular/common';\r\nimport {MenuItem, MessageService, TreeNode} from 'primeng/api';\r\nimport {ListProductService} from '../../../services/list-product.service';\r\nimport {ENomenclatureType} from '@shared/models/nomenclature';\r\nimport {ViewMode} from '../production-lists.component';\r\nimport {ScanResult} from '../../../../qr-code/models/scan-result';\r\nimport {IS_SCANNING_ENABLED} from '@shared/interceptors/error-interceptor';\r\n\r\nexport class TreePrint {\r\n  data: ListProduct;\r\n  children: ListProduct[];\r\n}\r\n\r\n@Component({\r\n  selector: 'pek-production-list',\r\n  templateUrl: './production-list.component.html',\r\n  styleUrls: ['./production-list.component.scss']\r\n})\r\n\r\nexport class ProductionListComponent implements OnInit {\r\n\r\n  selectedNodeMenuItems: MenuItem[] = [\r\n    {\r\n      label: 'Selected Production List',\r\n      items: [\r\n        {\r\n          label: 'Show Images',\r\n          icon: 'pi pi-images',\r\n          command: () => this.showImages(this.selectedNode),\r\n        },\r\n        {\r\n          label: 'Set Actual Quantity',\r\n          icon: 'pi pi-angle-double-right',\r\n          command: () => this.editQuantity(this.selectedNode),\r\n        },\r\n        {\r\n          label: 'Cancel Actual Quantities',\r\n          icon: 'pi pi-times',\r\n          command: () => this.cancelQuantities(this.selectedNode),\r\n        },\r\n        {\r\n          label: 'Make Request',\r\n          icon: 'pi pi-caret-right',\r\n          command: () => this.makeDeficitOne(this.selectedNode),\r\n        },\r\n      ]\r\n    }\r\n  ];\r\n\r\n  selectedNodeTreeMenuItems: MenuItem[] = [\r\n    {\r\n      label: 'Selected Production List',\r\n      items: [\r\n        {\r\n          label: 'Show Images',\r\n          icon: 'pi pi-images',\r\n          command: () => this.showImages(this.selectedNodeTree.data),\r\n        },\r\n        {\r\n          label: 'Set Actual Quantity',\r\n          icon: 'pi pi-angle-double-right',\r\n          command: () => this.editQuantity(this.selectedNodeTree.data),\r\n        },\r\n        {\r\n          label: 'Cancel Actual Quantities',\r\n          icon: 'pi pi-times',\r\n          command: () => this.cancelQuantities(this.selectedNodeTree.data),\r\n        },\r\n        {\r\n          label: 'Make Request',\r\n          icon: 'pi pi-caret-right',\r\n          command: () => this.makeDeficitOne(this.selectedNodeTree.data),\r\n        },\r\n      ]\r\n    }\r\n  ];\r\n\r\n  mode: 'hierarchy' | 'list' = 'hierarchy';\r\n\r\n  addedTree = [];\r\n\r\n  isSetAllActualQuantities = false;\r\n  products: ListProduct[];\r\n  selectedNode;\r\n  selectedNodeTree;\r\n  isLoading = true;\r\n  list: List = null;\r\n  listId = this.route.snapshot.paramMap.get('id');\r\n  statuses = {'0': 'Not Processed', '1': 'Completed', '2': 'Deficit', '3': 'Reserved'};\r\n  showComplete = false;\r\n  routerHandler$;\r\n\r\n  copyProducts: ListProduct[];\r\n  isLoadingTree = true;\r\n\r\n  tree: any;\r\n\r\n  isShowPrint = false;\r\n\r\n  isLoadingListsForPrint = false;\r\n  productsForPrint: TreePrint[];\r\n\r\n  menuItems: MenuItem[] = [\r\n    {\r\n      label: 'Root Production List',\r\n      items: [\r\n        {\r\n          label: 'Print',\r\n          icon: 'pi pi-print',\r\n          command: () => this.printPage(),\r\n          disabled: true,\r\n        },\r\n        {\r\n          label: 'Set Actual Quantities',\r\n          icon: 'pi pi-angle-double-right',\r\n          command: () => this.setQuantities(),\r\n        },\r\n        {\r\n          label: 'Make Requests',\r\n          icon: 'pi pi-caret-right',\r\n          command: () => this.makeDeficit(),\r\n        },\r\n        {\r\n          label: 'Make request for all',\r\n          icon: 'pi pi-caret-right',\r\n          command: () => this.makeRequestsForAll(),\r\n        },\r\n      ]\r\n    }\r\n  ];\r\n\r\n  foundRowsIds: number[] = [];\r\n  currentDisplayRowId: number;\r\n  isScanned = false;\r\n  scanningEnd = true;\r\n  elementsRowsIds: string[] = [];\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private modalService: ModalService,\r\n    private listService: ListService,\r\n    private listProductService: ListProductService,\r\n    private router: Router,\r\n    public _location: Location,\r\n    private messageService: MessageService,\r\n  ) {\r\n    this.routerHandler$ = router.events.subscribe(res => {\r\n      if (res instanceof NavigationEnd) {\r\n        this.listId = this.route.snapshot.paramMap.get('id');\r\n        this.getAll();\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.routerHandler$.unsubscribe();\r\n  }\r\n\r\n  getAll() {\r\n    this.selectedNodeTree = null;\r\n    this.selectedNode = null;\r\n    this.tree = [];\r\n    this.addedTree = [];\r\n    this.copyProducts = [];\r\n\r\n    this.menuItems[0].items[0].disabled = true;\r\n\r\n    this.products = [];\r\n    this.isLoading = true;\r\n    this.isLoadingTree = true;\r\n    this.listService.getById(+this.listId).pipe(take(1)).subscribe(res => {\r\n      this.list = JSON.parse(JSON.stringify(res));\r\n    });\r\n\r\n    this.listProductService.get([{name: 'list', value: this.listId}]).pipe(take(1)).subscribe(res => {\r\n        this.products = res.filter(x => {\r\n          return x.level > 0;\r\n        });\r\n        this.isSetAllActualQuantities = this.products.every(product => product.status !== '0');\r\n        this.showComplete = true;\r\n        this.products.forEach(element => {\r\n          if (element.actual_quantity === null) {\r\n            this.showComplete = false;\r\n          }\r\n        });\r\n        let ss = {'0': 3, '1': 1, '2': 2};\r\n        this.products.sort((a, b) => ss[a.nomenclature.type] - ss[b.nomenclature.type]);\r\n\r\n        this.copyProducts = [...this.products];\r\n\r\n        this.getTree();\r\n\r\n        this.menuItems[0].items[0].disabled = false;\r\n\r\n        this.isLoading = false;\r\n      }\r\n    );\r\n  }\r\n\r\n  getTree() {\r\n    this.copyProducts.forEach(p => {\r\n      if (p.actual_quantity === null) {\r\n        p.actual_quantity = 0;\r\n      }\r\n    });\r\n\r\n    this.addedTree = this.copyProducts.map(p => {\r\n      return {\r\n        data: p,\r\n        children: [],\r\n        expanded: false,\r\n        parent: null,\r\n      };\r\n    });\r\n\r\n    const productIds = this.copyProducts.filter(p => p.has_children).map(p => p.list) as number[];\r\n\r\n    const get = (ids: number[]) => {\r\n      this.listProductService.getPartly(ids).subscribe(response => {\r\n        // @ts-ignore\r\n        const newProducts = response.flat();\r\n        newProducts.forEach(p => {\r\n          if (p.actual_quantity === null) {\r\n            p.actual_quantity = 0;\r\n          }\r\n        });\r\n\r\n        const newIds = newProducts.filter(p => p.has_children).map(p => p.list) as number[];\r\n\r\n        this.copyProducts = [...this.copyProducts, ...newProducts];\r\n\r\n        if (newIds.length > 0) {\r\n          get(newIds);\r\n        } else {\r\n          this.generateTree();\r\n          this.isLoadingTree = false;\r\n        }\r\n      });\r\n    };\r\n\r\n    if (productIds.length > 0) {\r\n      get(productIds);\r\n    } else {\r\n      this.tree = [...this.addedTree];\r\n      this.isLoadingTree = false;\r\n    }\r\n  }\r\n\r\n  generateTree() {\r\n    const getChildren = (nodes) => {\r\n      nodes.forEach(node => {\r\n        const children = this.copyProducts.filter(c => c.parent === node.data.id);\r\n        if (children.length > 0) {\r\n          node.children = children.map(product => {\r\n            return {\r\n              data: product,\r\n              children: [],\r\n              expanded: false,\r\n              parent: node,\r\n            };\r\n          });\r\n\r\n          getChildren(node.children);\r\n        }\r\n      });\r\n    };\r\n\r\n    getChildren(this.addedTree);\r\n\r\n    this.tree = [...this.addedTree];\r\n  }\r\n\r\n  printPage() {\r\n    this.productsForPrint = [];\r\n    this.isLoadingListsForPrint = true;\r\n    // const ids = this.products.filter(p => p.list_url).map(p => p.list) as number[];\r\n\r\n    this.productsForPrint = this.products.map(p => {\r\n      return {\r\n        children: [],\r\n        data: p,\r\n      };\r\n    });\r\n\r\n    this.list.list = this.listId as any;\r\n\r\n    this.productsForPrint.unshift({\r\n      data: this.list as any,\r\n      children: this.products\r\n    });\r\n\r\n    console.log(this.productsForPrint);\r\n\r\n    const getProducts = (products) => {\r\n      const ids = products.filter(p => p.list_url).map(p => p.list) as number[];\r\n\r\n      if (ids.length > 0) {\r\n        this.listProductService.getPartly(ids).subscribe(response => {\r\n          // @ts-ignore\r\n          const newProducts = response.flat();\r\n\r\n          newProducts.forEach(product => {\r\n            if (product.list_url) {\r\n              this.productsForPrint.push({\r\n                data: product,\r\n                children: [],\r\n              });\r\n            }\r\n\r\n            const index = this.productsForPrint.findIndex(p => p.data.id === product.parent);\r\n            this.productsForPrint[index]?.children.push(product);\r\n          });\r\n\r\n          getProducts(newProducts.filter(p => p.list_url));\r\n        });\r\n      } else {\r\n        this.isShowPrint = true;\r\n        setTimeout(() => {\r\n          window.print();\r\n        });\r\n      }\r\n    };\r\n\r\n    getProducts(this.products);\r\n  }\r\n\r\n  setQuantities() {\r\n    if (this.mode === 'list') {\r\n      this.listService.setQuantities(+this.listId).pipe(take(1)).subscribe(res => this.getAll());\r\n    } else {\r\n      if (!this.selectedNodeTree) {\r\n        this.listService.setQuantities(+this.listId).subscribe(() => {\r\n          this.getAll();\r\n        });\r\n      } else {\r\n        if (this.selectedNodeTree.data.list_url) {\r\n          this.listService.setQuantities(this.selectedNodeTree.data.list).subscribe(() => {\r\n            this.getAll();\r\n          });\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  editQuantity(node) {\r\n    this.modalService.editListProduct(node).subscribe(response => {\r\n      console.log(response);\r\n      // if (node.list_url) {\r\n      //   this.getAll();\r\n      // } else {\r\n      if (response.actual_quantity === null) {\r\n        response.actual_quantity = 0;\r\n      }\r\n\r\n      const index = this.products.findIndex(p => p.id === response.id);\r\n      this.products[index] = response;\r\n\r\n      const find = (nodes) => {\r\n        nodes.forEach(n => {\r\n          if (n.data.id === response.id) {\r\n            n.data = response;\r\n          } else if (n.children.length > 0) {\r\n            find(n.children);\r\n          }\r\n        });\r\n      };\r\n\r\n      find(this.tree);\r\n      // }\r\n    });\r\n  }\r\n\r\n  process() {\r\n    this.modalService.completeList(this.list).subscribe(conf => {\r\n      if (conf) {\r\n        this._location.back();\r\n      }\r\n    });\r\n  }\r\n\r\n  makeDeficit() {\r\n    this.modalService.confirm('success').subscribe(res => {\r\n      if (res) {\r\n        this.listService.make_deficit(this.list.id).subscribe(res => {\r\n          this.getAll();\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  makeRequestsForAll() {\r\n    this.listService.makeRequestsForAll(this.list).subscribe();\r\n  }\r\n\r\n  showImages(node) {\r\n    console.log(node);\r\n    this.modalService.showImageGallery([], node.nomenclature.id, 1).subscribe();\r\n  }\r\n\r\n  cancelQuantities(node) {\r\n    this.modalService.confirm('success').subscribe(res => {\r\n      if (res) {\r\n        const id = node.id;\r\n        this.listService.canceledActualQuantity(id).subscribe(response => {\r\n          // if (node.list_url) {\r\n          //   this.getAll();\r\n          //   node = null;\r\n          // } else {\r\n          if (response.actual_quantity === null) {\r\n            response.actual_quantity = 0;\r\n          }\r\n\r\n          const index = this.products.findIndex(p => p.id === response.id);\r\n          this.products[index] = response;\r\n\r\n          const find = (nodes) => {\r\n            nodes.forEach(n => {\r\n              if (n.data.id === response.id) {\r\n                n.data = response;\r\n              } else if (n.children.length > 0) {\r\n                find(n.children);\r\n              }\r\n            });\r\n          };\r\n\r\n          find(this.tree);\r\n          // }\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  expandAll(): void {\r\n    const temp = cloneDeep(this.tree);\r\n    temp.forEach(node => {\r\n      this.expandCollapseRecursive(node, true);\r\n    });\r\n    this.tree = temp;\r\n  }\r\n\r\n  collapseAll(): void {\r\n    const temp = cloneDeep(this.tree);\r\n    temp.forEach(node => {\r\n      this.expandCollapseRecursive(node, false);\r\n    });\r\n    this.tree = temp;\r\n    this.selectedNodeTree = null;\r\n  }\r\n\r\n  expandCollapseRecursive(node: TreeNode, isExpand: boolean): void {\r\n    if (node.data.status != 1) {\r\n      node.expanded = isExpand;\r\n      if (node.children) {\r\n        node.children.forEach(childNode => {\r\n          this.expandCollapseRecursive(childNode, isExpand);\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  selectMode(mode: any) {\r\n    this.mode = mode;\r\n    this.onSelectTreeNode()\r\n  }\r\n\r\n  makeDeficitOne(node: any) {\r\n    // /list_products/{id}/deficit_request/\r\n\r\n    this.modalService.confirm('success').subscribe(confirm => {\r\n      if (confirm) {\r\n        this.listService.makeDeficitOne(node.id).subscribe(() => {\r\n          this.getAll();\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  onSelectTreeNode() {\r\n    if (this.mode === 'list' && this.selectedNode) {\r\n      this.menuItems[0].items[1].disabled = !this.selectedNode?.list_url;\r\n    } else if (this.mode === 'hierarchy' && this.selectedNodeTree) {\r\n      this.menuItems[0].items[1].disabled = !this.selectedNodeTree?.data?.list_url || (this.selectedNodeTree?.data.status === '1' || this.selectedNodeTree.data.status === '3');\r\n    } else {\r\n      this.menuItems[0].items[1].disabled = false;\r\n    }\r\n  }\r\n\r\n  scanForListProduct(data: ScanResult = null) {\r\n    this.expandAll();\r\n\r\n    requestAnimationFrame(() => {\r\n      this.elementsRowsIds = [];\r\n      const elements = document.querySelectorAll(`[id^=row-]`);\r\n      elements.forEach((element) => {\r\n        this.elementsRowsIds.push(element.id)\r\n      });\r\n    });\r\n\r\n    this.listService.getScanned(this.listId, data).subscribe(res => {\r\n      if (res.ids_found.length > 0) {\r\n        this.elementsRowsIds.forEach(elementId => {\r\n          const idArray = elementId.split('-');\r\n          const foundId = res.ids_found.find(el => el.toString() === idArray[1]);\r\n          if (foundId) {\r\n            this.foundRowsIds.push(foundId);\r\n          }\r\n        });\r\n        if (this.foundRowsIds.length > 0) {\r\n          this.currentDisplayRowId = this.foundRowsIds[0];\r\n          this.scrollToElement('row-' + this.currentDisplayRowId);\r\n        }\r\n      } else {\r\n        this.messageService.add({severity: 'error', summary: 'No matching found.', detail: `No product lists was found with scanned QR code!`});\r\n      }\r\n    });\r\n  }\r\n\r\n  scrollToElement(rowId: string): void {\r\n    const element = document.getElementById(rowId);\r\n    element.scrollIntoView({ behavior: \"smooth\", block: \"center\" });\r\n  }\r\n\r\n  isFoundRow(productId: number): boolean {\r\n    return this.foundRowsIds.length > 0 && this.foundRowsIds.findIndex(id => id === productId) > -1;\r\n  }\r\n\r\n  onStartScanning() {\r\n    this.clearQrResults();\r\n    this.expandAll();\r\n\r\n    requestAnimationFrame(() => {\r\n      this.elementsRowsIds = [];\r\n      const elements = document.querySelectorAll(`[id^=row-]`);\r\n      elements.forEach((element) => {\r\n        this.elementsRowsIds.push(element.id)\r\n      });\r\n    });\r\n    this.isScanned = true;\r\n    this.scanningEnd = false;\r\n  }\r\n\r\n  onScanned(data: any) {\r\n    this.scanningEnd = true;\r\n    this.isScanned = false;\r\n    console.log('data found on qr code', data);\r\n    this.scanForListProduct(data)\r\n  }\r\n\r\n  onCancelScanned() {\r\n    this.scanningEnd = true;\r\n    this.isScanned = false;\r\n  }\r\n\r\n  goToNext() {\r\n    let currentIndex = this.foundRowsIds.findIndex(id => id === this.currentDisplayRowId);\r\n    if (currentIndex < this.foundRowsIds.length - 1) {\r\n      this.currentDisplayRowId = this.foundRowsIds[currentIndex + 1];\r\n    } else {\r\n      this.currentDisplayRowId = this.foundRowsIds[0];\r\n    }\r\n    this.scrollToElement('row-' + this.currentDisplayRowId);\r\n  }\r\n\r\n  goToPrev() {\r\n    let currentIndex = this.foundRowsIds.findIndex(id => id === this.currentDisplayRowId);\r\n    if (currentIndex > 0) {\r\n      this.currentDisplayRowId = this.foundRowsIds[currentIndex - 1];\r\n    } else {\r\n      this.currentDisplayRowId = this.foundRowsIds[this.foundRowsIds.length - 1];\r\n    }\r\n    this.scrollToElement('row-' + this.currentDisplayRowId);\r\n  }\r\n\r\n  clearQrResults() {\r\n    this.currentDisplayRowId = null;\r\n    this.foundRowsIds = [];\r\n  }\r\n}\r\n","<div class=\"page\">\r\n  <div class=\"page__header\">\r\n    <div class=\"page__title\">\r\n      <pek-module-icon [module]=\"'warehouse'\" [isActive]=\"true\"></pek-module-icon>\r\n      <h1>\r\n        Production List\r\n        <ng-container *ngIf=\"list\">\r\n          ({{list.id}}) {{list.nomenclature.code}} ({{list.nomenclature.name}})\r\n        </ng-container>\r\n        <ng-container *ngIf=\"!list\">...</ng-container>\r\n      </h1>\r\n\r\n      <div class=\"colors\">\r\n        <div class=\"colors__color\">\r\n          <div class=\"colors__color-block colors__color-block_deficit\"></div>\r\n          <p>Deficit Accepted</p>\r\n        </div>\r\n        <div class=\"colors__color\">\r\n          <div class=\"colors__color-block colors__color-block_free-products\"></div>\r\n          <p>Free Warehouse Products</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"page__tools\">\r\n      <p-menubar\r\n        class=\"production-list-bar ml-auto mr-2\"\r\n        [model]=\"menuItems\"\r\n      ></p-menubar>\r\n<!--      <button-->\r\n<!--        class=\"mr-2\"-->\r\n<!--        pButton-->\r\n<!--        type=\"button\"-->\r\n<!--        icon=\"pi pi-print\"-->\r\n<!--        label=\"Print\"-->\r\n<!--        (click)=\"printPage()\"-->\r\n<!--      ></button>-->\r\n<!--      <button-->\r\n<!--        (click)=\"setQuantities()\"-->\r\n<!--        class=\"mr-2\"-->\r\n<!--        pButton-->\r\n<!--        type=\"button\"-->\r\n<!--        icon=\"pi pi-angle-double-right\"-->\r\n<!--        label=\"Set Actual Quantities\"-->\r\n<!--        [disabled]=\"(selectedNodeTree && !selectedNodeTree.data.list_url) || list?.completed\"-->\r\n<!--      ></button>-->\r\n<!--      <button-->\r\n<!--        class=\"mr-2\"-->\r\n<!--        pButton-->\r\n<!--        type=\"button\"-->\r\n<!--        label=\"Make Requests\"-->\r\n<!--        (click)=\"makeDeficit()\"-->\r\n<!--        *ngIf=\"list && !list?.completed && !list?.is_deficit_requested && isSetAllActualQuantities\"-->\r\n<!--      ></button>-->\r\n\r\n<!--      <button-->\r\n<!--        class=\"mr-2\"-->\r\n<!--        pButton-->\r\n<!--        type=\"button\"-->\r\n<!--        label=\"Make request for all\"-->\r\n<!--        (click)=\"makeRequestsForAll()\"-->\r\n<!--        *ngIf=\"list && !list?.completed && !list?.is_deficit_requested && isSetAllActualQuantities\"-->\r\n<!--      ></button>-->\r\n      <button\r\n        class=\"mr-2\"\r\n        pButton\r\n        type=\"button\"\r\n        icon=\"pi pi-table\"\r\n        label=\"Hierarchy\"\r\n        [disabled]=\"mode === 'hierarchy'\"\r\n        (click)=\"selectMode('hierarchy')\"\r\n      ></button>\r\n      <button\r\n        pButton\r\n        type=\"button\"\r\n        icon=\"pi pi-list\"\r\n        label=\"List\"\r\n        [disabled]=\"mode === 'list'\"\r\n        (click)=\"selectMode('list')\"\r\n      ></button>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"page__content locators\">\r\n  <div class=\"page__card\">\r\n    <ng-container *ngIf=\"mode === 'list'\">\r\n      <p-table\r\n        #dt\r\n        [scrollable]=\"true\"\r\n        scrollHeight=\"calc(100vh - 16.625rem)\"\r\n        [value]=\"products\"\r\n        selectionMode=\"single\"\r\n        [(selection)]=\"selectedNode\"\r\n        (selectionChange)=\"onSelectTreeNode()\"\r\n      >\r\n        <ng-template pTemplate=\"caption\">\r\n          <div class=\"d-flex\">\r\n            <p-menubar\r\n              [class.disabled]=\"!selectedNode\"\r\n              class=\"production-list-bar ml-auto\"\r\n              [model]=\"selectedNodeMenuItems\"\r\n            ></p-menubar>\r\n          </div>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"header\">\r\n          <tr>\r\n            <th style=\"width: 3%\" class=\"text-center\">#</th>\r\n            <th style=\"width: 16%\">\r\n              <button class=\"back\" (click)=\"_location.back()\">\r\n                <i class=\"pi pi-arrow-left\"></i>\r\n              </button>\r\n              Code\r\n            </th>\r\n            <th style=\"width: 16%\">Name</th>\r\n            <th style=\"width: 8%\" class=\"text-center\">Total Req Qty</th>\r\n            <th style=\"width: 10%\" class=\"text-center\">Req Qty Per One</th>\r\n            <th style=\"width: 8%\" class=\"text-center\">Free Wh Qty</th>\r\n            <th style=\"width: 7%\" class=\"text-center\">Reserved Qty</th>\r\n            <th style=\"width: 7%\" class=\"text-center\">Actual Qty</th>\r\n            <th style=\"width: 5%\" class=\"text-center\">UOM</th>\r\n            <th style=\"width: 10%\" class=\"text-center\">Locator</th>\r\n            <th style=\"width: 10%\" class=\"d-print-none text-center\">Status</th>\r\n          </tr>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"body\" let-product let-i=\"rowIndex\">\r\n          <tr\r\n            [pSelectableRow]=\"product\"\r\n            [class.deficit]=\"(product.descendants_has_deficit_accepted || product.is_deficit_accepted) && product.total_required_quantity > product.actual_quantity\"\r\n            [class.free-products]=\"(product.has_free_warehouse_products || product.descendants_has_free_warehouse_products) && product.total_required_quantity > product.actual_quantity\"\r\n          >\r\n            <td style=\"width: 3%\" class=\"index-header text-center\">{{i + 1}}</td>\r\n            <td style=\"width: 16%\" class=\"code-column\">\r\n              <a\r\n                *ngIf=\"product.list_url\"\r\n                class=\"list-parent\"\r\n                [routerLink]=\"['/warehouse/production-lists/', product.list]\"\r\n                [class.disabled]=\"product.list_url && (product.status == 1 || product.status == 3)\"\r\n              >\r\n                {{product.nomenclature?.code}}\r\n              </a>\r\n              <span\r\n                *ngIf=\"!product.list_url\">\r\n                {{product.nomenclature?.code}}\r\n              </span>\r\n            </td>\r\n            <td style=\"width: 16%\">\r\n              <b *ngIf=\"product.nomenclature.bulk_or_serial === '1'\">(S)</b>\r\n              ({{product.id}})\r\n              {{product.nomenclature?.name}}\r\n            </td>\r\n            <td style=\"width: 8%\" class=\"text-center\">{{product.total_required_quantity}}</td>\r\n            <td style=\"width: 10%\" class=\"text-center\">{{product.required_quantity_per_one}}</td>\r\n            <td style=\"width: 8%\" class=\"text-center\">\r\n              {{product.warehouse_quantity}}\r\n            </td>\r\n            <td style=\"width: 7%\" class=\"text-center\">\r\n              {{product.reserved_quantity ? product.reserved_quantity : 0}}\r\n            </td>\r\n            <td style=\"width: 7%\" class=\"text-center\">{{product.actual_quantity}}</td>\r\n            <td style=\"width: 5%\"\r\n                class=\"text-center\">\r\n              {{product.nomenclature.category?.unit_of_measure?.symbol ? product.nomenclature?.category?.unit_of_measure?.symbol : 'Pcs'}}\r\n            </td>\r\n            <td style=\"width: 10%\" class=\"text-center\">\r\n              {{product.available_on_locator}}\r\n            </td>\r\n            <td\r\n              style=\"width: 10%\"\r\n              class=\"d-print-none text-center\">\r\n              <span\r\n                class=\"badge\"\r\n                [ngClass]=\"{\r\n                'badge_secondary': product.status == 0,\r\n                'badge_success': product.status == 1,\r\n                'badge_danger': product.status == 2,\r\n                'badge_reserved': product.status == 3}\"\r\n              >\r\n                {{statuses[product.status]}}\r\n              </span>\r\n            </td>\r\n          </tr>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"emptymessage\">\r\n          <tr>\r\n            <td class=\"text-center p-4\" [attr.colspan]=\"11\">\r\n              <i *ngIf=\"isLoading\" class=\"pi pi-spin pi-spinner\" style=\"font-size: 2.25rem\"></i>\r\n              <span *ngIf=\"!isLoading\">No Records Found</span>\r\n            </td>\r\n          </tr>\r\n        </ng-template>\r\n      </p-table>\r\n    </ng-container>\r\n\r\n    <ng-container *ngIf=\"mode === 'hierarchy'\">\r\n      <p-treeTable\r\n        class=\"categories-tree\"\r\n        [value]=\"tree\"\r\n        selectionMode=\"single\"\r\n        [(selection)]=\"selectedNodeTree\"\r\n        scrollHeight=\"calc(100vh - 19.125rem)\"\r\n        [scrollable]=\"true\"\r\n        (selectionChange)=\"onSelectTreeNode()\"\r\n      >\r\n        <ng-template pTemplate=\"caption\">\r\n          <div class=\"d-flex\">\r\n            <p-menubar\r\n              [class.disabled]=\"!selectedNodeTree\"\r\n              class=\"production-list-bar ml-auto mr-2\"\r\n              [model]=\"selectedNodeTreeMenuItems\"\r\n            ></p-menubar>\r\n            <button\r\n              [disabled]=\"isLoadingTree\"\r\n              class=\"mr-2 p-button-icon\"\r\n              pButton\r\n              type=\"button\"\r\n              icon=\"pi pi-camera\"\r\n              label=\"Scan QR Codes\"\r\n              (click)=\"onStartScanning()\"\r\n            >\r\n            </button>\r\n            <button\r\n              class=\"mr-2\"\r\n              pButton\r\n              type=\"button\"\r\n              label=\"Expand All\"\r\n              icon=\"pi pi-angle-down\"\r\n              (click)=\"expandAll()\"\r\n            ></button>\r\n            <button\r\n              pButton\r\n              type=\"button\"\r\n              class=\"mr-3\"\r\n              label=\"Collapse All\"\r\n              icon=\"pi pi-angle-up\"\r\n              (click)=\"collapseAll()\"\r\n            ></button>\r\n            <p *ngIf=\"this.foundRowsIds.length > 0\" class=\"d-flex align-items-center mr-2\">\r\n              Found {{foundRowsIds.length}} products\r\n            </p>\r\n            <button\r\n              pButton\r\n              *ngIf=\"this.foundRowsIds.length > 1\"\r\n              type=\"button\"\r\n              label=\"Go to previous\"\r\n              icon=\"pi pi-backward\"\r\n              class=\"p-button-secondary mr-2\"\r\n              (click)=\"goToPrev()\"\r\n            ></button>\r\n            <button\r\n              *ngIf=\"this.foundRowsIds.length > 1\"\r\n              pButton\r\n              type=\"button\"\r\n              label=\"Go to next\"\r\n              icon=\"pi pi-forward\"\r\n              class=\"p-button-secondary mr-2\"\r\n              (click)=\"goToNext()\"\r\n            ></button>\r\n            <button\r\n              *ngIf=\"this.foundRowsIds.length > 0\"\r\n              pButton\r\n              type=\"button\"\r\n              icon=\"pi pi-times-circle\"\r\n              class=\"p-button-danger\"\r\n              (click)=\"clearQrResults()\"\r\n            ></button>\r\n          </div>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"header\">\r\n          <tr>\r\n            <th style=\"padding-left: 16px; width: 19%\">\r\n              <button class=\"back\" (click)=\"_location.back()\">\r\n                <i class=\"pi pi-arrow-left\"></i>\r\n              </button>\r\n              Code\r\n            </th>\r\n            <th style=\"width: 16%\">Name</th>\r\n            <th style=\"width: 8%\" class=\"text-center\">Total Req Qty</th>\r\n            <th style=\"width: 10%\" class=\"text-center\">Req Qty Per One</th>\r\n            <th style=\"width: 8%\" class=\"text-center\">Free Wh Qty</th>\r\n            <th style=\"width: 7%\" class=\"text-center\">Reserved Qty</th>\r\n            <th style=\"width: 7%\" class=\"text-center\">Actual Qty</th>\r\n            <th style=\"width: 5%\" class=\"text-center\">UOM</th>\r\n            <th style=\"width: 10%\" class=\"text-center\">Locator</th>\r\n            <th style=\"width: 10%\" class=\"d-print-none text-center\">Status</th>\r\n          </tr>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"body\" let-rowNode let-rowData=\"rowData\">\r\n          <tr [ttRow]=\"rowNode\" [ttSelectableRow]=\"rowNode\"\r\n              [class.deficit]=\"(rowData.descendants_has_deficit_accepted || rowData.is_deficit_accepted) && rowData.total_required_quantity > rowData.actual_quantity\"\r\n              [class.is-found-row]=\"isFoundRow(rowData.id)\"\r\n              [class.selected-for-change]=\"rowData.id === currentDisplayRowId\"\r\n              [id]=\"'row-' + rowData.id\"\r\n              [class.free-products]=\"(rowData.has_free_warehouse_products || rowData.descendants_has_free_warehouse_products) && rowData.total_required_quantity > rowData.actual_quantity\"\r\n          >\r\n            <td style=\"width: 19%\">\r\n              <div class=\"toggle-row\">\r\n                <p-treeTableToggler [rowNode]=\"rowNode\" [class.disabled-toggler]=\"rowData.status == 1\"></p-treeTableToggler>\r\n                <a\r\n                  [class.disabled]=\"rowData.list_url && (rowData.status == 1 || rowData.status == 3)\"\r\n                  *ngIf=\"rowData.list_url\"\r\n                  class=\"list-parent\"\r\n                  [routerLink]=\"['/warehouse/production-lists/', rowData.list]\"\r\n                >\r\n                  {{rowData.nomenclature.code}}\r\n                </a>\r\n                <span *ngIf=\"!rowData.list_url\">{{rowData.nomenclature.code}}</span>\r\n              </div>\r\n            </td>\r\n            <td style=\"width: 16%\">\r\n              <b *ngIf=\"rowData.nomenclature.bulk_or_serial === '1'\">(S)</b> ({{rowData.id}}) {{rowData.nomenclature.name}}\r\n            </td>\r\n            <td style=\"width: 8%\" class=\"text-center\">{{rowData.total_required_quantity}}</td>\r\n            <td style=\"width: 10%\" class=\"text-center\">{{rowData.required_quantity_per_one}}</td>\r\n            <td style=\"width: 8%\" class=\"text-center\">{{rowData.warehouse_quantity}}</td>\r\n            <td style=\"width: 8%\" class=\"text-center\">{{rowData.reserved_quantity ? rowData.reserved_quantity : 0}}</td>\r\n            <td style=\"width: 7%\" class=\"text-center\">{{rowData.actual_quantity}}</td>\r\n            <td style=\"width: 5%\"\r\n                class=\"text-center\">{{rowData.nomenclature.category?.unit_of_measure?.symbol ? rowData.nomenclature?.category?.unit_of_measure?.symbol : 'Pcs'}}</td>\r\n            <td style=\"width: 10%\" class=\"text-center\">{{rowData.available_on_locator}}</td>\r\n            <td style=\"width: 10%\" class=\"d-print-none text-center\">\r\n              <span\r\n                class=\"badge\"\r\n                [ngClass]=\"{\r\n                'badge_secondary': rowData.status == 0,\r\n                'badge_success': rowData.status == 1,\r\n                'badge_danger': rowData.status == 2,\r\n                'badge_reserved': rowData.status == 3}\"\r\n              >\r\n                {{statuses[rowData.status]}}\r\n              </span>\r\n            </td>\r\n          </tr>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"emptymessage\" let-columns>\r\n          <tr>\r\n            <td class=\"text-center p-5\" [attr.colspan]=\"10\">\r\n              <i *ngIf=\"isLoadingTree\" class=\"pi pi-spin pi-spinner\" style=\"font-size: 2.25rem\"></i>\r\n              <span *ngIf=\"!isLoadingTree\">No Records Found</span>\r\n            </td>\r\n          </tr>\r\n        </ng-template>\r\n      </p-treeTable>\r\n    </ng-container>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"print-list-product\" *ngIf=\"isShowPrint\">\r\n  <div class=\"print-list-product__list\">\r\n    <div class=\"print-list-product__item\" *ngFor=\"let product of productsForPrint\">\r\n      <app-list-product-print-item [product]=\"product\"></app-list-product-print-item>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<pek-qr-code-scanner\r\n  *ngIf=\"isScanned\"\r\n  (scanned)=\"onScanned($event)\"\r\n  (cancel)=\"onCancelScanned()\"\r\n></pek-qr-code-scanner>\r\n","import {AfterViewInit, Component, OnDestroy, OnInit, ViewChild} from '@angular/core';\nimport {FormBuilder, FormGroup} from '@angular/forms';\nimport {ModalService} from '@shared/services/modal.service';\nimport {Paginator} from 'primeng/paginator';\nimport {ListService} from '../../services/list.service';\nimport {QuerySearch} from '@shared/models/other';\nimport {fromEvent, Subject, takeUntil} from 'rxjs';\nimport {List} from '../../models/list';\nimport {AdapterService} from '@shared/services/adapter.service';\nimport {debounceTime, map, tap} from 'rxjs/operators';\n\nexport enum ViewMode {\n  LIST = 0,\n  HIERARCHY = 1\n}\n\n@Component({\n  selector: 'pek-production-lists',\n  templateUrl: './production-lists.component.html',\n  styleUrls: ['./production-lists.component.scss']\n})\nexport class ProductionListsComponent implements OnInit, AfterViewInit, OnDestroy {\n  @ViewChild('paginator') paginator: Paginator;\n  @ViewChild('searchBoxName') searchBoxName;\n  @ViewChild('searchBoxCode') searchBoxCode;\n\n  isShowAll = false;\n  isStartOnePage = false;\n  isLoading = true;\n\n  tableScrollHeight = '29.625rem';\n  isHideFilters = false;\n\n  viewModeType = ViewMode;\n  viewMode: ViewMode = ViewMode.LIST;\n  queryKey = 'name:/code:/responsible_employee_id:null/date_created_after:null/date_created_before:null/category_ids:null/root_categories:null';\n\n  searchForm: FormGroup = this.fb.group({\n    page: [1],\n    name: [''],\n    code: [''],\n    responsible_employee_id: [null],\n    date_created_after: [null],\n    date_created_before: [null],\n    category_ids: null,\n    root_categories: null,\n  });\n\n  selectedList: List;\n  lists: List[] = [];\n  count = 0;\n\n  query: QuerySearch[] = [\n    {name: 'paginated', value: true},\n    {name: 'page', value: this.searchForm.get('page').value},\n  ];\n\n  private destroy$ = new Subject();\n\n  constructor(\n    private modalService: ModalService,\n    private listService: ListService,\n    private readonly adapterService: AdapterService,\n    private fb: FormBuilder,\n  ) {\n  }\n\n  ngAfterViewInit() {\n    fromEvent(this.searchBoxName.nativeElement, 'keyup')\n      .pipe(\n        tap(() => this.selectedList = null),\n        map(() => this.searchBoxName.nativeElement.value),\n        debounceTime(350),\n      ).subscribe(() => {\n      this.searchLists();\n    });\n\n    fromEvent(this.searchBoxCode.nativeElement, 'keyup')\n      .pipe(\n        tap(() => this.selectedList = null),\n        map(() => this.searchBoxCode.nativeElement.value),\n        debounceTime(350),\n      ).subscribe(() => {\n      this.searchLists();\n    });\n  }\n\n  ngOnInit(): void {\n    this.getProductionListsForPagination();\n  }\n\n  getProductionListsForPagination() {\n    this.listService.getForPagination(this.query).pipe(\n      takeUntil(this.destroy$)\n    ).subscribe(lists => {\n      this.lists = lists.results;\n      this.count = lists.count;\n\n      if (this.isStartOnePage) {\n        this.paginator?.changePage(0);\n      }\n\n      this.isStartOnePage = false;\n      this.isLoading = false;\n    });\n  }\n\n  getProductionLists() {\n    this.listService.get(this.query).pipe(\n      takeUntil(this.destroy$)\n    ).subscribe(lists => {\n      this.lists = lists;\n      this.count = lists.length;\n\n      if (this.isStartOnePage) {\n        this.paginator?.changePage(0);\n      }\n\n      this.isStartOnePage = false;\n      this.isLoading = false;\n    });\n  }\n\n  searchLists() {\n    this.isLoading = true;\n    this.destroy$.next(true);\n    this.selectedList = null;\n\n    const newQueryKey = `name:${this.searchForm.get('name').value}/code:${this.searchForm.get('code').value}/responsible_employee_id:${this.searchForm.get('responsible_employee_id').value}/date_created_after:${this.searchForm.get('date_created_after').value}/date_created_before:${this.searchForm.get('date_created_before').value}/category_ids:${this.searchForm.get('category_ids').value}/root_categories:${this.searchForm.get('root_categories').value}`;\n\n    if (newQueryKey !== this.queryKey) {\n      this.queryKey = newQueryKey;\n      this.searchForm.get('page').patchValue(1);\n      this.isStartOnePage = true;\n    }\n\n    this.query = [];\n\n    if (!this.isShowAll) {\n      this.query = [\n        {name: 'paginated', value: 'true'},\n        {name: 'page', value: this.searchForm.get('page').value},\n      ];\n    }\n\n    if (this.searchForm.get('name').value) {\n      this.query.push({name: 'name', value: this.searchForm.get('name').value});\n    }\n\n    if (this.searchForm.get('code').value) {\n      this.query.push({name: 'code', value: this.searchForm.get('code').value});\n    }\n\n    if (this.searchForm.get('responsible_employee_id').value) {\n      this.query.push({name: 'responsible_employee_id', value: this.searchForm.get('responsible_employee_id').value});\n    }\n\n    if (this.searchForm.get('root_categories').value) {\n      this.query.push({name: 'root_categories', value: this.searchForm.get('root_categories').value});\n    }\n\n    if (this.searchForm.get('date_created_after').value) {\n      this.query.push({\n        name: 'date_created_after',\n        value: this.adapterService.dateAdapter(this.searchForm.get('date_created_after').value)\n      });\n    }\n\n    if (this.searchForm.get('date_created_before').value) {\n      this.query.push({\n        name: 'date_created_before',\n        value: this.adapterService.dateAdapter(this.searchForm.get('date_created_before').value)\n      });\n    }\n\n    if (this.searchForm.get('category_ids').value) {\n      this.query.push({name: 'category_ids', value: this.searchForm.get('category_ids').value});\n    }\n\n    if (!this.isShowAll) {\n      this.getProductionListsForPagination();\n    } else {\n      this.searchForm.get('page').patchValue(1);\n      this.getProductionLists();\n    }\n  }\n\n  onShowAll() {\n    this.isShowAll = true;\n    this.setTableScrollHeight();\n    this.searchLists();\n  }\n\n  onShowPartial() {\n    this.isShowAll = false;\n    this.setTableScrollHeight();\n    this.searchLists();\n  }\n\n  paginate(evt: any) {\n    if (!this.isStartOnePage) {\n      this.searchForm.get('page').patchValue(evt.page + 1);\n      this.searchLists();\n    }\n  }\n\n  onSelectProductStructureCategories(ids: string) {\n    this.searchForm.get('root_categories').patchValue(ids);\n    this.searchLists();\n  }\n\n  onSelectCategories(ids: string) {\n    this.searchForm.get('category_ids').patchValue(ids);\n    this.searchLists();\n  }\n\n  onSelectEmployee(id: number) {\n    this.searchForm.get('responsible_employee_id').patchValue(id);\n    this.searchLists();\n  }\n\n  onChoiceViewType(mode: ViewMode) {\n    this.viewMode = mode;\n    this.selectedList = null;\n  }\n\n  onSetListLocator() {\n    this.listService.openSetProductionListLocatorModal(this.selectedList.id).subscribe(response => {\n      if (response) {\n        this.searchLists();\n      }\n    });\n  }\n\n  setTableScrollHeight() {\n    if (this.isHideFilters && !this.isShowAll) {\n      this.tableScrollHeight = '20.875rem';\n      return;\n    }\n\n    if (this.isHideFilters && this.isShowAll) {\n      this.tableScrollHeight = '18.75rem';\n      return;\n    }\n\n    if (!this.isHideFilters && this.isShowAll) {\n      this.tableScrollHeight = '27.5rem';\n      return;\n    }\n\n    if (!this.isHideFilters && !this.isShowAll) {\n      this.tableScrollHeight = '29.625rem';\n      return;\n    }\n  }\n\n  toggleFilterVisibility() {\n    this.isHideFilters = !this.isHideFilters;\n\n    this.setTableScrollHeight();\n  }\n\n  ngOnDestroy() {\n    this.destroy$.next(true);\n    this.destroy$.complete();\n  }\n}\n","<div class=\"page\">\n  <div class=\"page__header\">\n    <div class=\"page__title\">\n      <pek-module-icon [module]=\"'warehouse'\" [isActive]=\"true\"></pek-module-icon>\n      <h1>Production Lists</h1>\n\n      <div class=\"colors\">\n        <div class=\"colors__color\">\n          <div class=\"colors__color-block colors__color-block_deficit\"></div>\n          <p>Deficit Accepted</p>\n        </div>\n        <div class=\"colors__color\">\n          <div class=\"colors__color-block colors__color-block_free-products\"></div>\n          <p>Free Warehouse Products</p>\n        </div>\n      </div>\n    </div>\n    <div class=\"page__tools\">\n      <button\n        class=\"ml-auto mr-2\"\n        pButton\n        type=\"button\"\n        icon=\"pi pi-table\"\n        label=\"Hierarchy\"\n        [disabled]=\"viewMode === viewModeType.HIERARCHY\"\n        (click)=\"onChoiceViewType(viewModeType.HIERARCHY)\"\n      ></button>\n      <button\n        pButton\n        type=\"button\"\n        icon=\"pi pi-list\"\n        label=\"List\"\n        [disabled]=\"viewMode === viewModeType.LIST\"\n        (click)=\"onChoiceViewType(viewModeType.LIST)\"\n      ></button>\n    </div>\n  </div>\n</div>\n\n<div class=\"page__content locators\">\n  <div class=\"page__card\">\n\n    <div class=\"filters-visibility\" [class.filters-visibility_hide]=\"isHideFilters\">\n      <div class=\"filters-visibility__header\">\n        <ng-container *ngTemplateOutlet=\"actionButtons\"></ng-container>\n      </div>\n\n      <button\n        class=\"icon pi\"\n        [class.pi-angle-double-up]=\"!isHideFilters\"\n        [class.pi-angle-double-down]=\"isHideFilters\"\n        (click)=\"toggleFilterVisibility()\"\n      ></button>\n\n      <form\n        [formGroup]=\"searchForm\"\n        class=\"form mb-3\"\n      >\n        <div class=\"row\">\n          <div class=\"col-3\">\n            <div class=\"form-group\">\n              <label>Code</label>\n              <input class=\"form-control\" formControlName=\"code\" pInputText #searchBoxCode>\n            </div>\n          </div>\n          <div class=\"col-3\">\n            <div class=\"form-group\">\n              <label>Name</label>\n              <input class=\"form-control\" formControlName=\"name\" pInputText #searchBoxName>\n            </div>\n          </div>\n          <div class=\"col-3\">\n            <div class=\"form-group\">\n              <label>Categories</label>\n              <pek-multi-categories-picker\n                (choiceCategories)=\"onSelectCategories($event)\"\n              ></pek-multi-categories-picker>\n            </div>\n          </div>\n          <div class=\"col-3\">\n            <div class=\"form-group\">\n              <label>Product Structure Category</label>\n              <pek-multi-product-structure-categories-picker\n                (choiceCategories)=\"onSelectProductStructureCategories($event)\"\n              ></pek-multi-product-structure-categories-picker>\n            </div>\n          </div>\n          <div class=\"col-3\">\n            <div class=\"form-group\">\n              <label>Created Date From</label>\n              <p-calendar\n                formControlName=\"date_created_after\"\n                [showButtonBar]=\"true\"\n                (ngModelChange)=\"searchLists()\"\n                dataType=\"date\"\n                dateFormat=\"dd/mm/yy\"\n                [readonlyInput]=\"true\"\n              ></p-calendar>\n            </div>\n          </div>\n          <div class=\"col-3\">\n            <div class=\"form-group\">\n              <label>Created Date To</label>\n              <p-calendar\n                formControlName=\"date_created_before\"\n                (ngModelChange)=\"searchLists()\"\n                [showButtonBar]=\"true\"\n                dataType=\"date\"\n                dateFormat=\"dd/mm/yy\"\n                [readonlyInput]=\"true\"\n              ></p-calendar>\n            </div>\n          </div>\n          <div class=\"col-3\"></div>\n          <div class=\"col-3\">\n            <ng-container *ngTemplateOutlet=\"actionButtons\"></ng-container>\n          </div>\n        </div>\n      </form>\n    </div>\n    <ng-container *ngIf=\"viewMode === viewModeType.LIST\">\n      <div class=\"table-pagination-preloader\">\n        <p-table\n          #dt\n          selectionMode=\"single\"\n          [scrollHeight]=\"'calc(100vh - ' + tableScrollHeight + ')'\"\n          [scrollable]=\"true\"\n          dataKey=\"id\"\n          [rows]=\"10\"\n          [(selection)]=\"selectedList\"\n          [value]=\"lists\"\n        >\n          <ng-template pTemplate=\"header\">\n            <tr>\n              <th style=\"width: 5%\" class=\"text-center\">#</th>\n              <th style=\"width: 15%\">Code</th>\n              <th style=\"width: 15%\">Name</th>\n              <th style=\"width: 10%\" class=\"text-center\">Date Of Creation</th>\n              <th style=\"width: 6%\" class=\"text-center\">Sets</th>\n              <th style=\"width: 9%\">Locator</th>\n              <th style=\"width: 6%\" class=\"text-center\">Total</th>\n              <th style=\"width: 7%\" class=\"text-center\">Not Processed</th>\n              <th style=\"width: 6%\" class=\"text-center\">Deficit</th>\n              <th style=\"width: 7%\" class=\"text-center\">Outsource</th>\n              <th style=\"width: 7%\" class=\"text-center\">Own Production</th>\n              <th style=\"width: 7%\" class=\"text-center\">Purchased</th>\n            </tr>\n          </ng-template>\n          <ng-template pTemplate=\"body\" let-list let-i=\"rowIndex\">\n            <tr\n              [pSelectableRow]=\"list\"\n              [class.deficit]=\"list.descendants_has_deficit_accepted\"\n              [class.free-products]=\"list.descendants_has_free_warehouse_products\"\n            >\n              <td style=\"width: 5%\" class=\"text-center\">{{(this.searchForm.get('page').value - 1) * 10 + i + 1}}</td>\n              <td style=\"width: 15%\">({{list.id}}) {{list.nomenclature.code}}</td>\n              <td style=\"width: 15%\">{{list.nomenclature.name}}</td>\n              <td style=\"width: 10%\" class=\"text-center\">{{list.created|date:'dd/MM/yyyy'}}</td>\n              <td style=\"width: 6%\" class=\"text-center\">{{list.sets_number}}</td>\n              <td style=\"width: 9%\">\n                <ng-container *ngIf=\"list.locator\">\n                  {{list.locator.name + ' '}}<br>\n                  R: {{list.locator.row}}\n                  Col: {{list.locator.column}}\n                  Sh: {{list.locator.shelf}}\n                  Pl: {{list.locator.place}}\n                </ng-container>\n              </td>\n              <td class=\"text-center\" style=\"width: 6%\">{{list.statistics.total_products_count}}</td>\n              <td class=\"text-center\" style=\"width: 7%\">{{list.statistics.not_processed_products_count}}</td>\n              <td class=\"text-center\" style=\"width: 6%\">{{list.statistics.deficit_products_count}}</td>\n              <td class=\"text-center\" style=\"width: 7%\">{{list.statistics.outsource_production_count}}</td>\n              <td class=\"text-center\" style=\"width: 7%\">{{list.statistics.own_production_count}}</td>\n              <td class=\"text-center\" style=\"width: 7%\">{{list.statistics.purchased_ordered_count}}</td>\n            </tr>\n          </ng-template>\n          <ng-template pTemplate=\"emptymessage\">\n            <tr>\n              <td class=\"text-center p-4\" [attr.colspan]=\"12\">\n                <i *ngIf=\"isLoading\" class=\"pi pi-spin pi-spinner\" style=\"font-size: 2.25rem\"></i>\n                <span *ngIf=\"!isLoading\">No Records Found</span>\n              </td>\n            </tr>\n          </ng-template>\n        </p-table>\n        <div class=\"pagination-preloader pagination-preloader_bord\" *ngIf=\"isLoading\">\n          <i class=\"pi pi-spin pi-spinner\" style=\"font-size: 2.25rem\"></i>\n        </div>\n      </div>\n\n      <div\n        class=\"paginator-wrapper\"\n        *ngIf=\"!isShowAll\"\n        [class.hide]=\"lists.length === 0\"\n      >\n        <p-paginator\n          #paginator\n          [rows]=\"10\"\n          [totalRecords]=\"count\"\n          (onPageChange)=\"paginate($event)\"\n        >\n        </p-paginator>\n        <p-button\n          (click)=\"onShowAll()\"\n          class=\"paginator-all\"\n          type=\"button\"\n          styleClass=\"p-button-text\"\n        >\n          All\n        </p-button>\n      </div>\n\n      <div *ngIf=\"isShowAll\" class=\"paginator-return-pagination\">\n        <p-button\n          type=\"button\"\n          (click)=\"onShowPartial()\"\n          styleClass=\"p-button-text\"\n        >\n          Return pagination\n        </p-button>\n      </div>\n    </ng-container>\n\n    <ng-container *ngIf=\"viewMode === viewModeType.HIERARCHY\">\n      In development\n    </ng-container>\n  </div>\n</div>\n\n<ng-template #actionButtons>\n  <div class=\"action-buttons\">\n    <a\n      class=\"ml-auto mt-auto mr-2\"\n      [class.disabled]=\"!selectedList\"\n      [routerLink]=\"[selectedList?.id]\"\n      target=\"_blank\"\n      pButton\n      type=\"button\"\n      icon=\"pi pi-bars\"\n      label=\"Production List\"\n    >\n    </a>\n    <button\n      class=\"mt-auto\"\n      pButton\n      type=\"button\"\n      icon=\"pi pi-angle-double-right\"\n      label=\"Set List Locator\"\n      (click)=\"onSetListLocator()\"\n      [disabled]=\"!selectedList\"\n    >\n    </button>\n  </div>\n</ng-template>\n","import {Component, OnDestroy, OnInit} from '@angular/core';\nimport {CategoriesService} from '../../../product-structure/services/categories.service';\nimport {Category} from '../../../product-structure/models/category';\nimport {MenuItem, TreeNode} from 'primeng/api';\nimport {cloneDeep} from 'lodash-es';\nimport {finalize, Subject, takeUntil} from 'rxjs';\nimport {TreeService} from '@shared/services/tree.service';\nimport {ModalService} from '@shared/services/modal.service';\n\n@Component({\n  selector: 'pek-warehouse-categories',\n  templateUrl: './warehouse-categories.component.html',\n  styleUrls: ['./warehouse-categories.component.scss']\n})\nexport class WarehouseCategoriesComponent implements OnInit, OnDestroy {\n\n  menuItems: MenuItem[] = [\n    {\n      label: 'Selected Category',\n      items: [\n        {\n          label: 'Edit',\n          icon: 'pi pi-pencil',\n          command: () => this.onEditCategory()\n        },\n        {\n          label: 'Remove',\n          icon: 'pi pi-trash',\n          command: () => this.onRemoveCategory()\n        }\n      ]\n    }\n  ];\n\n  isMovingUp = false;\n  isMovingDown = false;\n  isLoading = true;\n\n  private destroy$ = new Subject();\n\n  categoriesTree: TreeNode<Category>[];\n  selectedCategory: TreeNode<Category>;\n  categories: Category[] = [];\n  expanseMap = {};\n\n  constructor(\n    private categoriesService: CategoriesService,\n    private readonly treeService: TreeService,\n    private readonly modalService: ModalService,\n  ) {\n  }\n\n  ngOnInit(): void {\n    this.getCategories();\n  }\n\n  getCategories() {\n    this.categoriesService.get().pipe(\n      takeUntil(this.destroy$)\n    ).subscribe(categories => {\n      this.categories = categories;\n      this.createTree();\n      this.isLoading = false;\n    });\n  }\n\n  onAddCategory() {\n    this.categoriesService.createEditWarehouseCategoryModal('create').subscribe(category => {\n      if (category) {\n        this.categories.unshift(category);\n        this.createTree();\n      }\n    });\n  }\n\n  onEditCategory() {\n    this.categoriesService.createEditWarehouseCategoryModal('edit', this.selectedCategory.data).subscribe(category => {\n      if (category) {\n        const index = this.categories.findIndex(t => t.id === this.selectedCategory.data.id);\n        this.categories[index] = category;\n        this.createTree();\n        this.selectedCategory = this.treeService.findSelectedNode(this.selectedCategory, this.categoriesTree);\n      }\n    });\n  }\n\n  onRemoveCategory() {\n    this.modalService.confirm('danger').subscribe(confirm => {\n      if (confirm) {\n        this.categoriesService.delete(this.selectedCategory.data).subscribe(() => {\n          const index = this.categories.findIndex(t => t.id === this.selectedCategory.data.id);\n          this.categories.splice(index, 1);\n          this.selectedCategory = null;\n          this.createTree();\n        });\n      }\n    });\n  }\n\n  createTree() {\n    if (this.categoriesTree) {\n      this.treeService.mapExpansion(this.categoriesTree, this.expanseMap);\n    }\n\n    this.categoriesTree = this.treeService.createTree(this.categories, this.expanseMap);\n  }\n\n  getMeasure(measure) {\n    if (measure != null) {\n      return measure.name + ' (' + measure.symbol + ')';\n    } else {\n      return '_';\n    }\n  }\n\n  onExpandAll(): void {\n    const temp = cloneDeep(this.categoriesTree);\n    temp.forEach(node => {\n      this.expandCollapseRecursive(node, true);\n    });\n    this.categoriesTree = temp;\n  }\n\n  onCollapseAll(): void {\n    const temp = cloneDeep(this.categoriesTree);\n    temp.forEach(node => {\n      this.expandCollapseRecursive(node, false);\n    });\n    this.categoriesTree = temp;\n  }\n\n  expandCollapseRecursive(node: TreeNode, isExpand: boolean): void {\n    node.expanded = isExpand;\n    if (node.children) {\n      node.children.forEach(childNode => {\n        this.expandCollapseRecursive(childNode, isExpand);\n      });\n    }\n  }\n\n  down() {\n    const node = this.selectedCategory;\n\n    const index = this.findIndexToMove(node.data.id);\n\n    if ((index < node.parent?.children.length - 1 || (!node.parent && index < this.categoriesTree.length - 1)) && !this.isMovingDown) {\n      this.isMovingDown = true;\n      const move = {\n        parent: node.parent ? node.parent.children[index + 1].data.id : this.categoriesTree[index + 1].data.id,\n        move_to: 'right'\n      };\n      this.categoriesService.move(move, node.data.id).pipe(\n        finalize(() => this.isMovingDown = false)\n      ).subscribe(category => {\n        const index = this.categories.findIndex(c => c.id === node.data.id);\n        this.categories[index] = category;\n\n        this.productMoved(category, 'down');\n      });\n    }\n  }\n\n  up() {\n    const node = this.selectedCategory;\n    const index = this.findIndexToMove(node.data.id);\n\n    if (index > 0 && !this.isMovingUp) {\n      this.isMovingUp = true;\n      const move = {\n        parent: node.parent ? node.parent.children[index - 1].data.id : this.categoriesTree[index - 1].data.id,\n        move_to: 'left'\n      };\n      this.categoriesService.move(move, node.data.id).pipe(\n        finalize(() => this.isMovingUp = false)\n      ).subscribe(category => {\n        const index = this.categories.findIndex(c => c.id === node.data.id);\n        this.categories[index] = category;\n\n        this.productMoved(category, 'up');\n      });\n    }\n  }\n\n  findIndexToMove(selectedNodeId) {\n    let index;\n\n    const find = (nodes: TreeNode<Category>[]) => {\n      nodes.forEach((node, i) => {\n        if (node.data.id === selectedNodeId) {\n          index = i;\n          return;\n        } else {\n          find(node.children);\n        }\n      });\n    };\n\n    find(this.categoriesTree);\n    return index;\n  }\n\n  productMoved(category: Category, direction: 'up' | 'down') {\n    let findedProduct: TreeNode<Category>;\n    let parentProduct: TreeNode<Category>;\n\n    const findProduct = (nodes: TreeNode<Category>[]) => {\n      nodes.forEach(node => {\n        if (node.data.id === category.id) {\n          findedProduct = node;\n        } else {\n          if (node.children && node.children.length > 0) {\n            findProduct(node.children);\n          }\n        }\n      });\n    };\n\n    const findParent = (nodes: TreeNode<Category>[]) => {\n      nodes.forEach(node => {\n        if (node.data.id === findedProduct.parent.data.id) {\n          parentProduct = node;\n        } else {\n          if (node.children && node.children.length > 0) {\n            findParent(node.children);\n          }\n        }\n      });\n    };\n\n    findProduct(this.categoriesTree);\n\n    if (findedProduct.parent) {\n      findParent(this.categoriesTree);\n    } else {\n      parentProduct = findedProduct;\n    }\n\n    if (findedProduct.parent) {\n      const index = parentProduct.children.findIndex(child => child.data.id === category.id);\n\n      if (direction === 'down') {\n        [parentProduct.children[index], parentProduct.children[index + 1]] = [parentProduct.children[index + 1], parentProduct.children[index]];\n      } else {\n        [parentProduct.children[index], parentProduct.children[index - 1]] = [parentProduct.children[index - 1], parentProduct.children[index]];\n      }\n    } else {\n      const index = this.categoriesTree.findIndex(node => node.data.id === category.id);\n\n      if (direction === 'down') {\n        [this.categoriesTree[index], this.categoriesTree[index + 1]] = [this.categoriesTree[index + 1], this.categoriesTree[index]];\n      } else {\n        [this.categoriesTree[index], this.categoriesTree[index - 1]] = [this.categoriesTree[index - 1], this.categoriesTree[index]];\n      }\n    }\n\n    this.categoriesTree = this.categoriesTree.map(node => node);\n  }\n\n  ngOnDestroy() {\n    this.destroy$.next(true);\n    this.destroy$.complete();\n  }\n}\n","<div class=\"page\">\n  <div class=\"page__header\">\n    <div class=\"page__title\">\n      <pek-module-icon [module]=\"'warehouse'\" [isActive]=\"true\"></pek-module-icon>\n      <h1>Warehouse Categories</h1>\n    </div>\n    <div class=\"page__tools\">\n      <button pButton type=\"button\" icon=\"pi pi-plus\" label=\"New Category\" (click)=\"onAddCategory()\"></button>\n    </div>\n  </div>\n</div>\n\n<div class=\"page__content\">\n  <div class=\"page__card\">\n    <div class=\"page__table\">\n      <p-treeTable\n        [value]=\"categoriesTree\"\n        selectionMode=\"single\"\n        [(selection)]=\"selectedCategory\"\n        [scrollable]=\"true\"\n        scrollHeight=\"calc(100vh - 19.2rem)\"\n      >\n        <ng-template pTemplate=\"caption\">\n          <div class=\"d-flex align-items-center\">\n            <button\n              pButton\n              type=\"button\"\n              icon=\"pi pi-arrow-up\"\n              class=\"p-button-rounded mr-2\"\n              [disabled]=\"!selectedCategory\"\n              [loading]=\"isMovingUp\"\n              (click)=\"up()\"\n            ></button>\n            <button\n              pButton\n              type=\"button\"\n              icon=\"pi pi-arrow-down\"\n              class=\"p-button-rounded mr-2\"\n              [disabled]=\"!selectedCategory\"\n              [loading]=\"isMovingDown\"\n              (click)=\"down()\"\n            ></button>\n            <p class=\"ml-1 subtitle\" *ngIf=\"!selectedCategory\">Choose the Category to edit</p>\n            <p-menubar\n              class=\"product-structure-bar ml-auto mr-2\"\n              [model]=\"menuItems\"\n              [class.disabled]=\"!selectedCategory\"\n            ></p-menubar>\n            <button\n              pButton\n              type=\"button\"\n              icon=\"pi pi-angle-down\"\n              label=\"Expand All\"\n              class=\"mr-2\"\n              (click)=\"onExpandAll()\"\n            ></button>\n            <button\n              pButton\n              type=\"button\"\n              icon=\"pi pi-angle-up\"\n              label=\"Collapse All\"\n              (click)=\"onCollapseAll()\"\n            ></button>\n          </div>\n        </ng-template>\n        <ng-template pTemplate=\"header\">\n          <tr>\n            <th style=\"padding-left: 52px; width: 40%\">Name</th>\n            <th style=\"width: 35%\" class=\"text-center\">Unit of Measure</th>\n            <th style=\"width: 35%\">Description</th>\n          </tr>\n        </ng-template>\n        <ng-template pTemplate=\"body\" let-rowNode let-rowData=\"rowData\">\n          <tr [ttRow]=\"rowNode\" [ttSelectableRow]=\"rowNode\">\n            <td style=\"width: 40%\">\n              <p-treeTableToggler [rowNode]=\"rowNode\"></p-treeTableToggler>\n              {{rowData.name}}\n            </td>\n            <td style=\"width: 35%\" class=\"text-center\">\n              {{getMeasure(rowData.unit_of_measure)}}\n            </td>\n            <td style=\"width: 35%\">\n              <ng-container>\n                {{rowData.description}}\n              </ng-container>\n            </td>\n          </tr>\n        </ng-template>\n        <ng-template pTemplate=\"emptymessage\">\n          <tr>\n            <td class=\"text-center p-4\" [attr.colspan]=\"3\">\n              <i *ngIf=\"isLoading\" class=\"pi pi-spin pi-spinner\" style=\"font-size: 2.25rem\"></i>\n              <span *ngIf=\"!isLoading\">No Records Found</span>\n            </td>\n          </tr>\n        </ng-template>\n      </p-treeTable>\n    </div>\n  </div>\n</div>\n","import {Component, OnDestroy, OnInit} from '@angular/core';\r\nimport {InvoiceProduct} from '../../../../../procurement/models/invoice-product';\r\nimport {map, switchMap, take, tap} from 'rxjs/operators';\r\nimport {Subject, takeUntil} from 'rxjs';\r\nimport {ActivatedRoute} from '@angular/router';\r\nimport {InvoiceProductService} from '../../../../../procurement/services/invoice-product.service';\r\nimport {InvoiceService} from '../../../../../procurement/services/invoice.service';\r\nimport {OrderTechnicalEquipment} from '../../../../models/order-technical-equipment';\r\nimport {TechnicalEquipmentsInUseService} from '../../../../services/technical-equipments-in-use.service';\r\nimport {OrderTechnicalEquipmentsService} from '../../../../services/order-technical-equipments.service';\r\n\r\n@Component({\r\n  selector: 'pek-warehouse-isolator-invoices',\r\n  templateUrl: './warehouse-isolator-invoices.component.html',\r\n  styleUrls: ['./warehouse-isolator-invoices.component.scss']\r\n})\r\nexport class WarehouseIsolatorInvoicesComponent implements OnInit, OnDestroy {\r\n  invoiceId: number;\r\n  isLoading = true;\r\n  invoiceProducts: InvoiceProduct[] = [];\r\n\r\n  orderId: number;\r\n  orderTechnicalEquipments: OrderTechnicalEquipment[] = [];\r\n  isLoadingTechnicalEquipment = true;\r\n  private destroy$ = new Subject();\r\n\r\n  constructor(\r\n    private readonly route: ActivatedRoute,\r\n    private readonly invoiceProductService: InvoiceProductService,\r\n    private readonly invoiceService: InvoiceService,\r\n    private orderTechnicalEquipmentsService: OrderTechnicalEquipmentsService,\r\n  ) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.route.paramMap.pipe(\r\n      map(params => params.get('id')),\r\n      takeUntil(this.destroy$)\r\n    ).subscribe(invoiceId => {\r\n      this.invoiceId = +invoiceId;\r\n      this.loadInvoiceProducts();\r\n      this.getInvoiceInfo();\r\n    });\r\n  }\r\n\r\n  loadInvoiceProducts() {\r\n    this.invoiceProductService.get(\r\n      [\r\n        {name: 'invoice', value: this.invoiceId},\r\n        {name: 'not_passed_quantity__gt', value: 0}\r\n      ]\r\n    ).pipe(takeUntil(this.destroy$)).subscribe(invoiceProducts => {\r\n      this.invoiceProducts = invoiceProducts;\r\n      this.isLoading = false;\r\n    });\r\n  }\r\n\r\n  getInvoiceInfo() {\r\n    this.invoiceService.getById(this.invoiceId).subscribe(invoice => {\r\n      if (invoice.order.id) {\r\n        this.orderId = invoice.order.id;\r\n        this.getOrderTechnicalEquipments();\r\n      }\r\n    });\r\n  }\r\n\r\n  getOrderTechnicalEquipments() {\r\n    this.orderTechnicalEquipmentsService.get([\r\n      {name: 'order', value: this.orderId},\r\n      {name: 'not_passed_quantity__gt', value: 0},\r\n    ]).pipe(take(1), takeUntil(this.destroy$)).subscribe(technicalEquipments => {\r\n      this.orderTechnicalEquipments = technicalEquipments;\r\n      this.isLoadingTechnicalEquipment = false;\r\n    });\r\n  }\r\n\r\n\r\n  ngOnDestroy() {\r\n    this.destroy$.next(true);\r\n    this.destroy$.complete();\r\n  }\r\n}\r\n","<div class=\"page\">\r\n  <div class=\"page__header\">\r\n    <div class=\"page__title\">\r\n      <pek-module-icon [module]=\"'warehouse'\" [isActive]=\"true\"></pek-module-icon>\r\n      <h1>Invoice Isolator Items</h1>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"page__content\">\r\n  <div class=\"page__card\">\r\n    <div class=\"page__table\">\r\n      <p-table\r\n        #dt\r\n        selectionMode=\"single\"\r\n        scrollHeight=\"calc(100vh - 18.8rem)\"\r\n        [scrollable]=\"true\"\r\n        [paginator]=\"invoiceProducts.length > 0\"\r\n        [rows]=\"10\"\r\n        [value]=\"invoiceProducts\"\r\n      >\r\n        <ng-template pTemplate=\"caption\">\r\n          <div class=\"mt-1\"></div>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"header\">\r\n          <tr>\r\n            <th class=\"text-center\" style=\"width: 5%\">#</th>\r\n            <th style=\"width: 35%\">Name</th>\r\n            <th class=\"text-center\" style=\"width: 20%\">Quantity</th>\r\n            <th class=\"text-center\" style=\"width: 20%\">Passed</th>\r\n            <th class=\"text-center\" style=\"width: 20%\">Not Passed</th>\r\n          </tr>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"body\" let-product let-i=\"rowIndex\">\r\n          <tr>\r\n            <td class=\"text-center\" style=\"width: 5%\">{{i + 1}}</td>\r\n            <td style=\"width: 35%\">{{product.nomenclature.name}}</td>\r\n            <td class=\"text-center\" style=\"width: 20%\">{{product.quantity}}</td>\r\n            <td class=\"text-center\" style=\"width: 20%\">{{product.passed_quantity}}</td>\r\n            <td class=\"text-center\" style=\"width: 20%\">{{product.not_passed_quantity}}</td>\r\n          </tr>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"emptymessage\">\r\n          <tr>\r\n            <td class=\"text-center p-4\" [attr.colspan]=\"5\">\r\n              <i *ngIf=\"isLoading\" class=\"pi pi-spin pi-spinner\" style=\"font-size: 2.25rem\"></i>\r\n              <span *ngIf=\"!isLoading\">No Records Found</span>\r\n            </td>\r\n          </tr>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"paginatorright\">\r\n          <p-button\r\n            type=\"button\"\r\n            (click)=\"dt.paginator=false\"\r\n            styleClass=\"p-button-text\"\r\n          >All\r\n          </p-button>\r\n        </ng-template>\r\n      </p-table>\r\n    </div>\r\n    <div *ngIf=\"!dt.paginator && !isLoading && invoiceProducts.length > 0\" class=\"paginator-return-pagination\">\r\n      <p-button\r\n        type=\"button\"\r\n        (click)=\"dt.paginator=true\"\r\n        styleClass=\"p-button-text\"\r\n      >\r\n        Return pagination\r\n      </p-button>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"page__content\">\r\n  <div class=\"page__card\">\r\n    <div class=\"page__table\">\r\n      <p-table\r\n        #dt2\r\n        selectionMode=\"single\"\r\n        scrollHeight=\"calc(100vh - 18.8rem)\"\r\n        [scrollable]=\"true\"\r\n        [paginator]=\"orderTechnicalEquipments.length > 0\"\r\n        [rows]=\"10\"\r\n        [value]=\"orderTechnicalEquipments\"\r\n      >\r\n        <ng-template pTemplate=\"caption\">\r\n          <div class=\"mt-1\"></div>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"header\">\r\n          <tr>\r\n            <th class=\"text-center\" style=\"width: 5%\">#</th>\r\n            <th style=\"width: 35%\">Name</th>\r\n            <th class=\"text-center\" style=\"width: 20%\">Quantity</th>\r\n            <th class=\"text-center\" style=\"width: 20%\">Passed</th>\r\n            <th class=\"text-center\" style=\"width: 20%\">Not Passed</th>\r\n          </tr>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"body\" let-product let-i=\"rowIndex\">\r\n          <tr>\r\n            <td class=\"text-center\" style=\"width: 5%\">{{i + 1}}</td>\r\n            <td style=\"width: 35%\">{{product.nomenclature.name}}</td>\r\n            <td class=\"text-center\" style=\"width: 20%\">{{product.quantity}}</td>\r\n            <td class=\"text-center\" style=\"width: 20%\">{{product.passed_quantity}}</td>\r\n            <td class=\"text-center\" style=\"width: 20%\">{{product.not_passed_quantity}}</td>\r\n          </tr>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"emptymessage\">\r\n          <tr>\r\n            <td class=\"text-center p-4\" [attr.colspan]=\"5\">\r\n              <i *ngIf=\"isLoading\" class=\"pi pi-spin pi-spinner\" style=\"font-size: 2.25rem\"></i>\r\n              <span *ngIf=\"!isLoading\">No Records Found</span>\r\n            </td>\r\n          </tr>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"paginatorright\">\r\n          <p-button\r\n            type=\"button\"\r\n            (click)=\"dt2.paginator=false\"\r\n            styleClass=\"p-button-text\"\r\n          >All\r\n          </p-button>\r\n        </ng-template>\r\n      </p-table>\r\n    </div>\r\n    <div *ngIf=\"!dt2.paginator && !isLoading && orderTechnicalEquipments.length > 0\" class=\"paginator-return-pagination\">\r\n      <p-button\r\n        type=\"button\"\r\n        (click)=\"dt2.paginator=true\"\r\n        styleClass=\"p-button-text\"\r\n      >\r\n        Return pagination\r\n      </p-button>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import {Component, OnDestroy, OnInit} from '@angular/core';\r\nimport {InvoiceProduct} from '../../../../../procurement/models/invoice-product';\r\nimport {Subject, takeUntil} from 'rxjs';\r\nimport {ActivatedRoute} from '@angular/router';\r\nimport {InvoiceProductService} from '../../../../../procurement/services/invoice-product.service';\r\nimport {map, switchMap, take} from 'rxjs/operators';\r\nimport {OrderProduct} from '../../../../../procurement/models/order-product';\r\nimport {OrderProductService} from '../../../../../procurement/services/order-product.service';\r\nimport {OrderTechnicalEquipment} from '../../../../models/order-technical-equipment';\r\nimport {OrderTechnicalEquipmentsService} from '../../../../services/order-technical-equipments.service';\r\n\r\n@Component({\r\n  selector: 'pek-warehouse-isolator-orders',\r\n  templateUrl: './warehouse-isolator-orders.component.html',\r\n  styleUrls: ['./warehouse-isolator-orders.component.scss']\r\n})\r\nexport class WarehouseIsolatorOrdersComponent implements OnInit, OnDestroy {\r\n\r\n  isLoading = true;\r\n  orderProducts: OrderProduct[] = [];\r\n  technicalEquipments: OrderTechnicalEquipment[] = [];\r\n  isLoadingTechnicalEquipment = true;\r\n  private destroy$ = new Subject();\r\n\r\n  orderId: number;\r\n\r\n  constructor(\r\n    private readonly route: ActivatedRoute,\r\n    private readonly orderProductService: OrderProductService,\r\n    private orderTechnicalEquipmentsService: OrderTechnicalEquipmentsService,\r\n  ) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.route.paramMap.pipe(\r\n      map(params => params.get('id')),\r\n      takeUntil(this.destroy$)\r\n    ).subscribe(orderId => {\r\n      this.orderId = +orderId;\r\n      this.loadIsolatedProducts();\r\n      this.getOrderTechnicalEquipments();\r\n    });\r\n  }\r\n\r\n  loadIsolatedProducts() {\r\n    this.orderProductService.get(\r\n      [\r\n        {name: 'not_passed_quantity__gt', value: '0'},\r\n        {name: 'order', value: this.orderId}\r\n      ]\r\n    ).pipe(takeUntil(this.destroy$)).subscribe(orderProducts => {\r\n      this.orderProducts = orderProducts;\r\n      this.isLoading = false;\r\n    })\r\n  }\r\n\r\n  getOrderTechnicalEquipments() {\r\n    this.orderTechnicalEquipmentsService.get([\r\n      {name: 'order', value: this.orderId},\r\n      {name: 'not_passed_quantity__gt', value: 0},\r\n    ]).pipe(take(1), takeUntil(this.destroy$)).subscribe(technicalEquipments => {\r\n      this.technicalEquipments = technicalEquipments;\r\n      this.isLoadingTechnicalEquipment = false;\r\n    });\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.destroy$.next(true);\r\n    this.destroy$.complete();\r\n  }\r\n}\r\n","<div class=\"page\">\r\n  <div class=\"page__header\">\r\n    <div class=\"page__title\">\r\n      <pek-module-icon [module]=\"'warehouse'\" [isActive]=\"true\"></pek-module-icon>\r\n      <h1>Order Isolator Items</h1>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"page__content\">\r\n  <div class=\"page__card\">\r\n    <h2 class=\"page__caption\">Ordered Items</h2>\r\n    <div class=\"page__table\">\r\n      <p-table\r\n        #dt\r\n        selectionMode=\"single\"\r\n        scrollHeight=\"calc(100vh - 18.8rem)\"\r\n        [scrollable]=\"true\"\r\n        [paginator]=\"orderProducts.length > 0\"\r\n        [rows]=\"10\"\r\n        [value]=\"orderProducts\"\r\n      >\r\n        <ng-template pTemplate=\"caption\">\r\n          <div class=\"mt-1\"></div>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"header\">\r\n          <tr>\r\n            <th class=\"text-center\" style=\"width: 5%\">#</th>\r\n            <th style=\"width: 35%\">Name</th>\r\n            <th class=\"text-center\" style=\"width: 20%\">Quantity</th>\r\n            <th class=\"text-center\" style=\"width: 20%\">Passed</th>\r\n            <th class=\"text-center\" style=\"width: 20%\">Not Passed</th>\r\n          </tr>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"body\" let-product let-i=\"rowIndex\">\r\n          <tr>\r\n            <td class=\"text-center\" style=\"width: 5%\">{{i + 1}}</td>\r\n            <td style=\"width: 35%\">{{product.nomenclature.name}}</td>\r\n            <td class=\"text-center\" style=\"width: 20%\">{{product.quantity}}</td>\r\n            <td class=\"text-center\" style=\"width: 20%\">{{product.passed_quantity}}</td>\r\n            <td class=\"text-center\" style=\"width: 20%\">{{product.not_passed_quantity}}</td>\r\n          </tr>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"emptymessage\">\r\n          <tr>\r\n            <td class=\"text-center p-4\" [attr.colspan]=\"5\">\r\n              <i *ngIf=\"isLoading\" class=\"pi pi-spin pi-spinner\" style=\"font-size: 2.25rem\"></i>\r\n              <span *ngIf=\"!isLoading\">No Records Found</span>\r\n            </td>\r\n          </tr>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"paginatorright\">\r\n          <p-button\r\n            type=\"button\"\r\n            (click)=\"dt.paginator=false\"\r\n            styleClass=\"p-button-text\"\r\n          >All\r\n          </p-button>\r\n        </ng-template>\r\n      </p-table>\r\n    </div>\r\n    <div *ngIf=\"!dt.paginator && !isLoading && orderProducts.length > 0\" class=\"paginator-return-pagination\">\r\n      <p-button\r\n        type=\"button\"\r\n        (click)=\"dt.paginator=true\"\r\n        styleClass=\"p-button-text\"\r\n      >\r\n        Return pagination\r\n      </p-button>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"page__content\">\r\n  <div class=\"page__card\">\r\n    <h2 class=\"page__caption\">Technical Equipment</h2>\r\n    <div class=\"page__table\">\r\n      <p-table\r\n        #dt2\r\n        selectionMode=\"single\"\r\n        scrollHeight=\"calc(100vh - 18.8rem)\"\r\n        [scrollable]=\"true\"\r\n        [paginator]=\"technicalEquipments.length > 0\"\r\n        [rows]=\"10\"\r\n        [value]=\"technicalEquipments\"\r\n      >\r\n        <ng-template pTemplate=\"caption\">\r\n          <div class=\"mt-1\"></div>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"header\">\r\n          <tr>\r\n            <th class=\"text-center\" style=\"width: 5%\">#</th>\r\n            <th style=\"width: 35%\">Name</th>\r\n            <th class=\"text-center\" style=\"width: 20%\">Quantity</th>\r\n            <th class=\"text-center\" style=\"width: 20%\">Passed</th>\r\n            <th class=\"text-center\" style=\"width: 20%\">Not Passed</th>\r\n          </tr>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"body\" let-product let-i=\"rowIndex\">\r\n          <tr>\r\n            <td class=\"text-center\" style=\"width: 5%\">{{i + 1}}</td>\r\n            <td style=\"width: 35%\">{{product.nomenclature.name}}</td>\r\n            <td class=\"text-center\" style=\"width: 20%\">{{product.quantity}}</td>\r\n            <td class=\"text-center\" style=\"width: 20%\">{{product.passed_quantity}}</td>\r\n            <td class=\"text-center\" style=\"width: 20%\">{{product.not_passed_quantity}}</td>\r\n          </tr>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"emptymessage\">\r\n          <tr>\r\n            <td class=\"text-center p-4\" [attr.colspan]=\"5\">\r\n              <i *ngIf=\"isLoadingTechnicalEquipment\" class=\"pi pi-spin pi-spinner\" style=\"font-size: 2.25rem\"></i>\r\n              <span *ngIf=\"!isLoadingTechnicalEquipment\">No Records Found</span>\r\n            </td>\r\n          </tr>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"paginatorright\">\r\n          <p-button\r\n            type=\"button\"\r\n            (click)=\"dt2.paginator=false\"\r\n            styleClass=\"p-button-text\"\r\n          >All\r\n          </p-button>\r\n        </ng-template>\r\n      </p-table>\r\n    </div>\r\n    <div *ngIf=\"!dt2.paginator && !isLoadingTechnicalEquipment && technicalEquipments.length > 0\" class=\"paginator-return-pagination\">\r\n      <p-button\r\n        type=\"button\"\r\n        (click)=\"dt2.paginator=true\"\r\n        styleClass=\"p-button-text\"\r\n      >\r\n        Return pagination\r\n      </p-button>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import {Component, OnDestroy, OnInit} from '@angular/core';\nimport {Order} from '../../../procurement/models/order';\nimport {Invoice} from '../../../procurement/models/invoice';\nimport {InvoiceService} from '../../../procurement/services/invoice.service';\nimport {OrderService} from '../../../procurement/services/order.service';\nimport {Subject, takeUntil} from 'rxjs';\n\n@Component({\n  selector: 'pek-warehouse-isolator',\n  templateUrl: './warehouse-isolator.component.html',\n  styleUrls: ['./warehouse-isolator.component.scss']\n})\nexport class WarehouseIsolatorComponent implements OnInit, OnDestroy {\n  isLoadingInvoices = true;\n  isLoadingOrders = true;\n\n  invoices: Invoice[] = [];\n  orders: Order[] = [];\n\n  selectedInvoice: Invoice;\n  selectedOrder: Order;\n\n  private destroy$ = new Subject();\n\n  constructor(\n    private invoiceService: InvoiceService,\n    private orderService: OrderService,\n  ) { }\n\n  ngOnInit(): void {\n    this.getInvoices();\n    this.getOrders();\n  }\n\n  getInvoices() {\n    this.invoiceService.get([{name: 'contains_isolated_products', value: true}]).pipe(\n      takeUntil(this.destroy$)\n    ).subscribe(invoices => {\n      this.invoices = invoices;\n      this.isLoadingInvoices = false;\n    });\n  }\n\n  getOrders() {\n    this.orderService.get([{name: 'contains_isolated_products', value: true}]).pipe(\n      takeUntil(this.destroy$)\n    ).subscribe(orders => {\n      this.orders = orders;\n      this.isLoadingOrders = false;\n    });\n  }\n\n  ngOnDestroy() {\n    this.destroy$.next(true);\n    this.destroy$.complete();\n  }\n}\n","<div class=\"page\">\n  <div class=\"page__header\">\n    <div class=\"page__title\">\n      <pek-module-icon [module]=\"'warehouse'\" [isActive]=\"true\"></pek-module-icon>\n      <h1>Warehouse Isolator</h1>\n    </div>\n  </div>\n</div>\n\n<div class=\"page__content\">\n  <div class=\"page__tabs\">\n    <p-tabView class=\"custom-tabs\">\n      <p-tabPanel header=\"Invoices Isolator\" [selected]=\"true\">\n        <div class=\"page__table\">\n          <p-table\n            #dt\n            selectionMode=\"single\"\n            scrollHeight=\"calc(100vh - 18.8rem)\"\n            [scrollable]=\"true\"\n            [paginator]=\"invoices.length > 0\"\n            [rows]=\"10\"\n            [(selection)]=\"selectedInvoice\"\n            [value]=\"invoices\"\n          >\n            <ng-template pTemplate=\"caption\">\n              <div class=\"d-flex\">\n                <p class=\"subtitle\" *ngIf=\"!selectedInvoice\">Choose the Invoice to view Items</p>\n                <button\n                  class=\"ml-auto\"\n                  pButton\n                  type=\"button\"\n                  icon=\"pi pi-bars\"\n                  label=\"Isolator Items\"\n                  [disabled]=\"!selectedInvoice\"\n                  [routerLink]=\"['invoices', selectedInvoice?.id]\"\n                ></button>\n              </div>\n            </ng-template>\n\n            <ng-template pTemplate=\"header\">\n              <tr>\n                <th style=\"width: 5%\" class=\"text-center\">#</th>\n                <th style=\"width: 20%\" class=\"text-center\">Date</th>\n                <th style=\"width: 25%\" class=\"text-center\">Invoice Number</th>\n                <th style=\"width: 25%\" class=\"text-center\">Order ID</th>\n                <th style=\"width: 25%\" class=\"text-center\">Supplier</th>\n              </tr>\n            </ng-template>\n            <ng-template pTemplate=\"body\" let-invoice let-i=\"rowIndex\">\n              <tr [pSelectableRow]=\"invoice\">\n                <td style=\"width: 5%\" class=\"text-center\">{{i + 1}}</td>\n                <td style=\"width: 20%\" class=\"text-center\">{{invoice.system_creation_date | date:'dd/MM/yyyy'}}</td>\n                <td style=\"width: 25%\"\n                    class=\"text-center\">{{invoice.self_serial_number}} {{invoice.self_proforma_serial_number}}</td>\n                <td style=\"width: 25%\" class=\"text-center\">{{invoice.order?.id}}</td>\n                <td style=\"width: 25%\" class=\"text-center\">{{invoice.supplier?.name}}</td>\n              </tr>\n            </ng-template>\n            <ng-template pTemplate=\"emptymessage\">\n              <tr>\n                <td class=\"text-center p-4\" [attr.colspan]=\"5\">\n                  <i *ngIf=\"isLoadingInvoices\" class=\"pi pi-spin pi-spinner\" style=\"font-size: 2.25rem\"></i>\n                  <span *ngIf=\"!isLoadingInvoices\">No Records Found</span>\n                </td>\n              </tr>\n            </ng-template>\n            <ng-template pTemplate=\"paginatorright\">\n              <p-button\n                type=\"button\"\n                (click)=\"dt.paginator=false\"\n                styleClass=\"p-button-text\"\n              >All\n              </p-button>\n            </ng-template>\n          </p-table>\n        </div>\n        <div *ngIf=\"!dt.paginator && !isLoadingInvoices && invoices.length > 0\" class=\"paginator-return-pagination\">\n          <p-button\n            type=\"button\"\n            (click)=\"dt.paginator=true\"\n            styleClass=\"p-button-text\"\n          >\n            Return pagination\n          </p-button>\n        </div>\n      </p-tabPanel>\n      <p-tabPanel header=\"Orders Isolator\">\n        <div class=\"page__table\">\n          <p-table\n            #st\n            selectionMode=\"single\"\n            scrollHeight=\"calc(100vh - 18.8rem)\"\n            [scrollable]=\"true\"\n            [paginator]=\"orders.length > 0\"\n            [rows]=\"10\"\n            [(selection)]=\"selectedOrder\"\n            [value]=\"orders\"\n          >\n            <ng-template pTemplate=\"caption\">\n              <div class=\"d-flex\">\n                <p class=\"subtitle\" *ngIf=\"!selectedOrder\">Choose the Order to view Items</p>\n                <button\n                  class=\"ml-auto\"\n                  pButton\n                  type=\"button\"\n                  icon=\"pi pi-bars\"\n                  label=\"Isolator Items\"\n                  [disabled]=\"!selectedOrder\"\n                  [routerLink]=\"['orders', selectedOrder?.id]\"\n                ></button>\n              </div>\n            </ng-template>\n            <ng-template pTemplate=\"header\">\n              <tr>\n                <th style=\"width: 5%\" class=\"text-center\">#</th>\n                <th style=\"width: 20%\" class=\"text-center\">Date</th>\n                <th style=\"width: 25%\" class=\"text-center\">Order ID</th>\n                <th style=\"width: 25%\" class=\"text-center\">Root List</th>\n                <th style=\"width: 25%\" class=\"text-center\">Items Reception Date</th>\n              </tr>\n            </ng-template>\n            <ng-template pTemplate=\"body\" let-order let-i=\"rowIndex\">\n              <tr [pSelectableRow]=\"order\">\n                <td style=\"width: 5%\" class=\"text-center\">{{i + 1}}</td>\n                <td style=\"width: 20%\" class=\"text-center\">{{order.created | date:'dd/MM/yyyy'}}</td>\n                <td style=\"width: 25%\" class=\"text-center\">{{order.id}}</td>\n                <td style=\"width: 25%\" class=\"text-center\">\n                  <ng-container *ngIf=\"order.root_production_list_products.length > 0\">\n                    {{order.root_production_list_products[0].nomenclature.code}}\n                    ~{{order.root_production_list_products[0].nomenclature.name}}\n                  </ng-container>\n                </td>\n                <td style=\"width: 25%\" class=\"text-center\">{{order.items_reception_date | date: 'dd/MM/yyyy'}}</td>\n              </tr>\n            </ng-template>\n            <ng-template pTemplate=\"emptymessage\">\n              <tr>\n                <td class=\"text-center p-4\" [attr.colspan]=\"5\">\n                  <i *ngIf=\"isLoadingOrders\" class=\"pi pi-spin pi-spinner\" style=\"font-size: 2.25rem\"></i>\n                  <span *ngIf=\"!isLoadingOrders\">No Records Found</span>\n                </td>\n              </tr>\n            </ng-template>\n            <ng-template pTemplate=\"paginatorright\">\n              <p-button\n                type=\"button\"\n                (click)=\"st.paginator=false\"\n                styleClass=\"p-button-text\"\n              >All\n              </p-button>\n            </ng-template>\n          </p-table>\n        </div>\n        <div *ngIf=\"!st.paginator && !isLoadingOrders && orders.length > 0\" class=\"paginator-return-pagination\">\n          <p-button\n            type=\"button\"\n            (click)=\"st.paginator=true\"\n            styleClass=\"p-button-text\"\n          >\n            Return pagination\n          </p-button>\n        </div>\n      </p-tabPanel>\n    </p-tabView>\n  </div>\n</div>\n","import {AfterViewInit, Component, OnDestroy, OnInit, ViewChild} from '@angular/core';\r\nimport {WarehouseProduct} from '../../models/warehouse-product';\r\nimport {FormBuilder, FormGroup} from '@angular/forms';\r\nimport {Category} from '../../../product-structure/models/category';\r\nimport {fromEvent, Subject, takeUntil} from 'rxjs';\r\nimport {CategoriesService} from '../../../product-structure/services/categories.service';\r\nimport {TreeNode} from 'primeng/api';\r\nimport {WarehouseProductService} from '../../services/warehouse-product.service';\r\nimport {QuerySearch} from '@shared/models/other';\r\nimport {Paginator} from 'primeng/paginator';\r\nimport {debounceTime, map, tap} from 'rxjs/operators';\r\nimport {ENomenclatureType, Nomenclature} from '@shared/models/nomenclature';\r\nimport {environment} from '@env/environment';\r\n\r\n@Component({\r\n  selector: 'pek-warehouse-items',\r\n  templateUrl: './warehouse-items.component.html',\r\n  styleUrls: ['./warehouse-items.component.scss']\r\n})\r\nexport class WarehouseItemsComponent implements OnInit, AfterViewInit, OnDestroy {\r\n  @ViewChild('paginator') paginator: Paginator;\r\n  @ViewChild('searchBoxName') searchBoxName;\r\n  @ViewChild('searchBoxCode') searchBoxCode;\r\n  @ViewChild('searchBoxDescription') searchBoxDescription;\r\n\r\n  tableScrollHeight = '29.75rem';\r\n\r\n  isHideFilters = false;\r\n  isShowAll = false;\r\n  isLoading = false;\r\n  isStartOnePage = false;\r\n\r\n  selectedProduct: WarehouseProduct;\r\n  products: WarehouseProduct[] = [];\r\n  countProducts: number = 0;\r\n\r\n  searchForm: FormGroup = this.fb.group({\r\n    name: [null],\r\n    code: [null],\r\n    description: [null],\r\n    warehouse: [null],\r\n    category: [null],\r\n    root_categories: [null],\r\n    locator: {value: null, disabled: true},\r\n    type: [null],\r\n    acceptedByInvoices: [null],\r\n    page: [1],\r\n  });\r\n\r\n  query: QuerySearch[] = [\r\n    {name: 'page', value: this.searchForm.get('page').value},\r\n    {name: 'paginated', value: true},\r\n    {name: 'at_area', value: false}\r\n  ];\r\n\r\n  queryKey = 'name:null/code:null/description:null/type:null/acceptedByInvoices:null/warehouse:null/locator:null/category:null';\r\n\r\n  private destroy$ = new Subject();\r\n\r\n  link = environment.link_url + 'dash/';\r\n\r\n  constructor(\r\n    private readonly fb: FormBuilder,\r\n    private readonly productCategoriesService: CategoriesService,\r\n    private readonly warehouseProductService: WarehouseProductService\r\n  ) {\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    fromEvent(this.searchBoxName.nativeElement, 'keyup')\r\n      .pipe(\r\n        tap(() => this.selectedProduct = null),\r\n        map(() => this.searchBoxName.nativeElement.value),\r\n        debounceTime(350),\r\n      ).subscribe(() => {\r\n      this.searchProducts();\r\n    });\r\n\r\n    fromEvent(this.searchBoxCode.nativeElement, 'keyup')\r\n      .pipe(\r\n        tap(() => this.selectedProduct = null),\r\n        map(() => this.searchBoxCode.nativeElement.value),\r\n        debounceTime(350),\r\n      ).subscribe(() => {\r\n      this.searchProducts();\r\n    });\r\n\r\n    fromEvent(this.searchBoxDescription.nativeElement, 'keyup')\r\n      .pipe(\r\n        tap(() => this.selectedProduct = null),\r\n        map(() => this.searchBoxDescription.nativeElement.value),\r\n        debounceTime(350),\r\n      ).subscribe(() => {\r\n      this.searchProducts();\r\n    });\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    // this.getProductsForPagination();\r\n  }\r\n\r\n  getProductsForPagination() {\r\n    this.warehouseProductService.getGroupedPagination(this.query).pipe(\r\n      takeUntil(this.destroy$)\r\n    ).subscribe(response => {\r\n      response.results.forEach((product: any, idx) => {\r\n        if (!product.nomenclature) {\r\n          product.nomenclature = {\r\n            id: product.nomenclature_id,\r\n            code: product.code,\r\n            name: product.name,\r\n            type: product.type,\r\n            category: product.category,\r\n            description: product.description,\r\n          };\r\n        }\r\n\r\n        product.checkedForGeneration = false;\r\n        product.uid = idx;\r\n      });\r\n\r\n      this.products = response.results;\r\n      this.countProducts = response.count;\r\n\r\n      if (this.isStartOnePage) {\r\n        this.paginator?.changePage(0);\r\n      }\r\n\r\n      this.isStartOnePage = false;\r\n\r\n      this.isLoading = false;\r\n    });\r\n  }\r\n\r\n  getProducts() {\r\n    this.warehouseProductService.getGrouped(this.query).pipe(\r\n      takeUntil(this.destroy$)\r\n    ).subscribe(response => {\r\n      response.forEach((product: any, idx) => {\r\n        if (!product.nomenclature) {\r\n          product.nomenclature = {\r\n            id: product.nomenclature_id,\r\n            code: product.code,\r\n            name: product.name,\r\n            type: product.type,\r\n            category: product.category,\r\n            description: product.description,\r\n          };\r\n        }\r\n\r\n        product.checkedForGeneration = false;\r\n        product.uid = idx;\r\n      });\r\n\r\n      this.products = response;\r\n      this.countProducts = response.length;\r\n\r\n      if (this.isStartOnePage) {\r\n        this.paginator?.changePage(0);\r\n      }\r\n\r\n      this.isStartOnePage = false;\r\n      this.isLoading = false;\r\n    });\r\n  }\r\n\r\n  searchProducts() {\r\n    this.isLoading = true;\r\n    this.destroy$.next(true);\r\n    this.selectedProduct = null;\r\n\r\n    const newQueryKey = `name:${this.searchForm.get('name').value}/code:${this.searchForm.get('code').value}/description:${this.searchForm.get('description').value}/type:${this.searchForm.get('type').value}/acceptedByInvoices:${this.searchForm.get('acceptedByInvoices').value}/warehouse:${this.searchForm.get('warehouse').value}/locator:${this.searchForm.get('locator').value}/category:${this.searchForm.get('category').value}`;\r\n\r\n    if (newQueryKey !== this.queryKey) {\r\n      this.queryKey = newQueryKey;\r\n      this.searchForm.get('page').patchValue(1);\r\n      this.isStartOnePage = true;\r\n    }\r\n\r\n    this.query = [];\r\n\r\n    if (!this.isShowAll) {\r\n      this.query = [\r\n        {name: 'paginated', value: 'true'},\r\n        {name: 'page', value: this.searchForm.get('page').value},\r\n      ];\r\n    }\r\n\r\n    this.query.push({name: 'at_area', value: false});\r\n\r\n    if (this.searchForm.get('name').value) this.query.push({\r\n      name: 'name',\r\n      value: this.searchForm.get('name').value.replace(/\\+/g, '%2b')\r\n    });\r\n\r\n    if (this.searchForm.get('code').value) this.query.push({name: 'code', value: this.searchForm.get('code').value});\r\n\r\n    if (this.searchForm.get('description').value) this.query.push({\r\n      name: 'description',\r\n      value: this.searchForm.get('description').value\r\n    });\r\n\r\n    if (this.searchForm.get('type').value) this.query.push({name: 'type', value: this.searchForm.get('type').value});\r\n\r\n    if (this.searchForm.get('warehouse').value) this.query.push({\r\n      name: 'warehouse',\r\n      value: this.searchForm.get('warehouse').value\r\n    });\r\n\r\n    if (this.searchForm.get('locator').value) this.query.push({\r\n      name: 'locator',\r\n      value: this.searchForm.get('locator').value\r\n    });\r\n\r\n    if (this.searchForm.get('category').value) this.query.push({\r\n      name: 'category',\r\n      value: this.searchForm.get('category').value\r\n    });\r\n\r\n    if (this.searchForm.get('root_categories').value) this.query.push({\r\n      name: 'root_categories',\r\n      value: this.searchForm.get('root_categories').value\r\n    });\r\n\r\n    if (this.searchForm.get('acceptedByInvoices').value !== null) this.query.push({\r\n      name: 'accepted_by_invoices',\r\n      value: this.searchForm.get('acceptedByInvoices').value\r\n    });\r\n\r\n    if (!this.isShowAll) {\r\n      this.getProductsForPagination();\r\n    } else {\r\n      this.searchForm.get('page').patchValue(1);\r\n      this.getProducts();\r\n    }\r\n  }\r\n\r\n  onAddItem() {\r\n    this.warehouseProductService.openCreateEditWarehouseProductModal('create').subscribe(response => {\r\n      if (response) {\r\n        this.searchProducts();\r\n      }\r\n    });\r\n  }\r\n\r\n  selectWarehouse(warehouseId: number) {\r\n    let value = null;\r\n    if (warehouseId) value = warehouseId;\r\n    this.searchForm.get('warehouse').patchValue(value);\r\n    this.searchProducts();\r\n  }\r\n\r\n  paginate(evt: any) {\r\n    if (!this.isStartOnePage) {\r\n      this.searchForm.get('page').patchValue(evt.page + 1);\r\n      this.searchProducts();\r\n    }\r\n  }\r\n\r\n  onEditItem() {\r\n    this.warehouseProductService.openCreateEditWarehouseProductModal('edit', this.selectedProduct.nomenclature.id).subscribe(response => {\r\n      if (response) {\r\n        this.searchProducts();\r\n      }\r\n    });\r\n  }\r\n\r\n  onMoveProduct() {\r\n    this.warehouseProductService.openMoveWarehouseProductModal(this.selectedProduct).subscribe(response => {\r\n      if (response) {\r\n        this.searchProducts();\r\n      }\r\n    });\r\n  }\r\n\r\n  onShowAll() {\r\n    this.isShowAll = true;\r\n    this.setTableScrollHeight();\r\n    this.searchProducts();\r\n  }\r\n\r\n  onShowPartial() {\r\n    this.isShowAll = false;\r\n    this.setTableScrollHeight();\r\n    this.searchProducts();\r\n  }\r\n\r\n  onSelectLocator(id: number) {\r\n    this.searchForm.get('locator').patchValue(id);\r\n    this.searchProducts();\r\n  }\r\n\r\n  onSelectNomenclatureType(type: ENomenclatureType) {\r\n    this.searchForm.get('type').patchValue(type);\r\n    this.searchProducts();\r\n  }\r\n\r\n  onSelectAcceptedType(type: boolean) {\r\n    this.searchForm.get('acceptedByInvoices').patchValue(type);\r\n    this.searchProducts();\r\n  }\r\n\r\n\r\n  onSelectProductStructureCategory(ids: number[]) {\r\n    if (ids) {\r\n      this.searchForm.get('root_categories').patchValue(ids.join(','));\r\n    } else {\r\n      this.searchForm.get('root_categories').patchValue('');\r\n    }\r\n\r\n    this.searchProducts();\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.destroy$.next(true);\r\n    this.destroy$.complete();\r\n  }\r\n\r\n  toggleFilterVisibility() {\r\n    this.isHideFilters = !this.isHideFilters;\r\n\r\n    this.setTableScrollHeight();\r\n  }\r\n\r\n  onSelectCategory(category: Category) {\r\n    if (category) {\r\n      this.searchForm.get('category').patchValue(category.id);\r\n    } else {\r\n      this.searchForm.get('category').patchValue(null);\r\n    }\r\n\r\n    this.searchProducts();\r\n  }\r\n\r\n  setTableScrollHeight() {\r\n    if (this.isHideFilters && !this.isShowAll) {\r\n      this.tableScrollHeight = '20.875rem';\r\n      return;\r\n    }\r\n\r\n    if (this.isHideFilters && this.isShowAll) {\r\n      this.tableScrollHeight = '18.25rem';\r\n      return;\r\n    }\r\n\r\n    if (!this.isHideFilters && this.isShowAll) {\r\n      this.tableScrollHeight = '27.5rem';\r\n      return;\r\n    }\r\n\r\n    if (!this.isHideFilters && !this.isShowAll) {\r\n      this.tableScrollHeight = '29.75rem';\r\n      return;\r\n    }\r\n  }\r\n\r\n  showSerialsInfo() {\r\n    if (this.selectedProduct) {\r\n      this.warehouseProductService.openNomenclatureInfoModal(this.selectedProduct.extra_info, this.selectedProduct.nomenclature as Nomenclature).subscribe();\r\n    }\r\n  }\r\n}\r\n","<div class=\"page\">\r\n  <div class=\"page__header\">\r\n    <div class=\"page__title\">\r\n      <pek-module-icon [module]=\"'warehouse'\" [isActive]=\"true\"></pek-module-icon>\r\n      <h1>Warehouse Items</h1>\r\n    </div>\r\n    <div class=\"page__tools\">\r\n      <button\r\n        class=\"mr-2\"\r\n        pButton\r\n        type=\"button\"\r\n        icon=\"pi pi-info-circle\"\r\n        label=\"Serial Info\"\r\n        [disabled]=\"selectedProduct?.nomenclature.bulk_or_serial !== '1'\"\r\n        (click)=\"showSerialsInfo()\"\r\n      >\r\n      </button>\r\n      <button\r\n        class=\"mr-2\"\r\n        pButton\r\n        type=\"button\"\r\n        icon=\"pi pi-angle-double-right\"\r\n        label=\"Move\"\r\n        [disabled]=\"!selectedProduct || (!selectedProduct?.total_locator_quantity && !selectedProduct?.total_area_locator_quantity)\"\r\n        (click)=\"onMoveProduct()\"\r\n      >\r\n      </button>\r\n      <button\r\n        pButton\r\n        type=\"button\"\r\n        icon=\"pi pi-pencil\"\r\n        class=\"mr-2\"\r\n        label=\"Edit Item\"\r\n        (click)=\"onEditItem()\"\r\n        [disabled]=\"!selectedProduct\"\r\n      ></button>\r\n      <button pButton type=\"button\" icon=\"pi pi-plus\" label=\"New Item\" (click)=\"onAddItem()\"></button>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"page__content\">\r\n  <div class=\"page__card\">\r\n    <div class=\"warehouse-items\">\r\n      <div class=\"warehouse-items__left\">\r\n        <div class=\"form-group\">\r\n          <pek-categories-tree-picker (categorySelected)=\"onSelectCategory($event)\"></pek-categories-tree-picker>\r\n        </div>\r\n      </div>\r\n      <div class=\"warehouse-items__right\">\r\n        <div class=\"page__table\">\r\n          <div class=\"filters-visibility\" [class.filters-visibility_hide]=\"isHideFilters\">\r\n            <div class=\"filters-visibility__header\"></div>\r\n\r\n            <button\r\n              class=\"icon pi\"\r\n              [class.pi-angle-double-up]=\"!isHideFilters\"\r\n              [class.pi-angle-double-down]=\"isHideFilters\"\r\n              (click)=\"toggleFilterVisibility()\"\r\n            ></button>\r\n\r\n            <form\r\n              [formGroup]=\"searchForm\"\r\n              class=\"warehouse-items__form mb-3\"\r\n            >\r\n              <div class=\"row\">\r\n                <div class=\"col-4\">\r\n                  <div class=\"form-group\">\r\n                    <label>Code</label>\r\n                    <input class=\"form-control\" formControlName=\"code\" pInputText #searchBoxCode>\r\n                  </div>\r\n                </div>\r\n                <div class=\"col-4\">\r\n                  <div class=\"form-group\">\r\n                    <label>Name</label>\r\n                    <input class=\"form-control\" formControlName=\"name\" pInputText #searchBoxName>\r\n                  </div>\r\n                </div>\r\n                <div class=\"col-4\">\r\n                  <div class=\"form-group\">\r\n                    <label>Description</label>\r\n                    <input class=\"form-control\" formControlName=\"description\" pInputText #searchBoxDescription>\r\n                  </div>\r\n                </div>\r\n                <div class=\"col-4\">\r\n                  <div class=\"row\">\r\n                    <div class=\"col-6\">\r\n                      <div class=\"form-group\">\r\n                        <label>Warehouses</label>\r\n                        <pek-warehouse-picker (selectWarehouse)=\"selectWarehouse($event)\"></pek-warehouse-picker>\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"col-6\">\r\n                      <div class=\"form-group\">\r\n                        <label>Locator</label>\r\n                        <pek-locator-picker\r\n                          [warehouseId]=\"searchForm.get('warehouse').value\"\r\n                          [isAllLocators]=\"false\"\r\n                          [isDisabled]=\"true\"\r\n                          (selectLocator)=\"onSelectLocator($event)\"\r\n                        ></pek-locator-picker>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"col-4\">\r\n                  <div class=\"row\">\r\n                    <div class=\"col-6\">\r\n                      <div class=\"form-group\">\r\n                        <label>Type</label>\r\n                        <pek-nomenclature-type-picker\r\n                          (choiceNomenclatureType)=\"onSelectNomenclatureType($event)\"\r\n                        ></pek-nomenclature-type-picker>\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"col-6\">\r\n                      <div class=\"form-group\">\r\n                        <label>Accepted Type</label>\r\n                        <pek-accepted-type-picker\r\n                          (selectAcceptedType)=\"onSelectAcceptedType($event)\"\r\n                        ></pek-accepted-type-picker>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"col-4\">\r\n                  <div class=\"form-group\">\r\n                    <label>Product Structure Category</label>\r\n                    <pek-product-structure-category-picker\r\n                      [isAllIds]=\"true\"\r\n                      (choiceCategoryFolAllIds)=\"onSelectProductStructureCategory($event)\"\r\n                    ></pek-product-structure-category-picker>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </form>\r\n          </div>\r\n          <div class=\"table-pagination-preloader\">\r\n            <p-table\r\n              #dt\r\n              selectionMode=\"single\"\r\n              [scrollHeight]=\"'calc(100vh - ' + tableScrollHeight + ')'\"\r\n              dataKey=\"uid\"\r\n              [scrollable]=\"true\"\r\n              [rows]=\"10\"\r\n              [(selection)]=\"selectedProduct\"\r\n              [value]=\"products\"\r\n            >\r\n              <ng-template pTemplate=\"header\">\r\n                <tr>\r\n                  <th class=\"index-header text-center\" style=\"width: 5%\">#</th>\r\n                  <th style=\"width: 15%\">Code</th>\r\n                  <th style=\"width: 15%\">Name</th>\r\n                  <th class=\"text-center\" style=\"width: 10%\">Technology</th>\r\n                  <th class=\"text-center\" style=\"width: 10%\">Quantity</th>\r\n                  <th class=\"text-center\" style=\"width: 6%\">UOM</th>\r\n                  <th class=\"text-center\" style=\"width: 13%\">Category</th>\r\n                  <th class=\"text-center\" style=\"width: 12%\">Warehouse</th>\r\n                  <th class=\"text-center\" style=\"width: 14%\">Locator</th>\r\n                </tr>\r\n              </ng-template>\r\n              <ng-template pTemplate=\"body\" let-product let-i=\"rowIndex\">\r\n                <tr [pSelectableRow]=\"product\" [pRowToggler]=\"product\">\r\n                  <td style=\"width: 5%\" class=\"text-center\">\r\n                    {{(this.searchForm.get('page').value - 1) * 10 + i + 1}}\r\n                  </td>\r\n                  <td style=\"width: 15%\">\r\n                    {{product.nomenclature.code}}\r\n                  </td>\r\n                  <td style=\"width: 15%\" class=\"in-use\">\r\n                    <b *ngIf=\"product.nomenclature.bulk_or_serial === '1'\">(S)</b>\r\n                    <b *ngIf=\"product.nomenclature.has_technical_equipment\">(T)</b>\r\n                    {{product.nomenclature.name}}\r\n                    <span class=\"text-danger\" *ngIf=\"product.used_by_order && product.used_by_order.length > 0\">\r\n                      <b>In Use</b>\r\n\r\n                      <div class=\"in-use-info\">\r\n                        <p>In use by orders:</p>\r\n                        <div *ngFor=\"let order of product.used_by_order\">\r\n                          <a *ngIf=\"order.accounting_type === 3\" [href]=\"link + 'production/orders/order/' + order.order_id\"\r\n                              target=\"_blank\">{{order.order_id}}\r\n                          </a>\r\n                          <a *ngIf=\"order.accounting_type === 2\" [href]=\"link + 'outsource/outsource-chain/products/' + order.order_id\"\r\n                             target=\"_blank\">{{order.order_id}}\r\n                          </a>\r\n                        </div>\r\n                      </div>\r\n                    </span>\r\n                  </td>\r\n                  <td style=\"width: 10%\" class=\"text-center\">\r\n                    {{product.current_technology?.name}}\r\n                  </td>\r\n                  <td style=\"width: 10%\" class=\"text-center\">\r\n                    {{product.total_locator_quantity}}\r\n                  </td>\r\n                  <td style=\"width: 6%\" class=\"text-center\">\r\n                    <ng-container *ngIf=\"product.nomenclature.category || product.nomenclature.root_category\">\r\n                      <ng-container *ngIf=\"product.nomenclature.category\">\r\n                        {{product.nomenclature.category?.unit_of_measure?.symbol ? product.nomenclature.category?.unit_of_measure?.symbol : 'Pcs'}}\r\n                      </ng-container>\r\n                      <ng-container *ngIf=\"product.nomenclature.root_category\">\r\n                        {{product.nomenclature.root_category?.unit_of_measure?.symbol ? product.nomenclature.root_category?.unit_of_measure?.symbol : 'Pcs' }}\r\n                      </ng-container>\r\n                    </ng-container>\r\n\r\n                    <span *ngIf=\"!product.nomenclature.category && !product.nomenclature.root_category\">\r\n                    Pcs\r\n                  </span>\r\n                  </td>\r\n                  <td style=\"width: 13%\" class=\"text-center\">\r\n                    {{product.nomenclature.category?.name}}\r\n                    {{product.nomenclature.root_category?.name}}\r\n                  </td>\r\n                  <td style=\"width: 12%\" class=\"text-center\">\r\n                    <ng-container\r\n                      *ngIf=\"product.locator\">\r\n                      {{product.locator.warehouse.name}}\r\n                    </ng-container>\r\n                  </td>\r\n                  <td style=\"width: 14%\" class=\"text-center\">\r\n                    <ng-container *ngIf=\"product.locator\">\r\n                      {{product.locator.name}}\r\n                    </ng-container>\r\n                    <span class=\"d-block\" *ngIf=\"product.locator\"> R: {{product.locator.row}} Col:\r\n                      {{product.locator.column}} Sh: {{product.locator.shelf}} Pl:\r\n                      {{product.locator.place}}\r\n                  </span>\r\n                  </td>\r\n                </tr>\r\n              </ng-template>\r\n              <ng-template pTemplate=\"emptymessage\">\r\n                <tr>\r\n                  <td class=\"text-center p-4\" [attr.colspan]=\"9\">\r\n                    <i *ngIf=\"isLoading\" class=\"pi pi-spin pi-spinner\" style=\"font-size: 2.25rem\"></i>\r\n                    <span *ngIf=\"!isLoading\">No Records Found</span>\r\n                  </td>\r\n                </tr>\r\n              </ng-template>\r\n            </p-table>\r\n            <div class=\"pagination-preloader pagination-preloader_bord\" *ngIf=\"isLoading\">\r\n              <i class=\"pi pi-spin pi-spinner\" style=\"font-size: 2.25rem\"></i>\r\n            </div>\r\n          </div>\r\n          <div\r\n            class=\"paginator-wrapper\"\r\n            *ngIf=\"!isShowAll\"\r\n            [class.paginator-wrapper_hide]=\"products.length === 0\"\r\n          >\r\n            <p-paginator\r\n              #paginator\r\n              [rows]=\"10\"\r\n              [totalRecords]=\"countProducts\"\r\n              (onPageChange)=\"paginate($event)\">\r\n            </p-paginator>\r\n            <p-button\r\n              (click)=\"onShowAll()\"\r\n              class=\"paginator-all\"\r\n              type=\"button\"\r\n              styleClass=\"p-button-text\"\r\n            >\r\n              All\r\n            </p-button>\r\n          </div>\r\n          <div *ngIf=\"isShowAll\" class=\"paginator-return-pagination\">\r\n            <p-button\r\n              type=\"button\"\r\n              (click)=\"onShowPartial()\"\r\n              styleClass=\"p-button-text\"\r\n            >\r\n              Return pagination\r\n            </p-button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport {NavigationLink} from '../../../layout/navigation-route';\r\n\r\n@Component({\r\n  selector: 'pek-warehouse-layout',\r\n  templateUrl: './warehouse-layout.component.html',\r\n  styleUrls: ['./warehouse-layout.component.scss']\r\n})\r\nexport class WarehouseLayoutComponent implements OnInit {\r\n\r\n  routes: NavigationLink[] = [\r\n    {label: 'Items', commands: ['items']},\r\n    {label: 'QC-Warehouse', commands: ['warehouse-qc']},\r\n    {label: 'Production Lists', commands: ['production-lists']},\r\n    {label: 'Production Requests', commands: ['production-requests']},\r\n    {label: 'Tool Requests', commands: ['tool-requests']},\r\n    {label: 'Shipment Requests', commands: ['shipments-requests']},\r\n    {label: 'Where Used', commands: ['where-used']},\r\n    {label: 'Physical Inventory', commands: ['physical-inventory']},\r\n  ]\r\n\r\n  settingsRoutes: NavigationLink[] = [\r\n    {label: 'Warehouses', commands: ['warehouses']},\r\n    {label: 'Categories', commands: ['categories']},\r\n    {label: 'Units of Measure', commands: ['measure']},\r\n    {label: 'Serial Number Types', commands: ['serial-types']},\r\n    {label: 'Isolator', commands: ['isolator']},\r\n  ]\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<pek-header\n  [module]=\"'Warehouse'\"\n  [routes]=\"routes\"\n  [settingsRoutes]=\"settingsRoutes\"\n></pek-header>\n\n<router-outlet></router-outlet>\n","import {Component, OnDestroy, OnInit} from '@angular/core';\nimport {ActivatedRoute} from '@angular/router';\nimport {map, switchMap, tap} from 'rxjs/operators';\nimport {LocatorService} from '../../services/locator.service';\nimport {Locator} from '../../models/locator';\nimport {WarehouseService} from '../../services/warehouse.service';\nimport {Warehouse} from '../../models/warehouse';\nimport {MenuItem} from 'primeng/api';\nimport {Subject, takeUntil} from 'rxjs';\nimport {ModalService} from '@shared/services/modal.service';\n\n@Component({\n  selector: 'pek-warehouse-locators',\n  templateUrl: './warehouse-locators.component.html',\n  styleUrls: ['./warehouse-locators.component.scss']\n})\nexport class WarehouseLocatorsComponent implements OnInit, OnDestroy {\n  menuItems: MenuItem[] = [{\n    label: 'Selected Locator',\n    items: [\n      {\n        label: 'Edit',\n        icon: 'pi pi-pencil',\n        command: () => this.onEditLocator()\n      },\n      {\n        label: 'Remove',\n        icon: 'pi pi-trash',\n        command: () => this.onRemoveLocator()\n      }\n    ]\n  }];\n\n  warehouseId: number;\n  currentWarehouse: Warehouse;\n\n  locators: Locator[] = [];\n  selectedLocator: Locator;\n\n  isLoading = true;\n  isLoadingWarehouse = true;\n\n  private destroy$ = new Subject();\n\n  constructor(\n    private readonly route: ActivatedRoute,\n    private locatorService: LocatorService,\n    private readonly warehouseService: WarehouseService,\n    private readonly modalService: ModalService,\n  ) {\n  }\n\n  ngOnInit(): void {\n    this.getLocators();\n    this.getCurrentWarehouse();\n  }\n\n  getLocators() {\n    this.route.paramMap.pipe(\n      map(params => params.get('id')),\n      tap(id => this.warehouseId = +id),\n      switchMap(() => this.locatorService.get([{name: 'warehouse', value: this.warehouseId}])),\n      takeUntil(this.destroy$)\n    ).subscribe(locators => {\n      this.locators = locators;\n      this.isLoading = false;\n    });\n  }\n\n  getCurrentWarehouse() {\n    this.warehouseService.getById(this.warehouseId).subscribe(warehouse => {\n      this.currentWarehouse = warehouse;\n      this.isLoadingWarehouse = false;\n    });\n  }\n\n  onAddLocator() {\n    this.locatorService.createEditLocatorModal('create').subscribe(locator => {\n      if (locator) {\n        this.locators.unshift(locator);\n      }\n    });\n  }\n\n  onEditLocator() {\n    this.locatorService.createEditLocatorModal('edit', this.selectedLocator).subscribe(locator => {\n      if (locator) {\n        const index = this.locators.findIndex(t => t.id === this.selectedLocator.id);\n        this.locators[index] = locator;\n        this.selectedLocator = this.locators[index];\n      }\n    });\n  }\n\n  onRemoveLocator() {\n    this.modalService.confirm('danger').subscribe(confirm => {\n      if (confirm) {\n        this.locatorService.delete(this.selectedLocator).subscribe(() => {\n          const index = this.locators.findIndex(w => w.id === this.selectedLocator.id);\n          this.locators.splice(index, 1);\n            this.selectedLocator = null;\n        });\n      }\n    })\n  }\n\n  ngOnDestroy() {\n    this.destroy$.next(true);\n    this.destroy$.complete();\n  }\n}\n","<div class=\"page\">\n  <div class=\"page__header\">\n    <div class=\"page__title\">\n      <pek-module-icon [module]=\"'warehouse'\" [isActive]=\"true\"></pek-module-icon>\n      <h1>Locators (Warehouse: {{isLoadingWarehouse ? '...' : currentWarehouse.name}})</h1>\n    </div>\n    <div class=\"page__tools\">\n      <button pButton type=\"button\" icon=\"pi pi-plus\" label=\"New Locator\" (click)=\"onAddLocator()\"></button>\n    </div>\n  </div>\n</div>\n\n<div class=\"page__content\">\n  <div class=\"page__card\">\n    <div class=\"page__table\">\n      <p-table\n        #dt\n        selectionMode=\"single\"\n        scrollHeight=\"calc(100vh - 18.8rem)\"\n        [scrollable]=\"true\"\n        [paginator]=\"locators.length > 0\"\n        [rows]=\"10\"\n        [(selection)]=\"selectedLocator\"\n        [value]=\"locators\"\n      >\n        <ng-template pTemplate=\"caption\">\n          <div class=\"d-flex\">\n            <p class=\"subtitle\" *ngIf=\"!selectedLocator\">Choose the Locator to edit</p>\n            <p-menubar class=\"ml-auto\" [model]=\"menuItems\" [class.disabled]=\"!selectedLocator\"></p-menubar>\n          </div>\n        </ng-template>\n        <ng-template pTemplate=\"header\">\n          <tr>\n            <th style=\"width: 5%\" class=\"text-center\">#</th>\n            <th style=\"width: 20%\">Name</th>\n            <th style=\"width: 20%\" class=\"text-center\">Description</th>\n            <th style=\"width: 15%\" class=\"text-center\">Row</th>\n            <th style=\"width: 15%\" class=\"text-center\">Column</th>\n            <th style=\"width: 15%\" class=\"text-center\">Shelf</th>\n            <th style=\"width: 10%\" class=\"text-center\">Place</th>\n          </tr>\n        </ng-template>\n        <ng-template pTemplate=\"body\" let-locator let-i=\"rowIndex\">\n          <tr [pSelectableRow]=\"locator\">\n            <td style=\"width: 5%\" class=\"text-center\">{{i + 1 }}</td>\n            <td style=\"width: 20%\">{{locator.name}}</td>\n            <td style=\"width: 20%;\" class=\"text-center\">{{locator.description}}</td>\n            <td style=\"width: 15%\" class=\"text-center\">{{locator.row}}</td>\n            <td style=\"width: 15%\" class=\"text-center\">{{locator.column}}</td>\n            <td style=\"width: 15%\" class=\"text-center\">{{locator.shelf}}</td>\n            <td style=\"width: 10%\" class=\"text-center\">{{locator.place}}</td>\n          </tr>\n        </ng-template>\n        <ng-template pTemplate=\"emptymessage\">\n          <tr>\n            <td class=\"text-center p-4\" [attr.colspan]=\"7\">\n              <i *ngIf=\"isLoading\" class=\"pi pi-spin pi-spinner\" style=\"font-size: 2.25rem\"></i>\n              <span *ngIf=\"!isLoading\">No Records Found</span>\n            </td>\n          </tr>\n        </ng-template>\n        <ng-template pTemplate=\"paginatorright\">\n          <p-button\n            type=\"button\"\n            (click)=\"dt.paginator=false\"\n            styleClass=\"p-button-text\"\n          >All\n          </p-button>\n        </ng-template>\n      </p-table>\n    </div>\n    <div *ngIf=\"!dt.paginator && !isLoading && locators.length > 0\" class=\"paginator-return-pagination\">\n      <p-button\n        type=\"button\"\n        (click)=\"dt.paginator=true\"\n        styleClass=\"p-button-text\"\n      >\n        Return pagination\n      </p-button>\n    </div>\n  </div>\n</div>\n","import {Component, Input, OnInit} from '@angular/core';\nimport {Request} from '../../models/request';\nimport {ENomenclatureType} from '@shared/models/nomenclature';\nimport {AuthService} from '../../../auth/auth.service';\n\n@Component({\n  selector: 'pek-warehouse-production-request-print-page',\n  templateUrl: './warehouse-production-request-print-page.component.html',\n  styleUrls: ['./warehouse-production-request-print-page.component.scss']\n})\nexport class WarehouseProductionRequestPrintPageComponent implements OnInit {\n  @Input() requests: Request[] = [];\n  @Input() rootList: any;\n  @Input() orderId: number;\n  currentDate = new Date();\n  @Input() currentReqDate: Date = null;\n\n  constructor(\n    public readonly auth: AuthService\n  ) { }\n\n  ngOnInit(): void {\n  }\n\n  getType(type: ENomenclatureType) {\n    switch (type) {\n      case ENomenclatureType.ASSEMBLY:\n        return 'Assembly'\n      case ENomenclatureType.PURCHASED:\n        return 'Outsourcing'\n      case ENomenclatureType.MANUFACTURED:\n        return 'Own Production'\n    }\n  }\n\n}\n","<div class=\"warehouse-production-request-print-page\" *ngIf=\"rootList\">\n  <div class=\"warehouse-production-request-print-page__header\">\n    <div>\n      <h2>Code</h2>\n      <p>{{rootList.nomenclature.code}}</p>\n    </div>\n    <div>\n      <h2>Name</h2>\n      <p>{{rootList.nomenclature.name}}</p>\n    </div>\n    <div>\n      <h2>Id</h2>\n      <p>{{rootList.list.id}}</p>\n    </div>\n    <div>\n      <h2>Order</h2>\n      <p>{{orderId}}</p>\n    </div>\n    <div>\n      <h2>Production List Creation Date</h2>\n      <p>{{rootList.list.created | date: 'dd.MM.y' }}</p>\n    </div>\n    <div>\n      <h2>Request Creation Date</h2>\n      <p>\n        <ng-container *ngIf=\"currentReqDate\">\n          {{currentReqDate | date: 'dd.MM.y' }}\n        </ng-container>\n      </p>\n    </div>\n  </div>\n\n\n  <div class=\"warehouse-production-request-print-page__table\">\n    <div\n      *ngFor=\"let request of requests\"\n      class=\"warehouse-production-request-print-page__row\"\n    >\n      <div class=\"warehouse-production-request-print-page__box\">\n        <div class=\"warehouse-production-request-print-page__col\">\n          <h3>ID</h3>\n          <p>{{request.id}}</p>\n        </div>\n        <div class=\"warehouse-production-request-print-page__col\">\n          <h3>Code</h3>\n          <div *ngIf=\"request.material_nomenclature\">\n            {{request.material_nomenclature.code}}\n          </div>\n          <div *ngIf=\"request.order_product_nomenclature\">\n            {{request.order_product_nomenclature.code}}\n          </div>\n          <div *ngIf=\"!request.material_nomenclature && !request.order_product_nomenclature\">\n            {{request.list_product.nomenclature.code}}\n          </div>\n        </div>\n        <div class=\"warehouse-production-request-print-page__col\">\n          <h3>Name</h3>\n          <div *ngIf=\"request.material_nomenclature\">\n            <b *ngIf=\"request?.list_product?.nomenclature?.bulk_or_serial === '1'\">(S)</b>\n            {{request.material_nomenclature.name}}\n          </div>\n          <div *ngIf=\"request.order_product_nomenclature\">\n            <b *ngIf=\"request?.list_product?.nomenclature?.bulk_or_serial === '1'\">(S)</b>\n            {{request.order_product_nomenclature.name}}\n          </div>\n          <div *ngIf=\"!request.material_nomenclature && !request.order_product_nomenclature\">\n            <b *ngIf=\"request?.list_product?.nomenclature?.bulk_or_serial === '1'\">(S)</b>\n            {{request.list_product.nomenclature.name}}\n          </div>\n        </div>\n        <div class=\"warehouse-production-request-print-page__col\">\n          <h3>Technology</h3>\n          <span *ngIf=\"request.technology\">{{request.technology}}</span>\n        </div>\n        <div class=\"warehouse-production-request-print-page__col\">\n          <h3>Required Quantity</h3>\n          {{request.required_quantity}}\n        </div>\n        <div class=\"warehouse-production-request-print-page__col\">\n          <h3>Locator</h3>\n          <div *ngIf=\"request.locators\">\n            <div *ngFor=\"let locator of request.locators\">\n              {{locator.name}}\n            </div>\n          </div>\n        </div>\n        <div class=\"warehouse-production-request-print-page__col\">\n          <h3>Available Quantity</h3>\n          {{request.warehouse_quantity}}\n        </div>\n        <div class=\"warehouse-production-request-print-page__col\">\n          <h3>Type</h3>\n          <p>{{getType(request.list_product?.nomenclature?.type)}}</p>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"warehouse-production-request-print-page__bottom\">\n    <div class=\"warehouse-production-request-print-page__column\">\n      <div class=\"warehouse-production-request-print-page__left\">\n        <div>\n          <h3>Sent</h3>\n          <p>{{auth.user.first_name}} {{auth.user.last_name}}</p>\n        </div>\n        <div>\n          <h3>Date</h3>\n          <p>{{currentDate | date: 'dd.MM.y'}}</p>\n        </div>\n        <div>\n          <h3>Signed</h3>\n        </div>\n      </div>\n      <div class=\"warehouse-production-request-print-page__right\">\n        <div>\n          <h3>Retrieved</h3>\n          <p></p>\n        </div>\n        <div>\n          <h3>Date</h3>\n          <p></p>\n        </div>\n        <div>\n          <h3>Signed</h3>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n","import {Component, OnDestroy, OnInit, ViewChild} from '@angular/core';\r\nimport {Order} from '../../../procurement/models/order';\r\nimport {AuthService} from '../../../auth/auth.service';\r\nimport {OrderService} from '../../../procurement/services/order.service';\r\nimport {ActivatedRoute, Router} from '@angular/router';\r\nimport {ModalService} from '@shared/services/modal.service';\r\nimport {RequestService} from '../../services/request.service';\r\nimport {Table} from 'primeng/table';\r\nimport {MenuItem, TreeNode} from 'primeng/api';\r\nimport {Request} from '../../models/request';\r\nimport {List} from '../../models/list';\r\nimport * as cloneDeep from 'lodash/cloneDeep';\r\nimport {Task} from '@shared/models/task';\r\nimport {TaskService} from '@shared/services/task.service';\r\nimport {environment} from '@env/environment';\r\nimport {Subject, takeUntil} from 'rxjs';\r\nimport {OrderTechnicalEquipment} from '../../models/order-technical-equipment';\r\nimport {OrderTechnicalEquipmentsService} from '../../services/order-technical-equipments.service';\r\nimport {take} from 'rxjs/operators';\r\n\r\nenum ViewMode {\r\n  LIST = 0,\r\n  HIERARCHY = 1,\r\n  DETAILED_HIERARCHY = 2,\r\n}\r\n\r\n@Component({\r\n  selector: 'pek-warehouse-production-request',\r\n  templateUrl: './warehouse-production-request.component.html',\r\n  styleUrls: ['./warehouse-production-request.component.scss']\r\n})\r\nexport class WarehouseProductionRequestComponent implements OnInit, OnDestroy {\r\n  link = environment.link_url + 'dash/';\r\n  viewModes = ViewMode;\r\n  viewMode: ViewMode = ViewMode.LIST;\r\n  @ViewChild('dt') dateTable: Table;\r\n\r\n  isShowPrint = true;\r\n\r\n  destroy$ = new Subject();\r\n\r\n  requestNodeMenuItems: MenuItem[] = [{\r\n    label: 'Selected Request',\r\n    items: [\r\n      {\r\n        label: 'Show Images',\r\n        icon: 'pi pi-images',\r\n        command: () => this.showImages(this.selectedRequestNode.data.request.list_product)\r\n      },\r\n      {\r\n        label: 'Cancel',\r\n        icon: 'pi pi-times',\r\n        command: () => this.onCancelItem(this.selectedRequestNode.data.request)\r\n      }\r\n    ]\r\n  }];\r\n\r\n  requestMenuItems: MenuItem[] = [{\r\n    label: 'Selected Request',\r\n    items: [\r\n      {\r\n        label: 'Show Images',\r\n        icon: 'pi pi-images',\r\n        command: () => this.showImages(this.selectedRequest.list_product)\r\n      },\r\n      {\r\n        label: 'Cancel',\r\n        icon: 'pi pi-times',\r\n        command: () => this.onCancelItem(this.selectedRequest)\r\n      }\r\n    ]\r\n  }];\r\n\r\n  rootList: any = null;\r\n  currentDate: Date = new Date();\r\n  selectedRequest: Request;\r\n  currentReqDate: Date = null;\r\n\r\n  isLoading = true;\r\n  requests: Request[] = [];\r\n  order: Order;\r\n  orderId = this.route.snapshot.paramMap.get('id');\r\n\r\n  requestTree: TreeNode[] = [];\r\n  selectedRequestNode: TreeNode;\r\n\r\n  detailedRequestTree: TreeNode[] = [];\r\n  selectedDetailedRequestNode: TreeNode;\r\n\r\n  technicalEquipments: OrderTechnicalEquipment[] = [];\r\n\r\n  constructor(\r\n    private requestsService: RequestService,\r\n    public readonly auth: AuthService,\r\n    private ordersService: OrderService,\r\n    private route: ActivatedRoute,\r\n    private router: Router,\r\n    private readonly modalService: ModalService,\r\n    private readonly tasksService: TaskService,\r\n    private orderTechnicalEquipmentsService: OrderTechnicalEquipmentsService,\r\n  ) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.getOrderInfo(+this.orderId);\r\n    this.getRequests();\r\n    this.getOrderTechnicalEquipments();\r\n  }\r\n\r\n  getOrderTechnicalEquipments() {\r\n    const query = [{name: 'order', value: +this.orderId}, {name: 'in_use', value: false}];\r\n    this.orderTechnicalEquipmentsService.get(query).pipe(take(1)).subscribe(technicalEquipments => {\r\n      this.technicalEquipments = technicalEquipments;\r\n    });\r\n  }\r\n\r\n  onCancel() {\r\n    this.modalService.confirm('danger', 'Confirm').subscribe(res => {\r\n      if (res) {\r\n        this.requestsService.cancel(+this.orderId).subscribe();\r\n      }\r\n    });\r\n  }\r\n\r\n  getOrderInfo(orderId: number): void {\r\n    this.ordersService.getById(orderId).pipe(\r\n      takeUntil(this.destroy$)\r\n    ).subscribe(order => {\r\n      this.order = order;\r\n      this.prepareDetailedCategoryTree();\r\n    });\r\n  }\r\n\r\n  prepareDetailedCategoryTree(): void {\r\n    const categoriesTemp: {\r\n      id: number,\r\n      level: number,\r\n      parentId: number,\r\n      name: string,\r\n      serialNumber: string,\r\n      planId?: number,\r\n      code?: number\r\n    }[] = [];\r\n\r\n    this.order.root_production_plans.forEach(plan => {\r\n      const isAdded = categoriesTemp.findIndex(el => el.id === plan.list_product.id);\r\n      const hasSerialNumber = plan.serial_numbers.length > 0;\r\n      let serialNumber;\r\n      if (hasSerialNumber) {\r\n        const planInfo = plan.serial_numbers[0];\r\n        serialNumber = planInfo.type_with_number ? planInfo.type_with_number : planInfo.id;\r\n      }\r\n      if (isAdded < 0) {\r\n        categoriesTemp.push({\r\n          name: plan.list_product.nomenclature.name,\r\n          code: plan.list_product.nomenclature.code,\r\n          serialNumber,\r\n          id: plan.list_product.id,\r\n          planId: plan.id,\r\n          level: 0,\r\n          parentId: null\r\n        });\r\n      }\r\n    });\r\n\r\n    this.detailedRequestTree = [];\r\n    categoriesTemp.forEach(cat => {\r\n      this.detailedRequestTree.push({\r\n        data: cat,\r\n        children: [{\r\n          data: {loading: 'Loading data ...'}\r\n        }],\r\n        expanded: false,\r\n        parent: null\r\n      });\r\n    });\r\n    console.log('this.detailedRequestTree');\r\n    this.detailedRequestTree.forEach(node => {\r\n      console.log('node', node);\r\n      // this.loadPlanInfo(node);\r\n    });\r\n\r\n  }\r\n\r\n  changeView(view: ViewMode) {\r\n    this.selectedRequest = null;\r\n    this.selectedRequestNode = null;\r\n    this.viewMode = view;\r\n  }\r\n\r\n  getRequests() {\r\n    this.isLoading = true;\r\n    this.requests = [];\r\n    // this.requestTree = [];\r\n\r\n    this.requestsService.getByOrder(+this.orderId).pipe(\r\n      takeUntil(this.destroy$)\r\n    ).subscribe(requests => {\r\n      this.isLoading = false;\r\n      this.requests = requests;\r\n      this.prepareTreeCategories();\r\n      if (this.requests.length > 0) {\r\n        this.rootList = this.requests[0].root_production_list_products[0];\r\n        this.currentReqDate = this.requests[0].created;\r\n      }\r\n    });\r\n  }\r\n\r\n  expandCollapseAllOrders(isToExpand = true): void {\r\n    const temp = cloneDeep(this.requestTree);\r\n    temp.forEach(node => {\r\n      this.expandCollapseRecursive(node, isToExpand);\r\n    });\r\n    this.requestTree = temp;\r\n  }\r\n\r\n  expandCollapseRecursive(node: TreeNode, isExpand: boolean): void {\r\n    node.expanded = isExpand;\r\n    if (node.children) {\r\n      node.children.forEach(childNode => {\r\n        this.expandCollapseRecursive(childNode, isExpand);\r\n      });\r\n    }\r\n  }\r\n\r\n  prepareTreeCategories(): void {\r\n    const categoriesTemp: { id: number, level: number, parentId: number, name: string }[] = [];\r\n\r\n    this.requests.forEach(request => {\r\n      if (request.for_order_product) {\r\n        const parentProducts = request.for_order_product.nomenclature;\r\n        const isAdded = categoriesTemp.findIndex(el => el.id === parentProducts.id);\r\n        if (isAdded < 0) {\r\n          categoriesTemp.push({name: parentProducts.name, id: parentProducts.id, level: 0, parentId: null});\r\n        }\r\n      } else if (request.list_product) {\r\n        const parentProducts = request.list_product.list as List;\r\n        const isAdded = categoriesTemp.findIndex(el => el.id === parentProducts.nomenclature.id);\r\n        if (isAdded < 0) {\r\n          categoriesTemp.push({\r\n            name: parentProducts.nomenclature.name,\r\n            id: parentProducts.nomenclature.id,\r\n            level: 0,\r\n            parentId: null\r\n          });\r\n        }\r\n      }\r\n    });\r\n\r\n    this.requestTree = [];\r\n    categoriesTemp.forEach(cat => {\r\n      this.requestTree.push({\r\n        data: cat,\r\n        expanded: false,\r\n        parent: null\r\n      });\r\n    });\r\n\r\n    this.fillTree();\r\n  }\r\n\r\n  fillTree(): void {\r\n    this.requestTree = this.requestTree.map(node => {\r\n      return {\r\n        ...node,\r\n        children: []\r\n      };\r\n    });\r\n\r\n    this.requests.forEach(request => {\r\n      this.requestTree.forEach(node => {\r\n        let parentNomenclature;\r\n        if (request.for_order_product) {\r\n          parentNomenclature = request.for_order_product.nomenclature;\r\n        } else if (request.list_product) {\r\n          // @ts-ignore\r\n          parentNomenclature = request.list_product.list.nomenclature;\r\n        }\r\n\r\n        if (node.data.id === parentNomenclature.id) {\r\n          node.children.push({\r\n            data: {request, level: 4},\r\n            expanded: false,\r\n            children: []\r\n          });\r\n        }\r\n      });\r\n    });\r\n\r\n    console.log('this.requestTree Filled', this.requestTree);\r\n  }\r\n\r\n  onNodeExpand($event: any) {\r\n    if ($event.node.data.level === 0 && $event.node.children.length === 1) {\r\n      this.loadPlanInfo($event.node);\r\n    }\r\n  }\r\n\r\n  loadPlanInfo(rowNode: any) {\r\n    const planId = rowNode.data.planId;\r\n    this.loadRootListTree(planId);\r\n  }\r\n\r\n  loadRootListTree(planId: number) {\r\n    this.tasksService.get([{name: 'for_root', value: planId}]).pipe(\r\n      takeUntil(this.destroy$)\r\n    ).subscribe(res => {\r\n      this.buildDetailedPlanTree(res, planId);\r\n    });\r\n  }\r\n\r\n  buildDetailedPlanTree(tasks: Task[], planId: number): void {\r\n    const planIndex = this.detailedRequestTree.findIndex(el => el.data.planId === planId);\r\n    this.detailedRequestTree[planIndex].children = [];\r\n    tasks.sort((a, b) => a.list_product.level - b.list_product.level);\r\n    tasks.filter(task => task.list_product.level !== 0).forEach(task => {\r\n      this.findLevelParent(task.list_product.level - 1, task);\r\n    });\r\n\r\n    // this.detailedRequestTree = [...this.detailedRequestTree];\r\n  }\r\n\r\n  findLevelParent(level: number, task: Task): void {\r\n    const temp = cloneDeep(this.detailedRequestTree);\r\n    temp.forEach(node => {\r\n      this.addToParentTree(node, level, task);\r\n    });\r\n    this.detailedRequestTree = temp;\r\n  }\r\n\r\n  addToParentTree(node: TreeNode, level: number, task: Task): void {\r\n    if (node.data.level === level && node.data.id === task.list_product.parent) {\r\n      const existingIndex = node.children.findIndex(el => el.data.id === task.list_product.id);\r\n      if (existingIndex < 0) {\r\n        // const foundInRequest = this.requests.find(el => el.task === task.id);\r\n        const foundInRequest = this.requests.find(el => el.list_product.id === task.list_product.id);\r\n        // if (task.list_product.nomenclature.name .includes('Washer 6 DIN 125 Zn')) {\r\n        //   console.log('foundInRequest', foundInRequest);\r\n        //   console.log('task', task);\r\n        //   console.log('this.requests', this.requests);\r\n        // }\r\n\r\n\r\n        node.children.push({\r\n          data: {\r\n            id: task.list_product.id,\r\n            code: task.list_product.nomenclature.code,\r\n            name: task.list_product.nomenclature.name,\r\n            level: task.list_product.level,\r\n            request: foundInRequest\r\n          },\r\n          children: []\r\n        });\r\n      }\r\n    } else if (node.children) {\r\n      node.children.forEach(childNode => {\r\n        this.addToParentTree(childNode, level, task);\r\n      });\r\n    }\r\n  }\r\n\r\n  onCancelItem(node) {\r\n    const requestId = node.id;\r\n    this.modalService.confirm('danger', 'Confirm').subscribe(res => {\r\n      if (res) {\r\n        this.requestsService.cancelRequest(requestId).subscribe(() => {\r\n          this.selectedRequest = null;\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  expandCollapseDetailedView(isToExpand = true): void {\r\n    const temp = cloneDeep(this.detailedRequestTree);\r\n    temp.forEach(node => {\r\n      this.expandCollapseRecursive(node, isToExpand);\r\n    });\r\n    this.detailedRequestTree = temp;\r\n  }\r\n\r\n  showImages(node) {\r\n    console.log(node);\r\n    const nomenclatureId = node.nomenclature.id;\r\n    this.modalService.showImageGallery([], nomenclatureId, 1).subscribe();\r\n  }\r\n\r\n  complete() {\r\n    this.modalService.confirm('success').subscribe(confirm => {\r\n      if (confirm) {\r\n        this.isLoading = false;\r\n        this.requestsService.complete(+this.orderId).subscribe(() => this.router.navigate(['../'], {relativeTo: this.route}));\r\n      }\r\n    });\r\n  }\r\n\r\n  onGoProd(id: number) {\r\n    window.open(`${this.link}production/plan/tasks/` + id, '_blank');\r\n  }\r\n\r\n  goOrder(type, id) {\r\n    let link = '';\r\n\r\n    if (type == 1) {\r\n      link = `${this.link}procurement/orders/products/` + id;\r\n    }\r\n\r\n    if (type == 2) {\r\n      link = `${this.link}outsource/outsource-chain/products/` + id;\r\n    }\r\n\r\n    if (type == 3) {\r\n      link = `${this.link}production/orders/order/` + id;\r\n    }\r\n\r\n    window.open(link, '_blank');\r\n  }\r\n\r\n  goToOrder() {\r\n    let link = '';\r\n\r\n    if (this.order.accounting_type == 1) {\r\n      link = `${this.link}procurement/orders/products/` + this.order.id;\r\n    }\r\n\r\n    if (this.order.accounting_type == 2) {\r\n      link = `${this.link}outsource/outsource-chain/products/` + this.order.id;\r\n    }\r\n\r\n    if (this.order.accounting_type == 3) {\r\n      link = `${this.link}production/orders/order/` + this.order.id;\r\n    }\r\n\r\n    window.open(link, '_blank');\r\n  }\r\n\r\n  printPage() {\r\n    this.isShowPrint = true;\r\n    setTimeout(() => {\r\n      window.print();\r\n    });\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.destroy$.next(true);\r\n    this.destroy$.complete();\r\n  }\r\n}\r\n","<div class=\"page\">\r\n  <div class=\"page__header\">\r\n    <div class=\"page__title\">\r\n      <pek-module-icon [module]=\"'warehouse'\" [isActive]=\"true\"></pek-module-icon>\r\n      <h1>\r\n        Requests for Order\r\n\r\n        <a\r\n          *ngIf=\"order?.accounting_type == 1\"\r\n          (click)=\"goOrder(1, order.id)\"\r\n        >\r\n          {{orderId}}\r\n        </a>\r\n\r\n        <a *ngIf=\"order?.accounting_type == 2\"\r\n           (click)=\"goOrder(2, order.id)\"\r\n        >\r\n          {{orderId}}\r\n        </a>\r\n\r\n        <a *ngIf=\"order?.accounting_type == 3\"\r\n           (click)=\"goOrder(3, order.id)\"\r\n        >\r\n          {{orderId}}\r\n        </a>\r\n\r\n        <span *ngIf=\"order?.root_production_plans\">\r\n      <span *ngIf=\"order?.root_production_plans.length === 1\">\r\n        <a (click)=\"onGoProd(order?.root_production_plans[0].id)\">\r\n          {{order?.root_production_plans[0].list_product.nomenclature.name}}\r\n        </a>\r\n      </span>\r\n          <!--      <span class=\"root-plans\" *ngIf=\"order?.root_production_plans.length > 1\" (click)=\"showProductionLists()\">-->\r\n          <!--          {{order?.root_production_plans[0].list_product.nomenclature.name}}-->\r\n          <!--        (L {{order?.root_production_plans.length}})-->\r\n          <!--      </span>-->\r\n    </span>\r\n      </h1>\r\n    </div>\r\n    <div class=\"page__tools\">\r\n      <button\r\n        pButton\r\n        icon=\"pi pi-print\"\r\n        class=\"mr-2\"\r\n        type=\"button\"\r\n        label=\"Print\"\r\n        (click)=\"printPage()\"\r\n        [disabled]=\"isLoading\"\r\n      >\r\n      </button>\r\n      <button\r\n        pButton\r\n        type=\"button\"\r\n        icon=\"pi pi-check\"\r\n        label=\"Complete\"\r\n        (click)=\"complete()\"\r\n      ></button>\r\n\r\n      <button\r\n        pButton\r\n        class=\"p-button-danger ml-2\"\r\n        icon=\"pi pi-times\"\r\n        type=\"button\"\r\n        label=\"Cancelation\"\r\n        (click)=\"onCancel()\"\r\n      ></button>\r\n\r\n      <a\r\n        pButton\r\n        class=\"ml-2\"\r\n        type=\"button\"\r\n        icon=\"pi pi-angle-double-right\"\r\n        [class.disabled]=\"!order\"\r\n        label=\"Go to Order\"\r\n        (click)=\"goToOrder()\"\r\n      >\r\n      </a>\r\n\r\n      <!--      <a-->\r\n      <!--        pButton-->\r\n      <!--        class=\"ml-2\"-->\r\n      <!--        type=\"button\"-->\r\n      <!--        target=\"blank\"-->\r\n      <!--        *ngIf=\"order?.accounting_type == 1\"-->\r\n      <!--        [routerLink]=\"['/dash/procurement/orders/products', order.id]\"-->\r\n      <!--        label=\"Go to Order\"-->\r\n      <!--      >-->\r\n      <!--      </a>-->\r\n\r\n      <!--      <a-->\r\n      <!--        pButton-->\r\n      <!--        class=\"ml-2\"-->\r\n      <!--        type=\"button\"-->\r\n      <!--        target=\"blank\"-->\r\n      <!--        *ngIf=\"order?.accounting_type == 2\"-->\r\n      <!--        [routerLink]=\"['/dash/outsource/outsource-chain/products', order.id]\"-->\r\n      <!--        label=\"Go to Order\"-->\r\n      <!--      >-->\r\n      <!--      </a>-->\r\n\r\n      <!--      <a-->\r\n      <!--        pButton-->\r\n      <!--        class=\"ml-2\"-->\r\n      <!--        type=\"button\"-->\r\n      <!--        target=\"blank\"-->\r\n      <!--        *ngIf=\"order?.accounting_type == 3\"-->\r\n      <!--        [routerLink]=\"['/dash/production/orders/order', order.id]\"-->\r\n      <!--        label=\"Go to Order\"-->\r\n      <!--      >-->\r\n      <!--      </a>-->\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"page__content\">\r\n  <div class=\"page__card\">\r\n    <ng-container *ngIf=\"viewMode === viewModes.LIST\">\r\n      <div class=\"page__table\">\r\n        <p-table\r\n          #dt\r\n          [paginator]=\"requests.length > 0\"\r\n          scrollHeight=\"calc(100vh - 18.8rem)\"\r\n          [scrollable]=\"true\"\r\n          class=\"adaptive-table print-table\"\r\n          [rows]=\"10\"\r\n          [value]=\"requests\"\r\n          [globalFilterFields]=\"['name']\"\r\n          selectionMode=\"single\" [(selection)]=\"selectedRequest\"\r\n        >\r\n          <ng-template pTemplate=\"caption\">\r\n            <div class=\"d-flex\">\r\n              <p class=\"subtitle\" *ngIf=\"!selectedRequest\">Choose the Request to edit</p>\r\n              <p-menubar class=\"ml-auto mr-2\" [model]=\"requestMenuItems\" [class.disabled]=\"!selectedRequest\"></p-menubar>\r\n\r\n              <button\r\n                [disabled]=\"viewMode === viewModes.LIST\"\r\n                pButton\r\n                type=\"button\"\r\n                class=\"mr-2\"\r\n                label=\"List\"\r\n                icon=\"pi pi-list\"\r\n                (click)=\"changeView(viewModes.LIST)\"\r\n              ></button>\r\n              <button\r\n                pButton\r\n                type=\"button\"\r\n                class=\"mr-2\"\r\n                label=\"Hierarchy\"\r\n                icon=\"pi pi-table\"\r\n                (click)=\"changeView(viewModes.HIERARCHY)\"\r\n              ></button>\r\n              <button\r\n                pButton\r\n                type=\"button\"\r\n                icon=\"pi pi-th-large\"\r\n                label=\"Detailed Hierarchy\"\r\n                (click)=\"changeView(viewModes.DETAILED_HIERARCHY)\"\r\n              ></button>\r\n            </div>\r\n          </ng-template>\r\n          <ng-template pTemplate=\"colgroup\">\r\n            <colgroup>\r\n              <col class=\"index-header\">\r\n            </colgroup>\r\n          </ng-template>\r\n          <ng-template pTemplate=\"header\">\r\n            <tr>\r\n              <th class=\"text-center\" style=\"width: 5%;\">#</th>\r\n              <th class=\"text-center\" style=\"width: 5%;\">ID</th>\r\n              <th style=\"width: 18%;\">Code</th>\r\n              <th style=\"width: 21%;\">Name</th>\r\n              <th style=\"width: 12%;\" class=\"text-center\">Technology</th>\r\n              <th class=\"text-center\" style=\"width: 14%;\">Required Quantity</th>\r\n              <th class=\"text-center\" style=\"width: 13%;\">Locator</th>\r\n              <th class=\"text-center\" style=\"width: 12%;\">Available Quantity</th>\r\n            </tr>\r\n          </ng-template>\r\n          <ng-template pTemplate=\"body\" let-request let-i=\"rowIndex\">\r\n            <tr class=\"pagebreak\" [pSelectableRow]=\"request\"\r\n                [class.qr-code-scanned]=\"request.is_scanned\">\r\n              <td style=\"width: 5%;\" class=\"text-center\">{{i + 1}}</td>\r\n              <td style=\"width: 5%;\" class=\"text-center\">\r\n                {{request.id}}\r\n              </td>\r\n              <td style=\"width: 18%;\">\r\n                <div *ngIf=\"request.material_nomenclature\">\r\n                  {{request.material_nomenclature.code}}\r\n                </div>\r\n                <div *ngIf=\"request.order_product_nomenclature\">\r\n                  {{request.order_product_nomenclature.code}}\r\n                </div>\r\n                <div *ngIf=\"!request.material_nomenclature && !request.order_product_nomenclature\">\r\n                  {{request.list_product.nomenclature.code}}\r\n                </div>\r\n              </td>\r\n              <td style=\"width: 21%;\">\r\n                <div *ngIf=\"request.material_nomenclature\">\r\n                  <b *ngIf=\"request?.list_product?.nomenclature?.bulk_or_serial === '1'\">(S)</b>\r\n                  {{request.material_nomenclature.name}}\r\n                </div>\r\n                <div *ngIf=\"request.order_product_nomenclature\">\r\n                  <b *ngIf=\"request?.list_product?.nomenclature?.bulk_or_serial === '1'\">(S)</b>\r\n                  {{request.order_product_nomenclature.name}}\r\n                </div>\r\n                <div *ngIf=\"!request.material_nomenclature && !request.order_product_nomenclature\">\r\n                  <b *ngIf=\"request?.list_product?.nomenclature?.bulk_or_serial === '1'\">(S)</b>\r\n                  {{request.list_product.nomenclature.name}}\r\n                </div>\r\n              </td>\r\n              <td style=\"width: 12%\" class=\"text-center\">\r\n                <span *ngIf=\"request.technology\">{{request.technology}}</span>\r\n              </td>\r\n              <td style=\"width: 14%;\" class=\"text-center\">\r\n                {{request.required_quantity}}\r\n              </td>\r\n              <td style=\"width: 13%\" class=\"text-center\">\r\n                <div *ngIf=\"request.locators\">\r\n                  <div *ngFor=\"let locator of request.locators\">\r\n                    {{locator.name}}\r\n                  </div>\r\n                </div>\r\n              </td>\r\n              <td style=\"width: 12%;\" class=\"text-center\">\r\n                {{request.warehouse_quantity}}\r\n              </td>\r\n            </tr>\r\n          </ng-template>\r\n          <ng-template pTemplate=\"emptymessage\">\r\n            <tr>\r\n              <td class=\"text-center p-4\" [attr.colspan]=\"8\">\r\n                <i *ngIf=\"isLoading\" class=\"pi pi-spin pi-spinner\" style=\"font-size: 2.25rem\"></i>\r\n                <span *ngIf=\"!isLoading\">No Records Found</span>\r\n              </td>\r\n            </tr>\r\n          </ng-template>\r\n          <ng-template pTemplate=\"paginatorright\">\r\n            <p-button\r\n              type=\"button\"\r\n              (click)=\"dt.paginator=false\"\r\n              styleClass=\"p-button-text\"\r\n            >All\r\n            </p-button>\r\n          </ng-template>\r\n        </p-table>\r\n      </div>\r\n      <div *ngIf=\"!dt.paginator && !isLoading && requests.length > 0\" class=\"paginator-return-pagination\">\r\n        <p-button\r\n          type=\"button\"\r\n          (click)=\"dt.paginator=true\"\r\n          styleClass=\"p-button-text\"\r\n        >\r\n          Return pagination\r\n        </p-button>\r\n      </div>\r\n    </ng-container>\r\n\r\n    <ng-container *ngIf=\"viewMode === viewModes.HIERARCHY\">\r\n      <p-treeTable\r\n        class=\"orders-tree\"\r\n        [value]=\"requestTree\"\r\n        selectionMode=\"single\"\r\n        [(selection)]=\"selectedRequestNode\"\r\n        scrollHeight=\"calc(100vh - 16.5rem)\"\r\n      >\r\n        <ng-template pTemplate=\"caption\">\r\n          <div class=\"d-flex\">\r\n            <p class=\"subtitle\" *ngIf=\"!selectedRequestNode\">Choose the Request to edit</p>\r\n            <p-menubar class=\"ml-auto mr-2\" [model]=\"requestNodeMenuItems\" [class.disabled]=\"!selectedRequestNode\"></p-menubar>\r\n            <button\r\n              pButton\r\n              type=\"button\"\r\n              class=\"mr-2\"\r\n              icon=\"pi pi-angle-down\"\r\n              label=\"Expand all\"\r\n              (click)=\"expandCollapseAllOrders()\"\r\n            ></button>\r\n            <button\r\n              pButton\r\n              type=\"button\"\r\n              class=\"mr-2\"\r\n              icon=\"pi pi-angle-up\"\r\n              label=\"Collapse all\"\r\n              (click)=\"expandCollapseAllOrders(false)\"\r\n            ></button>\r\n            <button\r\n              pButton\r\n              type=\"button\"\r\n              class=\"mr-2\"\r\n              icon=\"pi pi-list\"\r\n              label=\"List\"\r\n              (click)=\"changeView(viewModes.LIST)\"\r\n            ></button>\r\n            <button\r\n              pButton\r\n              type=\"button\"\r\n              class=\"mr-2\"\r\n              label=\"Hierarchy\"\r\n              icon=\"pi pi-table\"\r\n              (click)=\"changeView(viewModes.HIERARCHY)\"\r\n              [disabled]=\"viewMode === viewModes.HIERARCHY\"\r\n            ></button>\r\n            <button\r\n              pButton\r\n              type=\"button\"\r\n              label=\"Detailed Hierarchy\"\r\n              icon=\"pi pi-th-large\"\r\n              (click)=\"changeView(viewModes.DETAILED_HIERARCHY)\"\r\n            ></button>\r\n          </div>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"header\">\r\n          <tr>\r\n            <th style=\"width: 16%; padding-left: 3.3125rem\">ID</th>\r\n            <th style=\"width: 18%;\">Code</th>\r\n            <th style=\"width: 20%;\">Name</th>\r\n            <th style=\"width: 10%;\" class=\"text-center\">Technology</th>\r\n            <th class=\"text-center\" style=\"width: 14%;\">Required Quantity</th>\r\n            <th class=\"text-center\" style=\"width: 10%;\">Locator</th>\r\n            <th class=\"text-center\" style=\"width: 12%;\">Available Quantity</th>\r\n          </tr>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"body\" let-rowNode let-rowData=\"rowData\">\r\n          <tr\r\n            class=\"pagebreak\"\r\n            [ttRow]=\"rowNode\" [ttSelectableRow]=\"rowNode\" [ttSelectableRowDisabled]=\"rowData.level < 4\"\r\n          >\r\n            <td style=\"width: 16%;\" class=\"text-center\">\r\n              <div class=\"toggle-row\">\r\n                <p-treeTableToggler [rowNode]=\"rowNode\"></p-treeTableToggler>\r\n                <span [class.bold]=\"rowData.level < 4\">\r\n                    {{rowData.name}}\r\n                  </span>\r\n                <span *ngIf=\"rowData.level === 4\">\r\n                     {{rowData.request.id}}\r\n                  </span>\r\n              </div>\r\n            </td>\r\n            <td style=\"width: 18%;\">\r\n              <div *ngIf=\"rowData.level === 4\">\r\n                <div *ngIf=\"rowData.request.material_nomenclature\">\r\n                  {{rowData.request.material_nomenclature.code}}\r\n                </div>\r\n                <div *ngIf=\"rowData.request.order_product_nomenclature\">\r\n                  {{rowData.request.order_product_nomenclature.code}}\r\n                </div>\r\n                <div *ngIf=\"!rowData.request.material_nomenclature && !rowData.request.order_product_nomenclature\">\r\n                  {{rowData.request.list_product.nomenclature.code}}\r\n                </div>\r\n              </div>\r\n            </td>\r\n            <td style=\"width: 20%;\">\r\n              <div *ngIf=\"rowData.level === 4\">\r\n                <div *ngIf=\"rowData.request.material_nomenclature\">\r\n                  <b *ngIf=\"rowData.request?.list_product?.nomenclature?.bulk_or_serial === '1'\">(S)</b>\r\n                  {{rowData.request.material_nomenclature.name}}\r\n                </div>\r\n                <div *ngIf=\"rowData.request.order_product_nomenclature\">\r\n                  <b *ngIf=\"rowData.request?.list_product?.nomenclature?.bulk_or_serial === '1'\">(S)</b>\r\n                  {{rowData.request.order_product_nomenclature.name}}\r\n                </div>\r\n                <div *ngIf=\"!rowData.request.material_nomenclature && !rowData.request.order_product_nomenclature\">\r\n                  <b *ngIf=\"rowData.request?.list_product?.nomenclature?.bulk_or_serial === '1'\">(S)</b>\r\n                  {{rowData.request.list_product.nomenclature.name}}\r\n                </div>\r\n              </div>\r\n            </td>\r\n            <td style=\"width: 10%\" class=\"text-center\">\r\n              <div *ngIf=\"rowData.level === 4\">\r\n                <span *ngIf=\"rowData.request.technology\">{{rowData.request.technology}}</span>\r\n              </div>\r\n            </td>\r\n            <td style=\"width: 14%;\" class=\"text-center\">\r\n              <div *ngIf=\"rowData.level === 4\">\r\n                {{rowData.request.required_quantity}}\r\n              </div>\r\n            </td>\r\n            <td style=\"width: 10%\" class=\"text-center\">\r\n              <div *ngIf=\"rowData.level === 4\">\r\n                <div *ngIf=\"rowData.request.locators\">\r\n                  <div *ngFor=\"let locator of rowData.request.locators\">\r\n                    {{locator.name}}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </td>\r\n            <td style=\"width: 12%;\" class=\"text-center\">\r\n              <div *ngIf=\"rowData.level === 4\">\r\n                {{rowData.request.warehouse_quantity}}\r\n              </div>\r\n            </td>\r\n          </tr>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"emptymessage\">\r\n          <tr>\r\n            <td class=\"text-center p-4\" [attr.colspan]=\"8\">\r\n              <i *ngIf=\"isLoading\" class=\"pi pi-spin pi-spinner\" style=\"font-size: 2.25rem\"></i>\r\n              <span *ngIf=\"!isLoading\">No Records Found</span>\r\n            </td>\r\n          </tr>\r\n        </ng-template>\r\n      </p-treeTable>\r\n    </ng-container>\r\n\r\n    <ng-container *ngIf=\"viewMode === viewModes.DETAILED_HIERARCHY\">\r\n      <div class=\"page__table\">\r\n        <p-treeTable\r\n          class=\"orders-tree\"\r\n          [value]=\"detailedRequestTree\"\r\n          (onNodeExpand)=\"onNodeExpand($event)\"\r\n          scrollHeight=\"calc(100vh - 16.5rem)\"\r\n        >\r\n          <ng-template pTemplate=\"caption\">\r\n            <div class=\"d-flex\">\r\n              <button\r\n                pButton\r\n                type=\"button\"\r\n                class=\"ml-auto mr-2\"\r\n                label=\"Expand all\"\r\n                icon=\"pi pi-angle-down\"\r\n                (click)=\"expandCollapseDetailedView()\"\r\n              ></button>\r\n              <button\r\n                pButton\r\n                type=\"button\"\r\n                class=\"mr-2\"\r\n                label=\"Collapse all\"\r\n                icon=\"pi pi-angle-up\"\r\n                (click)=\"expandCollapseDetailedView(false)\"\r\n              ></button>\r\n              <button\r\n                pButton\r\n                type=\"button\"\r\n                class=\"mr-2\"\r\n                label=\"List\"\r\n                icon=\"pi pi-list\"\r\n                (click)=\"changeView(viewModes.LIST)\"\r\n              ></button>\r\n              <button\r\n                pButton\r\n                type=\"button\"\r\n                class=\"mr-2\"\r\n                label=\"Hierarchy\"\r\n                icon=\"pi pi-table\"\r\n                (click)=\"changeView(viewModes.HIERARCHY)\"\r\n              ></button>\r\n              <button\r\n                pButton\r\n                type=\"button\"\r\n                label=\"Detailed Hierarchy\"\r\n                icon=\"pi pi-th-large\"\r\n                [disabled]=\"viewMode === viewModes.DETAILED_HIERARCHY\"\r\n                (click)=\"changeView(viewModes.DETAILED_HIERARCHY)\"\r\n              ></button>\r\n            </div>\r\n          </ng-template>\r\n          <ng-template pTemplate=\"header\">\r\n            <tr>\r\n              <th style=\"width: 16%; padding-left: 3.3125rem\">ID</th>\r\n              <th style=\"width: 18%;\">Code</th>\r\n              <th style=\"width: 20%;\">Name</th>\r\n              <th style=\"width: 10%;\" class=\"text-center\">Technology</th>\r\n              <th class=\"text-center\" style=\"width: 14%;\">Required Quantity</th>\r\n              <th class=\"text-center\" style=\"width: 10%;\">Locator</th>\r\n              <th class=\"text-center\" style=\"width: 12%;\">Available Quantity</th>\r\n            </tr>\r\n          </ng-template>\r\n          <ng-template pTemplate=\"body\" let-rowNode let-rowData=\"rowData\">\r\n            <tr\r\n              class=\"pagebreak\"\r\n              [ttRow]=\"rowNode\"\r\n              [class.in-plan]=\"rowData.request\"\r\n              [class.placeholder]=\"!rowData.request\"\r\n            >\r\n              <td style=\"width: 16%;\" class=\"text-center\">\r\n                <div class=\"toggle-row\">\r\n                  <p-treeTableToggler [rowNode]=\"rowNode\"></p-treeTableToggler>\r\n                  <span *ngIf=\"rowData.loading\" [class.bold]=\"!rowData.request\">\r\n                      {{rowData.loading}}\r\n                    </span>\r\n                  <span *ngIf=\"!rowData.request\" [class.bold]=\"!rowData.request\">\r\n                      {{rowData.id}}\r\n                    </span>\r\n                  <span *ngIf=\"rowData.request\">\r\n                     {{rowData.request.id}}\r\n                    </span>\r\n                </div>\r\n              </td>\r\n              <td style=\"width: 18%;\">\r\n                   <span *ngIf=\"!rowData.request\" [class.bold]=\"!rowData.request\">\r\n                      {{rowData.code}}\r\n                  </span>\r\n                <div *ngIf=\"rowData.request\">\r\n                  <div *ngIf=\"rowData.request.material_nomenclature\">\r\n                    {{rowData.request.material_nomenclature.code}}\r\n                  </div>\r\n                  <div *ngIf=\"rowData.request.order_product_nomenclature\">\r\n                    {{rowData.request.order_product_nomenclature.code}}\r\n                  </div>\r\n                  <div *ngIf=\"!rowData.request.material_nomenclature && !rowData.request.order_product_nomenclature\">\r\n                    {{rowData.request.list_product.nomenclature.code}}\r\n                  </div>\r\n                </div>\r\n              </td>\r\n              <td style=\"width: 20%;\">\r\n                   <span *ngIf=\"!rowData.request\" [class.bold]=\"!rowData.request\">\r\n                      {{rowData.name}}\r\n                     {{rowData.serialNumber}}\r\n                  </span>\r\n                <div *ngIf=\"rowData.request\">\r\n                  <div *ngIf=\"rowData.request.material_nomenclature\">\r\n                    <b *ngIf=\"rowData.request?.list_product?.nomenclature?.bulk_or_serial === '1'\">(S)</b>\r\n                    {{rowData.request.material_nomenclature.name}}\r\n                  </div>\r\n                  <div *ngIf=\"rowData.request.order_product_nomenclature\">\r\n                    <b *ngIf=\"rowData.request?.list_product?.nomenclature?.bulk_or_serial === '1'\">(S)</b>\r\n                    {{rowData.request.order_product_nomenclature.name}}\r\n                  </div>\r\n                  <div *ngIf=\"!rowData.request.material_nomenclature && !rowData.request.order_product_nomenclature\">\r\n                    <b *ngIf=\"rowData.request?.list_product?.nomenclature?.bulk_or_serial === '1'\">(S)</b>\r\n                    {{rowData.request.list_product.nomenclature.name}}\r\n                  </div>\r\n                </div>\r\n              </td>\r\n              <td style=\"width: 10%\" class=\"text-center\">\r\n                <div *ngIf=\"rowData.request\">\r\n                  <span *ngIf=\"rowData.request.technology\">{{rowData.request.technology}}</span>\r\n                </div>\r\n              </td>\r\n              <td style=\"width: 14%;\" class=\"text-center\">\r\n                <div *ngIf=\"rowData.request\">\r\n                  {{rowData.request.required_quantity}}\r\n                </div>\r\n              </td>\r\n              <td style=\"width: 10%\" class=\"text-center\">\r\n                <div *ngIf=\"rowData.request\">\r\n                  <div *ngIf=\"rowData.request.locators\">\r\n                    <div *ngFor=\"let locator of rowData.request.locators\">\r\n                      {{locator.name}}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </td>\r\n              <td style=\"width: 12%;\" class=\"text-center\">\r\n                <div *ngIf=\"rowData.request\">\r\n                  {{rowData.request.warehouse_quantity}}\r\n                </div>\r\n              </td>\r\n            </tr>\r\n          </ng-template>\r\n          <ng-template pTemplate=\"emptymessage\">\r\n            <tr>\r\n              <td class=\"text-center p-4\" [attr.colspan]=\"8\">\r\n                <i *ngIf=\"isLoading\" class=\"pi pi-spin pi-spinner\" style=\"font-size: 2.25rem\"></i>\r\n                <span *ngIf=\"!isLoading\">No Records Found</span>\r\n              </td>\r\n            </tr>\r\n          </ng-template>\r\n        </p-treeTable>\r\n      </div>\r\n    </ng-container>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"page__content\">\r\n  <div class=\"page__card\">\r\n    <div class=\"page__table\">\r\n      <p-table selectionMode=\"single\" [value]=\"technicalEquipments\">\r\n        <ng-template pTemplate=\"caption\">\r\n          <div class=\"table-tools\" *ngIf=\"technicalEquipments\">\r\n            <h2 class=\"subtitle\">Technical Equipments</h2>\r\n            <div>\r\n            </div>\r\n          </div>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"header\">\r\n          <tr>\r\n            <th style=\"width: 5%\" class=\"index-header text-center\">#</th>\r\n            <th style=\"width: 35%\">Code</th>\r\n            <th style=\"width: 30%\">Name</th>\r\n            <th style=\"width: 30%\">Locator</th>\r\n            <th style=\"width: 30%\" class=\"text-center\">Quantity</th>\r\n            <!--              <th>Price Per Unit</th>-->\r\n            <!--              <th>Total Price</th>-->\r\n          </tr>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"body\" let-technicalEquipment let-i=\"rowIndex\">\r\n          <tr [pSelectableRow]=\"technicalEquipment\" class=\"table-row\">\r\n            <td class=\"text-center\">{{i + 1}}</td>\r\n            <td>{{technicalEquipment.nomenclature.code}}</td>\r\n            <td>{{technicalEquipment.nomenclature.name}}</td>\r\n            <td>\r\n              <div *ngIf=\"technicalEquipment.locators.length > 0\">\r\n                <div *ngFor=\"let locator of technicalEquipment.locators; let last=last\">\r\n                  {{locator.name}}<span *ngIf=\"!last\">, </span>\r\n                </div>\r\n              </div>\r\n              <div *ngIf=\"technicalEquipment.locators.length < 1\">\r\n                <span *ngFor=\"let locator of technicalEquipment.available_locators; let last=last\">\r\n                  {{locator.name}}<span *ngIf=\"!last\">, </span>\r\n                </span>\r\n              </div>\r\n<!--              {{technicalEquipment.warehouse_product ? technicalEquipment.warehouse_product.locator.name : ''}}-->\r\n            </td>\r\n            <td class=\"text-center\">{{technicalEquipment.max_initial_quantity}}</td>\r\n          </tr>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"emptymessage\">\r\n          <tr>\r\n            <td colspan=\"5\">\r\n              Choice ordered item\r\n            </td>\r\n          </tr>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"emptymessage\" let-columns>\r\n          <tr>\r\n            <td class=\"text-center p-5\" [attr.colspan]=\"6\">\r\n              <i *ngIf=\"isLoading\" class=\"fas fa-circle-notch fa-spin fa-3x \"></i>\r\n              <span *ngIf=\"!isLoading\">No Records Found</span>\r\n            </td>\r\n          </tr>\r\n        </ng-template>\r\n      </p-table>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"print-page\" *ngIf=\"isShowPrint\">\r\n  <div>\r\n  <pek-warehouse-production-request-print-page\r\n    [rootList]=\"rootList\"\r\n    [orderId]=\"+orderId\"\r\n    [requests]=\"requests\"\r\n    [currentReqDate]=\"currentReqDate\"\r\n  ></pek-warehouse-production-request-print-page>\r\n  </div>\r\n</div>\r\n","import {Component, OnDestroy, OnInit, ViewChild} from '@angular/core';\r\nimport {Order} from '../../../procurement/models/order';\r\nimport {OrderService} from '../../../procurement/services/order.service';\r\nimport {QuerySearch} from '@shared/models/other';\r\nimport {ViewMode} from '../production-lists/production-lists.component';\r\nimport {FormBuilder, FormGroup} from '@angular/forms';\r\nimport {Subject, takeUntil} from 'rxjs';\r\nimport {EAccountingType} from '@shared/pickers/accounting-type-picker/accounting-type-picker.component';\r\nimport {Paginator} from 'primeng/paginator';\r\nimport {AdapterService} from '@shared/services/adapter.service';\r\nimport {environment} from '@env/environment';\r\n\r\nclass ProductRequestListOrder extends Order {\r\n  ordered_items_technologies?: string[];\r\n}\r\n\r\n@Component({\r\n  selector: 'pek-warehouse-production-requests',\r\n  templateUrl: './warehouse-production-requests.component.html',\r\n  styleUrls: ['./warehouse-production-requests.component.scss']\r\n})\r\nexport class WarehouseProductionRequestsComponent implements OnInit, OnDestroy {\r\n  link = environment.link_url + 'dash/';\r\n\r\n  @ViewChild('paginator') paginator: Paginator;\r\n\r\n  viewModeType = ViewMode;\r\n  viewMode: ViewMode = ViewMode.LIST;\r\n\r\n  isShowAll = false;\r\n  isStartOnePage = false;\r\n  count = 0;\r\n\r\n  tableScrollHeight = '29.625rem';\r\n  isHideFilters = false;\r\n\r\n  isLoading = true;\r\n  orders: ProductRequestListOrder[] = [];\r\n  selectedOrder: ProductRequestListOrder;\r\n\r\n  searchForm: FormGroup = this.fb.group({\r\n    page: 1,\r\n    created_after: [null],\r\n    created_before: [null],\r\n    category__in: [null],\r\n    root_categories: [null],\r\n    accounting_type: [null],\r\n    is_production_requests_fully_completed: [null],\r\n  });\r\n\r\n  queryKey = 'created_after:null/created_before:null/category__in:null/root_categories:null/accounting_type:null/is_production_requests_fully_completed:null'\r\n\r\n  query: QuerySearch[] = [\r\n    {name: 'accounting_type__in', value: '2,3'},\r\n    {name: 'is_prepared', value: false},\r\n    {name: 'paginated', value: true},\r\n    {name: 'page', value: this.searchForm.get('page').value}\r\n  ];\r\n\r\n  requestsTypes = [\r\n    {name: 'Open Requests', value: false},\r\n    {name: 'Closed Requests', value: true},\r\n  ];\r\n\r\n  private destroy$ = new Subject();\r\n\r\n  constructor(\r\n    private readonly orderService: OrderService,\r\n    private readonly fb: FormBuilder,\r\n    private adapterService: AdapterService,\r\n  ) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.getOrdersForPagination();\r\n  }\r\n\r\n  getOrdersForPagination() {\r\n    this.orderService.getForPagination(this.query).pipe(\r\n      takeUntil(this.destroy$)\r\n    ).subscribe(orders => {\r\n      this.count = orders.count;\r\n      this.orders = orders.results;\r\n      this.orders.forEach(order => {\r\n        order.ordered_items_technologies = [];\r\n        order.order_products.forEach(product => {\r\n          if (product.current_technology) {\r\n            const canAddTechnology = order.ordered_items_technologies\r\n              .findIndex(el => el === product.current_technology.name) < 0;\r\n            if (canAddTechnology) {\r\n              order.ordered_items_technologies.push(product.current_technology.name);\r\n            }\r\n          }\r\n        });\r\n        console.log(order.ordered_items_technologies);\r\n      });\r\n      if (this.isStartOnePage) {\r\n        this.paginator?.changePage(0);\r\n      }\r\n\r\n      this.isStartOnePage = false;\r\n      this.isLoading = false;\r\n    });\r\n  }\r\n\r\n  getOrders() {\r\n    this.orderService.get(this.query).pipe(\r\n      takeUntil(this.destroy$)\r\n    ).subscribe(orders => {\r\n      this.orders = orders;\r\n\r\n      if (this.isStartOnePage) {\r\n        this.paginator?.changePage(0);\r\n      }\r\n\r\n      this.isStartOnePage = false;\r\n\r\n      this.isLoading = false;\r\n    });\r\n  }\r\n\r\n  searchProducts() {\r\n    this.isLoading = true;\r\n    this.destroy$.next(true);\r\n    this.selectedOrder = null;\r\n\r\n    const newQueryKey = `created_after:${this.searchForm.get('created_after').value}/created_before:${this.searchForm.get('created_before').value}/category__in:${this.searchForm.get('category__in').value}/root_categories:${this.searchForm.get('root_categories').value}/accounting_type:${this.searchForm.get('accounting_type').value}/is_production_requests_fully_completed:${this.searchForm.get('is_production_requests_fully_completed').value}`;\r\n\r\n    if (newQueryKey !== this.queryKey) {\r\n      this.queryKey = newQueryKey;\r\n      this.searchForm.get('page').patchValue(1);\r\n      this.isStartOnePage = true;\r\n    }\r\n\r\n    this.query = [\r\n      {name: 'accounting_type__in', value: '2,3'},\r\n      {name: 'is_prepared', value: false},\r\n    ];\r\n\r\n    if (!this.isShowAll) {\r\n      this.query.push({name: 'paginated', value: 'true'})\r\n      this.query.push({name: 'page', value: this.searchForm.get('page').value})\r\n    }\r\n\r\n    if (this.searchForm.get('accounting_type').value !== null) {\r\n      this.query.push({name: 'accounting_type', value: this.searchForm.get('accounting_type').value});\r\n    }\r\n\r\n    if (this.searchForm.get('category__in').value) {\r\n      this.query.push({name: 'category__in', value: this.searchForm.get('category__in').value});\r\n    }\r\n\r\n    if (this.searchForm.get('is_production_requests_fully_completed').value !== null) {\r\n      this.query.push({\r\n        name: 'is_production_requests_fully_completed',\r\n        value: this.searchForm.get('is_production_requests_fully_completed').value\r\n      });\r\n    }\r\n\r\n    if (this.searchForm.get('root_categories').value) {\r\n      this.query.push({name: 'root_categories', value: this.searchForm.get('root_categories').value});\r\n    }\r\n\r\n    if (this.searchForm.get('root_categories').value) {\r\n      this.query.push({name: 'root_categories', value: this.searchForm.get('root_categories').value});\r\n    }\r\n\r\n    if (this.searchForm.get('root_categories').value) {\r\n      this.query.push({name: 'root_categories', value: this.searchForm.get('root_categories').value});\r\n    }\r\n\r\n    if (this.searchForm.get('created_after').value) {\r\n      this.query.push({\r\n        name: 'created_after',\r\n        value: this.adapterService.dateAdapter(this.searchForm.get('created_after').value)\r\n      });\r\n    }\r\n\r\n    if (this.searchForm.get('created_before').value) {\r\n      this.query.push({\r\n        name: 'created_before',\r\n        value: this.adapterService.dateAdapter(this.searchForm.get('created_before').value)\r\n      });\r\n    }\r\n\r\n    if (!this.isShowAll) {\r\n      console.log(this.query);\r\n      this.getOrdersForPagination();\r\n    } else {\r\n      this.searchForm.get('page').patchValue(1);\r\n      this.getOrders();\r\n    }\r\n  }\r\n\r\n  showProductionLists(plans: any[]): void {\r\n  }\r\n\r\n\r\n  getRootLists(rootLists: any[]): { list: any, count?: number }[] {\r\n    const lists: { list: any, count?: number }[] = [];\r\n\r\n    if (rootLists) {\r\n      rootLists.forEach((res: any) => {\r\n        if (res) {\r\n          const found = lists.find(el => el.list.root_nomenclature?.id === res.root_nomenclature?.id);\r\n          if (found) {\r\n            found.count++;\r\n          } else {\r\n            lists.push({list: res, count: 1});\r\n          }\r\n        }\r\n      });\r\n    }\r\n    return lists;\r\n  }\r\n\r\n  onChoiceViewType(mode: ViewMode) {\r\n    this.viewMode = mode;\r\n    this.selectedOrder = null;\r\n  }\r\n\r\n  setTableScrollHeight() {\r\n    if (this.isHideFilters && !this.isShowAll) {\r\n      this.tableScrollHeight = '20.875rem';\r\n      return;\r\n    }\r\n\r\n    if (this.isHideFilters && this.isShowAll) {\r\n      this.tableScrollHeight = '18.75rem';\r\n      return;\r\n    }\r\n\r\n    if (!this.isHideFilters && this.isShowAll) {\r\n      this.tableScrollHeight = '27.5rem';\r\n      return;\r\n    }\r\n\r\n    if (!this.isHideFilters && !this.isShowAll) {\r\n      this.tableScrollHeight = '29.625rem';\r\n      return;\r\n    }\r\n  }\r\n\r\n  toggleFilterVisibility() {\r\n    this.isHideFilters = !this.isHideFilters;\r\n    this.setTableScrollHeight();\r\n  }\r\n\r\n  onChoiceAccountingType(value: EAccountingType) {\r\n    this.searchForm.get('accounting_type').patchValue(value);\r\n    this.searchProducts();\r\n  }\r\n\r\n  onChoiceCategories(ids: string) {\r\n    this.searchForm.get('category__in').patchValue(ids);\r\n    this.searchProducts();\r\n  }\r\n\r\n  onChoiceProductStructureCategories(ids: string) {\r\n    this.searchForm.get('root_categories').patchValue(ids);\r\n    this.searchProducts();\r\n  }\r\n\r\n  paginate(evt: any) {\r\n    if (!this.isStartOnePage) {\r\n      this.searchForm.get('page').patchValue(evt.page + 1);\r\n      this.searchProducts();\r\n    }\r\n  }\r\n\r\n  onShowAll() {\r\n    this.isShowAll = true;\r\n    this.setTableScrollHeight();\r\n    this.searchProducts();\r\n  }\r\n\r\n  onShowPartial() {\r\n    this.isShowAll = false;\r\n    this.setTableScrollHeight();\r\n    this.searchProducts();\r\n  }\r\n\r\n  goProductionList(id: number) {\r\n    const link = `${this.link}production/plan/tasks/${id}`;\r\n    window.open(link, '_blank')\r\n  }\r\n\r\n\r\n  onGoProd(id: number) {\r\n    window.open(`${this.link}production/plan/tasks/` + id, '_blank');\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.destroy$.next(true);\r\n    this.destroy$.complete();\r\n  }\r\n}\r\n","<div class=\"page\">\r\n  <div class=\"page__header\">\r\n    <div class=\"page__title\">\r\n      <pek-module-icon [module]=\"'warehouse'\" [isActive]=\"true\"></pek-module-icon>\r\n      <h1>Production Requests</h1>\r\n    </div>\r\n    <div class=\"page__tools\">\r\n      <button\r\n        class=\"mr-2\"\r\n        pButton\r\n        type=\"button\"\r\n        icon=\"pi pi-table\"\r\n        label=\"Hierarchy\"\r\n        [disabled]=\"viewMode === viewModeType.HIERARCHY\"\r\n        (click)=\"onChoiceViewType(viewModeType.HIERARCHY)\"\r\n      ></button>\r\n      <button\r\n        pButton\r\n        type=\"button\"\r\n        icon=\"pi pi-list\"\r\n        label=\"List\"\r\n        [disabled]=\"viewMode === viewModeType.LIST\"\r\n        (click)=\"onChoiceViewType(viewModeType.LIST)\"\r\n      ></button>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"page__content\">\r\n  <div class=\"page__card\">\r\n\r\n    <div class=\"filters-visibility\" [class.filters-visibility_hide]=\"isHideFilters\">\r\n      <div class=\"filters-visibility__header\">\r\n        <ng-container *ngTemplateOutlet=\"actionButtons\"></ng-container>\r\n      </div>\r\n\r\n      <button\r\n        class=\"icon pi\"\r\n        [class.pi-angle-double-up]=\"!isHideFilters\"\r\n        [class.pi-angle-double-down]=\"isHideFilters\"\r\n        (click)=\"toggleFilterVisibility()\"\r\n      ></button>\r\n\r\n      <form\r\n        [formGroup]=\"searchForm\"\r\n        class=\"form mb-3\"\r\n      >\r\n        <div class=\"row\">\r\n          <div class=\"col-3\">\r\n            <div class=\"form-group\">\r\n              <label>Type</label>\r\n              <pek-accounting-type-picker\r\n                (choiceAccountingType)=\"onChoiceAccountingType($event)\"\r\n              ></pek-accounting-type-picker>\r\n            </div>\r\n          </div>\r\n          <div class=\"col-3\">\r\n            <div class=\"form-group\">\r\n              <label>Categories</label>\r\n              <pek-multi-categories-picker\r\n                (choiceCategories)=\"onChoiceCategories($event)\"\r\n              ></pek-multi-categories-picker>\r\n            </div>\r\n          </div>\r\n          <div class=\"col-3\">\r\n            <div class=\"form-group\">\r\n              <label>Requests State</label>\r\n              <p-dropdown\r\n                [options]=\"requestsTypes\"\r\n                formControlName=\"is_production_requests_fully_completed\"\r\n                optionValue=\"value\"\r\n                optionLabel=\"name\"\r\n                placeholder=\"Select state\"\r\n                (ngModelChange)=\"searchProducts()\"\r\n                [showClear]=\"true\"\r\n              ></p-dropdown>\r\n            </div>\r\n          </div>\r\n          <div class=\"col-3\">\r\n            <div class=\"form-group\">\r\n              <label>Product Structure Categories</label>\r\n              <pek-multi-product-structure-categories-picker\r\n                (choiceCategories)=\"onChoiceProductStructureCategories($event)\"\r\n              ></pek-multi-product-structure-categories-picker>\r\n            </div>\r\n          </div>\r\n          <div class=\"col-3\">\r\n            <div class=\"form-group\">\r\n              <label>Created Date From</label>\r\n              <p-calendar\r\n                formControlName=\"created_after\"\r\n                (ngModelChange)=\"searchProducts()\"\r\n                [showButtonBar]=\"true\"\r\n                dataType=\"date\"\r\n                dateFormat=\"dd/mm/yy\"\r\n                [readonlyInput]=\"true\"\r\n              ></p-calendar>\r\n            </div>\r\n          </div>\r\n          <div class=\"col-3\">\r\n            <div class=\"form-group\">\r\n              <label>Created Date From</label>\r\n              <p-calendar\r\n                formControlName=\"created_before\"\r\n                (ngModelChange)=\"searchProducts()\"\r\n                [showButtonBar]=\"true\"\r\n                dataType=\"date\"\r\n                dateFormat=\"dd/mm/yy\"\r\n                [readonlyInput]=\"true\"\r\n              ></p-calendar>\r\n            </div>\r\n          </div>\r\n          <div class=\"col-3\"></div>\r\n          <div class=\"col-3\">\r\n            <ng-container *ngTemplateOutlet=\"actionButtons\"></ng-container>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </div>\r\n\r\n    <ng-container *ngIf=\"viewMode === viewModeType.LIST\">\r\n      <div class=\"page__table\">\r\n        <div class=\"table-pagination-preloader\">\r\n          <p-table\r\n            #dt\r\n            selectionMode=\"single\"\r\n            [scrollHeight]=\"'calc(100vh - ' + tableScrollHeight + ')'\"\r\n            [scrollable]=\"true\"\r\n            dataKey=\"id\"\r\n            [rows]=\"10\"\r\n            [(selection)]=\"selectedOrder\"\r\n            [value]=\"orders\"\r\n          >\r\n            <ng-template pTemplate=\"header\">\r\n              <tr>\r\n                <th class=\"text-center\" style=\"width: 5%;\">#</th>\r\n                <th class=\"text-center\" style=\"width: 5%;\">ID</th>\r\n                <th class=\"text-center\" style=\"width: 15%;\">Created Date</th>\r\n                <th class=\"text-center\" style=\"width: 15%;\">Closing Date</th>\r\n                <th style=\"width: 25%;\">Root Lists</th>\r\n                <th style=\"width: 25%;\">Technologies</th>\r\n              </tr>\r\n            </ng-template>\r\n            <ng-template pTemplate=\"body\" let-order let-i=\"rowIndex\">\r\n              <tr [pSelectableRow]=\"order\">\r\n                <td class=\"text-center\"\r\n                    style=\"width: 5%;\">{{(this.searchForm.get('page').value - 1) * 10 + i + 1}}</td>\r\n                <td class=\"text-center\" style=\"width: 5%;\">\r\n                  <a [routerLink]=\"[order.id]\" target=\"_blank\">\r\n                    {{order.id}}\r\n                  </a>\r\n                </td>\r\n                <td class=\"text-center\" style=\"width: 15%;\">\r\n                  {{order.created | date:'dd/MM/yyyy HH:MM'}}\r\n                </td>\r\n                <td class=\"text-center\" style=\"width: 15%;\">\r\n                  {{order.production_requests_fully_completed | date:'dd/MM/yyyy HH:MM'}}\r\n                </td>\r\n                <td style=\"width: 25%;\">\r\n                  <div *ngFor=\"let plan of order.root_production_plans\">\r\n                    <a (click)=\"goProductionList(plan.id)\">{{plan.list_product.nomenclature.name}}</a>\r\n                  </div>\r\n                  <!--                  <div class=\"d-block\"-->\r\n                  <!--                       *ngFor=\"let item of getRootLists(order.root_production_plans); let idx = index\">-->\r\n\r\n                  <!--                    <ng-template [ngIf]=\"item.count === 1\">-->\r\n                  <!--                      <a-->\r\n                  <!--                        *ngIf=\"item.list.serial_numbers.length < 1\"-->\r\n                  <!--                        (click)=\"onGoProd(item.list.id)\"-->\r\n                  <!--                      >-->\r\n                  <!--                        {{item.list.list_product.nomenclature.code}}~{{item.list.list_product.nomenclature.name}}-->\r\n                  <!--                        ({{item.count}})-->\r\n                  <!--                      </a>-->\r\n\r\n                  <!--                      <ng-template *ngIf=\"item.list.serial_numbers.length >= 1\">-->\r\n                  <!--                        <a-->\r\n                  <!--                          *ngFor=\"let serial of item.list.serial_numbers\"-->\r\n                  <!--                          (click)=\"onGoProd(item.list.id)\"-->\r\n                  <!--                        >-->\r\n                  <!--                          {{item.list.list_product.nomenclature.code}}~{{item.list.list_product.nomenclature.name}}-->\r\n                  <!--                          ({{item.count}})-->\r\n                  <!--                        </a>-->\r\n                  <!--                      </ng-template>-->\r\n                  <!--                    </ng-template>-->\r\n\r\n                  <!--                    <ng-template [ngIf]=\"item.count > 1\">-->\r\n                  <!--                      <a (click)=\"showProductionLists(order.root_production_plans)\">-->\r\n                  <!--                        {{item.list.list_product.nomenclature.code}}~{{item.list.list_product.nomenclature.name}}-->\r\n                  <!--                        ({{item.count}})-->\r\n                  <!--                      </a>-->\r\n\r\n                  <!--                      <ng-template *ngIf=\"item.list.serial_numbers.length >= 1\">-->\r\n                  <!--                        <a (click)=\"showProductionLists(order.root_production_plans)\">-->\r\n                  <!--                          {{item.list.list_product.nomenclature.code}}~{{item.list.list_product.nomenclature.name}}-->\r\n                  <!--                          ({{item.count}})-->\r\n                  <!--                        </a>-->\r\n                  <!--                      </ng-template>-->\r\n                  <!--                    </ng-template>-->\r\n                  <!--                  </div>-->\r\n                </td>\r\n                <td style=\"width: 25%;\">\r\n                  <span *ngFor=\"let tech of order.ordered_items_technologies; let last=last\">\r\n                    {{tech}}<span *ngIf=\"!last\">,</span>\r\n                  </span>\r\n                </td>\r\n              </tr>\r\n            </ng-template>\r\n            <ng-template pTemplate=\"emptymessage\">\r\n              <tr>\r\n                <td class=\"text-center p-4\" [attr.colspan]=\"5\">\r\n                  <i *ngIf=\"isLoading\" class=\"pi pi-spin pi-spinner\" style=\"font-size: 2.25rem\"></i>\r\n                  <span *ngIf=\"!isLoading\">No Records Found</span>\r\n                </td>\r\n              </tr>\r\n            </ng-template>\r\n            <ng-template pTemplate=\"paginatorright\">\r\n              <p-button\r\n                type=\"button\"\r\n                (click)=\"dt.paginator=false\"\r\n                styleClass=\"p-button-text\"\r\n              >\r\n                All\r\n              </p-button>\r\n            </ng-template>\r\n          </p-table>\r\n          <div class=\"pagination-preloader pagination-preloader_bord\" *ngIf=\"isLoading\">\r\n            <i class=\"pi pi-spin pi-spinner\" style=\"font-size: 2.25rem\"></i>\r\n          </div>\r\n        </div>\r\n        <div\r\n          class=\"paginator-wrapper\"\r\n          *ngIf=\"!isShowAll\"\r\n          [class.paginator-wrapper_hide]=\"orders.length === 0\"\r\n        >\r\n          <p-paginator\r\n            #paginator\r\n            [rows]=\"10\"\r\n            [totalRecords]=\"count\"\r\n            (onPageChange)=\"paginate($event)\"\r\n          >\r\n          </p-paginator>\r\n          <p-button\r\n            (click)=\"onShowAll()\"\r\n            class=\"paginator-all\"\r\n            type=\"button\"\r\n            styleClass=\"p-button-text\"\r\n          >\r\n            All\r\n          </p-button>\r\n        </div>\r\n\r\n        <div *ngIf=\"isShowAll\" class=\"paginator-return-pagination\">\r\n          <p-button\r\n            type=\"button\"\r\n            (click)=\"onShowPartial()\"\r\n            styleClass=\"p-button-text\"\r\n          >\r\n            Return pagination\r\n          </p-button>\r\n        </div>\r\n      </div>\r\n    </ng-container>\r\n\r\n    <ng-container *ngIf=\"viewMode === viewModeType.HIERARCHY\">\r\n      In development\r\n    </ng-container>\r\n  </div>\r\n</div>\r\n\r\n<ng-template #actionButtons>\r\n  <div class=\"action-buttons\">\r\n    <a\r\n      pButton\r\n      class=\"ml-auto\"\r\n      type=\"button\"\r\n      icon=\"pi pi-bars\"\r\n      label=\"Parts/Materials List\"\r\n      target=\"_blank\"\r\n      [class.disabled]=\"!selectedOrder\"\r\n      [routerLink]=\"[selectedOrder?.id]\"\r\n    ></a>\r\n  </div>\r\n</ng-template>\r\n","import {Component, OnDestroy, OnInit} from '@angular/core';\r\nimport {InvoiceProduct} from '../../../../procurement/models/invoice-product';\r\nimport {InvoiceService} from '../../../../procurement/services/invoice.service';\r\nimport {ActivatedRoute, Router} from '@angular/router';\r\nimport {map, switchMap, tap} from 'rxjs/operators';\r\nimport {Subject, takeUntil} from 'rxjs';\r\nimport {ModalService} from '@shared/services/modal.service';\r\nimport {QcListModalService} from '../../../services/qc-list-modal.service';\r\nimport {Nomenclature} from '@shared/models/nomenclature';\r\nimport {WarehouseProduct} from '../../../models/warehouse-product';\r\nimport {OrderService} from '../../../../procurement/services/order.service';\r\nimport {TechnicalEquipmentsInUseService} from '../../../services/technical-equipments-in-use.service';\r\nimport {OrderTechnicalEquipment} from '../../../models/order-technical-equipment';\r\n\r\n@Component({\r\n  selector: 'pek-warehouse-qc-invoice',\r\n  templateUrl: './warehouse-qc-invoice.component.html',\r\n  styleUrls: ['./warehouse-qc-invoice.component.scss']\r\n})\r\nexport class WarehouseQcInvoiceComponent implements OnInit, OnDestroy {\r\n  isLoading = true;\r\n\r\n  invoiceId: number;\r\n  invoiceProducts: InvoiceProduct[] = [];\r\n  selectedInvoiceProducts: InvoiceProduct[] = [];\r\n\r\n  orderTechnicalEquipments: OrderTechnicalEquipment[] = [];\r\n  selectedOrderTechnicalEquipment: OrderTechnicalEquipment[] = [];\r\n  orderId;\r\n\r\n  private destroy$ = new Subject();\r\n\r\n  constructor(\r\n    private readonly invoiceService: InvoiceService,\r\n    private readonly route: ActivatedRoute,\r\n    private readonly router: Router,\r\n    private readonly modalService: ModalService,\r\n    private qcListModalService: QcListModalService,\r\n    private readonly orderService: OrderService,\r\n    private technicalEquipmentsInUseService: TechnicalEquipmentsInUseService,\r\n  ) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.getInvoices();\r\n\r\n\r\n    this.qcListModalService.notCompatibleItems$\r\n      .pipe(takeUntil(this.destroy$)).subscribe(items => {\r\n      items.forEach(item => {\r\n        const foundIndex = this.selectedInvoiceProducts.findIndex(product => product.id === item.id);\r\n        if (foundIndex > -1) {\r\n          this.selectedInvoiceProducts.splice(foundIndex, 1);\r\n          this.selectedInvoiceProducts = [...this.selectedInvoiceProducts];\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  getInvoices() {\r\n    this.route.paramMap.pipe(\r\n      map(params => params.get('id')),\r\n      tap(id => this.invoiceId = +id),\r\n      switchMap(() => this.invoiceService.getProductsToAccept(this.invoiceId)),\r\n      takeUntil(this.destroy$)\r\n    ).subscribe(invoiceProducts => {\r\n      this.invoiceProducts = invoiceProducts;\r\n      this.isLoading = false;\r\n      this.getInvoiceInfo();\r\n    });\r\n  }\r\n\r\n  getInvoiceInfo() {\r\n    this.invoiceService.getById(this.invoiceId).subscribe(invoice => {\r\n      if (invoice.order.id) {\r\n        this.orderId = invoice.order.id;\r\n        this.loadTechnicalEquipments();\r\n      }\r\n    });\r\n  }\r\n\r\n  onAcceptToWarehouse() {\r\n    this.invoiceService.openAcceptToWarehouseModal(this.selectedInvoiceProducts, this.invoiceId).subscribe(response => {\r\n      if (response) {\r\n        this.selectedInvoiceProducts.forEach(product => {\r\n          this.invoiceProducts = this.invoiceProducts.filter(p => p.id !== product.id);\r\n        });\r\n\r\n        if (this.invoiceProducts.length === 0 && this.orderTechnicalEquipments.length === 0) {\r\n          this.router.navigate(['../../'], {relativeTo: this.route});\r\n        }\r\n\r\n        this.selectedInvoiceProducts = [];\r\n      }\r\n    });\r\n  }\r\n\r\n  onShowImages() {\r\n    this.modalService.showImageGallery([], this.selectedInvoiceProducts[0].nomenclature.id, 1).subscribe();\r\n  }\r\n\r\n  loadTechnicalEquipments() {\r\n    this.orderService.getTechnicalEquipmentToAccept(this.orderId).subscribe(technicalProducts => {\r\n      this.orderTechnicalEquipments = technicalProducts;\r\n      this.loadTechnicalEquipmentInUse();\r\n    });\r\n  }\r\n\r\n\r\n  loadTechnicalEquipmentInUse() {\r\n    const query = [{name: 'order_id', value: this.orderId}, {name: 'need_qc', value: true}]\r\n    this.technicalEquipmentsInUseService.get(query).subscribe(equipmentForQc => {\r\n      this.orderTechnicalEquipments.forEach(equipment => {\r\n        equipment.in_use_product_id = [];\r\n        const nomenclatureId = (equipment.nomenclature as Nomenclature).id;\r\n        let requiredQuantity = equipment.passed_quantity;\r\n        equipmentForQc.forEach(forQcEquipment => {\r\n          const canProcees = (forQcEquipment.warehouse_product as WarehouseProduct).nomenclature === nomenclatureId\r\n            && requiredQuantity > 0 && forQcEquipment.quantity > 0;\r\n          if (canProcees) {\r\n            const quantity = forQcEquipment.quantity;\r\n            if (quantity >= requiredQuantity) {\r\n              forQcEquipment.quantity -= requiredQuantity;\r\n              equipment.in_use_product_id.push({technicalEquipment: forQcEquipment, quantity: requiredQuantity, isolated_quantity: 0});\r\n\r\n              requiredQuantity = 0;\r\n            } else {\r\n              forQcEquipment.quantity -= quantity;\r\n              requiredQuantity -= quantity;\r\n              equipment.in_use_product_id.push({technicalEquipment: forQcEquipment, quantity: quantity, isolated_quantity: 0});\r\n            }\r\n          }\r\n        });\r\n\r\n        let isolateQuantity = equipment.not_passed_quantity;\r\n        equipmentForQc.forEach(forQcEquipment => {\r\n          const canProcees = (forQcEquipment.warehouse_product as WarehouseProduct).nomenclature === nomenclatureId\r\n            && isolateQuantity > 0 && forQcEquipment.quantity > 0;\r\n          if (canProcees) {\r\n            const quantity = forQcEquipment.quantity;\r\n            if (quantity >= isolateQuantity) {\r\n              forQcEquipment.quantity -= isolateQuantity;\r\n              equipment.in_use_product_id.push({technicalEquipment: forQcEquipment, quantity: 0, isolated_quantity: isolateQuantity});\r\n\r\n              isolateQuantity = 0;\r\n            } else {\r\n              forQcEquipment.quantity -= quantity;\r\n              isolateQuantity -= quantity;\r\n              equipment.in_use_product_id.push({technicalEquipment: forQcEquipment, quantity: 0, isolated_quantity: isolateQuantity});\r\n            }\r\n          }\r\n        });\r\n      });\r\n    });\r\n  }\r\n\r\n  onAcceptTechnicalEquipmentToWarehouse() {\r\n    this.orderService.openAcceptToWarehouseModalTechnicalEquipment(this.selectedOrderTechnicalEquipment, this.orderId).subscribe(response => {\r\n      if (response) {\r\n        this.selectedOrderTechnicalEquipment.forEach(product => {\r\n          this.orderTechnicalEquipments = this.orderTechnicalEquipments.filter(p => p.id !== product.id);\r\n        });\r\n\r\n        if (this.orderTechnicalEquipments.length === 0 && this.invoiceProducts.length === 0) {\r\n          this.router.navigate(['../../'], {relativeTo: this.route});\r\n        }\r\n\r\n        this.selectedOrderTechnicalEquipment = [];\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.destroy$.next(true);\r\n    this.destroy$.complete();\r\n  }\r\n}\r\n","<div class=\"page\">\r\n  <div class=\"page__header\">\r\n    <div class=\"page__title\">\r\n      <pek-module-icon [module]=\"'warehouse'\" [isActive]=\"true\"></pek-module-icon>\r\n      <h1>Invoice Items</h1>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"page__content\">\r\n  <div class=\"page__card\">\r\n    <div class=\"page__table\">\r\n      <p-table\r\n        #dt\r\n        selectionMode=\"single\"\r\n        scrollHeight=\"calc(100vh - 18.8rem)\"\r\n        [scrollable]=\"true\"\r\n        [paginator]=\"invoiceProducts.length > 0\"\r\n        [(selection)]=\"selectedInvoiceProducts\"\r\n        [value]=\"invoiceProducts\"\r\n        [rows]=\"10\"\r\n      >\r\n        <ng-template pTemplate=\"caption\">\r\n          <div class=\"d-flex\">\r\n            <p class=\"subtitle\" *ngIf=\"selectedInvoiceProducts.length === 0\">Choose the Invoice Products to Accept Warehouse</p>\r\n\r\n            <button\r\n              pButton\r\n              type=\"button\"\r\n              icon=\"pi pi-images\"\r\n              label=\"Show Images\"\r\n              class=\"ml-auto mr-2\"\r\n              [disabled]=\"selectedInvoiceProducts.length > 1 || selectedInvoiceProducts.length === 0\"\r\n              (click)=\"onShowImages()\"\r\n            ></button>\r\n            <button\r\n              pButton\r\n              type=\"button\"\r\n              icon=\"pi pi-angle-double-right\"\r\n              label=\"Accept to warehouse\"\r\n              [disabled]=\"selectedInvoiceProducts.length === 0\"\r\n              (click)=\"onAcceptToWarehouse()\"\r\n            ></button>\r\n          </div>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"header\">\r\n          <tr>\r\n            <th style=\"width: 3%\">\r\n              <p-tableHeaderCheckbox></p-tableHeaderCheckbox>\r\n            </th>\r\n            <th class=\"text-center\" style=\"width: 5%;\">#</th>\r\n            <th style=\"width: 17%;\">Code</th>\r\n            <th style=\"width: 20%;\">Name</th>\r\n            <th style=\"width: 20%;\" class=\"text-center\">Technology</th>\r\n            <th style=\"width: 20%;\" class=\"text-center\">Quantity</th>\r\n            <th style=\"width: 15%;\" class=\"text-center\">Passed</th>\r\n          </tr>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"body\" let-invoice let-i=\"rowIndex\">\r\n          <tr>\r\n            <td style=\"width: 3%\">\r\n              <p-tableCheckbox [value]=\"invoice\"></p-tableCheckbox>\r\n            </td>\r\n            <td style=\"width: 5%;\" class=\"text-center\">{{i + 1}}</td>\r\n            <td style=\"width: 17%;\">{{invoice.nomenclature.code}}</td>\r\n            <td style=\"width: 20%;\">{{invoice.nomenclature.name}}</td>\r\n            <td style=\"width: 20%;\" class=\"text-center\">{{invoice.current_technology}}</td>\r\n            <td style=\"width: 20%;\" class=\"text-center\">{{invoice.quantity}}</td>\r\n            <td style=\"width: 15%;\" class=\"text-center\">{{invoice.passed_quantity}}</td>\r\n          </tr>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"emptymessage\">\r\n          <tr>\r\n            <td class=\"text-center p-4\" [attr.colspan]=\"7\">\r\n              <i *ngIf=\"isLoading\" class=\"pi pi-spin pi-spinner\" style=\"font-size: 2.25rem\"></i>\r\n              <span *ngIf=\"!isLoading\">No Records Found</span>\r\n            </td>\r\n          </tr>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"paginatorright\">\r\n          <p-button\r\n            type=\"button\"\r\n            (click)=\"dt.paginator=false\"\r\n            styleClass=\"p-button-text\"\r\n          >All\r\n          </p-button>\r\n        </ng-template>\r\n      </p-table>\r\n    </div>\r\n    <div *ngIf=\"!dt.paginator && !isLoading && invoiceProducts.length > 0\" class=\"paginator-return-pagination\">\r\n      <p-button\r\n        type=\"button\"\r\n        (click)=\"dt.paginator=true\"\r\n        styleClass=\"p-button-text\"\r\n      >\r\n        Return pagination\r\n      </p-button>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n\r\n<div class=\"page__content\">\r\n  <div class=\"page__card\">\r\n    <div class=\"page__table\">\r\n      <p-table\r\n        #dt2\r\n        selectionMode=\"multiple\"\r\n        scrollHeight=\"calc(100vh - 18.8rem)\"\r\n        [scrollable]=\"true\"\r\n        [paginator]=\"orderTechnicalEquipments.length > 0\"\r\n        [(selection)]=\"selectedOrderTechnicalEquipment\"\r\n        [value]=\"orderTechnicalEquipments\"\r\n        [rows]=\"10\"\r\n      >\r\n        <ng-template pTemplate=\"caption\">\r\n          <div class=\"d-flex\">\r\n            <p class=\"subtitle\" *ngIf=\"selectedOrderTechnicalEquipment.length === 0\">Choose the Technical equipment to Accept Warehouse</p>\r\n\r\n            <button\r\n              pButton\r\n              type=\"button\"\r\n              icon=\"pi pi-images\"\r\n              label=\"Show Images\"\r\n              class=\"ml-auto mr-2\"\r\n              [disabled]=\"selectedOrderTechnicalEquipment.length > 1 || selectedOrderTechnicalEquipment.length === 0\"\r\n              (click)=\"onShowImages()\"\r\n            ></button>\r\n            <button\r\n              pButton\r\n              type=\"button\"\r\n              icon=\"pi pi-angle-double-right\"\r\n              label=\"Accept to warehouse\"\r\n              [disabled]=\"selectedOrderTechnicalEquipment.length === 0\"\r\n              (click)=\"onAcceptTechnicalEquipmentToWarehouse()\"\r\n            ></button>\r\n          </div>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"header\">\r\n          <tr>\r\n            <th style=\"width: 3%\">\r\n              <p-tableHeaderCheckbox></p-tableHeaderCheckbox>\r\n            </th>\r\n            <th class=\"text-center\" style=\"width: 5%;\">#</th>\r\n            <th style=\"width: 17%;\">Code</th>\r\n            <th style=\"width: 20%;\">Name</th>\r\n            <th style=\"width: 20%;\" class=\"text-center\">Quantity</th>\r\n            <th style=\"width: 15%;\" class=\"text-center\">Passed</th>\r\n          </tr>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"body\" let-orderTechnicalEquipments let-i=\"rowIndex\">\r\n          <tr>\r\n            <td style=\"width: 3%\">\r\n              <p-tableCheckbox [value]=\"orderTechnicalEquipments\"></p-tableCheckbox>\r\n            </td>\r\n            <td style=\"width: 5%;\" class=\"text-center\">{{i + 1}}</td>\r\n            <td style=\"width: 17%;\">{{orderTechnicalEquipments.nomenclature.code}}</td>\r\n            <td style=\"width: 20%;\">{{orderTechnicalEquipments.nomenclature.name}}</td>\r\n            <td style=\"width: 20%;\" class=\"text-center\">{{orderTechnicalEquipments.quantity}}</td>\r\n            <td style=\"width: 15%;\" class=\"text-center\">{{orderTechnicalEquipments.passed_quantity}}</td>\r\n          </tr>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"emptymessage\">\r\n          <tr>\r\n            <td class=\"text-center p-4\" [attr.colspan]=\"7\">\r\n              <i *ngIf=\"isLoading\" class=\"pi pi-spin pi-spinner\" style=\"font-size: 2.25rem\"></i>\r\n              <span *ngIf=\"!isLoading\">No Records Found</span>\r\n            </td>\r\n          </tr>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"paginatorright\">\r\n          <p-button\r\n            type=\"button\"\r\n            (click)=\"dt2.paginator=false\"\r\n            styleClass=\"p-button-text\"\r\n          >All\r\n          </p-button>\r\n        </ng-template>\r\n      </p-table>\r\n    </div>\r\n    <div *ngIf=\"!dt2.paginator && !isLoading && orderTechnicalEquipments.length > 0\" class=\"paginator-return-pagination\">\r\n      <p-button\r\n        type=\"button\"\r\n        (click)=\"dt2.paginator=true\"\r\n        styleClass=\"p-button-text\"\r\n      >\r\n        Return pagination\r\n      </p-button>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import {Component, OnInit} from '@angular/core';\r\nimport {Subject, takeUntil} from 'rxjs';\r\nimport {ActivatedRoute, Router} from '@angular/router';\r\nimport {ModalService} from '@shared/services/modal.service';\r\nimport {map, switchMap, tap} from 'rxjs/operators';\r\nimport {OrderProduct} from '../../../../procurement/models/order-product';\r\nimport {OrderService} from '../../../../procurement/services/order.service';\r\nimport {QcListModalService} from '../../../services/qc-list-modal.service';\r\nimport {OrderTechnicalEquipmentsService} from '../../../services/order-technical-equipments.service';\r\nimport {OrderTechnicalEquipment} from '../../../models/order-technical-equipment';\r\nimport {TechnicalEquipmentsInUseService} from '../../../services/technical-equipments-in-use.service';\r\nimport {WarehouseProduct} from '../../../models/warehouse-product';\r\nimport {Nomenclature} from '@shared/models/nomenclature';\r\n\r\n@Component({\r\n  selector: 'pek-warehouse-qc-order',\r\n  templateUrl: './warehouse-qc-order.component.html',\r\n  styleUrls: ['./warehouse-qc-order.component.scss']\r\n})\r\nexport class WarehouseQcOrderComponent implements OnInit {\r\n\r\n  isLoading = true;\r\n\r\n  orderId: number;\r\n  orderProducts: OrderProduct[] = [];\r\n  selectedOrderProducts: OrderProduct[] = [];\r\n\r\n  orderTechnicalEquipments: OrderTechnicalEquipment[] = [];\r\n  selectedOrderTechnicalEquipment: OrderTechnicalEquipment[] = [];\r\n\r\n  private destroy$ = new Subject();\r\n\r\n  constructor(\r\n    private readonly orderService: OrderService,\r\n    private readonly route: ActivatedRoute,\r\n    private readonly router: Router,\r\n    private readonly modalService: ModalService,\r\n    private qcListModalService: QcListModalService,\r\n    private technicalEquipmentsInUseService: TechnicalEquipmentsInUseService,\r\n  ) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.getInvoices();\r\n\r\n    this.qcListModalService.notCompatibleItems$\r\n      .pipe(takeUntil(this.destroy$)).subscribe(items => {\r\n      items.forEach(item => {\r\n        const foundIndex = this.selectedOrderProducts.findIndex(product => product.id === item.id);\r\n        if (foundIndex > -1) {\r\n          this.selectedOrderProducts.splice(foundIndex, 1);\r\n          this.selectedOrderProducts = [...this.selectedOrderProducts];\r\n        }\r\n      });\r\n    });\r\n\r\n    this.qcListModalService.notCompatibleTechnicalEquipments$\r\n      .pipe(takeUntil(this.destroy$)).subscribe(items => {\r\n      items.forEach(item => {\r\n        const foundIndex = this.selectedOrderTechnicalEquipment.findIndex(product => product.id === item.id);\r\n        if (foundIndex > -1) {\r\n          this.selectedOrderTechnicalEquipment.splice(foundIndex, 1);\r\n          this.selectedOrderTechnicalEquipment = [...this.selectedOrderTechnicalEquipment];\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  getInvoices() {\r\n    this.route.paramMap.pipe(\r\n      map(params => params.get('id')),\r\n      tap(id => this.orderId = +id),\r\n      switchMap(() => this.orderService.getProductsToAccept(this.orderId)),\r\n      takeUntil(this.destroy$)\r\n    ).subscribe(orderProducts => {\r\n      this.orderProducts = orderProducts;\r\n      this.isLoading = false;\r\n      this.loadTechnicalEquipments();\r\n    });\r\n  }\r\n\r\n  loadTechnicalEquipments() {\r\n    this.orderService.getTechnicalEquipmentToAccept(this.orderId).subscribe(technicalProducts => {\r\n      this.orderTechnicalEquipments = technicalProducts;\r\n      this.loadTechnicalEquipmentInUse();\r\n    });\r\n  }\r\n\r\n  loadTechnicalEquipmentInUse() {\r\n    const query = [{name: 'order_id', value: this.orderId}, {name: 'need_qc', value: true}]\r\n    this.technicalEquipmentsInUseService.get(query).subscribe(equipmentForQc => {\r\n      this.orderTechnicalEquipments.forEach(equipment => {\r\n\r\n        equipment.in_use_product_id = [];\r\n        const nomenclatureId = (equipment.nomenclature as Nomenclature).id;\r\n        let requiredQuantity = equipment.passed_quantity;\r\n        equipmentForQc.forEach(forQcEquipment => {\r\n          const canProcees = (forQcEquipment.warehouse_product as WarehouseProduct).nomenclature === nomenclatureId\r\n            && requiredQuantity > 0 && forQcEquipment.quantity > 0;\r\n          if (canProcees) {\r\n            const quantity = forQcEquipment.quantity;\r\n            if (quantity >= requiredQuantity) {\r\n              forQcEquipment.quantity -= requiredQuantity;\r\n              equipment.in_use_product_id.push({technicalEquipment: forQcEquipment, quantity: requiredQuantity, isolated_quantity: 0});\r\n\r\n              requiredQuantity = 0;\r\n            } else {\r\n              forQcEquipment.quantity -= quantity;\r\n              requiredQuantity -= quantity;\r\n              equipment.in_use_product_id.push({technicalEquipment: forQcEquipment, quantity: quantity, isolated_quantity: 0});\r\n            }\r\n          }\r\n        });\r\n\r\n        let isolateQuantity = equipment.not_passed_quantity;\r\n        equipmentForQc.forEach(forQcEquipment => {\r\n          const canProcees = (forQcEquipment.warehouse_product as WarehouseProduct).nomenclature === nomenclatureId\r\n            && isolateQuantity > 0 && forQcEquipment.quantity > 0;\r\n          if (canProcees) {\r\n            const quantity = forQcEquipment.quantity;\r\n            if (quantity >= isolateQuantity) {\r\n              forQcEquipment.quantity -= isolateQuantity;\r\n              equipment.in_use_product_id.push({technicalEquipment: forQcEquipment, quantity: 0, isolated_quantity: isolateQuantity});\r\n\r\n              isolateQuantity = 0;\r\n            } else {\r\n              forQcEquipment.quantity -= quantity;\r\n              isolateQuantity -= quantity;\r\n              equipment.in_use_product_id.push({technicalEquipment: forQcEquipment, quantity: 0, isolated_quantity: isolateQuantity});\r\n            }\r\n          }\r\n        });\r\n      });\r\n    });\r\n  }\r\n\r\n  onAcceptToWarehouse() {\r\n    this.orderService.openAcceptToWarehouseModal(this.selectedOrderProducts, this.orderId).subscribe(response => {\r\n      if (response) {\r\n        this.selectedOrderProducts.forEach(product => {\r\n          this.orderProducts = this.orderProducts.filter(p => p.id !== product.id);\r\n        });\r\n\r\n        if (this.orderProducts.length === 0 && this.orderTechnicalEquipments.length === 0) {\r\n          this.router.navigate(['../../'], {relativeTo: this.route});\r\n        }\r\n\r\n        this.selectedOrderProducts = [];\r\n      }\r\n    });\r\n  }\r\n\r\n  onAcceptTechnicalEquipmentToWarehouse() {\r\n    this.orderService.openAcceptToWarehouseModalTechnicalEquipment(this.selectedOrderTechnicalEquipment, this.orderId).subscribe(response => {\r\n      if (response) {\r\n        this.selectedOrderTechnicalEquipment.forEach(product => {\r\n          this.orderTechnicalEquipments = this.orderTechnicalEquipments.filter(p => p.id !== product.id);\r\n        });\r\n\r\n        if (this.orderTechnicalEquipments.length === 0 && this.orderProducts.length === 0) {\r\n          this.router.navigate(['../../'], {relativeTo: this.route});\r\n        }\r\n\r\n        this.selectedOrderTechnicalEquipment = [];\r\n      }\r\n    });\r\n  }\r\n\r\n  onShowImages() {\r\n    this.modalService.showImageGallery([], this.selectedOrderProducts[0].nomenclature.id, 1).subscribe();\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.destroy$.next(true);\r\n    this.destroy$.complete();\r\n  }\r\n}\r\n","<div class=\"page\">\r\n  <div class=\"page__header\">\r\n    <div class=\"page__title\">\r\n      <pek-module-icon [module]=\"'warehouse'\" [isActive]=\"true\"></pek-module-icon>\r\n      <h1>Order Items</h1>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"page__content\">\r\n  <div class=\"page__card\">\r\n    <div class=\"page__table\">\r\n      <p-table\r\n        #dt\r\n        selectionMode=\"multiple\"\r\n        scrollHeight=\"calc(100vh - 18.8rem)\"\r\n        [scrollable]=\"true\"\r\n        [paginator]=\"orderProducts.length > 0\"\r\n        [(selection)]=\"selectedOrderProducts\"\r\n        [value]=\"orderProducts\"\r\n        [rows]=\"10\"\r\n      >\r\n        <ng-template pTemplate=\"caption\">\r\n          <div class=\"d-flex\">\r\n            <p class=\"subtitle\" *ngIf=\"selectedOrderProducts.length === 0\">Choose the Order Products to Accept Warehouse</p>\r\n\r\n            <button\r\n              pButton\r\n              type=\"button\"\r\n              icon=\"pi pi-images\"\r\n              label=\"Show Images\"\r\n              class=\"ml-auto mr-2\"\r\n              [disabled]=\"selectedOrderProducts.length > 1 || selectedOrderProducts.length === 0\"\r\n              (click)=\"onShowImages()\"\r\n            ></button>\r\n            <button\r\n              pButton\r\n              type=\"button\"\r\n              icon=\"pi pi-angle-double-right\"\r\n              label=\"Accept to warehouse\"\r\n              [disabled]=\"selectedOrderProducts.length === 0\"\r\n              (click)=\"onAcceptToWarehouse()\"\r\n            ></button>\r\n          </div>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"header\">\r\n          <tr>\r\n            <th style=\"width: 3%\">\r\n              <p-tableHeaderCheckbox></p-tableHeaderCheckbox>\r\n            </th>\r\n            <th class=\"text-center\" style=\"width: 5%;\">#</th>\r\n            <th style=\"width: 17%;\">Code</th>\r\n            <th style=\"width: 20%;\">Name</th>\r\n            <th style=\"width: 20%;\" class=\"text-center\">Technology</th>\r\n            <th style=\"width: 20%;\" class=\"text-center\">Quantity</th>\r\n            <th style=\"width: 15%;\" class=\"text-center\">Passed</th>\r\n          </tr>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"body\" let-order let-i=\"rowIndex\">\r\n          <tr>\r\n            <td style=\"width: 3%\">\r\n              <p-tableCheckbox [value]=\"order\"></p-tableCheckbox>\r\n            </td>\r\n            <td style=\"width: 5%;\" class=\"text-center\">{{i + 1}}</td>\r\n            <td style=\"width: 17%;\">{{order.nomenclature.code}}</td>\r\n            <td style=\"width: 20%;\">{{order.nomenclature.name}}</td>\r\n            <td style=\"width: 20%;\" class=\"text-center\">{{order.current_technology}}</td>\r\n            <td style=\"width: 20%;\" class=\"text-center\">{{order.quantity}}</td>\r\n            <td style=\"width: 15%;\" class=\"text-center\">{{order.passed_quantity}}</td>\r\n          </tr>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"emptymessage\">\r\n          <tr>\r\n            <td class=\"text-center p-4\" [attr.colspan]=\"7\">\r\n              <i *ngIf=\"isLoading\" class=\"pi pi-spin pi-spinner\" style=\"font-size: 2.25rem\"></i>\r\n              <span *ngIf=\"!isLoading\">No Records Found</span>\r\n            </td>\r\n          </tr>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"paginatorright\">\r\n          <p-button\r\n            type=\"button\"\r\n            (click)=\"dt.paginator=false\"\r\n            styleClass=\"p-button-text\"\r\n          >All\r\n          </p-button>\r\n        </ng-template>\r\n      </p-table>\r\n    </div>\r\n    <div *ngIf=\"!dt.paginator && !isLoading && orderProducts.length > 0\" class=\"paginator-return-pagination\">\r\n      <p-button\r\n        type=\"button\"\r\n        (click)=\"dt.paginator=true\"\r\n        styleClass=\"p-button-text\"\r\n      >\r\n        Return pagination\r\n      </p-button>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"page__content\">\r\n  <div class=\"page__card\">\r\n    <div class=\"page__table\">\r\n      <p-table\r\n        #dt2\r\n        selectionMode=\"multiple\"\r\n        scrollHeight=\"calc(100vh - 18.8rem)\"\r\n        [scrollable]=\"true\"\r\n        [paginator]=\"orderTechnicalEquipments.length > 0\"\r\n        [(selection)]=\"selectedOrderTechnicalEquipment\"\r\n        [value]=\"orderTechnicalEquipments\"\r\n        [rows]=\"10\"\r\n      >\r\n        <ng-template pTemplate=\"caption\">\r\n          <div class=\"d-flex\">\r\n            <p class=\"subtitle\" *ngIf=\"selectedOrderTechnicalEquipment.length === 0\">Choose the Technical equipment to Accept Warehouse</p>\r\n\r\n            <button\r\n              pButton\r\n              type=\"button\"\r\n              icon=\"pi pi-images\"\r\n              label=\"Show Images\"\r\n              class=\"ml-auto mr-2\"\r\n              [disabled]=\"selectedOrderTechnicalEquipment.length > 1 || selectedOrderTechnicalEquipment.length === 0\"\r\n              (click)=\"onShowImages()\"\r\n            ></button>\r\n            <button\r\n              pButton\r\n              type=\"button\"\r\n              icon=\"pi pi-angle-double-right\"\r\n              label=\"Accept to warehouse\"\r\n              [disabled]=\"selectedOrderTechnicalEquipment.length === 0\"\r\n              (click)=\"onAcceptTechnicalEquipmentToWarehouse()\"\r\n            ></button>\r\n          </div>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"header\">\r\n          <tr>\r\n            <th style=\"width: 3%\">\r\n              <p-tableHeaderCheckbox></p-tableHeaderCheckbox>\r\n            </th>\r\n            <th class=\"text-center\" style=\"width: 5%;\">#</th>\r\n            <th style=\"width: 17%;\">Code</th>\r\n            <th style=\"width: 20%;\">Name</th>\r\n            <th style=\"width: 20%;\" class=\"text-center\">Quantity</th>\r\n            <th style=\"width: 15%;\" class=\"text-center\">Passed</th>\r\n          </tr>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"body\" let-orderTechnicalEquipments let-i=\"rowIndex\">\r\n          <tr>\r\n            <td style=\"width: 3%\">\r\n              <p-tableCheckbox [value]=\"orderTechnicalEquipments\"></p-tableCheckbox>\r\n            </td>\r\n            <td style=\"width: 5%;\" class=\"text-center\">{{i + 1}}</td>\r\n            <td style=\"width: 17%;\">{{orderTechnicalEquipments.nomenclature.code}}</td>\r\n            <td style=\"width: 20%;\">{{orderTechnicalEquipments.nomenclature.name}}</td>\r\n            <td style=\"width: 20%;\" class=\"text-center\">{{orderTechnicalEquipments.quantity}}</td>\r\n            <td style=\"width: 15%;\" class=\"text-center\">{{orderTechnicalEquipments.passed_quantity}}</td>\r\n          </tr>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"emptymessage\">\r\n          <tr>\r\n            <td class=\"text-center p-4\" [attr.colspan]=\"7\">\r\n              <i *ngIf=\"isLoading\" class=\"pi pi-spin pi-spinner\" style=\"font-size: 2.25rem\"></i>\r\n              <span *ngIf=\"!isLoading\">No Records Found</span>\r\n            </td>\r\n          </tr>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"paginatorright\">\r\n          <p-button\r\n            type=\"button\"\r\n            (click)=\"dt2.paginator=false\"\r\n            styleClass=\"p-button-text\"\r\n          >All\r\n          </p-button>\r\n        </ng-template>\r\n      </p-table>\r\n    </div>\r\n    <div *ngIf=\"!dt2.paginator && !isLoading && orderTechnicalEquipments.length > 0\" class=\"paginator-return-pagination\">\r\n      <p-button\r\n        type=\"button\"\r\n        (click)=\"dt2.paginator=true\"\r\n        styleClass=\"p-button-text\"\r\n      >\r\n        Return pagination\r\n      </p-button>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import {Component, OnInit} from '@angular/core';\nimport {TreeNode} from 'primeng/api';\nimport {InvoiceService} from '../../../procurement/services/invoice.service';\nimport {Invoice} from '../../../procurement/models/invoice';\nimport {Order} from '../../../procurement/models/order';\nimport * as cloneDeep from 'lodash/cloneDeep';\nimport {TreeService} from '@shared/services/tree.service';\nimport {OrderService} from '../../../procurement/services/order.service';\nimport {ProductStructureCategoryService} from '../../../product-structure/services/product-structure-category.service';\nimport {forkJoin} from 'rxjs';\n\ntype ViewType = 'list' | 'hierarchy'\n\n@Component({\n  selector: 'pek-warehouse-qc',\n  templateUrl: './warehouse-qc.component.html',\n  styleUrls: ['./warehouse-qc.component.scss']\n})\nexport class WarehouseQcComponent implements OnInit {\n  isLoading = true;\n\n  categories: TreeNode[];\n\n  invoices: Invoice[] = [];\n  orders: Order[] = [];\n\n  invoiceTree: TreeNode<Invoice>[];\n\n  selectedInvoiceItem: Invoice;\n  selectedInvoicePurchaseItem: Invoice;\n  selectedOrderItem: Order;\n\n  invoiceManufacturedTree: TreeNode<Invoice>[];\n  invoicePurchasedTree: TreeNode<Invoice>[];\n\n  invoicesViewType: ViewType = 'hierarchy';\n  invoicesOrderType: ViewType = 'hierarchy';\n  invoicesPurchasedType: ViewType = 'hierarchy';\n\n  selectedInvoiceNode: TreeNode<Invoice>;\n  selectedOrderNode: TreeNode;\n  selectedPurchasedInvoiceNode: TreeNode;\n\n  ownProductionCategorizedList: TreeNode[];\n\n  invoicesList: Invoice[] = [];\n  ordersList: Order[] = [];\n  purchasedInvoicesList: Invoice[] = [];\n\n  constructor(\n    private readonly invoiceService: InvoiceService,\n    private readonly orderService: OrderService,\n    private readonly productStructureCategoriesService: ProductStructureCategoryService,\n    private readonly treeService: TreeService,\n  ) {\n  }\n\n  ngOnInit(): void {\n    forkJoin({\n      categories: this.productStructureCategoriesService.get(),\n      invoices: this.invoiceService.get([\n        {name: 'completed', value: true},\n        {name: 'qc_completed', value: true},\n        {name: 'is_full_accepted', value: false}\n      ]),\n      orders: this.orderService.get([\n        {name: 'completed', value: true},\n        {name: 'qc_completed', value: true},\n        {name: 'is_full_accepted', value: false}\n      ])\n    }).subscribe(({categories, invoices, orders}) => {\n      this.categories = this.treeService.createTree(categories);\n\n      this.categories.unshift({\n        children: [],\n        data: {\n          name: 'Not Category',\n          id: -1,\n          level: 0,\n        },\n        expanded: false\n      })\n\n      this.ownProductionCategorizedList = cloneDeep(this.categories);\n\n      this.invoices = invoices;\n      this.makeUniqueProductionPlansInvoice(<Invoice[]>this.invoices);\n      this.resetProductPaymentTree();\n\n      this.orders = orders;\n      this.makeUniqueProductionPlansInvoice(<Order[]>this.orders);\n      this.fillOwnProductionWithData();\n\n      this.purchasedInvoicesList = this.invoices.filter(i => i.purchase_category);\n      this.invoicesList = this.invoices.filter(i => !i.purchase_category)\n      this.ordersList = this.orders.map(o => o);\n\n      this.isLoading = false;\n    })\n  }\n\n  makeUniqueProductionPlansInvoice(items: Invoice[] | Order[]): void {\n    items.forEach(item => {\n      item.unique_root_production_plans = [];\n      item.root_production_plans.forEach(plan => {\n        if (plan.root_nomenclature) {\n          const nomenclatureId = plan.root_nomenclature.id;\n          const existingIndex = item.unique_root_production_plans.findIndex(unPlan => unPlan.root_nomenclature.id === nomenclatureId);\n\n          if (existingIndex < 0) {\n            item.unique_root_production_plans.push(plan);\n          }\n        }\n      });\n    });\n  }\n\n  private fillOwnProductionWithData() {\n    this.fillCategorizedTree();\n  }\n\n  fillCategorizedTree(): void {\n    const categoriesTemp: { id: number, level: number, parentId: number, name: string }[] = [];\n\n    this.orders.forEach(order => {\n      order.unique_root_production_plans.forEach(plan => {\n        if (plan.root_nomenclature && plan.root_nomenclature.root_category) {\n          const rootCatId = plan.root_nomenclature.root_category.id;\n          const rootCatName = plan.root_nomenclature.root_category.name;\n          const rootLevel = 1;\n\n          const catId = plan.root_nomenclature.id;\n          const catName = plan.root_nomenclature.name;\n          const catLevel = 2;\n\n          const rootExistsIndex = categoriesTemp.findIndex(cat => cat.id === rootCatId && rootLevel === cat.level);\n\n          if (rootExistsIndex < 0) {\n            categoriesTemp.push({\n              id: rootCatId,\n              level: rootLevel,\n              name: rootCatName,\n              parentId: null\n            });\n          }\n\n          const catExistsIndex = categoriesTemp.findIndex(cat => cat.id === catId && catLevel === cat.level);\n\n          if (catExistsIndex < 0) {\n            categoriesTemp.push({\n              id: catId,\n              level: catLevel,\n              name: catName,\n              parentId: rootCatId\n            });\n          }\n        } else if (plan.root_nomenclature && !plan.root_nomenclature.root_category) {\n          const rootCatId = -1;\n          const rootCatName = 'Not Category';\n          const rootLevel = 1;\n\n          const catId = plan.root_nomenclature.id;\n          const catName = plan.root_nomenclature.name;\n          const catLevel = 2;\n\n          const rootExistsIndex = categoriesTemp.findIndex(cat => cat.id === rootCatId && rootLevel === cat.level);\n\n          if (rootExistsIndex < 0) {\n            categoriesTemp.push({\n              id: rootCatId,\n              level: rootLevel,\n              name: rootCatName,\n              parentId: null\n            });\n          }\n\n          const catExistsIndex = categoriesTemp.findIndex(cat => cat.id === catId && catLevel === cat.level);\n\n          if (catExistsIndex < 0) {\n            categoriesTemp.push({\n              id: catId,\n              level: catLevel,\n              name: catName,\n              parentId: rootCatId\n            });\n          }\n        }\n      });\n\n      if (order.unique_root_production_plans.length < 1) {\n        const noCategoryIndex = this.ownProductionCategorizedList.findIndex(nodeInner => nodeInner.data.id === -1);\n\n        if (noCategoryIndex < 0) {\n          this.ownProductionCategorizedList.push({\n            data: {\n              id: -1,\n              level: 1,\n              name: 'No Root List',\n              parentId: null\n            },\n            expanded: false,\n            children: [\n              {\n                data: {order, plan: null, level: 4},\n                expanded: false,\n                children: []\n              }]\n          });\n        } else {\n          this.ownProductionCategorizedList[noCategoryIndex].children.push(\n            {\n              data: {order, plan: null, level: 4},\n              expanded: false,\n              children: []\n            }\n          );\n        }\n      }\n    });\n\n    const temp = cloneDeep(this.ownProductionCategorizedList);\n    temp.forEach(node => {\n      this.appendCategories(node, categoriesTemp);\n    });\n\n    temp.forEach(node => {\n      this.fillWithTheData(node, this.orders);\n    });\n\n    temp.forEach(node => {\n      this.removeUpdateEmptyCategories(node);\n    });\n\n    this.ownProductionCategorizedList = temp;\n  }\n\n  resetProductPaymentTree(): void {\n    const categories: { name: string, description: string, id: number, level?: number }[] = [];\n\n    this.invoices.forEach(invoice => {\n      const purchaseCategory = invoice.purchase_category;\n\n      if (purchaseCategory) {\n        const isAdded = categories.findIndex(el => el.id === purchaseCategory.id);\n        if (isAdded < 0) {\n          categories.push({\n            name: purchaseCategory.name,\n            id: purchaseCategory.id,\n            description: purchaseCategory.description\n          });\n        }\n      } else {\n        if (invoice.order.accounting_type === 1) {\n          const isAdded = categories.findIndex(el => el.id === -2);\n          if (isAdded < 0) {\n            categories.push({name: 'Production Lists Procurement', id: -2, description: '', level: 0});\n          }\n        }\n        if (invoice.order.accounting_type === 2) {\n          const isAdded = categories.findIndex(el => el.id === -1);\n          if (isAdded < 0) {\n            categories.push({name: 'Outsourcing', id: -1, description: '', level: 0});\n          }\n        }\n      }\n    });\n\n    this.invoiceTree = [];\n\n    categories.sort((a, b) => a.id - b.id);\n    categories.forEach(cat => {\n      this.invoiceTree.push({\n        data: <any>cat,\n        expanded: false,\n        parent: null\n      });\n    });\n\n    this.createPaymentTree();\n  }\n\n  createPaymentTree() {\n    this.invoiceTree = this.invoiceTree.map(node => {\n      return {\n        ...node,\n        children: []\n      };\n    });\n\n    this.invoiceTree.forEach(node => {\n      this.invoices.filter(invoice => invoice.purchase_category).forEach(invoice => {\n\n        const purchaseCategory = invoice.purchase_category;\n        if (purchaseCategory) {\n          if (purchaseCategory.id === node.data.id) {\n            node.children.push({\n              data: invoice,\n              expanded: false,\n              children: []\n            });\n          }\n        }\n      });\n\n      // Preparing Manufacturing Procurement\n      if (node.data.id === -2) {\n        const manProc = this.invoices.filter(invoice => !invoice.purchase_category && invoice.order.accounting_type === 1);\n        node.children = cloneDeep(this.categories);\n        this.prepareInnerTreeCategories(manProc, node);\n      }\n\n      // Preparing Outsourcing\n      if (node.data.id === -1) {\n        const outsourcing = this.invoices.filter(invoice => !invoice.purchase_category && invoice.order.accounting_type === 2);\n        node.children = cloneDeep(this.categories);\n        this.prepareInnerTreeCategories(outsourcing, node);\n      }\n    });\n\n    this.separatePurchasedAndManufactured();\n  }\n\n  prepareInnerTreeCategories(invoices: Invoice[], nodeInner: TreeNode): void {\n    const categoriesTemp: { id: number, level: number, parentId: number, name: string }[] = [];\n\n    invoices.forEach(order => {\n      order.unique_root_production_plans.forEach(plan => {\n        if (plan.root_nomenclature) {\n          const rootCatId = plan.root_nomenclature.root_category.id;\n          const rootCatName = plan.root_nomenclature.root_category.name;\n          const rootLevel = 1;\n\n          const catId = plan.root_nomenclature.id;\n          const catName = plan.root_nomenclature.name;\n          const catLevel = 2;\n\n          const rootExistsIndex = categoriesTemp.findIndex(cat => cat.id === rootCatId && rootLevel === cat.level);\n\n          if (rootExistsIndex < 0) {\n            categoriesTemp.push({\n              id: rootCatId,\n              level: rootLevel,\n              name: rootCatName,\n              parentId: null\n            });\n          }\n\n          const catExistsIndex = categoriesTemp.findIndex(cat => cat.id === catId && catLevel === cat.level);\n\n          if (catExistsIndex < 0) {\n            categoriesTemp.push({\n              id: catId,\n              level: catLevel,\n              name: catName,\n              parentId: rootCatId\n            });\n          }\n        } else {\n          const indexNoNomenclature = categoriesTemp.findIndex(cat => cat.id === -2);\n          if (indexNoNomenclature < 0) {\n            categoriesTemp.push({\n              id: -2,\n              level: 1,\n              name: 'No root nomenclature',\n              parentId: null\n            });\n          }\n        }\n      });\n\n      if (order.unique_root_production_plans.length < 1) {\n        const noCategoryIndex = nodeInner.children.findIndex(node => node.data.id === -1);\n\n        if (noCategoryIndex < 0) {\n          nodeInner.children.push({\n            data: {\n              id: -1,\n              level: 1,\n              name: 'No Root List',\n              parentId: null\n            },\n            expanded: false,\n            children: [\n              {\n                data: {order, plan: null, level: 4},\n                expanded: false,\n                children: []\n              }]\n          });\n        } else {\n          nodeInner.children[noCategoryIndex].children.push(\n            {\n              data: {order, plan: null, level: 4},\n              expanded: false,\n              children: []\n            }\n          );\n        }\n      }\n    });\n\n    const temp = cloneDeep(nodeInner.children);\n    temp.forEach(node => {\n      this.appendCategories(node, categoriesTemp);\n    });\n\n    temp.forEach(node => {\n      this.fillWithTheData(node, invoices);\n    });\n\n    temp.forEach(node => {\n      this.removeUpdateEmptyCategories(node);\n    });\n\n    nodeInner.children = temp;\n  }\n\n  separatePurchasedAndManufactured(): void {\n    this.invoicePurchasedTree = this.invoiceTree.filter(invoice => invoice.data.id >= 0);\n    this.invoiceManufacturedTree = this.invoiceTree.filter(invoice => invoice.data.id < 0);\n\n    console.log(this.invoiceTree);\n  }\n\n  appendCategories(node: TreeNode, categoriesTemp: { id: number, level: number, parentId: number, name: string }[]): void {\n    if (!node.children) {\n      node.children = [];\n    }\n\n    categoriesTemp.forEach(cat => {\n      if (cat.parentId === node.data.id) {\n        node.children.push({\n          data: {\n            id: cat.id,\n            name: cat.name,\n            level: cat.level,\n            parentId: cat.parentId,\n            isCategory: true,\n            categories: 0\n          },\n          expanded: false,\n          children: []\n        });\n      }\n    });\n\n    if (node.children) {\n      node.children.forEach(childNode => {\n        this.appendCategories(childNode, categoriesTemp);\n      });\n    }\n  }\n\n  fillWithTheData(node: TreeNode, orders): void {\n    if (!node.children) {\n      node.children = [];\n    }\n\n    if (node.data.isCategory) {\n      orders.forEach(order => {\n        order.unique_root_production_plans.forEach(plan => {\n          if (plan.root_nomenclature) {\n            const catId = plan.root_nomenclature.id;\n            if (node.data.id === catId) {\n              const existingCatChildIndex = node.children.findIndex(cat => cat.data.id === plan.list_product.nomenclature.id);\n\n              if (existingCatChildIndex < 0) {\n                node.children.push({\n                  data: {\n                    id: plan.list_product.nomenclature.id,\n                    name: plan.list_product.nomenclature.name,\n                    level: 3,\n                    categories: 0,\n                  },\n                  expanded: false,\n                  children: [{\n                    data: {order, plan, level: 4},\n                    expanded: false,\n                    children: []\n                  }]\n                });\n              } else {\n                node.children[existingCatChildIndex].children.push({\n                  data: {order, plan, level: 4},\n                  expanded: false,\n                  children: []\n                });\n              }\n            }\n          }\n        });\n      });\n    }\n    if (node.children) {\n      node.children.forEach(childNode => {\n        this.fillWithTheData(childNode, orders);\n      });\n    }\n  }\n\n  removeUpdateEmptyCategories(node: TreeNode): void {\n    if (!node.data.isCategory && !node.data.order) {\n      let hideFromTable = true;\n      const hasContent = node.children.filter(child => child.data.order).length > 0;\n      if (hasContent) {\n        hideFromTable = false;\n      }\n      node.children.forEach(childNode => {\n        checkForContent(childNode);\n      });\n\n      function checkForContent(childNode) {\n        if (hideFromTable) {\n          const hasContentInner = childNode.children.filter(child => child.data.order).length > 0;\n          if (hasContentInner) {\n            hideFromTable = false;\n          }\n        }\n        childNode.children.forEach(childNode2 => {\n          checkForContent(childNode2);\n        });\n      }\n\n      node.data.hideFromTable = hideFromTable;\n    }\n\n    node.data.categories = node.children.length;\n    if (node.children) {\n      node.children.forEach((childNode, indexChild) => {\n        this.removeUpdateEmptyCategories(childNode);\n      });\n    }\n  }\n\n  expandCollapseAllInvoices(isToExpand = true): void {\n    const temp = cloneDeep(this.invoiceManufacturedTree);\n    temp.forEach(node => {\n      this.expandCollapseRecursive(node, isToExpand);\n    });\n    this.invoiceManufacturedTree = temp;\n  }\n\n  expandCollapseRecursive(node: TreeNode, isExpand: boolean): void {\n    node.expanded = isExpand;\n    if (node.children) {\n      node.children.forEach(childNode => {\n        this.expandCollapseRecursive(childNode, isExpand);\n      });\n    }\n  }\n\n  expandCollapseAllOrders(isToExpand = true): void {\n    const temp = cloneDeep(this.ownProductionCategorizedList);\n    temp.forEach(node => {\n      this.expandCollapseRecursive(node, isToExpand);\n    });\n    this.ownProductionCategorizedList = temp;\n  }\n\n  expandCollapsePurchasedInvoices(isToExpand = true): void {\n    const temp = cloneDeep(this.invoicePurchasedTree);\n    temp.forEach(node => {\n      this.expandCollapseRecursive(node, isToExpand);\n    });\n    this.invoicePurchasedTree = temp;\n  }\n\n  onSelectInvoiceType(view: ViewType) {\n    this.invoicesViewType = view;\n  }\n\n  onSelectOrderType(view: ViewType) {\n    this.invoicesOrderType = view;\n  }\n\n  onSelectPurchaseType(view: ViewType) {\n    this.invoicesPurchasedType = view;\n  }\n\n  test() {\n    console.log(this.selectedInvoiceItem);\n  }\n}\n","<div class=\"page\">\n  <div class=\"page__header\">\n    <div class=\"page__title\">\n      <pek-module-icon [module]=\"'warehouse'\" [isActive]=\"true\"></pek-module-icon>\n      <h1>QC-Warehouse</h1>\n    </div>\n  </div>\n</div>\n\n<div class=\"page__content\">\n  <div class=\"page__tabs\">\n    <p-tabView class=\"custom-tabs\">\n      <p-tabPanel header=\"Production Lists Procurement and Outsourcing Invoices\" [selected]=\"true\">\n        <ng-container *ngIf=\"invoicesViewType === 'list'\">\n          <div class=\"page__table\">\n            <p-table\n              #dt\n              selectionMode=\"single\"\n              scrollHeight=\"calc(100vh - 18.8rem)\"\n              dataKey=\"id\"\n              [scrollable]=\"true\"\n              [paginator]=\"invoicesList.length > 0\"\n              [rows]=\"10\"\n              [(selection)]=\"selectedInvoiceItem\"\n              [value]=\"invoicesList\"\n            >\n              <ng-template pTemplate=\"caption\">\n                <div class=\"d-flex\">\n                  <p\n                    class=\"subtitle\"\n                    *ngIf=\"!selectedInvoiceItem\">\n                    Choose the Production Lists Procurement or Outsourcing Invoice to view Items\n                  </p>\n\n                  <a\n                    pButton\n                    type=\"button\"\n                    icon=\"pi pi-bars\"\n                    label=\"Items\"\n                    class=\"ml-auto mr-2\"\n                    [class.disabled]=\"!selectedInvoiceItem\"\n                    [routerLink]=\"['invoice', selectedInvoiceItem?.id]\"\n                  ></a>\n                  <button\n                    [disabled]=\"invoicesViewType === 'list'\"\n                    pButton\n                    type=\"button\"\n                    class=\"mr-2\"\n                    label=\"List\"\n                    icon=\"pi pi-list\"\n                    (click)=\"onSelectInvoiceType('list')\"\n                  ></button>\n                  <button\n                    pButton\n                    type=\"button\"\n                    label=\"Hierarchy\"\n                    icon=\"pi pi-table\"\n                    (click)=\"onSelectInvoiceType('hierarchy')\"\n                  ></button>\n                </div>\n              </ng-template>\n              <ng-template pTemplate=\"header\">\n                <tr>\n                  <th style=\"width: 5%;\" class=\"text-center\">#</th>\n                  <th style=\"width: 25%\" class=\"text-center\">Date</th>\n                  <th style=\"width: 10%\" class=\"text-center\">Invoice Number</th>\n                  <th style=\"width: 15%\" class=\"text-center\">Supplier</th>\n                  <th style=\"width: 10%\" class=\"text-center\">Order ID</th>\n                  <th style=\"width: 15%\" class=\"text-center\">Items Reception Date</th>\n                  <th style=\"width: 20%\">Root List</th>\n                </tr>\n              </ng-template>\n              <ng-template pTemplate=\"body\" let-invoice let-i=\"rowIndex\">\n                <tr [pSelectableRow]=\"invoice\">\n                  <td style=\"width: 5%\" class=\"text-center\">\n                    {{i + 1}}\n                  </td>\n                  <td style=\"width: 25%\" class=\"text-center\">\n                    {{invoice.system_creation_date | date:'dd/MM/yyyy'}}\n                  </td>\n                  <td style=\"width: 10%\" class=\"text-center\">\n                    {{invoice.self_serial_number}} {{invoice.self_proforma_serial_number}}\n                  </td>\n                  <td style=\"width: 15%\" class=\"text-center\">\n                    {{invoice.supplier?.name}}\n                  </td>\n                  <td style=\"width: 10%\" class=\"text-center\">\n                    {{invoice.order?.id}}\n                  </td>\n                  <td style=\"width: 15%\" class=\"text-center\">\n                    {{invoice.items_reception_date | date: 'dd/MM/yyyy'}}\n                  </td>\n                  <td style=\"width: 20%\">\n                    <ng-container *ngIf=\"invoice.root_production_plans.length > 0\">\n                      {{invoice.root_production_plans[0].list_product.nomenclature.code}}\n                      ~{{invoice.root_production_plans[0].list_product.nomenclature.name}}\n                    </ng-container>\n                  </td>\n                </tr>\n              </ng-template>\n              <ng-template pTemplate=\"emptymessage\">\n                <tr>\n                  <td class=\"text-center p-4\" [attr.colspan]=\"7\">\n                    <i *ngIf=\"isLoading\" class=\"pi pi-spin pi-spinner\" style=\"font-size: 2.25rem\"></i>\n                    <span *ngIf=\"!isLoading\">No Records Found</span>\n                  </td>\n                </tr>\n              </ng-template>\n              <ng-template pTemplate=\"paginatorright\">\n                <p-button\n                  type=\"button\"\n                  (click)=\"dt.paginator=false\"\n                  styleClass=\"p-button-text\"\n                >All\n                </p-button>\n              </ng-template>\n            </p-table>\n          </div>\n          <div *ngIf=\"!dt.paginator && !isLoading && invoicesList.length > 0\" class=\"paginator-return-pagination\">\n            <p-button\n              type=\"button\"\n              (click)=\"dt.paginator=true\"\n              styleClass=\"p-button-text\"\n            >\n              Return pagination\n            </p-button>\n          </div>\n        </ng-container>\n        <ng-container *ngIf=\"invoicesViewType === 'hierarchy'\">\n          <div class=\"page__table\">\n            <p-treeTable\n              [value]=\"invoiceManufacturedTree\"\n              [scrollable]=\"true\"\n              selectionMode=\"single\"\n              scrollHeight=\"calc(100vh - 21.85rem)\"\n              [(selection)]=\"selectedInvoiceNode\"\n            >\n              <ng-template pTemplate=\"caption\">\n                <div class=\"d-flex\">\n                  <p\n                    class=\"subtitle\"\n                    *ngIf=\"!selectedInvoiceNode\">\n                    Choose the Production Lists Procurement or Outsourcing Invoice to view Items\n                  </p>\n                  <a\n                    pButton\n                    type=\"button\"\n                    icon=\"pi pi-bars\"\n                    label=\"Items\"\n                    class=\"ml-auto mr-2\"\n                    [class.disabled]=\"!selectedInvoiceNode\"\n                    [routerLink]=\"['invoice', selectedInvoiceNode?.data.order ? selectedInvoiceNode?.data.order.id : selectedInvoiceNode?.data.id]\"\n                    (click)=\"expandCollapseAllInvoices()\"\n                  ></a>\n                  <button\n                    pButton\n                    type=\"button\"\n                    icon=\"pi pi-angle-down\"\n                    label=\"Expand All\"\n                    class=\"mr-2\"\n                    (click)=\"expandCollapseAllInvoices()\"\n                  ></button>\n                  <button\n                    pButton\n                    type=\"button\"\n                    icon=\"pi pi-angle-up\"\n                    class=\"mr-2\"\n                    label=\"Collapse All\"\n                    (click)=\"expandCollapseAllInvoices(false)\"\n                  ></button>\n                  <button\n                    pButton\n                    type=\"button\"\n                    class=\"mr-2\"\n                    label=\"List\"\n                    icon=\"pi pi-list\"\n                    (click)=\"onSelectInvoiceType('list')\"\n                  ></button>\n                  <button\n                    [disabled]=\"invoicesViewType === 'hierarchy'\"\n                    pButton\n                    type=\"button\"\n                    label=\"Hierarchy\"\n                    icon=\"pi pi-table\"\n                    (click)=\"onSelectInvoiceType('hierarchy')\"\n                  ></button>\n                </div>\n              </ng-template>\n              <ng-template pTemplate=\"header\">\n                <tr>\n                  <th style=\"width: 30%; padding-left: 19px\">Date</th>\n                  <th style=\"width: 10%\" class=\"text-center\">Invoice Number</th>\n                  <th style=\"width: 15%\" class=\"text-center\">Supplier</th>\n                  <th style=\"width: 10%\" class=\"text-center\">Order ID</th>\n                  <th style=\"width: 15%\" class=\"text-center\">Items Reception Date</th>\n                  <th style=\"width: 20%\">Root List</th>\n                </tr>\n              </ng-template>\n              <ng-template\n                pTemplate=\"body\"\n                let-invoiceNode\n                let-invoice=\"rowData\"\n              >\n                <tr\n                  [ttRow]=\"invoiceNode\"\n                  [ttSelectableRowDisabled]=\"!invoice.order && !invoice.level || invoice.level < 4\"\n                  [ttSelectableRow]=\"invoiceNode\"\n                  *ngIf=\"!invoice.hideFromTable\"\n                >\n                  <td style=\"width: 30%\" [class.text-center]=\"invoice.order\">\n                    <div class=\"table-toggle\">\n                      <p-treeTableToggler [rowNode]=\"invoiceNode\"></p-treeTableToggler>\n                      <ng-container *ngIf=\"!invoice.order\">\n                        <p [class.category-name]=\"invoice.level === 0 && invoice.hideFromTable !== false\">\n                          {{invoice.name}}\n                          <span *ngIf=\"invoice.description\">({{invoice.description}})</span>\n                          <i\n                            *ngIf=\"invoice.level < 4 && invoice.level > 0\"\n                            style=\"font-style: normal\"\n                          >\n                            ({{invoice.categories}})\n                          </i>\n                        </p>\n                      </ng-container>\n                      <ng-container *ngIf=\"invoice.level === 4\">\n                        <p>{{invoice.order.system_creation_date | date:'dd/MM/yyyy'}}</p>\n                      </ng-container>\n                    </div>\n                  </td>\n                  <td style=\"width: 10%\" class=\"text-center\">\n                    <span\n                      *ngIf=\"invoice.level === 4\"\n                      [class.text-warning]=\"invoice.order.unique_root_production_plans.length > 1\"\n                    >\n                    {{invoice.order.self_serial_number}} {{invoice.order.self_proforma_serial_number}}\n                    </span>\n                  </td>\n                  <td style=\"width: 15%\" class=\"text-center\">\n                    <ng-container *ngIf=\"invoice.order\">\n                      {{invoice.supplier?.name}}\n                    </ng-container>\n                    <span *ngIf=\"invoice.level === 4\">\n                    {{invoice.order.supplier?.name}}\n                  </span>\n                  </td>\n                  <td style=\"width: 10%\" class=\"text-center\">\n                  <span *ngIf=\"invoice.level === 4\">\n                    {{invoice.order.order?.id}}\n                  </span>\n                  </td>\n                  <td style=\"width: 15%\" class=\"text-center\">\n                    <ng-container *ngIf=\"invoice.order\">\n                      {{invoice.order.items_reception_date | date: 'dd/MM/yyyy'}}\n                    </ng-container>\n                  </td>\n                  <td style=\"width: 20%\">\n                  <span *ngIf=\"invoice.level === 4 && invoice.plan\">\n                    {{invoice.plan.list_product.nomenclature.code}}~{{invoice.plan.list_product.nomenclature.name}}\n                  </span>\n                  </td>\n                </tr>\n              </ng-template>\n              <ng-template pTemplate=\"emptymessage\">\n                <tr>\n                  <td class=\"text-center p-4\" [attr.colspan]=\"6\">\n                    <i *ngIf=\"isLoading\" class=\"pi pi-spin pi-spinner\" style=\"font-size: 2.25rem\"></i>\n                    <span *ngIf=\"!isLoading\">No Records Found</span>\n                  </td>\n                </tr>\n              </ng-template>\n            </p-treeTable>\n          </div>\n        </ng-container>\n      </p-tabPanel>\n      <p-tabPanel header=\"Own Production Invoices\">\n        <ng-container *ngIf=\"invoicesOrderType === 'list'\">\n          <div class=\"page__table\">\n            <p-table\n              #ot\n              selectionMode=\"single\"\n              scrollHeight=\"calc(100vh - 18.8rem)\"\n              dataKey=\"id\"\n              [scrollable]=\"true\"\n              [paginator]=\"ordersList.length > 0\"\n              [rows]=\"10\"\n              [(selection)]=\"selectedOrderItem\"\n              [value]=\"ordersList\"\n            >\n              <ng-template pTemplate=\"caption\">\n                <div class=\"d-flex\">\n                  <p\n                    class=\"subtitle\"\n                    *ngIf=\"!selectedOrderItem\">\n                    Сhoose the Own Production Invoice to view Items\n                  </p>\n\n                  <a\n                    pButton\n                    type=\"button\"\n                    icon=\"pi pi-bars\"\n                    label=\"Items\"\n                    class=\"ml-auto mr-2\"\n                    [class.disabled]=\"!selectedOrderItem\"\n                    [routerLink]=\"['order', selectedOrderItem?.id]\"\n                  ></a>\n                  <button\n                    [disabled]=\"invoicesOrderType === 'list'\"\n                    pButton\n                    type=\"button\"\n                    class=\"mr-2\"\n                    label=\"List\"\n                    icon=\"pi pi-list\"\n                    (click)=\"onSelectOrderType('list')\"\n                  ></button>\n                  <button\n                    pButton\n                    type=\"button\"\n                    label=\"Hierarchy\"\n                    icon=\"pi pi-table\"\n                    (click)=\"onSelectOrderType('hierarchy')\"\n                  ></button>\n                </div>\n              </ng-template>\n              <ng-template pTemplate=\"header\">\n                <tr>\n                  <th style=\"width: 5%;\" class=\"text-center\">#</th>\n                  <th style=\"width: 50%\" class=\"text-center\">\n                    Date\n                  </th>\n                  <th style=\"width: 10%\" class=\"text-center\">Order ID</th>\n                  <th style=\"width: 15%;\" class=\"text-center\">Items Reception Date</th>\n                  <th style=\"width: 20%;\">Root List</th>\n                </tr>\n              </ng-template>\n              <ng-template pTemplate=\"body\" let-order let-i=\"rowIndex\">\n                <tr [pSelectableRow]=\"order\">\n                  <td class=\"text-center\">{{i + 1}}</td>\n                  <td style=\"width: 50%\" class=\"text-center\">\n                    {{order?.created | date:'dd/MM/yyyy'}}\n                  </td>\n                  <td style=\"width: 10%\" class=\"text-center\">\n                    {{order.id}}\n                  </td>\n                  <td style=\"width: 15%;\" class=\"text-center\">\n                    {{order.items_reception_date | date: 'dd/MM/yyyy'}}\n                  </td>\n\n                  <td style=\"width: 20%;\">\n                    <!--                      {{rowData.plan.list_product.nomenclature.code}}~{{rowData.plan.list_product.nomenclature.name}}-->\n                  </td>\n                </tr>\n              </ng-template>\n              <ng-template pTemplate=\"emptymessage\">\n                <tr>\n                  <td class=\"text-center p-4\" [attr.colspan]=\"7\">\n                    <i *ngIf=\"isLoading\" class=\"pi pi-spin pi-spinner\" style=\"font-size: 2.25rem\"></i>\n                    <span *ngIf=\"!isLoading\">No Records Found</span>\n                  </td>\n                </tr>\n              </ng-template>\n              <ng-template pTemplate=\"paginatorright\">\n                <p-button\n                  type=\"button\"\n                  (click)=\"ot.paginator=false\"\n                  styleClass=\"p-button-text\"\n                >All\n                </p-button>\n              </ng-template>\n            </p-table>\n          </div>\n          <div *ngIf=\"!ot.paginator && !isLoading && ordersList.length > 0\" class=\"paginator-return-pagination\">\n            <p-button\n              type=\"button\"\n              (click)=\"ot.paginator=true\"\n              styleClass=\"p-button-text\"\n            >\n              Return pagination\n            </p-button>\n          </div>\n        </ng-container>\n        <ng-container *ngIf=\"invoicesOrderType === 'hierarchy'\">\n          <div class=\"page__table\">\n            <p-treeTable\n              [value]=\"ownProductionCategorizedList\"\n              selectionMode=\"single\"\n              scrollHeight=\"calc(100vh - 21.85rem)\"\n              [(selection)]=\"selectedOrderNode\"\n              [scrollable]=\"true\"\n            >\n              <ng-template pTemplate=\"caption\">\n                <div class=\"d-flex\">\n                  <p\n                    class=\"subtitle\"\n                    *ngIf=\"!selectedOrderNode\">\n                    Choose the Own Production Invoice to view Items\n                  </p>\n\n                  <a\n                    pButton\n                    type=\"button\"\n                    icon=\"pi pi-bars\"\n                    label=\"Items\"\n                    class=\"ml-auto mr-2\"\n                    [class.disabled]=\"!selectedOrderNode\"\n                    [routerLink]=\"['order', selectedOrderNode?.data.order.id]\"\n                  ></a>\n                  <button\n                    pButton\n                    type=\"button\"\n                    icon=\"pi pi-angle-down\"\n                    label=\"Expand All\"\n                    class=\"mr-2\"\n                    (click)=\"expandCollapseAllOrders()\"\n                  ></button>\n                  <button\n                    pButton\n                    type=\"button\"\n                    icon=\"pi pi-angle-up\"\n                    class=\"mr-2\"\n                    label=\"Collapse All\"\n                    (click)=\"expandCollapseAllOrders(false)\"\n                  ></button>\n                  <button\n                    pButton\n                    type=\"button\"\n                    class=\"mr-2\"\n                    label=\"List\"\n                    icon=\"pi pi-list\"\n                    (click)=\"onSelectOrderType('list')\"\n                  ></button>\n                  <button\n                    [disabled]=\"invoicesOrderType === 'hierarchy'\"\n                    pButton\n                    type=\"button\"\n                    label=\"Hierarchy\"\n                    icon=\"pi pi-table\"\n                    (click)=\"onSelectOrderType('hierarchy')\"\n                  ></button>\n                </div>\n              </ng-template>\n              <ng-template pTemplate=\"header\">\n                <tr>\n                  <th style=\"width: 55%; padding-left: 19px\">\n                    Date\n                  </th>\n                  <th style=\"width: 10%\" class=\"text-center\">Order ID</th>\n                  <th style=\"width: 15%;\" class=\"text-center\">Items Reception Date</th>\n                  <th style=\"width: 20%;\">Root List</th>\n                </tr>\n              </ng-template>\n              <ng-template pTemplate=\"body\" let-rowNode let-rowData=\"rowData\">\n                <tr\n                  [ttRow]=\"rowNode\"\n                  [ttSelectableRow]=\"rowNode\"\n                  [ttSelectableRowDisabled]=\"rowData.level < 4\"\n                  *ngIf=\"!rowData.hideFromTable\"\n                >\n                  <td style=\"width: 55%\" class=\"text-center\">\n                    <div class=\"table-toggle\">\n                      <p-treeTableToggler [rowNode]=\"rowNode\"></p-treeTableToggler>\n                      <span [class.category-name]=\"!rowData.level\">\n                      {{rowData.name}}\n\n                        <i *ngIf=\"rowData.level < 4\" style=\"font-style: normal\">\n                        ({{rowData.categories}})\n                      </i>\n                    </span>\n                      <span *ngIf=\"rowData.order\">\n                      {{rowData.order?.created | date:'dd/MM/yyyy'}}\n                    </span>\n                    </div>\n                  </td>\n                  <td style=\"width: 10%\" class=\"text-center\">\n                  <span\n                    *ngIf=\"rowData.order\"\n                    [class.text-warning]=\"rowData.order.unique_root_production_plans.length > 1\"\n                  >\n                    {{rowData.order.id}}\n                  </span>\n                  </td>\n                  <td style=\"width: 15%;\" class=\"text-center\">\n                    <ng-container *ngIf=\"rowData.order\">\n                      {{rowData.order.items_reception_date | date: 'dd/MM/yyyy'}}\n                    </ng-container>\n                  </td>\n\n                  <td style=\"width: 20%;\">\n                    <ng-container *ngIf=\"rowData.order && rowData.plan\">\n                      {{rowData.plan.list_product.nomenclature.code}}~{{rowData.plan.list_product.nomenclature.name}}\n                    </ng-container>\n                  </td>\n                </tr>\n              </ng-template>\n              <ng-template pTemplate=\"emptymessage\">\n                <tr>\n                  <td class=\"text-center p-4\" [attr.colspan]=\"6\">\n                    <i *ngIf=\"isLoading\" class=\"pi pi-spin pi-spinner\" style=\"font-size: 2.25rem\"></i>\n                    <span *ngIf=\"!isLoading\">No Records Found</span>\n                  </td>\n                </tr>\n              </ng-template>\n            </p-treeTable>\n          </div>\n        </ng-container>\n      </p-tabPanel>\n      <p-tabPanel header=\"General Procurement Invoices\">\n        <ng-container *ngIf=\"invoicesPurchasedType === 'list'\">\n          <div class=\"page__table\">\n            <p-table\n              #pt\n              selectionMode=\"single\"\n              scrollHeight=\"calc(100vh - 18.8rem)\"\n              dataKey=\"id\"\n              [scrollable]=\"true\"\n              [paginator]=\"purchasedInvoicesList.length > 0\"\n              [rows]=\"10\"\n              [(selection)]=\"selectedInvoicePurchaseItem\"\n              [value]=\"purchasedInvoicesList\"\n            >\n              <ng-template pTemplate=\"caption\">\n                <div class=\"d-flex\">\n                  <p\n                    class=\"subtitle\"\n                    *ngIf=\"!selectedInvoicePurchaseItem\">\n                    Choose the General Procurement Invoice to view Items\n                  </p>\n\n                  <a\n                    pButton\n                    type=\"button\"\n                    icon=\"pi pi-bars\"\n                    label=\"Items\"\n                    class=\"ml-auto mr-2\"\n                    [class.disabled]=\"!selectedInvoicePurchaseItem\"\n                    [routerLink]=\"['invoice', selectedInvoicePurchaseItem?.id]\"\n                  ></a>\n                  <button\n                    [disabled]=\"invoicesPurchasedType=== 'list'\"\n                    pButton\n                    type=\"button\"\n                    class=\"mr-2\"\n                    label=\"List\"\n                    icon=\"pi pi-list\"\n                    (click)=\"onSelectPurchaseType('list')\"\n                  ></button>\n                  <button\n                    pButton\n                    type=\"button\"\n                    label=\"Hierarchy\"\n                    icon=\"pi pi-table\"\n                    (click)=\"onSelectPurchaseType('hierarchy')\"\n                  ></button>\n                </div>\n              </ng-template>\n              <ng-template pTemplate=\"header\">\n                <tr>\n                  <th style=\"width: 5%;\" class=\"text-center\">#</th>\n                  <th style=\"width: 25%\" class=\"text-center\">Date</th>\n                  <th style=\"width: 10%\" class=\"text-center\">Invoice Number</th>\n                  <th style=\"width: 15%\" class=\"text-center\">Supplier</th>\n                  <th style=\"width: 10%\" class=\"text-center\">Order ID</th>\n                  <th style=\"width: 15%\" class=\"text-center\">Items Reception Date</th>\n                  <th style=\"width: 20%\">Root List</th>\n                </tr>\n              </ng-template>\n              <ng-template pTemplate=\"body\" let-invoice let-i=\"rowIndex\">\n                <tr [pSelectableRow]=\"invoice\">\n                  <td style=\"width: 5%\" class=\"text-center\">\n                    {{i + 1}}\n                  </td>\n                  <td style=\"width: 25%\" class=\"text-center\">\n                    {{invoice.system_creation_date | date:'dd/MM/yyyy'}}\n                  </td>\n                  <td style=\"width: 10%\" class=\"text-center\">\n                    {{invoice.self_serial_number}} {{invoice.self_proforma_serial_number}}\n                  </td>\n                  <td style=\"width: 15%\" class=\"text-center\">\n                    {{invoice.supplier?.name}}\n                  </td>\n                  <td style=\"width: 10%\" class=\"text-center\">\n                    {{invoice.order?.id}}\n                  </td>\n                  <td style=\"width: 15%\" class=\"text-center\">\n                    {{invoice.items_reception_date | date: 'dd/MM/yyyy'}}\n                  </td>\n                  <td style=\"width: 20%\">\n                    <ng-container *ngIf=\"invoice.root_production_plans.length > 0\">\n                      {{invoice.root_production_plans[0].list_product.nomenclature.code}}\n                      ~{{invoice.root_production_plans[0].list_product.nomenclature.name}}\n                    </ng-container>\n                  </td>\n                </tr>\n              </ng-template>\n              <ng-template pTemplate=\"emptymessage\">\n                <tr>\n                  <td class=\"text-center p-4\" [attr.colspan]=\"7\">\n                    <i *ngIf=\"isLoading\" class=\"pi pi-spin pi-spinner\" style=\"font-size: 2.25rem\"></i>\n                    <span *ngIf=\"!isLoading\">No Records Found</span>\n                  </td>\n                </tr>\n              </ng-template>\n              <ng-template pTemplate=\"paginatorright\">\n                <p-button\n                  type=\"button\"\n                  (click)=\"pt.paginator=false\"\n                  styleClass=\"p-button-text\"\n                >All\n                </p-button>\n              </ng-template>\n            </p-table>\n          </div>\n          <div *ngIf=\"!pt.paginator && !isLoading && purchasedInvoicesList.length > 0\" class=\"paginator-return-pagination\">\n            <p-button\n              type=\"button\"\n              (click)=\"pt.paginator=true\"\n              styleClass=\"p-button-text\"\n            >\n              Return pagination\n            </p-button>\n          </div>\n        </ng-container>\n        <ng-container *ngIf=\"invoicesPurchasedType === 'hierarchy'\">\n          <div class=\"page__table\">\n            <p-treeTable\n              [value]=\"invoicePurchasedTree\"\n              [scrollable]=\"true\"\n              selectionMode=\"single\"\n              scrollHeight=\"calc(100vh - 21.85rem)\"\n              [(selection)]=\"selectedPurchasedInvoiceNode\"\n            >\n              <ng-template pTemplate=\"caption\">\n                <div class=\"d-flex\">\n                  <p\n                    class=\"subtitle\"\n                    *ngIf=\"!selectedOrderNode\">\n                    Choose the General Procurement Invoice to view Items\n                  </p>\n\n                  <a\n                    pButton\n                    type=\"button\"\n                    icon=\"pi pi-bars\"\n                    label=\"Items\"\n                    class=\"ml-auto mr-2\"\n                    [class.disabled]=\"!selectedPurchasedInvoiceNode\"\n                    [routerLink]=\"['invoice', selectedPurchasedInvoiceNode?.data.invoice ? selectedPurchasedInvoiceNode?.data.invoice.id :selectedPurchasedInvoiceNode?.data.id]\"\n                  ></a>\n                  <button\n                    pButton\n                    type=\"button\"\n                    icon=\"pi pi-angle-down\"\n                    label=\"Expand All\"\n                    class=\"mr-2\"\n                    (click)=\"expandCollapsePurchasedInvoices()\"\n                  ></button>\n                  <button\n                    pButton\n                    type=\"button\"\n                    class=\"mr-2\"\n                    icon=\"pi pi-angle-up\"\n                    label=\"Collapse All\"\n                    (click)=\"expandCollapsePurchasedInvoices(false)\"\n                  ></button>\n                  <button\n                    pButton\n                    type=\"button\"\n                    class=\"mr-2\"\n                    label=\"List\"\n                    icon=\"pi pi-list\"\n                    (click)=\"onSelectPurchaseType('list')\"\n                  ></button>\n                  <button\n                    [disabled]=\"invoicesPurchasedType === 'hierarchy'\"\n                    pButton\n                    type=\"button\"\n                    label=\"Hierarchy\"\n                    icon=\"pi pi-table\"\n                    (click)=\"onSelectPurchaseType('hierarchy')\"\n                  ></button>\n                </div>\n              </ng-template>\n              <ng-template pTemplate=\"header\">\n                <tr>\n                  <th style=\"width: 30%; padding-left: 19px\">Date</th>\n                  <th style=\"width: 10%\" class=\"text-center\">Invoice Number</th>\n                  <th style=\"width: 15%\" class=\"text-center\">Supplier</th>\n                  <th style=\"width: 10%\" class=\"text-center\">Order ID</th>\n                  <th style=\"width: 15%\" class=\"text-center\">Items Reception Date</th>\n                  <th style=\"width: 20%\">Root List</th>\n                </tr>\n              </ng-template>\n              <ng-template pTemplate=\"body\" let-invoiceNode let-invoice=\"rowData\">\n                <tr\n                  [ttRow]=\"invoiceNode\"\n                  [ttSelectableRowDisabled]=\"!invoice.order && !invoice.level || invoice.level < 4\"\n                  [ttSelectableRow]=\"invoiceNode\"\n                >\n                  <td style=\"width: 30%\" [class.text-center]=\"invoice.order\">\n                    <div class=\"table-toggle\">\n                      <p-treeTableToggler [rowNode]=\"invoiceNode\"></p-treeTableToggler>\n                      <ng-container *ngIf=\"!invoice.order\">\n                        <p [class.category-name]=\"invoice.level === 0\">{{invoice.name}}\n                          <span *ngIf=\"invoice.description\">({{invoice.description}})</span>\n                          <i *ngIf=\"invoice.level < 4 && invoice.level > 0\" style=\"font-style: normal\">\n                            ({{invoice.categories}})\n                          </i>\n                        </p>\n                      </ng-container>\n                      <ng-container *ngIf=\"invoice.order\">\n                        <p class=\"category-name\">\n                          {{invoice.system_creation_date | date:'dd/MM/yyyy'}}\n                        </p>\n                      </ng-container>\n                      <span *ngIf=\"invoice.level === 4\">\n                      {{invoice.invoice.system_creation_date | date:'dd/MM/yyyy'}}\n                    </span>\n                    </div>\n                  </td>\n                  <td style=\"width: 10%\" class=\"text-center\">\n                    <ng-container *ngIf=\"invoice.order\">\n                      {{invoice.self_serial_number}} {{invoice.self_proforma_serial_number}}\n                    </ng-container>\n                    <span\n                      *ngIf=\"invoice.level === 4\"\n                      [class.text-warning]=\"invoice.invoice.unique_root_production_plans.length > 1\"\n                    >\n                    {{invoice.invoice.self_serial_number}} {{invoice.invoice.self_proforma_serial_number}}\n                  </span>\n                  </td>\n                  <td style=\"width: 15%\" class=\"text-center\">\n                    <ng-container *ngIf=\"invoice.order\">\n                      {{invoice.supplier?.name}}\n                    </ng-container>\n                    <ng-container *ngIf=\"invoice.level === 4\">\n                      {{invoice.invoice.supplier?.name}}\n                    </ng-container>\n                  </td>\n                  <td style=\"width: 10%\" class=\"text-center\">\n                    <ng-container *ngIf=\"invoice.order\">\n                      {{invoice.order?.id}}\n                    </ng-container>\n                    <ng-container *ngIf=\"invoice.level === 4\">\n                      {{invoice.invoice.order?.id}}\n                    </ng-container>\n                  </td>\n                  <td style=\"width: 15%\" class=\"text-center\">\n                    <ng-container *ngIf=\"invoice.order\">\n                      {{invoice.items_reception_date | date: 'dd/MM/yyyy'}}\n                    </ng-container>\n                    <ng-container *ngIf=\"invoice.level === 4\">\n                      {{invoice.invoice.items_reception_date | date: 'dd/MM/yyyy'}}\n                    </ng-container>\n                  </td>\n                  <td style=\"width: 20%\">\n                    <ng-container *ngIf=\"invoice.order\">\n                      <div *ngFor=\"let root_list of invoice.root_production_plans\">\n                        {{root_list.list_product.nomenclature.name}}\n                      </div>\n                    </ng-container>\n                    <ng-container *ngIf=\"invoice.level === 4 && invoice.plan\">\n                      {{invoice.plan.list_product.nomenclature.code}}~{{invoice.plan.list_product.nomenclature.name}}\n                    </ng-container>\n                  </td>\n                </tr>\n              </ng-template>\n              <ng-template pTemplate=\"emptymessage\">\n                <tr>\n                  <td class=\"text-center p-4\" [attr.colspan]=\"6\">\n                    <i *ngIf=\"isLoading\" class=\"pi pi-spin pi-spinner\" style=\"font-size: 2.25rem\"></i>\n                    <span *ngIf=\"!isLoading\">No Records Found</span>\n                  </td>\n                </tr>\n              </ng-template>\n            </p-treeTable>\n          </div>\n        </ng-container>\n      </p-tabPanel>\n    </p-tabView>\n  </div>\n</div>\n","import {Component, OnInit} from '@angular/core';\nimport {SerialType} from '../../models/serial-type';\nimport {MenuItem} from 'primeng/api';\nimport {SerialTypeService} from '../../services/serial-type.service';\nimport {ModalService} from '@shared/services/modal.service';\n\n@Component({\n  selector: 'pek-warehouse-serial-types',\n  templateUrl: './warehouse-serial-types.component.html',\n  styleUrls: ['./warehouse-serial-types.component.scss']\n})\nexport class WarehouseSerialTypesComponent implements OnInit {\n  menuItems: MenuItem[] = [{\n    label: 'Selected Serial Type',\n    items: [\n      {\n        label: 'Edit',\n        icon: 'pi pi-pencil',\n        command: () => this.onEditSerialType()\n      },\n      {\n        label: 'Remove',\n        icon: 'pi pi-trash',\n        command: () => this.onRemoveSerialType()\n      }\n    ]\n  }];\n\n  isLoading = true;\n  serialTypes: SerialType[] = [];\n  selectedSerialType: SerialType;\n\n  constructor(\n    private serialTypeService: SerialTypeService,\n    private readonly modalService: ModalService,\n  ) {\n  }\n\n  ngOnInit(): void {\n    this.getSerialTypes();\n  }\n\n  getSerialTypes() {\n    this.serialTypeService.get().subscribe(serialTypes => {\n      this.serialTypes = serialTypes;\n      this.isLoading = false;\n    })\n  }\n\n  onEditSerialType() {\n    this.serialTypeService.createEditSerialTypeModal('edit', this.selectedSerialType).subscribe(serialTypes => {\n      if (serialTypes) {\n        const index = this.serialTypes.findIndex(t => t.id === this.selectedSerialType.id);\n        this.serialTypes[index] = serialTypes;\n        this.selectedSerialType = this.serialTypes[index];\n      }\n    });\n  }\n\n  onRemoveSerialType() {\n    this.modalService.confirm('danger').subscribe(confirm => {\n      if (confirm) {\n        this.serialTypeService.delete(this.selectedSerialType).subscribe(() => {\n          const index = this.serialTypes.findIndex(w => w.id === this.selectedSerialType.id);\n          this.serialTypes.splice(index, 1);\n          this.selectedSerialType = null;\n        });\n      }\n    });\n  }\n\n  onAddSerialType() {\n    this.serialTypeService.createEditSerialTypeModal('create').subscribe(serialType => {\n      if (serialType) {\n        this.serialTypes.unshift(serialType);\n      }\n    });\n  }\n}\n","<div class=\"page\">\n  <div class=\"page__header\">\n    <div class=\"page__title\">\n      <pek-module-icon [module]=\"'warehouse'\" [isActive]=\"true\"></pek-module-icon>\n      <h1>Serial Number Types</h1>\n    </div>\n    <div class=\"page__tools\">\n      <button pButton type=\"button\" icon=\"pi pi-plus\" label=\"New Serial Type\" (click)=\"onAddSerialType()\"></button>\n    </div>\n  </div>\n</div>\n\n<div class=\"page__content\">\n  <div class=\"page__card\">\n    <div class=\"page__table\">\n      <p-table\n        #dt\n        selectionMode=\"single\"\n        scrollHeight=\"calc(100vh - 18.8rem)\"\n        [scrollable]=\"true\"\n        [paginator]=\"serialTypes.length > 0\"\n        [rows]=\"10\"\n        [(selection)]=\"selectedSerialType\"\n        [value]=\"serialTypes\"\n      >\n        <ng-template pTemplate=\"caption\">\n          <div class=\"d-flex\">\n            <p class=\"subtitle\" *ngIf=\"!selectedSerialType\">Choose the Serial Type to edit</p>\n            <p-menubar class=\"ml-auto\" [model]=\"menuItems\" [class.disabled]=\"!selectedSerialType\"></p-menubar>\n          </div>\n        </ng-template>\n        <ng-template pTemplate=\"header\">\n          <tr>\n            <th style=\"width: 5%\" class=\"text-center\">#</th>\n            <th style=\"width: 35%\">Name</th>\n            <th style=\"width: 20%\" class=\"text-center\">Prefix</th>\n            <th style=\"width: 20%\" class=\"text-center\">Start Number</th>\n            <th style=\"width: 20%\" class=\"text-center\">Suffix</th>\n          </tr>\n        </ng-template>\n        <ng-template pTemplate=\"body\" let-type let-i=\"rowIndex\">\n          <tr [pSelectableRow]=\"type\">\n            <td style=\"width: 5%\" class=\"text-center\">{{i + 1}}</td>\n            <td style=\"width: 35%\">{{type.name}}</td>\n            <td style=\"width: 20%\" class=\"text-center\">{{type.prefix}}</td>\n            <td style=\"width: 20%\" class=\"text-center\">{{type.start_number}}</td>\n            <td style=\"width: 20%\" class=\"text-center\">{{type.suffix}}</td>\n          </tr>\n        </ng-template>\n        <ng-template pTemplate=\"emptymessage\">\n          <tr>\n            <td class=\"text-center p-4\" [attr.colspan]=\"5\">\n              <i *ngIf=\"isLoading\" class=\"pi pi-spin pi-spinner\" style=\"font-size: 2.25rem\"></i>\n              <span *ngIf=\"!isLoading\">No Records Found</span>\n            </td>\n          </tr>\n        </ng-template>\n        <ng-template pTemplate=\"paginatorright\">\n          <p-button\n            type=\"button\"\n            (click)=\"dt.paginator=false\"\n            styleClass=\"p-button-text\"\n          >All\n          </p-button>\n        </ng-template>\n      </p-table>\n    </div>\n    <div *ngIf=\"!dt.paginator && !isLoading && serialTypes.length > 0\" class=\"paginator-return-pagination\">\n      <p-button\n        type=\"button\"\n        (click)=\"dt.paginator=true\"\n        styleClass=\"p-button-text\"\n      >\n        Return pagination\n      </p-button>\n    </div>\n  </div>\n</div>\n","import {Component, Input, OnInit} from '@angular/core';\nimport {AuthService} from '../../../../auth/auth.service';\nimport {Locator} from '../../../models/locator';\nimport {DeliveryChain} from '../../../models/delivery-chain';\n\n@Component({\n  selector: 'pek-warehouse-shipping-request-print',\n  templateUrl: './warehouse-shipping-request-print.component.html',\n  styleUrls: ['./warehouse-shipping-request-print.component.scss']\n})\nexport class WarehouseShippingRequestPrintComponent implements OnInit {\n  @Input() items: any[] = [];\n  @Input() locators: Locator[] = [];\n  @Input() chain: DeliveryChain;\n\n  currentDate = new Date();\n\n  constructor(\n    public readonly auth: AuthService\n  ) { }\n\n  ngOnInit(): void {\n  }\n\n  translateLocator(id: number) {\n    if (!this.locators) {\n      return id;\n    }\n    const locator = this.locators.find(loc => loc.id === id);\n    return `${locator.name} R:${locator.row} C:${locator.column} S:${locator.shelf} P:${locator.place}`;\n  }\n\n}\n","<div class=\"warehouse-shipping-request-print\" *ngIf=\"chain\">\n  <div class=\"warehouse-shipping-request-print__header\">\n    <h2>Delivery Note #{{chain?.serial_number}}</h2>\n    <div class=\"warehouse-shipping-request-print__header-row\">\n      <div class=\"warehouse-shipping-request-print__header-col\">\n        <h4>Pek Automotive d.o.o.</h4>\n        <p>\n          Idrijska cesta 42<br>\n          1360 Vrhnika<br>\n          Slovenija\n        </p>\n      </div>\n      <div class=\"warehouse-shipping-request-print__header-col\">\n        <h4>{{chain?.customer.name}}</h4>\n        <p>{{chain?.customer.address}}</p>\n      </div>\n    </div>\n  </div>\n\n\n  <div class=\"warehouse-shipping-request-print__table\" *ngIf=\"items\">\n    <div\n      *ngFor=\"let item of items\"\n      class=\"warehouse-shipping-request-print__row\"\n    >\n      <div class=\"warehouse-shipping-request-print__box\">\n        <div class=\"warehouse-shipping-request-print__col\">\n          <h3>Serial number</h3>\n          <p>{{item.warehouse_product.serial_number?.type_with_number}}</p>\n        </div>\n        <div class=\"warehouse-shipping-request-print__col\">\n          <h3>Code</h3>\n          <p>{{item.warehouse_product.nomenclature.code}}</p>\n        </div>\n        <div class=\"warehouse-shipping-request-print__col\">\n          <h3>Name</h3>\n          <p>{{item.warehouse_product.nomenclature.name}}</p>\n        </div>\n        <div class=\"warehouse-shipping-request-print__col\">\n          <h3>Quantity</h3>\n          <p>{{item.quantity}}</p>\n        </div>\n        <div class=\"warehouse-shipping-request-print__col\">\n          <h3>Locator</h3>\n          <p>{{ translateLocator(item.warehouse_product.locator) }}</p>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"warehouse-shipping-request-print__bottom\">\n    <div class=\"warehouse-shipping-request-print__column\">\n      <div class=\"warehouse-shipping-request-print__left\">\n        <div>\n          <h3>Sent</h3>\n          <p>{{auth.user.first_name}} {{auth.user.last_name}}</p>\n        </div>\n        <div>\n          <h3>Date</h3>\n          <p>{{currentDate | date: 'dd.MM.y'}}</p>\n        </div>\n        <div>\n          <h3>Signed</h3>\n        </div>\n      </div>\n      <div class=\"warehouse-shipping-request-print__right\">\n        <div>\n          <h3>Retrieved</h3>\n          <p></p>\n        </div>\n        <div>\n          <h3>Date</h3>\n          <p></p>\n        </div>\n        <div>\n          <h3>Signed</h3>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n","import {Component, OnDestroy, OnInit} from '@angular/core';\nimport {DeliveryChain} from '../../../models/delivery-chain';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {DeliveryChainService} from '../../../services/delivery-chain.service';\nimport {finalize, map, tap} from 'rxjs/operators';\nimport {Subject, takeUntil} from 'rxjs';\nimport {environment} from '@env/environment.prod';\nimport {LocatorService} from '../../../services/locator.service';\nimport {Locator} from '../../../models/locator';\nimport {ModalService} from '@shared/services/modal.service';\n\n@Component({\n  selector: 'pek-warehouse-shipping-request',\n  templateUrl: './warehouse-shipping-request.component.html',\n  styleUrls: ['./warehouse-shipping-request.component.scss']\n})\nexport class WarehouseShippingRequestComponent implements OnInit, OnDestroy {\n  isLoading = true;\n\n  chainId: number;\n  chain: DeliveryChain;\n  products: any[] = [];\n  locators: Locator[] = [];\n  link = environment.link_url + 'dash/';\n\n  isCompleting = false;\n\n  private destroy$ = new Subject();\n\n  constructor(\n    private route: ActivatedRoute,\n    private router: Router,\n    private deliveryService: DeliveryChainService,\n    private locatorService: LocatorService,\n    private modalService: ModalService,\n  ) {\n  }\n\n  ngOnInit(): void {\n    this.route.paramMap.pipe(\n      map(params => params.get('id')),\n      tap(id => this.chainId = +id),\n      takeUntil(this.destroy$)\n    ).subscribe(() => {\n      this.getDeliveryChain();\n      this.getItems();\n      this.getLocators();\n    });\n  }\n\n  getDeliveryChain() {\n    this.deliveryService.getById(this.chainId).subscribe(chain => {\n      this.chain = chain;\n      this.isLoading = false;\n    });\n  }\n\n  getLocators() {\n    this.locatorService.get().subscribe(locators => {\n      this.locators = locators;\n    });\n  }\n\n  getItems() {\n    this.deliveryService.getDeliveryItems(this.chainId).subscribe(products => {\n      this.products = products;\n    });\n  }\n\n  onGoToChainLink() {\n    window.open(`${this.link}delivery-chains/${this.chainId}`);\n  }\n\n  onComplete() {\n    this.modalService.confirm('success').subscribe(confirm => {\n      if (confirm) {\n        this.isCompleting = true;\n        this.deliveryService.complete(this.chainId).pipe(\n          finalize(() => this.isCompleting = false)\n        ).subscribe(() => {\n          this.router.navigate(['../'], {relativeTo: this.route});\n        });\n      }\n    });\n  }\n\n  onPrint() {\n    window.print();\n  }\n\n  translateLocator(id: number) {\n    if (!this.locators) {\n      return id;\n    }\n    const locator = this.locators.find(loc => loc.id === id);\n    return `${locator.name} R:${locator.row} C:${locator.column} S:${locator.shelf} P:${locator.place}`;\n  }\n\n  ngOnDestroy() {\n    this.destroy$.next(true);\n    this.destroy$.complete();\n  }\n}\n","<div class=\"page\">\n  <div class=\"page__header\">\n    <div class=\"page__title\">\n      <pek-module-icon [module]=\"'warehouse'\" [isActive]=\"true\"></pek-module-icon>\n      <h1>\n        Requests for Delivery Chain\n        <a\n          *ngIf=\"!isLoading\"\n          (click)=\"onGoToChainLink()\"\n        >\n          #{{chain?.serial_number}}\n        </a>\n        <ng-container *ngIf=\"isLoading\">...</ng-container>\n      </h1>\n    </div>\n    <div class=\"page__tools\">\n      <button\n        pButton\n        type=\"button\"\n        class=\"p-button-icon mr-2\"\n        icon=\"pi pi-check\"\n        [label]=\"chain?.closed_at ? 'Already Completed' : 'Complete'\"\n        [loading]=\"isCompleting\"\n        (click)=\"onComplete()\"\n        [disabled]=\"isLoading || chain?.closed_at\"\n      ></button>\n\n      <button\n        pButton\n        type=\"button\"\n        class=\"p-button-icon\"\n        icon=\"pi pi-print\"\n        label=\"Print Delivery Note\"\n        (click)=\"onPrint()\"\n        [disabled]=\"isLoading\"\n      ></button>\n    </div>\n  </div>\n</div>\n\n<div class=\"page__content\">\n  <div class=\"page__card\">\n    <div class=\"page__table\">\n      <p-table\n        #dt\n        selectionMode=\"single\"\n        scrollHeight=\"calc(100vh - 18.8rem)\"\n        [scrollable]=\"true\"\n        [paginator]=\"products.length > 0\"\n        [rows]=\"10\"\n        [value]=\"products\"\n      >\n        <ng-template pTemplate=\"caption\"></ng-template>\n        <ng-template pTemplate=\"header\">\n          <tr>\n            <th class=\"text-center\" style=\"width: 5%;\">#</th>\n            <th class=\"text-center\" style=\"width: 20%;\">Serial number</th>\n            <th style=\"width: 20%;\">Code</th>\n            <th style=\"width: 20%;\">Name</th>\n            <th class=\"text-center\" style=\"width: 15%;\">Quantity</th>\n            <th class=\"text-center\" style=\"width: 20%;\">Locator</th>\n          </tr>\n        </ng-template>\n        <ng-template pTemplate=\"body\" let-item let-i=\"rowIndex\">\n          <tr>\n            <td class=\"text-center\">{{i + 1}}</td>\n            <td class=\"text-center\">{{item.warehouse_product.serial_number?.type_with_number}}</td>\n            <td>{{item.warehouse_product.nomenclature.code}}</td>\n            <td>{{item.warehouse_product.nomenclature.name}}</td>\n            <td class=\"text-center\">{{item.quantity}}</td>\n            <td class=\"text-center\">{{ translateLocator(item.warehouse_product.locator) }}</td>\n          </tr>\n        </ng-template>\n        <ng-template pTemplate=\"emptymessage\">\n          <tr>\n            <td class=\"text-center p-4\" [attr.colspan]=\"6\">\n              <i *ngIf=\"isLoading\" class=\"pi pi-spin pi-spinner\" style=\"font-size: 2.25rem\"></i>\n              <span *ngIf=\"!isLoading\">No Records Found</span>\n            </td>\n          </tr>\n        </ng-template>\n        <ng-template pTemplate=\"paginatorright\">\n          <p-button\n            type=\"button\"\n            (click)=\"dt.paginator=false\"\n            styleClass=\"p-button-text\"\n          >\n            All\n          </p-button>\n        </ng-template>\n      </p-table>\n    </div>\n    <div *ngIf=\"!dt.paginator && !isLoading && products.length > 0\" class=\"paginator-return-pagination\">\n      <p-button\n        type=\"button\"\n        (click)=\"dt.paginator=true\"\n        styleClass=\"p-button-text\"\n      >\n        Return pagination\n      </p-button>\n    </div>\n  </div>\n</div>\n\n<div class=\"print-page\">\n  <pek-warehouse-shipping-request-print\n    [chain]=\"chain\"\n    [items]=\"products\"\n    [locators]=\"locators\"\n  ></pek-warehouse-shipping-request-print>\n</div>\n","import {Component, OnInit} from '@angular/core';\nimport {Company} from '../../../crm/models/company';\nimport {CompanyService} from '../../../crm/services/company.service';\nimport {AdapterService} from '@shared/services/adapter.service';\nimport {DeliveryChain} from '../../models/delivery-chain';\nimport {DeliveryChainService} from '../../services/delivery-chain.service';\nimport {FormBuilder, FormGroup} from '@angular/forms';\nimport {QuerySearch} from '@shared/models/other';\nimport {environment} from '@env/environment.prod';\n\n@Component({\n  selector: 'pek-warehouse-shipping-requests',\n  templateUrl: './warehouse-shipping-requests.component.html',\n  styleUrls: ['./warehouse-shipping-requests.component.scss']\n})\nexport class WarehouseShippingRequestsComponent implements OnInit {\n  link = environment.link_url + 'dash/';\n\n  isLoading = true;\n  isLoadingCustomers = true;\n\n  customers: Company[] = [];\n  chains: DeliveryChain[] = [];\n  selectedChain: DeliveryChain;\n\n  searchForm: FormGroup = this.fb.group({\n    created_after: [null],\n    created_before: [null],\n    customer_id: [null],\n    is_open: [null],\n  });\n\n  requestsTypes = [\n    {name: 'Open Requests', value: true},\n    {name: 'Closed Requests', value: false},\n  ];\n\n  query: QuerySearch[] = [];\n\n  constructor(\n    private readonly companyService: CompanyService,\n    private readonly deliveryService: DeliveryChainService,\n    private readonly adapterService: AdapterService,\n    private readonly fb: FormBuilder,\n  ) {\n  }\n\n  ngOnInit(): void {\n    this.getChains();\n    this.getCustomers();\n  }\n\n  getChains() {\n    this.deliveryService.get(this.query).subscribe(chains => {\n      this.chains = chains;\n      this.isLoading = false;\n    });\n  }\n\n  searchChains() {\n    this.isLoading = true;\n    this.chains = [];\n    this.query = [];\n\n    if (this.searchForm.get('is_open')?.value !== null) {\n      this.query.push({\n        name: 'is_open',\n        value: this.searchForm.get('is_open').value\n      });\n    }\n\n    if (this.searchForm.get('customer_id')?.value) {\n      this.query.push({\n        name: 'customer_id',\n        value: this.searchForm.get('customer_id').value\n      });\n    }\n\n    if (this.searchForm.get('created_before').value) {\n      this.query.push({\n        name: 'created_before',\n        value: this.adapterService.dateAdapter(this.searchForm.get('created_before').value)\n      });\n    }\n\n    if (this.searchForm.get('created_after').value) {\n      this.query.push({\n        name: 'created_after',\n        value: this.adapterService.dateAdapter(this.searchForm.get('created_after').value)\n      });\n    }\n\n    this.getChains();\n  }\n\n  getCustomers() {\n    this.companyService.get([{name: 'has_delivery_chain', value: 'true'}])\n      .subscribe(customers => {\n        this.customers = customers;\n        this.isLoadingCustomers = false;\n      });\n  }\n\n  goToChain(id: number) {\n    window.open(`${this.link}delivery-chains/${id}`);\n  }\n}\n","<div class=\"page\">\n  <div class=\"page__header\">\n    <div class=\"page__title\">\n      <pek-module-icon [module]=\"'warehouse'\" [isActive]=\"true\"></pek-module-icon>\n      <h1>Shipment Requests</h1>\n    </div>\n    <div class=\"page__tools\">\n    </div>\n  </div>\n</div>\n\n<div class=\"page__content\">\n  <div class=\"page__card\">\n    <div class=\"page__table\">\n      <form [formGroup]=\"searchForm\">\n        <div class=\"row\">\n          <div class=\"col-3\">\n            <div class=\"form-group\">\n              <label>Creation From</label>\n              <p-calendar\n                [showClear]=\"true\"\n                formControlName=\"created_after\"\n                (ngModelChange)=\"searchChains()\"\n                [showButtonBar]=\"true\"\n                dataType=\"date\"\n                dateFormat=\"dd/mm/yy\"\n                [readonlyInput]=\"true\"\n              ></p-calendar>\n            </div>\n          </div>\n          <div class=\"col-3\">\n            <div class=\"form-group\">\n              <label>Creation To</label>\n              <p-calendar\n                [showClear]=\"true\"\n                formControlName=\"created_before\"\n                (ngModelChange)=\"searchChains()\"\n                [showButtonBar]=\"true\"\n                dataType=\"date\"\n                dateFormat=\"dd/mm/yy\"\n                [readonlyInput]=\"true\"\n              ></p-calendar>\n            </div>\n          </div>\n          <div class=\"col-3\">\n            <div class=\"form-group\">\n              <label>Requests state</label>\n              <p-dropdown\n                (ngModelChange)=\"searchChains()\"\n                [showClear]=\"true\"\n                formControlName=\"is_open\"\n                [options]=\"requestsTypes\"\n                optionValue=\"value\"\n                optionLabel=\"name\"\n                placeholder=\"Choose Request State\"\n              >\n              </p-dropdown>\n            </div>\n          </div>\n          <div class=\"col-3\">\n            <div class=\"form-group\">\n              <label>Customer</label>\n              <p-dropdown\n                (ngModelChange)=\"searchChains()\"\n                *ngIf=\"!isLoadingCustomers; else spinner\"\n                [showClear]=\"true\"\n                [filter]=\"true\"\n                formControlName=\"customer_id\"\n                [options]=\"customers\"\n                optionValue=\"id\"\n                optionLabel=\"name\"\n                placeholder=\"Choose Customer\"\n              >\n              </p-dropdown>\n            </div>\n          </div>\n        </div>\n      </form>\n      <p-table\n        #dt\n        selectionMode=\"single\"\n        scrollHeight=\"calc(100vh - 18.8rem)\"\n        [scrollable]=\"true\"\n        [paginator]=\"chains.length > 0\"\n        [rows]=\"10\"\n        [(selection)]=\"selectedChain\"\n        [value]=\"chains\"\n      >\n        <ng-template pTemplate=\"caption\">\n          <div class=\"d-flex\">\n            <button\n              class=\"ml-auto mt-1\"\n              [routerLink]=\"[selectedChain?.id]\"\n              [disabled]=\"!selectedChain\"\n              pButton\n              type=\"button\"\n              icon=\"pi pi pi-bars\"\n              label=\"Shipment Products\"\n            ></button>\n          </div>\n        </ng-template>\n        <ng-template pTemplate=\"header\">\n          <tr>\n            <th class=\"text-center\" style=\"width: 5%;\">#</th>\n            <th class=\"text-center\" style=\"width: 10%;\">Delivery ID</th>\n            <th class=\"text-center\" style=\"width: 20%;\">Sales Chain ID</th>\n            <th style=\"width: 25%;\">Customer</th>\n            <th class=\"text-center\" style=\"width: 20%;\">Created Date</th>\n            <th class=\"text-center\" style=\"width: 20%;\">Completion Date</th>\n          </tr>\n        </ng-template>\n        <ng-template pTemplate=\"body\" let-chain let-i=\"rowIndex\">\n          <tr [pSelectableRow]=\"chain\">\n            <td class=\"text-center\" style=\"width: 5%;\">\n              {{i + 1}}\n            </td>\n            <td class=\"text-center\" style=\"width: 10%;\">\n              <a\n                (click)=\"goToChain(chain.id)\"\n              >\n                {{chain.serial_number}}\n              </a>\n            </td>\n            <td class=\"text-center\" style=\"width: 20%\">\n              {{chain.id}}\n            </td>\n            <td style=\"width: 25%;\">\n              {{chain.customer.name}}\n            </td>\n            <td class=\"text-center\" style=\"width: 20%;\">\n              {{chain.created_at | date:'dd/MM/yyyy'}}\n            </td>\n            <td class=\"text-center\" style=\"width: 20%;\">\n              {{chain.closed_at | date:'dd/MM/yyyy'}}\n            </td>\n          </tr>\n        </ng-template>\n        <ng-template pTemplate=\"emptymessage\">\n          <tr>\n            <td class=\"text-center p-4\" [attr.colspan]=\"6\">\n              <i *ngIf=\"isLoading\" class=\"pi pi-spin pi-spinner\" style=\"font-size: 2.25rem\"></i>\n              <span *ngIf=\"!isLoading\">No Records Found</span>\n            </td>\n          </tr>\n        </ng-template>\n        <ng-template pTemplate=\"paginatorright\">\n          <p-button\n            type=\"button\"\n            (click)=\"dt.paginator=false\"\n            styleClass=\"p-button-text\"\n          >\n            All\n          </p-button>\n        </ng-template>\n      </p-table>\n    </div>\n    <div *ngIf=\"!dt.paginator && !isLoading && chains.length > 0\" class=\"paginator-return-pagination\">\n      <p-button\n        type=\"button\"\n        (click)=\"dt.paginator=true\"\n        styleClass=\"p-button-text\"\n      >\n        Return pagination\n      </p-button>\n    </div>\n  </div>\n</div>\n\n<ng-template #spinner>\n  <div class=\"spinner-input\">\n    <i class=\"pi pi-spin pi-spinner\" style=\"font-size: 1.25rem\"></i>\n  </div>\n</ng-template>\n","import {Component, OnDestroy, OnInit} from '@angular/core';\nimport {finalize, Subject} from 'rxjs';\nimport {ToolRequest} from '../../services/tool-request';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {ToolOrder} from '../../models/tool-order';\nimport {map, tap} from 'rxjs/operators';\nimport {ToolRequestService} from '../../services/tool-request.service';\nimport {ToolOrderService} from '../../services/tool-order.service';\nimport {ModalService} from '@shared/services/modal.service';\n\n@Component({\n  selector: 'pek-warehouse-tool-request',\n  templateUrl: './warehouse-tool-request.component.html',\n  styleUrls: ['./warehouse-tool-request.component.scss']\n})\nexport class WarehouseToolRequestComponent implements OnInit, OnDestroy {\n  isLoading = true;\n  isCompleting = false;\n  requests: ToolRequest[] = [];\n  selectedRequest: ToolRequest;\n\n  orderId: number;\n  order: ToolOrder;\n\n  private destroy$ = new Subject();\n\n  constructor(\n    private route: ActivatedRoute,\n    private toolRequestService: ToolRequestService,\n    private toolOrderService: ToolOrderService,\n    private readonly modalService: ModalService,\n    private readonly router: Router,\n  ) {\n  }\n\n  ngOnInit(): void {\n    this.route.paramMap.pipe(\n      map(params => params.get('id')),\n      tap(id => this.orderId = +id),\n      tap(() => this.getToolOrder()),\n      tap(() => this.getToolRequest()),\n    ).subscribe();\n  }\n\n  getToolOrder() {\n    this.toolOrderService.getById(this.orderId).subscribe(toolOrder => {\n      this.order = toolOrder;\n    });\n  }\n\n  getToolRequest() {\n    this.toolRequestService.get([\n      {name: 'tool_order', value: this.orderId},\n      {name: 'is_completed', value: false}\n    ]).subscribe(requests => {\n      this.requests = requests;\n      this.isLoading = false;\n    });\n  }\n\n  onShowImages() {\n    this.modalService.showImageGallery([], this.selectedRequest.nomenclature.id, 1).subscribe();\n  }\n\n  onComplete() {\n    this.modalService.confirm('success').subscribe(confirm => {\n      if (confirm) {\n        this.isCompleting = true;\n        this.toolOrderService.complete(this.orderId).pipe(\n          finalize(() => this.isCompleting = false)\n        ).subscribe(() => {\n          this.router.navigate(['/warehouse/tool-requests/']);\n        });\n      }\n    });\n  }\n\n  ngOnDestroy() {\n    this.destroy$.next(true);\n    this.destroy$.complete();\n  }\n}\n","<div class=\"page\">\n  <div class=\"page__header\">\n    <div class=\"page__title\">\n      <pek-module-icon [module]=\"'warehouse'\" [isActive]=\"true\"></pek-module-icon>\n      <h1>\n        Tool Request\n        <ng-container *ngIf=\"order; else empty\">\n          Order ID: {{order.id}}\n          Area:  {{order.area_locator.area.name}}\n          Locator: {{order.area_locator.name}}\n        </ng-container>\n      </h1>\n    </div>\n    <div class=\"page__tools\">\n      <button\n        pButton\n        type=\"button\"\n        class=\"p-button-icon\"\n        icon=\"pi pi-check\"\n        label=\"Complete\"\n        [loading]=\"isCompleting\"\n        (click)=\"onComplete()\"\n      ></button>\n    </div>\n  </div>\n</div>\n\n<div class=\"page__content\">\n  <div class=\"page__card\">\n    <div class=\"page__table\">\n      <p-table\n        #dt\n        selectionMode=\"single\"\n        scrollHeight=\"calc(100vh - 18.8rem)\"\n        [scrollable]=\"true\"\n        [paginator]=\"requests.length > 0\"\n        [rows]=\"10\"\n        [(selection)]=\"selectedRequest\"\n        [value]=\"requests\"\n      >\n        <ng-template pTemplate=\"caption\">\n          <div class=\"d-flex\">\n            <button\n              class=\"ml-auto\"\n              pButton\n              type=\"button\"\n              icon=\"pi pi-images\"\n              label=\"Show Images\"\n              (click)=\"onShowImages()\"\n              [disabled]=\"!selectedRequest\"\n            ></button>\n          </div>\n        </ng-template>\n        <ng-template pTemplate=\"header\">\n          <tr>\n            <th class=\"text-center\" style=\"width: 5%\">#</th>\n            <th style=\"width: 35%\">Code</th>\n            <th style=\"width: 45%\">Name</th>\n            <th class=\"text-center\" style=\"width: 15%\">Requested Quantity</th>\n          </tr>\n        </ng-template>\n        <ng-template pTemplate=\"body\" let-request let-i=\"rowIndex\">\n          <tr [pSelectableRow]=\"request\">\n            <td class=\"text-center\" style=\"width: 5%\">\n              {{i + 1}}\n            </td>\n            <td style=\"width: 35%\">\n              {{request.nomenclature.code}}\n            </td>\n            <td style=\"width: 45%\">\n              {{request.nomenclature.name}}\n            </td>\n            <td style=\"width: 15%\" class=\"text-center\">\n              {{request.required_quantity}}\n            </td>\n          </tr>\n        </ng-template>\n        <ng-template pTemplate=\"emptymessage\">\n          <tr>\n            <td class=\"text-center p-4\" [attr.colspan]=\"4\">\n              <i *ngIf=\"isLoading\" class=\"pi pi-spin pi-spinner\" style=\"font-size: 2.25rem\"></i>\n              <span *ngIf=\"!isLoading\">No Records Found</span>\n            </td>\n          </tr>\n        </ng-template>\n        <ng-template pTemplate=\"paginatorright\">\n          <p-button\n            type=\"button\"\n            (click)=\"dt.paginator=false\"\n            styleClass=\"p-button-text\"\n          >All\n          </p-button>\n        </ng-template>\n      </p-table>\n    </div>\n    <div *ngIf=\"!dt.paginator && !isLoading && requests.length > 0\" class=\"paginator-return-pagination\">\n      <p-button\n        type=\"button\"\n        (click)=\"dt.paginator=true\"\n        styleClass=\"p-button-text\"\n      >\n        Return pagination\n      </p-button>\n    </div>\n  </div>\n</div>\n\n<ng-template #empty>\n  ...\n</ng-template>\n","import {Component, OnDestroy, OnInit} from '@angular/core';\nimport {ToolOrderService} from '../../services/tool-order.service';\nimport {ToolOrder} from '../../models/tool-order';\nimport {Subject, takeUntil} from 'rxjs';\n\n@Component({\n  selector: 'pek-warehouse-tool-requests',\n  templateUrl: './warehouse-tool-requests.component.html',\n  styleUrls: ['./warehouse-tool-requests.component.scss']\n})\nexport class WarehouseToolRequestsComponent implements OnInit, OnDestroy {\n  isLoading = true;\n  toolRequests: ToolOrder[] = [];\n  selectedRequest: ToolOrder;\n\n  private destroy$ = new Subject();\n\n  constructor(\n    private toolRequestService: ToolOrderService,\n  ) { }\n\n  ngOnInit(): void {\n    this.getRequests();\n  }\n\n  getRequests() {\n    this.toolRequestService.get([{name: 'is_completed', value: false}]).pipe(\n      takeUntil(this.destroy$)\n    ).subscribe(toolRequests => {\n      this.toolRequests = toolRequests;\n      this.toolRequests.sort((a, b) => new Date(b.created).getTime() - new Date(a.created).getTime())\n      this.isLoading = false;\n    })\n  }\n\n  ngOnDestroy() {\n    this.destroy$.next(true);\n    this.destroy$.complete();\n  }\n}\n","<div class=\"page\">\n  <div class=\"page__header\">\n    <div class=\"page__title\">\n      <pek-module-icon [module]=\"'warehouse'\" [isActive]=\"true\"></pek-module-icon>\n      <h1>Tool Requests</h1>\n    </div>\n  </div>\n</div>\n\n<div class=\"page__content\">\n  <div class=\"page__card\">\n    <div class=\"page__table\">\n      <div class=\"page__block\">\n        <button\n          pButton\n          type=\"button\"\n          class=\"ml-auto\"\n          icon=\"pi pi-bars\"\n          label=\"Nomenclatures\"\n          [routerLink]=\"[selectedRequest?.id]\"\n          [disabled]=\"!selectedRequest\"\n        ></button>\n      </div>\n      <p-table\n        #dt\n        selectionMode=\"single\"\n        scrollHeight=\"calc(100vh - 18.8rem)\"\n        [scrollable]=\"true\"\n        [paginator]=\"toolRequests.length > 0\"\n        [rows]=\"10\"\n        [(selection)]=\"selectedRequest\"\n        [value]=\"toolRequests\"\n      >\n        <ng-template pTemplate=\"header\">\n          <tr>\n            <th class=\"text-center\" style=\"width: 5%\">#</th>\n            <th style=\"width: 35%\" class=\"text-center\">Area</th>\n            <th style=\"width: 30%\" class=\"text-center\">Locator</th>\n            <th style=\"width: 30%\" class=\"text-center\" pSortableColumn=\"created\">\n              Creation Date\n              <p-sortIcon field=\"created\"></p-sortIcon>\n            </th>\n          </tr>\n        </ng-template>\n        <ng-template pTemplate=\"body\" let-order let-i=\"rowIndex\">\n          <tr [pSelectableRow]=\"order\">\n            <td style=\"width: 5%\" class=\"text-center\">{{i + 1 }}</td>\n            <td style=\"width: 35%\" class=\"text-center\">{{order.area_locator.area.name}}</td>\n            <td style=\"width: 30%\" class=\"text-center\">{{order.area_locator.name}}</td>\n            <td style=\"width: 30%\" class=\"text-center\">{{order.created | date:'dd/MM/yyyy'}}</td>\n          </tr>\n        </ng-template>\n        <ng-template pTemplate=\"emptymessage\">\n          <tr>\n            <td class=\"text-center p-4\" [attr.colspan]=\"4\">\n              <i *ngIf=\"isLoading\" class=\"pi pi-spin pi-spinner\" style=\"font-size: 2.25rem\"></i>\n              <span *ngIf=\"!isLoading\">No Records Found</span>\n            </td>\n          </tr>\n        </ng-template>\n        <ng-template pTemplate=\"paginatorright\">\n          <p-button\n            type=\"button\"\n            (click)=\"dt.paginator=false\"\n            styleClass=\"p-button-text\"\n          >All\n          </p-button>\n        </ng-template>\n      </p-table>\n    </div>\n    <div *ngIf=\"!dt.paginator && !isLoading && toolRequests.length > 0\" class=\"paginator-return-pagination\">\n      <p-button\n        type=\"button\"\n        (click)=\"dt.paginator=true\"\n        styleClass=\"p-button-text\"\n      >\n        Return pagination\n      </p-button>\n    </div>\n  </div>\n</div>\n","import {Component, OnDestroy, OnInit} from '@angular/core';\nimport {UnitMeasureService} from '../../services/unit-measure.service';\nimport {UnitMeasure} from '../../../product-structure/models/unit-measure';\nimport {MenuItem} from 'primeng/api';\nimport {Subject, takeUntil} from 'rxjs';\nimport {ModalService} from '@shared/services/modal.service';\n\n@Component({\n  selector: 'pek-warehouse-units-measure',\n  templateUrl: './warehouse-units-measure.component.html',\n  styleUrls: ['./warehouse-units-measure.component.scss']\n})\nexport class WarehouseUnitsMeasureComponent implements OnInit, OnDestroy  {\n  menuItems: MenuItem[] = [{\n    label: 'Selected Unit',\n    items: [\n      {\n        label: 'Edit',\n        icon: 'pi pi-pencil',\n        command: () => this.onEditUnit()\n      },\n      {\n        label: 'Remove',\n        icon: 'pi pi-trash',\n        command: () => this.onRemoveUnit()\n      }\n    ]\n  }];\n\n  isLoading = true;\n\n  unitsMeasure: UnitMeasure[] = [];\n  selectedUnitMeasure: UnitMeasure;\n\n  private destroy$ = new Subject();\n\n  constructor(\n    private readonly unitMeasureService: UnitMeasureService,\n    private readonly modalService: ModalService,\n  ) { }\n\n  ngOnInit(): void {\n    this.getUnitsMeasure();\n  }\n\n  getUnitsMeasure() {\n    this.unitMeasureService.get().pipe(\n      takeUntil(this.destroy$)\n    ).subscribe(unitsMeasure => {\n      this.unitsMeasure = unitsMeasure;\n      this.isLoading = false;\n    })\n  }\n\n  onAddUnit() {\n    this.unitMeasureService.createEditUnitMeasureModal('create').subscribe(unitMeasure => {\n      if (unitMeasure) {\n        this.unitsMeasure.unshift(unitMeasure);\n      }\n    });\n  }\n\n  onEditUnit() {\n    this.unitMeasureService.createEditUnitMeasureModal('edit', this.selectedUnitMeasure).subscribe(unitMeasure => {\n      if (unitMeasure) {\n        const index = this.unitsMeasure.findIndex(t => t.id === this.selectedUnitMeasure.id);\n        this.unitsMeasure[index] = unitMeasure;\n        this.selectedUnitMeasure = this.unitsMeasure[index];\n      }\n    });\n  }\n\n  onRemoveUnit() {\n    this.modalService.confirm('danger').subscribe(confirm => {\n      if (confirm) {\n        this.unitMeasureService.delete(this.selectedUnitMeasure).subscribe(() => {\n          const index = this.unitsMeasure.findIndex(w => w.id === this.selectedUnitMeasure.id);\n          this.unitsMeasure.splice(index, 1);\n          this.selectedUnitMeasure = null;\n        });\n      }\n    });\n  }\n\n  ngOnDestroy() {\n    this.destroy$.next(true);\n    this.destroy$.complete();\n  }\n}\n","<div class=\"page\">\n  <div class=\"page__header\">\n    <div class=\"page__title\">\n      <pek-module-icon [module]=\"'warehouse'\" [isActive]=\"true\"></pek-module-icon>\n      <h1>Units of Measure</h1>\n    </div>\n    <div class=\"page__tools\">\n      <button pButton type=\"button\" icon=\"pi pi-plus\" label=\"New Unit\" (click)=\"onAddUnit()\"></button>\n    </div>\n  </div>\n</div>\n\n<div class=\"page__content\">\n  <div class=\"page__card\">\n    <div class=\"page__table\">\n      <p-table\n        #dt\n        selectionMode=\"single\"\n        scrollHeight=\"calc(100vh - 18.8rem)\"\n        [scrollable]=\"true\"\n        [paginator]=\"unitsMeasure.length > 0\"\n        [rows]=\"10\"\n        [(selection)]=\"selectedUnitMeasure\"\n        [value]=\"unitsMeasure\"\n      >\n        <ng-template pTemplate=\"caption\">\n          <div class=\"d-flex\">\n            <p class=\"subtitle\" *ngIf=\"!selectedUnitMeasure\">Choose the Unit of Measure to edit</p>\n            <p-menubar class=\"ml-auto\" [model]=\"menuItems\" [class.disabled]=\"!selectedUnitMeasure\"></p-menubar>\n          </div>\n        </ng-template>\n        <ng-template pTemplate=\"header\">\n          <tr>\n            <th class=\"text-center\" style=\"width: 5%\">#</th>\n            <th style=\"width: 45%\">Name</th>\n            <th style=\"width: 50%\" class=\"text-center\">Symbol</th>\n          </tr>\n        </ng-template>\n        <ng-template pTemplate=\"body\" let-unit let-i=\"rowIndex\">\n          <tr [pSelectableRow]=\"unit\">\n            <td class=\"text-center\" style=\"width: 5%\">{{i + 1}}</td>\n            <td style=\"width: 45%\">{{unit.name}}</td>\n            <td class=\"text-center\" style=\"width: 50%\">{{unit.symbol}}</td>\n          </tr>\n        </ng-template>\n        <ng-template pTemplate=\"emptymessage\">\n          <tr>\n            <td class=\"text-center p-4\" [attr.colspan]=\"4\">\n              <i *ngIf=\"isLoading\" class=\"pi pi-spin pi-spinner\" style=\"font-size: 2.25rem\"></i>\n              <span *ngIf=\"!isLoading\">No Records Found</span>\n            </td>\n          </tr>\n        </ng-template>\n        <ng-template pTemplate=\"paginatorright\">\n          <p-button\n            type=\"button\"\n            (click)=\"dt.paginator=false\"\n            styleClass=\"p-button-text\"\n          >All\n          </p-button>\n        </ng-template>\n      </p-table>\n    </div>\n    <div *ngIf=\"!dt.paginator && !isLoading && unitsMeasure.length > 0\" class=\"paginator-return-pagination\">\n      <p-button\n        type=\"button\"\n        (click)=\"dt.paginator=true\"\n        styleClass=\"p-button-text\"\n      >\n        Return pagination\n      </p-button>\n    </div>\n  </div>\n</div>\n","import {Component, OnDestroy, OnInit} from '@angular/core';\nimport {Warehouse} from '../../models/warehouse';\nimport {WarehouseService} from '../../services/warehouse.service';\nimport {Subject, takeUntil} from 'rxjs';\nimport {MenuItem} from 'primeng/api';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {ModalService} from '@shared/services/modal.service';\n\n@Component({\n  selector: 'pek-warehouse-warehouses',\n  templateUrl: './warehouse-warehouses.component.html',\n  styleUrls: ['./warehouse-warehouses.component.scss']\n})\nexport class WarehouseWarehousesComponent implements OnInit, OnDestroy {\n\n  menuItems: MenuItem[] = [{\n    label: 'Selected Warehouse',\n    items: [\n      {\n        label: 'Locators',\n        icon: 'pi pi-bars',\n        command: () => this.onGoToWarehouseLocators()\n      },\n      {\n        label: 'Edit',\n        icon: 'pi pi-pencil',\n        command: () => this.onEditTechnology()\n      },\n      {\n        label: 'Remove',\n        icon: 'pi pi-trash',\n        command: () => this.onRemoveTechnology()\n      }\n    ]\n  }];\n\n  warehouses: Warehouse[] = [];\n  selectedWarehouse: Warehouse;\n  isLoading = true;\n\n  private destroy$ = new Subject();\n\n  constructor(\n    private readonly warehouseService: WarehouseService,\n    private readonly router: Router,\n    private readonly route: ActivatedRoute,\n    private readonly modalService: ModalService,\n  ) {\n  }\n\n  ngOnInit(): void {\n    this.getWarehouses();\n  }\n\n  getWarehouses() {\n    this.warehouseService.get().pipe(\n      takeUntil(this.destroy$)\n    ).subscribe(warehouses => {\n      this.warehouses = warehouses;\n      this.isLoading = false;\n    });\n  }\n\n  onAddWarehouse() {\n    this.warehouseService.createEditWarehouseModal('create').subscribe(warehouse => {\n      if (warehouse) {\n        this.warehouses.unshift(warehouse);\n      }\n    });\n  }\n\n  onGoToWarehouseLocators() {\n    this.router.navigate([this.selectedWarehouse.id, 'locators'], {relativeTo: this.route});\n  }\n\n  onEditTechnology() {\n    this.warehouseService.createEditWarehouseModal('edit', this.selectedWarehouse).subscribe(warehouse => {\n      if (warehouse) {\n        const index = this.warehouses.findIndex(t => t.id === this.selectedWarehouse.id);\n        this.warehouses[index] = warehouse;\n        this.selectedWarehouse = this.warehouses[index];\n      }\n    });\n  }\n\n  onRemoveTechnology() {\n    this.modalService.confirm('danger').subscribe(confirm => {\n      if (confirm) {\n        this.warehouseService.delete(this.selectedWarehouse).subscribe(() => {\n          const index = this.warehouses.findIndex(w => w.id === this.selectedWarehouse.id);\n          this.warehouses.splice(index, 1);\n          this.selectedWarehouse = null;\n        });\n      }\n    });\n  }\n\n  ngOnDestroy() {\n    this.destroy$.next(true);\n    this.destroy$.complete();\n  }\n}\n","<div class=\"page\">\n  <div class=\"page__header\">\n    <div class=\"page__title\">\n      <pek-module-icon [module]=\"'warehouse'\" [isActive]=\"true\"></pek-module-icon>\n      <h1>Warehouses</h1>\n    </div>\n    <div class=\"page__tools\">\n      <button pButton type=\"button\" icon=\"pi pi-plus\" label=\"New Warehouse\" (click)=\"onAddWarehouse()\"></button>\n    </div>\n  </div>\n</div>\n\n<div class=\"page__content\">\n  <div class=\"page__card\">\n    <div class=\"page__table\">\n      <p-table\n        #dt\n        selectionMode=\"single\"\n        scrollHeight=\"calc(100vh - 18.8rem)\"\n        [scrollable]=\"true\"\n        [paginator]=\"warehouses.length > 0\"\n        [rows]=\"10\"\n        [(selection)]=\"selectedWarehouse\"\n        [value]=\"warehouses\"\n      >\n        <ng-template pTemplate=\"caption\">\n          <div class=\"d-flex\">\n            <p class=\"subtitle\" *ngIf=\"!selectedWarehouse\">Choose the Warehouse to edit</p>\n            <p-menubar class=\"ml-auto\" [model]=\"menuItems\" [class.disabled]=\"!selectedWarehouse\"></p-menubar>\n          </div>\n        </ng-template>\n        <ng-template pTemplate=\"header\">\n          <tr>\n            <th class=\"text-center\" style=\"width: 5%\">#</th>\n            <th style=\"width: 45%\">Name</th>\n            <th style=\"width: 50%\">Description</th>\n          </tr>\n        </ng-template>\n        <ng-template pTemplate=\"body\" let-warehouse let-i=\"rowIndex\">\n          <tr [pSelectableRow]=\"warehouse\">\n            <td class=\"text-center\" style=\"width: 5%\">{{i + 1}}</td>\n            <td style=\"width: 45%\">{{warehouse.name}}</td>\n            <td style=\"width: 50%\">{{warehouse.description}}</td>\n          </tr>\n        </ng-template>\n        <ng-template pTemplate=\"emptymessage\">\n          <tr>\n            <td class=\"text-center p-4\" [attr.colspan]=\"4\">\n              <i *ngIf=\"isLoading\" class=\"pi pi-spin pi-spinner\" style=\"font-size: 2.25rem\"></i>\n              <span *ngIf=\"!isLoading\">No Records Found</span>\n            </td>\n          </tr>\n        </ng-template>\n        <ng-template pTemplate=\"paginatorright\">\n          <p-button\n            type=\"button\"\n            (click)=\"dt.paginator=false\"\n            styleClass=\"p-button-text\"\n          >All\n          </p-button>\n        </ng-template>\n      </p-table>\n    </div>\n    <div *ngIf=\"!dt.paginator && !isLoading && warehouses.length > 0\" class=\"paginator-return-pagination\">\n      <p-button\n        type=\"button\"\n        (click)=\"dt.paginator=true\"\n        styleClass=\"p-button-text\"\n      >\n        Return pagination\n      </p-button>\n    </div>\n  </div>\n</div>\n","import {AfterViewInit, Component, OnDestroy, OnInit, ViewChild} from '@angular/core';\nimport {FormBuilder, FormGroup} from '@angular/forms';\nimport {NomenclatureService} from '@shared/services/nomenclature.service';\nimport {fromEvent, Subject, takeUntil} from 'rxjs';\nimport {ENomenclatureType, Nomenclature} from '@shared/models/nomenclature';\nimport {QuerySearch} from '@shared/models/other';\nimport {Paginator} from 'primeng/paginator';\nimport {debounceTime, map, tap} from 'rxjs/operators';\n\n@Component({\n  selector: 'pek-warehouse-where-used',\n  templateUrl: './warehouse-where-used.component.html',\n  styleUrls: ['./warehouse-where-used.component.scss']\n})\nexport class WarehouseWhereUsedComponent implements OnInit, AfterViewInit, OnDestroy {\n  @ViewChild('paginator') paginator: Paginator;\n  @ViewChild('searchBoxName') searchBoxName;\n  @ViewChild('searchBoxCode') searchBoxCode;\n\n  isStartOnePage = false;\n  isLoadingNomenclatures = true;\n  isLoadingUsedNomenclatures = false;\n\n  nomenclatureList: Nomenclature[] = [];\n  usedNomenclatures: Nomenclature[] = [];\n\n  whereUsedNomenclature: Nomenclature;\n  selectedNomenclature: Nomenclature;\n\n  countNomenclatures = 0;\n\n  searchForm: FormGroup = this.fb.group({\n    name: [''],\n    code: [''],\n    category: [''],\n    root_categories: [''],\n    page: [1]\n  });\n\n  queryKey = 'name:/code:/categories:/root_categories:';\n\n  query: QuerySearch[] = [\n    {name: 'page', value: this.searchForm.get('page').value},\n    {name: 'paginated', value: true}\n  ];\n\n  private destroy$ = new Subject();\n\n  constructor(\n    private fb: FormBuilder,\n    private nomenclatureService: NomenclatureService,\n  ) {\n  }\n\n  ngAfterViewInit() {\n    fromEvent(this.searchBoxName.nativeElement, 'keyup')\n      .pipe(\n        tap(() => this.selectedNomenclature = null),\n        map(() => this.searchBoxName.nativeElement.value),\n        debounceTime(350),\n      ).subscribe(() => {\n      this.searchNomenclatures();\n    });\n\n    fromEvent(this.searchBoxCode.nativeElement, 'keyup')\n      .pipe(\n        tap(() => this.selectedNomenclature = null),\n        map(() => this.searchBoxCode.nativeElement.value),\n        debounceTime(350),\n      ).subscribe(() => {\n      this.searchNomenclatures();\n    });\n  }\n\n  ngOnInit(): void {\n    this.getNomenclatures();\n  }\n\n  getNomenclatures() {\n    this.nomenclatureService.getForPagination(this.query).pipe(\n      takeUntil(this.destroy$)\n    ).subscribe(nomenclatures => {\n      this.nomenclatureList = nomenclatures.results;\n      this.countNomenclatures = nomenclatures.count;\n\n      if (this.isStartOnePage) {\n        this.paginator.changePage(0);\n      }\n\n      this.isStartOnePage = false;\n      this.isLoadingNomenclatures = false;\n    });\n  }\n\n  getType(type: ENomenclatureType) {\n    switch (type) {\n      case ENomenclatureType.PURCHASED:\n        return 'Purchased';\n      case ENomenclatureType.ASSEMBLY:\n        return 'Assembly';\n      case ENomenclatureType.MANUFACTURED:\n        return 'Manufactured';\n    }\n  }\n\n  onSearchWhereUsed() {\n    if (this.selectedNomenclature) {\n      this.whereUsedNomenclature = this.selectedNomenclature;\n      this.isLoadingUsedNomenclatures = true;\n      this.usedNomenclatures = [];\n      this.destroy$.next(true);\n      this.nomenclatureService.searchWhereUsed(this.selectedNomenclature.id).pipe(\n        takeUntil(this.destroy$)\n      ).subscribe(usedNomenclatures => {\n        this.usedNomenclatures = usedNomenclatures;\n        this.isLoadingUsedNomenclatures = false;\n      });\n    } else {\n      this.whereUsedNomenclature = null;\n      this.usedNomenclatures = [];\n    }\n  }\n\n  searchNomenclatures() {\n    this.destroy$.next(true);\n    this.isLoadingNomenclatures = true;\n    this.selectedNomenclature = null;\n\n    const newQueryKey = `name:${this.searchForm.get('name').value}/code:${this.searchForm.get('code').value}/categories:${this.searchForm.get('category').value}/root_categories:${this.searchForm.get('root_categories').value}`;\n\n    if (newQueryKey !== this.queryKey) {\n      this.queryKey = newQueryKey;\n      this.searchForm.get('page').patchValue(1);\n      this.isStartOnePage = true;\n    }\n\n    this.query = [\n      {name: 'page', value: this.searchForm.get('page').value},\n      {name: 'paginated', value: true}\n    ];\n\n    if (this.searchForm.get('name').value !== '') {\n      this.query.push({name: 'name', value: this.searchForm.get('name').value});\n    }\n\n    if (this.searchForm.get('code').value !== '') {\n      this.query.push({name: 'code', value: encodeURIComponent(this.searchForm.get('code').value)});\n    }\n\n    if (this.searchForm.get('category').value) {\n      this.query.push({name: 'categories', value: this.searchForm.get('category').value});\n    }\n\n    if (this.searchForm.get('root_categories').value) this.query.push({\n      name: 'root_categories',\n      value: this.searchForm.get('root_categories').value\n    });\n\n    this.getNomenclatures();\n  }\n\n  paginate(evt: any) {\n    if (!this.isStartOnePage) {\n      this.searchForm.get('page').patchValue(evt.page + 1);\n      this.searchNomenclatures();\n    }\n  }\n\n  onSelectCategories(ids: string) {\n    this.searchForm.get('category').patchValue(ids);\n    this.searchNomenclatures();\n  }\n\n  onSelectRootCategory(ids: string) {\n    this.searchForm.get('root_categories').patchValue(ids);\n    this.searchNomenclatures();\n  }\n\n  ngOnDestroy() {\n    this.destroy$.next(true);\n    this.destroy$.complete();\n  }\n}\n","<div class=\"page\">\n  <div class=\"page__header\">\n    <div class=\"page__title\">\n      <pek-module-icon [module]=\"'warehouse'\" [isActive]=\"true\"></pek-module-icon>\n      <h1>Where Used</h1>\n    </div>\n  </div>\n</div>\n\n<div class=\"page__content\">\n  <div class=\"page__card\">\n    <div class=\"page__table\">\n      <form\n        [formGroup]=\"searchForm\"\n        class=\"warehouse-items__form mb-3\"\n      >\n        <div class=\"row\">\n          <div class=\"col-3\">\n            <div class=\"form-group\">\n              <label>Code</label>\n              <input class=\"form-control\" formControlName=\"code\" pInputText #searchBoxCode>\n            </div>\n          </div>\n          <div class=\"col-3\">\n            <div class=\"form-group\">\n              <label>Name</label>\n              <input class=\"form-control\" formControlName=\"name\" pInputText #searchBoxName>\n            </div>\n          </div>\n          <div class=\"col-3\">\n            <div class=\"form-group\">\n              <label>Category</label>\n              <pek-multi-categories-picker\n                (choiceCategories)=\"onSelectCategories($event)\"\n              ></pek-multi-categories-picker>\n            </div>\n          </div>\n          <div class=\"col-3\">\n            <div class=\"form-group\">\n              <label>Product Structure Category</label>\n<!--              <pek-product-structure-category-picker-->\n<!--                (choiceCategoryFolAllIds)=\"onSelectRootCategory($event)\"-->\n<!--                [isAllIds]=\"true\"-->\n<!--              ></pek-product-structure-category-picker>-->\n              <pek-multi-product-structure-categories-picker\n                (choiceCategories)=\"onSelectRootCategory($event)\"\n              ></pek-multi-product-structure-categories-picker>\n            </div>\n          </div>\n        </div>\n      </form>\n\n      <div class=\"table-pagination-preloader\">\n        <p-table\n          #dt\n          selectionMode=\"single\"\n          scrollHeight=\"calc(100vh - 30.25rem)\"\n          [scrollable]=\"true\"\n          [rows]=\"10\"\n          [(selection)]=\"selectedNomenclature\"\n          [value]=\"nomenclatureList\"\n          (selectionChange)=\"onSearchWhereUsed()\"\n        >\n          <ng-template pTemplate=\"header\">\n            <tr>\n              <th class=\"text-center\" style=\"width: 5%\">#</th>\n              <th style=\"width: 30%\">Code</th>\n              <th style=\"width: 35%\">Name</th>\n              <th style=\"width: 30%\">Category</th>\n            </tr>\n          </ng-template>\n          <ng-template pTemplate=\"body\" let-nomenclature let-i=\"rowIndex\">\n            <tr [pSelectableRow]=\"nomenclature\">\n              <td style=\"width: 5%\" class=\"text-center\">{{(this.searchForm.get('page').value - 1) * 10 + i + 1}}</td>\n              <td style=\"width: 30%\">{{nomenclature.code}}</td>\n              <td style=\"width: 35%\">{{nomenclature.name}}</td>\n              <td style=\"width: 30%\">{{nomenclature.category?.name}}{{nomenclature.root_category?.name}}</td>\n            </tr>\n          </ng-template>\n          <ng-template pTemplate=\"emptymessage\">\n            <tr>\n              <td class=\"text-center p-4\" [attr.colspan]=\"4\">\n                <i *ngIf=\"isLoadingNomenclatures\" class=\"pi pi-spin pi-spinner\" style=\"font-size: 2.25rem\"></i>\n                <span *ngIf=\"!isLoadingNomenclatures\">No Records Found</span>\n              </td>\n            </tr>\n          </ng-template>\n        </p-table>\n        <div class=\"pagination-preloader pagination-preloader_bord\" *ngIf=\"isLoadingNomenclatures\">\n          <i class=\"pi pi-spin pi-spinner\" style=\"font-size: 2.25rem\"></i>\n        </div>\n      </div>\n      <div\n        class=\"paginator-wrapper\"\n        [class.hide]=\"nomenclatureList.length === 0\"\n      >\n        <p-paginator\n          #paginator\n          [rows]=\"10\"\n          [totalRecords]=\"countNomenclatures\"\n          (onPageChange)=\"paginate($event)\">\n        </p-paginator>\n      </div>\n    </div>\n  </div>\n</div>\n\n<div class=\"page__content\">\n  <div class=\"page__card\">\n    <div class=\"page__table\">\n      <p-table\n        [value]=\"usedNomenclatures\"\n        scrollHeight=\"calc(100vh - 335px)\"\n        [paginator]=\"usedNomenclatures.length > 0\"\n        [rows]=\"10\"\n        selectionMode=\"single\"\n      >\n        <ng-template pTemplate=\"caption\">\n          <h2 class=\"mt-1 mb-1\">\n            Where Used\n            <ng-container *ngIf=\"whereUsedNomenclature; else empty\">\n              {{whereUsedNomenclature.name}} ({{whereUsedNomenclature.code}})\n            </ng-container>\n          </h2>\n        </ng-template>\n        <ng-template pTemplate=\"header\">\n          <tr>\n            <th class=\"text-center\" style=\"width: 5%\">#</th>\n            <th style=\"width: 30%\">Code</th>\n            <th style=\"width: 35%\">Name</th>\n            <th style=\"width: 30%\">Type</th>\n          </tr>\n        </ng-template>\n        <ng-template pTemplate=\"body\" let-usedNomenclature let-i=\"rowIndex\">\n          <tr>\n            <td style=\"width: 5%\" class=\"text-center\">{{i + 1}}</td>\n            <td style=\"width: 30%\">\n              <a\n                target=\"_blank\"\n                [routerLink]=\"'/product-structure/products/structure/' + usedNomenclature.id\"\n              >\n                {{usedNomenclature.nomenclature.code}}\n              </a>\n            </td>\n            <td style=\"width: 35%\">{{usedNomenclature.nomenclature.name}}</td>\n            <td style=\"width: 30%\">{{getType(usedNomenclature.nomenclature.type)}}</td>\n          </tr>\n        </ng-template>\n        <ng-template pTemplate=\"emptymessage\">\n          <tr>\n            <td class=\"text-center p-4\" [attr.colspan]=\"4\">\n              <i *ngIf=\"isLoadingUsedNomenclatures\" class=\"pi pi-spin pi-spinner\" style=\"font-size: 2.25rem\"></i>\n              <span *ngIf=\"!isLoadingUsedNomenclatures\">No Records Found</span>\n            </td>\n          </tr>\n        </ng-template>\n      </p-table>\n    </div>\n  </div>\n</div>\n\n<ng-template #empty>\n  <i>(Select the Nomenclature)</i>\n</ng-template>\n","import {Component, Inject, OnInit} from '@angular/core';\nimport {FormBuilder, FormControl, FormGroup, Validators} from '@angular/forms';\nimport {MAT_DIALOG_DATA, MatDialogRef} from '@angular/material/dialog';\nimport {PhysicalInventoryService} from '../../services/physical-inventory.service';\nimport {ENomenclatureType, Nomenclature} from '@shared/models/nomenclature';\nimport {finalize} from 'rxjs';\n\n@Component({\n  selector: 'pek-add-product-to-physical-inventory',\n  templateUrl: './add-product-to-physical-inventory.component.html',\n  styleUrls: ['./add-product-to-physical-inventory.component.scss']\n})\nexport class AddProductToPhysicalInventoryComponent implements OnInit {\n  isSaving = false;\n  isSelectProductMode = false;\n\n  nomenclatureType = ENomenclatureType;\n\n  selectedNomenclature: Nomenclature;\n  selectedNomenclatureTechnologiesIds: number[] = [];\n\n  form: FormGroup = this.fb.group({\n    locator_id: [null, Validators.required],\n    add_quantity: [1, [Validators.required, Validators.min(1)]],\n    nomenclature_id: [null, Validators.required],\n  });\n\n  constructor(\n    private readonly fb: FormBuilder,\n    private readonly dialogRef: MatDialogRef<AddProductToPhysicalInventoryComponent>,\n    private readonly physicalInventoryService: PhysicalInventoryService,\n    @Inject(MAT_DIALOG_DATA) private inventoryId: number,\n  ) {\n  }\n\n  ngOnInit(): void {\n\n  }\n\n  onSelectProductMode() {\n    this.dialogRef.updateSize('90rem', 'auto');\n    this.isSelectProductMode = true;\n  }\n\n  selectLocator(id: number) {\n    this.form.get('locator_id').patchValue(id);\n  }\n\n  onSelectNomenclature(nomenclature: Nomenclature) {\n    this.selectedNomenclature = nomenclature;\n\n    if (nomenclature) {\n      this.form.get('nomenclature_id').patchValue(nomenclature.id);\n      this.selectedNomenclatureTechnologiesIds = nomenclature.technologies.map(t => t.id);\n    } else {\n      this.form.get('nomenclature_id').patchValue(null);\n      this.selectedNomenclatureTechnologiesIds = [];\n    }\n\n    if (this.selectedNomenclatureTechnologiesIds.length > 0) {\n      this.form.addControl('current_technology_id', new FormControl(null, Validators.required));\n    } else {\n      this.form.removeControl('current_technology_id');\n    }\n  }\n\n  onReselectProduct() {\n    this.onSelectProductMode();\n    this.selectedNomenclature = null;\n    this.form.get('nomenclature_id').patchValue(null);\n    this.form.removeControl('current_technology_id');\n    this.selectedNomenclatureTechnologiesIds = [];\n  }\n\n  onChoiceProduct() {\n    this.dialogRef.updateSize('40rem', 'auto');\n    this.isSelectProductMode = false;\n  }\n\n  onSave() {\n    this.isSaving = true;\n    const send = this.form.value;\n    this.physicalInventoryService.addProductToInventory(this.inventoryId, send).pipe(\n      finalize(() => this.isSaving = false)\n    ).subscribe(() => this.dialogRef.close(true));\n  }\n\n  selectTechnology(id: number) {\n    this.form.get('current_technology_id').patchValue(id);\n  }\n}\n","<div class=\"modal-header modal-header_vertical\">\n  <div class=\"add-product__header-wrapper\">\n    <div class=\"add-product__header\">\n      <h2 class=\"modal-header__title\">\n        Add product to Physical Inventory\n      </h2>\n    </div>\n  </div>\n</div>\n\n<mat-dialog-content>\n  <div *ngIf=\"!isSelectProductMode; else nomenclaturePicker\">\n    <form [formGroup]=\"form\">\n      <div class=\"form-group\">\n        <label>Move to*</label>\n\n        <pek-group-locator-picker\n          [selectedLocatorId]=\"this.form.get('locator_id').value\"\n          (selectLocator)=\"selectLocator($event)\"\n        ></pek-group-locator-picker>\n      </div>\n      <div class=\"form-group\">\n        <label>Quantity*</label>\n        <input type=\"number\" min=\"0\" id=\"name\" pInputText formControlName=\"add_quantity\">\n      </div>\n\n      <div\n        class=\"form-group\"\n        *ngIf=\"selectedNomenclature &&\n        selectedNomenclature.type !== nomenclatureType.PURCHASED &&\n        selectedNomenclatureTechnologiesIds.length > 0\"\n      >\n        <label>Technology*</label>\n        <pek-technology-picker\n          (selectTechnology)=\"selectTechnology($event)\"\n          [acceptedTechnologyIds]=\"selectedNomenclatureTechnologiesIds\"\n        ></pek-technology-picker>\n      </div>\n\n      <div class=\"form-group\">\n        <label>\n          Product*\n          <ng-container *ngIf=\"selectedNomenclature\">\n            : {{selectedNomenclature.code}} {{selectedNomenclature.name}}\n          </ng-container>\n        </label>\n\n        <div class=\"custom-button\" *ngIf=\"!selectedNomenclature\">\n          <p-button\n            icon=\"pi pi-plus\"\n            (click)=\"onSelectProductMode()\"\n            type=\"button\"\n            styleClass=\"p-button-text\"\n          >\n            Select Product\n          </p-button>\n        </div>\n\n        <div class=\"custom-button\" *ngIf=\"selectedNomenclature\">\n          <p-button\n            icon=\"pi pi-replay\"\n            (click)=\"onReselectProduct()\"\n            type=\"button\"\n            styleClass=\"p-button-text\"\n          >\n            Reselect Product\n          </p-button>\n        </div>\n      </div>\n    </form>\n  </div>\n</mat-dialog-content>\n\n<mat-dialog-actions\n  class=\"justify-content-between\"\n  [class.buttons]=\"isSelectProductMode\"\n>\n  <button\n    pButton\n    type=\"button\"\n    label=\"Cancel\"\n    [mat-dialog-close]=\"false\"\n    class=\"p-button-danger\"\n  ></button>\n  <button\n    *ngIf=\"!isSelectProductMode\"\n    pButton\n    type=\"button\"\n    label=\"Add Product\"\n    class=\"p-button-success\"\n    [loading]=\"isSaving\"\n    [disabled]=\"form.invalid\"\n    (click)=\"onSave()\"\n  ></button>\n\n  <button\n    *ngIf=\"isSelectProductMode\"\n    pButton\n    type=\"button\"\n    label=\"Select Product\"\n    class=\"p-button-success\"\n    [disabled]=\"!selectedNomenclature\"\n    (click)=\"onChoiceProduct()\"\n  ></button>\n</mat-dialog-actions>\n\n<ng-template #nomenclaturePicker>\n  <pek-nomenclature-picker\n    (selectProduct)=\"onSelectNomenclature($event)\"\n    [paginationAbsolute]=\"true\"\n  ></pek-nomenclature-picker>\n</ng-template>\n","import {Component, Inject, OnInit} from '@angular/core';\nimport {FormBuilder, FormControl, Validators} from '@angular/forms';\nimport {MAT_DIALOG_DATA, MatDialogRef} from '@angular/material/dialog';\nimport {ModalActionType} from '@shared/models/modal-action';\nimport {SerialTypeService} from '../../services/serial-type.service';\nimport {SerialType} from '../../models/serial-type';\nimport {ENomenclatureType, Nomenclature} from '@shared/models/nomenclature';\nimport {ModalService} from '@shared/services/modal.service';\n\n@Component({\n  selector: 'pek-create-edit-serial-type',\n  templateUrl: './create-edit-serial-type.component.html',\n  styleUrls: ['./create-edit-serial-type.component.scss']\n})\nexport class CreateEditSerialTypeComponent implements OnInit {\n  isSaving = false;\n\n  nomenclatures: Partial<Nomenclature>[] = [];\n\n  form = this.fb.group({\n    name: ['', [Validators.required]],\n    prefix: ['', [Validators.required]],\n    suffix: ['', [Validators.required]],\n    start_number: [0, [Validators.required]],\n    nomenclature_set: [[]],\n  });\n\n  constructor(\n    private readonly fb: FormBuilder,\n    private readonly serialTypeService: SerialTypeService,\n    private readonly modalService: ModalService,\n    private dialogRef: MatDialogRef<CreateEditSerialTypeComponent>,\n    @Inject(MAT_DIALOG_DATA) public data: { type: ModalActionType, serialType: SerialType }\n  ) {\n  }\n\n  ngOnInit(): void {\n    if (this.data.type === 'edit') {\n      this.form.addControl('id' as any, new FormControl(this.data.serialType.id));\n      this.form.patchValue(<any>this.data.serialType);\n\n      this.form.get('nomenclature_set').patchValue(this.data.serialType.nomenclature_set.map(n => n.id));\n      this.nomenclatures = this.data.serialType.nomenclature_set;\n    }\n  }\n\n  getType(type: ENomenclatureType) {\n    switch (type) {\n      case ENomenclatureType.PURCHASED:\n        return 'Purchased';\n      case ENomenclatureType.ASSEMBLY:\n        return 'Assembly';\n      case ENomenclatureType.MANUFACTURED:\n        return 'Manufactured';\n    }\n  }\n\n  onRemoveNomenclature(id: number) {\n    const index = this.nomenclatures.findIndex(n => n.id === id);\n    this.nomenclatures.splice(index, 1);\n    this.form.get('nomenclature_set').patchValue(this.nomenclatures.map(n => n.id));\n  }\n\n  onSave() {\n    this.isSaving = true;\n\n    switch (this.data.type) {\n      case 'create': {\n        this.createSerialType();\n        break;\n      }\n      case 'edit': {\n        this.editSerialType();\n        break;\n      }\n    }\n  }\n\n  onChoiceNomenclature() {\n    this.modalService.choiceNomenclatureModal().subscribe(nomenclature => {\n      if (nomenclature) {\n        this.form.get('nomenclature_set').value.push(nomenclature.id);\n        this.nomenclatures.push(nomenclature);\n      }\n    })\n  }\n\n  createSerialType() {\n    const send = <any>this.form.value;\n    this.serialTypeService.create(send).subscribe({\n      next: serialType => this.dialogRef.close(serialType),\n      error: () => this.isSaving = false,\n    });\n  }\n\n  editSerialType() {\n    const send = <any>this.form.value;\n    this.serialTypeService.update(send).subscribe({\n      next: serialType => this.dialogRef.close(serialType),\n      error: () => this.isSaving = false,\n    });\n  }\n\n}\n","<div class=\"modal-header\">\n  <h2 class=\"modal-header__title\">\n    {{data.type}} Serial Number Type\n  </h2>\n</div>\n\n<mat-dialog-content>\n  <form [formGroup]=\"form\">\n    <div class=\"form-group\">\n      <label for=\"name\">Name*</label>\n      <input type=\"text\" id=\"name\" pInputText formControlName=\"name\">\n    </div>\n    <div class=\"row\">\n      <div class=\"col-4\">\n        <div class=\"form-group\">\n          <label for=\"prefix\"> Prefix* </label>\n          <input formControlName=\"prefix\" pInputText class=\"form-control\" type=\"text\" id=\"prefix\" required=\"required\">\n        </div>\n      </div>\n      <div class=\"col-4\">\n        <div class=\"form-group\">\n          <label for=\"start\"> Start Number* </label>\n          <input formControlName=\"start_number\" pInputText class=\"form-control\" type=\"number\" id=\"start\"\n                 required=\"required\">\n        </div>\n      </div>\n      <div class=\"col-4\">\n        <div class=\"form-group\">\n          <label for=\"suffix\"> Suffix* </label>\n          <input formControlName=\"suffix\" pInputText class=\"form-control\" type=\"text\" id=\"suffix\" required=\"required\">\n        </div>\n      </div>\n    </div>\n    <div class=\"form-group\">\n      <div class=\"nomenclature-header\">\n        <label> Nomenclatures </label>\n        <div class=\"custom-button\">\n          <p-button\n            icon=\"pi pi-plus\"\n            type=\"button\"\n            styleClass=\"p-button-text\"\n            (click)=\"onChoiceNomenclature()\"\n          >\n            Add Nomenclature\n          </p-button>\n        </div>\n      </div>\n\n      <div *ngIf=\"nomenclatures.length > 0; else empty\">\n        <p-table\n          [value]=\"nomenclatures\"\n          [paginator]=\"true\"\n          [rows]=\"10\"\n          selectionMode=\"single\"\n        >\n          <ng-template pTemplate=\"header\">\n            <tr>\n              <th style=\"width: 7%\" class=\"text-center\">#</th>\n              <th style=\"width: 33%\">Name</th>\n              <th style=\"width: 30%\">Code</th>\n              <th style=\"width: 20%\" class=\"text-center\">Type</th>\n              <th style=\"width: 10%\" class=\"text-right\"></th>\n            </tr>\n          </ng-template>\n          <ng-template pTemplate=\"body\" let-nomenclature let-i=\"rowIndex\">\n            <tr>\n              <td style=\"width: 7%\" class=\"text-center\">{{i + 1}}</td>\n              <td style=\"width: 33%\">{{nomenclature.name}}</td>\n              <td style=\"width: 30%\">{{nomenclature.code}}</td>\n              <td style=\"width: 20%\" class=\"text-center\">{{getType(nomenclature.type)}}</td>\n              <td style=\"width: 10%\" class=\"text-right\">\n                <button\n                  pButton\n                  (click)=\"onRemoveNomenclature(nomenclature.id)\"\n                  type=\"button\"\n                  class=\"p-button-danger p-button-rounded p-button-outlined p-button-rounded_small\"\n                  icon=\"pi pi-trash\"\n                ></button>\n              </td>\n            </tr>\n          </ng-template>\n        </p-table>\n      </div>\n\n      <ng-template #empty>\n        <div class=\"empty\">The nomenclature is missing</div>\n      </ng-template>\n    </div>\n  </form>\n</mat-dialog-content>\n\n<mat-dialog-actions class=\"justify-content-between\">\n  <button pButton type=\"button\" label=\"Cancel\" [mat-dialog-close]=\"false\" class=\"p-button-danger\"></button>\n  <button\n    pButton\n    type=\"button\"\n    class=\"p-button-success\"\n    [label]=\"data.type\"\n    [loading]=\"isSaving\"\n    [disabled]=\"form.invalid\"\n    (click)=\"onSave()\"\n  ></button>\n</mat-dialog-actions>\n","import {Component, Inject, OnInit} from '@angular/core';\nimport {FormBuilder, FormGroup, Validators} from '@angular/forms';\nimport {MAT_DIALOG_DATA, MatDialogRef} from '@angular/material/dialog';\nimport {Warehouse} from '../../models/warehouse';\nimport {Locator} from '../../models/locator';\nimport {PhysicalInventoryService} from '../../services/physical-inventory.service';\nimport {finalize} from 'rxjs';\n\n@Component({\n  selector: 'pek-create-physical-inventory',\n  templateUrl: './create-physical-inventory.component.html',\n  styleUrls: ['./create-physical-inventory.component.scss']\n})\nexport class CreatePhysicalInventoryComponent implements OnInit {\n  form: FormGroup = this.fb.group({\n    warehouses: [null, Validators.required],\n    locators: [null, Validators.required],\n  });\n\n  isSaving = false;\n\n  constructor(\n    private readonly fb: FormBuilder,\n    private readonly dialogRef: MatDialogRef<CreatePhysicalInventoryComponent>,\n    private readonly physicalInventoryServices: PhysicalInventoryService,\n    @Inject(MAT_DIALOG_DATA) private data: any,\n  ) {\n  }\n\n  ngOnInit(): void {\n  }\n\n  selectWarehouses(warehouses: Warehouse[]) {\n    let value = null;\n    if (warehouses?.length > 0) value = warehouses.map(w => w.id);\n    this.form.get('warehouses').patchValue(value);\n  }\n\n  selectLocators(locators: Locator[]) {\n    let value = null;\n    if (locators?.length > 0) value = locators.map(w => w.id);\n    this.form.get('locators').patchValue(value);\n  }\n\n  onCreatePhysicalInventory() {\n    this.isSaving = true;\n    const locatorsIds = this.form.get('locators').value.splice(',').join(',');\n    this.physicalInventoryServices.createPhysicalInventory(locatorsIds).pipe(\n      finalize(() => this.isSaving = false)\n    ).subscribe(() => this.dialogRef.close(true));\n  }\n}\n","<div class=\"modal-header modal-header_vertical\">\n  <div class=\"add-product__header-wrapper\">\n    <div class=\"add-product__header\">\n      <h2 class=\"modal-header__title\">\n        Create Physical Inventory\n      </h2>\n    </div>\n  </div>\n</div>\n\n<mat-dialog-content>\n  <form [formGroup]=\"form\">\n    <div class=\"form-group\">\n      <label>Warehouses</label>\n      <pek-multi-warehouse-picker\n        (selectWarehouses)=\"selectWarehouses($event)\"\n        [currentWarehousesIds]=\"form.get('warehouses').value\"\n      ></pek-multi-warehouse-picker>\n    </div>\n\n    <div class=\"form-group\">\n      <label>Locator</label>\n      <pek-multi-locator-picker\n        [isDisabled]=\"true\"\n        [currentWarehousesIds]=\"form.get('warehouses').value\"\n        (selectLocators)=\"selectLocators($event)\"\n      >\n      </pek-multi-locator-picker>\n    </div>\n  </form>\n</mat-dialog-content>\n\n<mat-dialog-actions class=\"justify-content-between\">\n  <button\n    pButton\n    type=\"button\"\n    label=\"Cancel\"\n    [mat-dialog-close]=\"false\"\n    class=\"p-button-danger\"\n  ></button>\n  <button\n    pButton\n    type=\"button\"\n    label=\"Create\"\n    class=\"p-button-success\"\n    [loading]=\"isSaving\"\n    [disabled]=\"form.invalid\"\n    (click)=\"onCreatePhysicalInventory()\"\n  ></button>\n</mat-dialog-actions>\n","import {Component, Inject, OnInit} from '@angular/core';\nimport {FormBuilder, FormGroup, Validators} from '@angular/forms';\nimport {MAT_DIALOG_DATA, MatDialogRef} from '@angular/material/dialog';\nimport {PhysicalInventoryService} from '../../services/physical-inventory.service';\nimport {Product} from '../../../product-structure/models/product';\nimport {finalize} from 'rxjs';\n\n@Component({\n  selector: 'pek-move-physical-inventory-product',\n  templateUrl: './move-physical-inventory-product.component.html',\n  styleUrls: ['./move-physical-inventory-product.component.scss']\n})\nexport class MovePhysicalInventoryProductComponent implements OnInit {\n  isSaving = false;\n\n  form: FormGroup = this.fb.group({\n    new_locator_id: [null, Validators.required],\n  });\n\n  constructor(\n    private readonly fb: FormBuilder,\n    private readonly dialogRef: MatDialogRef<MovePhysicalInventoryProductComponent>,\n    private readonly physicalInventoryService: PhysicalInventoryService,\n    @Inject(MAT_DIALOG_DATA) public data: Product,\n  ) {\n  }\n\n  ngOnInit(): void {\n  }\n\n  selectLocator(id: number) {\n    this.form.get('new_locator_id').patchValue(id);\n  }\n\n  onMoveProduct() {\n    this.isSaving = true;\n    this.physicalInventoryService.movePhysicalInventoryProduct(this.data.id, this.form.value).pipe(\n      finalize(() => this.isSaving = false)\n    ).subscribe(() => this.dialogRef.close(true));\n  }\n}\n","<div class=\"modal-header modal-header_vertical\">\r\n  <div class=\"add-product__header-wrapper\">\r\n    <div class=\"add-product__header\">\r\n      <h2 class=\"modal-header__title\">\r\n        Move Product\r\n\r\n        <ng-container *ngIf=\"data.product; else productTitle\">\r\n          {{data.product.nomenclature.name}}\r\n        </ng-container>\r\n\r\n        <ng-template #productTitle>\r\n          {{data.nomenclature.name}}\r\n        </ng-template>\r\n      </h2>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<mat-dialog-content>\r\n  <form [formGroup]=\"form\">\r\n    <label class=\"current-locator\">\r\n      Current Locator: {{data.locator.name}}\r\n      R: {{data.locator.row}}\r\n      Col: {{data.locator.column}}\r\n      Sh: {{data.locator.shelf}}\r\n      Pl: {{data.locator.place}}\r\n    </label>\r\n    <div class=\"form-group\">\r\n      <label>Move to*</label>\r\n      <pek-group-locator-picker\r\n        [product]=\"data\"\r\n        (selectLocator)=\"selectLocator($event)\"\r\n      ></pek-group-locator-picker>\r\n    </div>\r\n  </form>\r\n</mat-dialog-content>\r\n\r\n<mat-dialog-actions class=\"justify-content-between\">\r\n  <button\r\n    pButton\r\n    type=\"button\"\r\n    label=\"Cancel\"\r\n    [mat-dialog-close]=\"false\"\r\n    class=\"p-button-danger\"\r\n  ></button>\r\n  <button\r\n    pButton\r\n    type=\"button\"\r\n    label=\"Move\"\r\n    class=\"p-button-success\"\r\n    [loading]=\"isSaving\"\r\n    [disabled]=\"form.invalid\"\r\n    (click)=\"onMoveProduct()\"\r\n  ></button>\r\n</mat-dialog-actions>\r\n","import {Component, Inject, OnInit} from '@angular/core';\r\nimport {MAT_DIALOG_DATA, MatDialogRef} from '@angular/material/dialog';\r\nimport {InventoryProduct} from '../../models/physical-inventory';\r\n\r\n@Component({\r\n  selector: 'pek-physical-inventory-products-changes',\r\n  templateUrl: './physical-inventory-products-changes.component.html',\r\n  styleUrls: ['./physical-inventory-products-changes.component.scss']\r\n})\r\nexport class PhysicalInventoryProductsChangesComponent implements OnInit {\r\n  nonScannedSerialNumbers: InventoryProduct[];\r\n  notMatchingQuantity: InventoryProduct[];\r\n  constructor(\r\n    private readonly dialogRef: MatDialogRef<PhysicalInventoryProductsChangesComponent>,\r\n    @Inject(MAT_DIALOG_DATA) public data: InventoryProduct[],\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    // console.log('this.data', this.data);\r\n    this.nonScannedSerialNumbers = this.data.filter(invProduct => invProduct.serial_number);\r\n    this.notMatchingQuantity = this.data.filter(invProduct => !invProduct.serial_number);\r\n  }\r\n\r\n  onAcceptChanges() {\r\n    this.dialogRef.close(true);\r\n  }\r\n}\r\n","<div class=\"modal-header modal-header_vertical\">\r\n  <div class=\"add-product__header-wrapper\">\r\n    <div class=\"add-product__header\">\r\n      <h2 class=\"modal-header__title\">\r\n        Physical Inventory Before Completion Check\r\n      </h2>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<mat-dialog-content>\r\n  <p-tabView>\r\n    <p-tabPanel header=\"Not Matching Quantity\">\r\n      <p-table\r\n        [rows]=\"10\"\r\n        [value]=\"notMatchingQuantity\"\r\n        [paginator]=\"notMatchingQuantity.length > 10\"\r\n      >\r\n        <ng-template pTemplate=\"header\">\r\n          <tr>\r\n            <th style=\"width: 10%\" class=\"index-header text-center\">#</th>\r\n            <th style=\"width: 25%\" class=\"text-center\">Code</th>\r\n            <th style=\"width: 25%\" class=\"text-center\">Name</th>\r\n            <th style=\"width: 20%\" class=\"text-center\">Initial Quantity</th>\r\n            <th style=\"width: 20%\" class=\"text-center\">Current Quantity</th>\r\n          </tr>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"body\" let-product let-i=\"rowIndex\">\r\n          <tr>\r\n            <td style=\"width: 10%\" class=\"text-center\">{{i + 1}}</td>\r\n            <td style=\"width: 25%\" class=\"text-center\">\r\n              {{product.nomenclature.code}}\r\n            </td>\r\n            <td style=\"width: 25%\">\r\n              <b *ngIf=\"product.nomenclature.bulk_or_serial === '1'\">(S)</b>\r\n              {{product.nomenclature.name}}\r\n            </td>\r\n            <td style=\"width: 20%\" class=\"text-center\">\r\n              {{product.initial_quantity}}\r\n            </td>\r\n            <td style=\"width: 20%\" class=\"text-center\">\r\n              {{product.current_available_quantity}}\r\n            </td>\r\n          </tr>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"emptymessage\">\r\n          <tr>\r\n            <td class=\"text-center p-3\" [attr.colspan]=\"5\">\r\n              <span>No Records Found</span>\r\n            </td>\r\n          </tr>\r\n        </ng-template>\r\n      </p-table>\r\n    </p-tabPanel>\r\n    <p-tabPanel header=\"With Serial Number Not Scanned\">\r\n      <p-table\r\n        [rows]=\"10\"\r\n        [value]=\"nonScannedSerialNumbers\"\r\n        [paginator]=\"nonScannedSerialNumbers.length > 10\"\r\n      >\r\n        <ng-template pTemplate=\"header\">\r\n          <tr>\r\n            <th style=\"width: 10%\" class=\"index-header text-center\">#</th>\r\n            <th style=\"width: 25%\" class=\"text-center\">Code</th>\r\n            <th style=\"width: 25%\" class=\"text-center\">Name</th>\r\n            <th style=\"width: 20%\" class=\"text-center\">Initial Quantity</th>\r\n            <th style=\"width: 20%\" class=\"text-center\">Current Quantity</th>\r\n          </tr>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"body\" let-product let-i=\"rowIndex\">\r\n          <tr>\r\n            <td style=\"width: 10%\" class=\"text-center\">{{i + 1}}</td>\r\n            <td style=\"width: 25%\" class=\"text-center\">\r\n              {{product.nomenclature.code}}\r\n            </td>\r\n            <td style=\"width: 25%\">\r\n              <b *ngIf=\"product.nomenclature.bulk_or_serial === '1'\">(S)</b>\r\n              {{product.nomenclature.name}}\r\n            </td>\r\n            <td style=\"width: 20%\" class=\"text-center\">\r\n              {{product.initial_quantity}}\r\n            </td>\r\n            <td style=\"width: 20%\" class=\"text-center\">\r\n              {{product.current_available_quantity}}\r\n            </td>\r\n          </tr>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"emptymessage\">\r\n          <tr>\r\n            <td class=\"text-center p-3\" [attr.colspan]=\"5\">\r\n              <span>No Records Found</span>\r\n            </td>\r\n          </tr>\r\n        </ng-template>\r\n      </p-table>\r\n    </p-tabPanel>\r\n  </p-tabView>\r\n</mat-dialog-content>\r\n\r\n<mat-dialog-actions class=\"justify-content-between\">\r\n  <button\r\n    pButton\r\n    type=\"button\"\r\n    label=\"Cancel\"\r\n    [mat-dialog-close]=\"false\"\r\n    class=\"p-button-danger\"\r\n  ></button>\r\n  <button\r\n    pButton\r\n    type=\"button\"\r\n    label=\"Complete\"\r\n    class=\"p-button-success\"\r\n    (click)=\"onAcceptChanges()\"\r\n  ></button>\r\n</mat-dialog-actions>\r\n","import {Injectable} from '@angular/core';\nimport {HttpClient} from '@angular/common/http';\nimport {Observable} from 'rxjs';\nimport {DeliveryChain} from '../models/delivery-chain';\nimport {environment} from '@env/environment';\nimport {map} from 'rxjs/operators';\nimport {QuerySearch} from '@shared/models/other';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DeliveryChainService {\n\n  API_URL = environment.base_url + environment.delivery_url;\n  readonly url = 'chains/';\n  readonly filesUrl = 'files/';\n\n  constructor(\n    private readonly httpClient: HttpClient\n  ) {\n  }\n\n  get(query?: QuerySearch[]): Observable<DeliveryChain[]> {\n    let queryParams = '';\n    if (query) {\n      query.forEach((element, index) => {\n        if (index > 0) {\n          queryParams += '&' + element.name + '=' + element.value;\n        } else {\n          queryParams += '?' + element.name + '=' + element.value;\n        }\n      });\n    }\n\n    return this.httpClient.get<{ data: DeliveryChain[] }>(this.API_URL + this.url + queryParams).pipe(\n      map(response => response.data)\n    );\n  }\n\n  getById(id): Observable<DeliveryChain> {\n    return this.httpClient.get<{ data: DeliveryChain }>(this.API_URL + this.url + `${id}/`).pipe(\n      map(response => response.data)\n    );\n  }\n\n  getDeliveryItems(id: number): Observable<any[]> {\n    return this.httpClient.get<{ data: any[] }>(this.API_URL + this.url + id + '/items/').pipe(\n      map(response => response.data)\n    );\n  }\n\n  complete(id: number): Observable<any> {\n    return this.httpClient.post<{ data: any }>(this.API_URL + this.url + id + '/complete/', null).pipe(\n      map(response => response.data)\n    );\n  }\n}\n","import {Injectable} from '@angular/core';\r\nimport {QuerySearch} from '@shared/models/other';\r\nimport {\r\n  InventoryList,\r\n  InventoryLists,\r\n  InventoryProduct,\r\n  PhysicalInventories,\r\n  PhysicalInventory\r\n} from '../models/physical-inventory';\r\nimport {Observable} from 'rxjs';\r\nimport {map} from 'rxjs/operators';\r\nimport {HttpClient, HttpContext, HttpHeaders} from '@angular/common/http';\r\nimport {environment} from '@env/environment';\r\nimport {MatDialog} from '@angular/material/dialog';\r\nimport {\r\n  CreatePhysicalInventoryComponent\r\n} from '../modals/create-physical-inventory/create-physical-inventory.component';\r\nimport {\r\n  MovePhysicalInventoryProductComponent\r\n} from '../modals/move-physical-inventory-product/move-physical-inventory-product.component';\r\nimport {Product} from '../../product-structure/models/product';\r\nimport {\r\n  AddProductToPhysicalInventoryComponent\r\n} from '../modals/add-product-to-physical-inventory/add-product-to-physical-inventory.component';\r\nimport {IS_SCANNING_ENABLED} from '@shared/interceptors/error-interceptor';\r\nimport {\r\n  PhysicalInventoryProductsChangesComponent\r\n} from '../modals/physical-inventory-products-changes/physical-inventory-products-changes.component';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class PhysicalInventoryService {\r\n\r\n  API_URL = environment.base_url + environment.warehouse_url;\r\n  readonly url = 'physical_inventory/';\r\n\r\n  constructor(\r\n    private httpClient: HttpClient,\r\n    private readonly dialog: MatDialog,\r\n  ) {\r\n  }\r\n\r\n  getForPagination(query?: QuerySearch[]): Observable<PhysicalInventories> {\r\n    let queryParams = '';\r\n\r\n    if (query) {\r\n      query.forEach((element, index) => {\r\n        if (index > 0) {\r\n          queryParams += '&' + element.name + '=' + element.value;\r\n        } else {\r\n          queryParams += '?' + element.name + '=' + element.value;\r\n        }\r\n      });\r\n    }\r\n\r\n    return this.httpClient.get<{ data: PhysicalInventories }>(this.API_URL + this.url + queryParams).pipe(\r\n      map(response => response.data)\r\n    );\r\n  }\r\n\r\n  getById(id: number): Observable<PhysicalInventory> {\r\n    return this.httpClient.get<{ data: PhysicalInventory }>(this.API_URL + this.url + id + '/').pipe(\r\n      map(response => response.data)\r\n    );\r\n  }\r\n\r\n  getInventoryProducts(id: number, query?: QuerySearch[]): Observable<InventoryList[]> {\r\n    let queryParams = '';\r\n    if (query) {\r\n      query.forEach((element, index) => {\r\n        if (index > 0) {\r\n          queryParams += '&' + element.name + '=' + element.value;\r\n        } else {\r\n          queryParams += '&' + element.name + '=' + element.value;\r\n        }\r\n      });\r\n    }\r\n\r\n    return this.httpClient.get<{ data: InventoryList[] }>(this.API_URL + 'physical_inventory_products_lists/?physical_inventory_id=' + id + queryParams).pipe(\r\n      map(response => response.data)\r\n    );\r\n  }\r\n\r\n  getInventoryProductsListsForPagination(id: number, query?: QuerySearch[]): Observable<InventoryLists> {\r\n    let queryParams = '';\r\n    if (query) {\r\n      query.forEach((element, index) => {\r\n        if (index > 0) {\r\n          queryParams += '&' + element.name + '=' + element.value;\r\n        } else {\r\n          queryParams += '&' + element.name + '=' + element.value;\r\n        }\r\n      });\r\n    }\r\n\r\n    return this.httpClient.get<{ data: InventoryLists }>(this.API_URL + 'physical_inventory_products_lists/?physical_inventory_id=' + id + queryParams).pipe(\r\n      map(response => response.data)\r\n    );\r\n  }\r\n\r\n  createPhysicalInventory(locatorsIds: string): Observable<PhysicalInventory[]> {\r\n    return this.httpClient.post<{ data: PhysicalInventory[] }>(this.API_URL + this.url + '?locators_ids=' + locatorsIds, null).pipe(\r\n      map(response => response.data)\r\n    );\r\n  }\r\n\r\n  completePhysicalInventory(inventoryId: number): Observable<any> {\r\n    return this.httpClient.post(this.API_URL + this.url + inventoryId + '/complete_physical_inventory/', null);\r\n  }\r\n\r\n  removePhysicalInventory(inventoryId: number): Observable<any> {\r\n    return this.httpClient.delete(this.API_URL + this.url + inventoryId + '/');\r\n  }\r\n\r\n  updateQuantityInventoryProduct(inventoryProduct: InventoryProduct): Observable<InventoryProduct> {\r\n    const send = {\r\n      is_scanned: inventoryProduct.is_scanned,\r\n      new_quantity: inventoryProduct.new_quantity\r\n    };\r\n    return this.httpClient.put<{ data: InventoryProduct }>(this.API_URL + 'physical_inventory_products/' + inventoryProduct.id + '/', send).pipe(\r\n      map(response => response.data)\r\n    );\r\n  }\r\n\r\n  movePhysicalInventoryProduct(id: number, send: { new_locator_id: number }): Observable<InventoryProduct> {\r\n    return this.httpClient.post<{ data: InventoryProduct }>(this.API_URL + 'physical_inventory_products/' + id + '/move_to_locator/', send).pipe(\r\n      map(response => response.data)\r\n    );\r\n  }\r\n\r\n  addProductToInventory(inventoryId: number, send: any): Observable<InventoryProduct> {\r\n    return this.httpClient.post<{ data: InventoryProduct }>(this.API_URL + this.url + inventoryId + '/add_to_inventory/', send).pipe(\r\n      map(response => response.data)\r\n    );\r\n  }\r\n\r\n  openCreatePhysicalInventoryModal(): Observable<any> {\r\n    return this.dialog\r\n      .open<CreatePhysicalInventoryComponent>(CreatePhysicalInventoryComponent, {\r\n        width: '40rem',\r\n        height: 'auto',\r\n        panelClass: 'modal-overflow-visible',\r\n        autoFocus: false,\r\n        enterAnimationDuration: '250ms'\r\n      })\r\n      .afterClosed();\r\n  }\r\n\r\n  openPhysicalInventoryProductMoveModal(product: Product): Observable<any> {\r\n    return this.dialog\r\n      .open<MovePhysicalInventoryProductComponent>(MovePhysicalInventoryProductComponent, {\r\n        width: '40rem',\r\n        height: 'auto',\r\n        data: product,\r\n        panelClass: 'modal-overflow-visible',\r\n        autoFocus: false,\r\n        enterAnimationDuration: '250ms'\r\n      })\r\n      .afterClosed();\r\n  }\r\n\r\n  scanPhysicalInventoryQrCode(id: number, data: any) {\r\n    return this.httpClient.post<{ data: any }>(this.API_URL + this.url + `${id}/scan_inventory_item/`, data, {\r\n      context: new HttpContext().set(IS_SCANNING_ENABLED, true)\r\n    }).pipe(\r\n      map(response => response.data)\r\n    );\r\n  }\r\n\r\n\r\n  openAddProductToPhysicalInventory(inventoryId: number): Observable<any> {\r\n    return this.dialog\r\n      .open<AddProductToPhysicalInventoryComponent>(AddProductToPhysicalInventoryComponent, {\r\n        width: '40rem',\r\n        height: 'auto',\r\n        data: inventoryId,\r\n        panelClass: 'modal-overflow-visible',\r\n        autoFocus: false,\r\n        enterAnimationDuration: '250ms'\r\n      })\r\n      .afterClosed();\r\n  }\r\n\r\n\r\n  changesInInventory(inventoryProducts: InventoryProduct[]): Observable<any> {\r\n    return this.dialog\r\n      .open<PhysicalInventoryProductsChangesComponent>(PhysicalInventoryProductsChangesComponent, {\r\n        width: '60rem',\r\n        height: 'auto',\r\n        data: inventoryProducts,\r\n        panelClass: 'modal-overflow-visible',\r\n        autoFocus: false,\r\n        enterAnimationDuration: '250ms'\r\n      })\r\n      .afterClosed();\r\n  }\r\n\r\n  getChangedPhysicalInventoryProductsHaveBeenChanged(id: number) {\r\n    const query = '?physical_inventory_id=' + id;\r\n    return this.httpClient.get(this.API_URL + 'physical_inventory_products/' + 'get_physical_inventory_products_to_notify_about/' + query);\r\n  }\r\n}\r\n","import {Injectable} from '@angular/core';\nimport {Observable} from 'rxjs';\nimport {Request} from '../models/request';\nimport {HttpClient} from '@angular/common/http';\nimport {environment} from '@env/environment';\nimport {map} from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RequestService {\n  API_URL = environment.base_url + environment.production_url;\n  API_URL_PROCUREMENT = environment.base_url + environment.procurement_url;\n\n  readonly url = 'production_requests/';\n\n  constructor(\n    private http: HttpClient\n  ) {\n  }\n\n  getByOrder(orderId: number): Observable<Request[]> {\n    return this.http.get<{ data: Request[] }>(this.API_URL + this.url + '?order=' + orderId).pipe(\n      map(response => response.data)\n    );\n  }\n\n  cancelRequest(id: number): Observable<any> {\n    return this.http.post<{ data: any }>(this.API_URL + this.url + `${id}/cancel/`, null).pipe(\n      map(response => response.data)\n    );\n  }\n\n  cancel(id: number): Observable<any> {\n    return this.http.post<{ data: any }>(this.API_URL_PROCUREMENT + `orders/${id}/cancel_production_requests/`, null).pipe(\n      map(response => response.data)\n    );\n  }\n\n  complete(id: number): Observable<any> {\n    return this.http.post(this.API_URL_PROCUREMENT + 'orders/' + id + '/' + 'complete/', id);\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {QuerySearch} from '@shared/models/other';\nimport {environment} from '@env/environment';\nimport {HttpClient} from '@angular/common/http';\nimport {Observable} from 'rxjs';\nimport {SerialType} from '../models/serial-type';\nimport {map} from 'rxjs/operators';\nimport {ModalActionType} from '@shared/models/modal-action';\nimport {MatDialog} from '@angular/material/dialog';\nimport {CreateEditSerialTypeComponent} from '../modals/create-edit-serial-type/create-edit-serial-type.component';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SerialTypeService {\n\n  API_URL = environment.base_url + environment.warehouse_url;\n  readonly url = 'serial_number_types/';\n\n  constructor(\n    private httpClient: HttpClient,\n    private readonly dialog: MatDialog,\n  ) {\n  }\n\n  get(query?: QuerySearch[]): Observable<SerialType[]> {\n    let queryParams = '';\n    if (query) {\n      query.forEach((element, index) => {\n        if (index > 0) {\n          queryParams += '&' + element.name + '=' + element.value;\n        } else {\n          queryParams += '?' + element.name + '=' + element.value;\n        }\n      });\n    }\n\n    return this.httpClient.get<{ data: SerialType[] }>(this.API_URL + this.url + queryParams).pipe(\n      map(response => response.data)\n    );\n  }\n\n  create(serialType: Partial<SerialType>): Observable<SerialType> {\n    return this.httpClient.post<{ data: SerialType }>(this.API_URL + this.url, serialType).pipe(\n      map(response => response.data)\n    );\n  }\n\n  updatePartly(serialType: Partial<SerialType>): Observable<SerialType> {\n    return this.httpClient.patch<{ data: SerialType }>(this.API_URL + this.url + serialType.id + '/', serialType).pipe(\n      map(response => response.data)\n    );\n  }\n\n  update(serialType: Partial<SerialType>): Observable<SerialType> {\n    return this.httpClient.put<{ data: SerialType }>(this.API_URL + this.url + serialType.id + '/', serialType).pipe(\n      map(response => response.data)\n    );\n  }\n\n  delete(serialType: SerialType): Observable<any> {\n    return this.httpClient.delete(this.API_URL + this.url + serialType.id + '/');\n  }\n\n  createEditSerialTypeModal(type: ModalActionType, serialType?: SerialType): Observable<SerialType> {\n    return this.dialog\n      .open<CreateEditSerialTypeComponent>(CreateEditSerialTypeComponent, {\n        width: '65rem',\n        height: 'auto',\n        data: {type, serialType},\n        autoFocus: false,\n        enterAnimationDuration: '250ms'\n      })\n      .afterClosed();\n  }\n}\n","import { Injectable } from '@angular/core';\r\nimport {environment} from '@env/environment';\r\nimport {HttpClient} from '@angular/common/http';\r\nimport {QuerySearch} from '@shared/models/other';\r\nimport {Observable} from 'rxjs';\r\nimport {map} from 'rxjs/operators';\r\nimport {TechnicalEquipmentInUse} from '../models/technical-equipment-in-use';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class TechnicalEquipmentsInUseService {\r\n  API_URL = environment.base_url + environment.production_url;\r\n  readonly url = 'order_technical_equipments_in_use/';\r\n\r\n  constructor(private httpClient: HttpClient) {\r\n\r\n  }\r\n\r\n  get(query?: QuerySearch[]): Observable<TechnicalEquipmentInUse[]> {\r\n    let qString = '';\r\n    if (query) {\r\n      query.forEach((element, index) => {\r\n        if (index > 0) {\r\n          qString += '&' + element.name + '=' + element.value;\r\n        } else {\r\n          qString += '?' + element.name + '=' + element.value;\r\n        }\r\n\r\n      });\r\n    }\r\n    return this.httpClient.get<{ data: TechnicalEquipmentInUse[] }>(this.API_URL + this.url + qString).pipe(map(response => {\r\n      return response.data;\r\n    }));\r\n  }\r\n}\r\n","import {Injectable} from '@angular/core';\r\nimport {environment} from '@env/environment';\r\nimport {HttpClient} from '@angular/common/http';\r\nimport {Observable} from 'rxjs';\r\nimport {QuerySearch} from '@shared/models/other';\r\nimport {ToolOrder, ToolOrderPaginated} from '../models/tool-order';\r\nimport {map} from 'rxjs/operators';\r\nimport {SerialType} from '../models/serial-type';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ToolOrderService {\r\n  API_URL = environment.base_url + environment.production_url;\r\n  readonly url = 'tool_orders/';\r\n\r\n  constructor(\r\n    private httpClient: HttpClient\r\n  ) {\r\n  }\r\n\r\n\r\n  get(query?: QuerySearch[]): Observable<ToolOrder[]> {\r\n    let queryParams = '';\r\n    if (query) {\r\n      query.forEach((element, index) => {\r\n        if (index > 0) {\r\n          queryParams += '&' + element.name + '=' + element.value;\r\n        } else {\r\n          queryParams += '?' + element.name + '=' + element.value;\r\n        }\r\n      });\r\n    }\r\n\r\n    return this.httpClient.get<{ data: ToolOrder[] }>(this.API_URL + this.url + queryParams).pipe(\r\n      map(response => response.data)\r\n    );\r\n  }\r\n\r\n  create(entity): Observable<ToolOrder> {\r\n    return this.httpClient.post<{ data: ToolOrder }>(this.API_URL + this.url, entity).pipe(map(response => {\r\n      return response.data;\r\n    }));\r\n  }\r\n\r\n  update(entity: ToolOrder): Observable<ToolOrder> {\r\n    return this.httpClient.put<{ data: ToolOrder }>(this.API_URL + this.url + entity.id + '/', entity).pipe(\r\n      map(response => response.data)\r\n    );\r\n  }\r\n\r\n  get_paginated(query?: QuerySearch[]): Observable<ToolOrderPaginated> {\r\n    let queryParams = '';\r\n    if (query) {\r\n      query.forEach((element, index) => {\r\n        if (index > 0) {\r\n          queryParams += '&' + element.name + '=' + element.value;\r\n        } else {\r\n          queryParams += '?' + element.name + '=' + element.value;\r\n        }\r\n      });\r\n    }\r\n\r\n    return this.httpClient.get<{ data: ToolOrderPaginated }>(this.API_URL + this.url + queryParams).pipe(\r\n      map(response => response.data)\r\n    );\r\n  }\r\n\r\n  getById(id: number): Observable<ToolOrder> {\r\n    return this.httpClient.get<{ data: ToolOrder }>(this.API_URL + this.url + id + '/').pipe(\r\n      map(response => response.data)\r\n    );\r\n  }\r\n\r\n  complete(id: number): Observable<ToolOrder> {\r\n    return this.httpClient.post<{ data: ToolOrder }>(this.API_URL + this.url + id + '/complete/', null).pipe(map(response => {\r\n      return response.data;\r\n    }));\r\n  }\r\n\r\n  delete(entity: ToolOrder) {\r\n    return this.httpClient.delete(this.API_URL + this.url + entity.id + '/');\r\n  }\r\n}\r\n","import {Injectable} from '@angular/core';\r\nimport {environment} from '@env/environment';\r\nimport {HttpClient} from '@angular/common/http';\r\nimport {Observable} from 'rxjs';\r\nimport {QuerySearch} from '@shared/models/other';\r\nimport {ToolRequest} from './tool-request';\r\nimport {map} from 'rxjs/operators';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ToolRequestService {\r\n\r\n  API_URL = environment.base_url + environment.production_url;\r\n  readonly url = 'tool_requests/';\r\n\r\n  constructor(\r\n    private httpClient: HttpClient\r\n  ) {\r\n  }\r\n\r\n  get(query?: QuerySearch[]): Observable<ToolRequest[]> {\r\n    let queryParams = '';\r\n    if (query) {\r\n      query.forEach((element, index) => {\r\n        if (index > 0) {\r\n          queryParams += '&' + element.name + '=' + element.value;\r\n        } else {\r\n          queryParams += '?' + element.name + '=' + element.value;\r\n        }\r\n      });\r\n    }\r\n\r\n    return this.httpClient.get<{ data: ToolRequest[] }>(this.API_URL + this.url + queryParams).pipe(\r\n      map(response => response.data)\r\n    );\r\n  }\r\n\r\n  create(entity): Observable<ToolRequest> {\r\n    return this.httpClient.post<{ data: ToolRequest }>(this.API_URL + this.url, entity).pipe(map(response => {\r\n      return response.data;\r\n    }));\r\n  }\r\n\r\n  update(entity: ToolRequest) {\r\n    return this.httpClient.put(this.API_URL + this.url + entity.id + '/', entity);\r\n  }\r\n\r\n  delete(entity: ToolRequest) {\r\n    return this.httpClient.delete(this.API_URL + this.url + entity.id + '/');\r\n  }\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\n\r\nimport {WarehouseRouting} from './warehouse.routing';\r\nimport {WarehouseItemsComponent} from './components/warehouse-items/warehouse-items.component';\r\nimport {WarehouseLayoutComponent} from './components/warehouse-layout/warehouse-layout.component';\r\nimport {LayoutModule} from '../layout/layout.module';\r\nimport {SharedModule} from '@shared/shared.module';\r\nimport { WarehouseWarehousesComponent } from './components/warehouse-warehouses/warehouse-warehouses.component';\r\nimport {TreeModule} from 'primeng/tree';\r\nimport { WarehouseLocatorsComponent } from './components/warehouse-locators/warehouse-locators.component';\r\nimport {WarehouseUnitsMeasureComponent} from './components/warehouse-units-measure/warehouse-units-measure.component';\r\nimport { WarehouseSerialTypesComponent } from './components/warehouse-serial-types/warehouse-serial-types.component';\r\nimport { WarehouseCategoriesComponent } from './components/warehouse-categories/warehouse-categories.component';\r\nimport { WarehouseWhereUsedComponent } from './components/warehouse-where-used/warehouse-where-used.component';\r\nimport { PhysicalInventoryComponent } from './components/physical-inventory/physical-inventory.component';\r\nimport { PhysicalInventoryProductsComponent } from './components/physical-inventory/physical-inventory-products/physical-inventory-products.component';\r\nimport { WarehouseToolRequestsComponent } from './components/warehouse-tool-requests/warehouse-tool-requests.component';\r\nimport { WarehouseToolRequestComponent } from './components/warehouse-tool-request/warehouse-tool-request.component';\r\nimport { WarehouseProductionRequestsComponent } from './components/warehouse-production-requests/warehouse-production-requests.component';\r\nimport { WarehouseProductionRequestComponent } from './components/warehouse-production-request/warehouse-production-request.component';\r\nimport { CreatePhysicalInventoryComponent } from './modals/create-physical-inventory/create-physical-inventory.component';\r\nimport { MovePhysicalInventoryProductComponent } from './modals/move-physical-inventory-product/move-physical-inventory-product.component';\r\nimport { AddProductToPhysicalInventoryComponent } from './modals/add-product-to-physical-inventory/add-product-to-physical-inventory.component';\r\nimport { CreateEditWarehouseComponent } from './modals/create-edit-warehouse/create-edit-warehouse.component';\r\nimport { CreateEditLocatorComponent } from './modals/create-edit-locator/create-edit-locator.component';\r\nimport { CreateEditWarehouseCategoryComponent } from './modals/create-edit-warehouse-category/create-edit-warehouse-category.component';\r\nimport {CreateEditUnitMeasureComponent} from './modals/create-edit-unit-measure/create-edit-unit-measure.component';\r\nimport { CreateEditSerialTypeComponent } from './modals/create-edit-serial-type/create-edit-serial-type.component';\r\nimport { CreateEditWarehouseProductComponent } from './modals/create-edit-warehouse-item/create-edit-warehouse-product.component';\r\nimport {ProductStructureModule} from '../product-structure/product-structure.module';\r\nimport { MoveWarehouseProductComponent } from './modals/move-warehouse-product/move-warehouse-product.component';\r\nimport { ProductionListsComponent } from './components/production-lists/production-lists.component';\r\nimport { ProductionListComponent } from './components/production-lists/production-list/production-list.component';\r\nimport { SetProductionListLocatorComponent } from './modals/set-production-list-locator/set-production-list-locator.component';\r\nimport {\r\n  ListProductPrintItemComponent\r\n} from './components/production-lists/list-product-print-item/list-product-print-item.component';\r\nimport { WarehouseQcComponent } from './components/warehouse-qc/warehouse-qc.component';\r\nimport { WarehouseQcInvoiceComponent } from './components/warehouse-qc/warehouse-qc-invoice/warehouse-qc-invoice.component';\r\nimport { QcAcceptToWarehouseComponent } from './modals/qc-accept-to-warehouse/qc-accept-to-warehouse.component';\r\nimport { WarehouseQcOrderComponent } from './components/warehouse-qc/warehouse-qc-order/warehouse-qc-order.component';\r\nimport {WarehouseIsolatorComponent} from './components/warehouse-isolator/warehouse-isolator.component';\r\nimport {\r\n  WarehouseIsolatorInvoicesComponent\r\n} from './components/warehouse-isolator/components/warehouse-isolator-invoices/warehouse-isolator-invoices.component';\r\nimport {\r\n  WarehouseIsolatorOrdersComponent\r\n} from './components/warehouse-isolator/components/warehouse-isolator-orders/warehouse-isolator-orders.component';\r\nimport { WarehouseProductionRequestPrintPageComponent } from './components/warehouse-production-request-print-page/warehouse-production-request-print-page.component';\r\nimport {\r\n  QcAcceptTechnicalEquipmentComponent\r\n} from './modals/qc-accept-technical-equipment/qc-accept-technical-equipment.component';\r\nimport { NomenclatureSerialInfoComponent } from './modals/nomenclature-serial-info/nomenclature-serial-info.component';\r\nimport {QrCodeModule} from '../qr-code/qr-code.module';\r\nimport { PhysicalInventoryProductsChangesComponent } from './modals/physical-inventory-products-changes/physical-inventory-products-changes.component';\r\nimport {RippleModule} from 'primeng/ripple';\r\nimport { WarehouseShippingRequestsComponent } from './components/warehouse-shipping-requests/warehouse-shipping-requests.component';\r\nimport { WarehouseShippingRequestComponent } from './components/warehouse-shipping-requests/warehouse-shipping-request/warehouse-shipping-request.component';\r\nimport { WarehouseShippingRequestPrintComponent } from './components/warehouse-shipping-requests/warehouse-shipping-request-print/warehouse-shipping-request-print.component';\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    WarehouseItemsComponent,\r\n    WarehouseLayoutComponent,\r\n    WarehouseWarehousesComponent,\r\n    WarehouseLocatorsComponent,\r\n    WarehouseUnitsMeasureComponent,\r\n    WarehouseSerialTypesComponent,\r\n    WarehouseIsolatorComponent,\r\n    WarehouseIsolatorInvoicesComponent,\r\n    WarehouseIsolatorOrdersComponent,\r\n    WarehouseCategoriesComponent,\r\n    WarehouseWhereUsedComponent,\r\n    PhysicalInventoryComponent,\r\n    PhysicalInventoryProductsComponent,\r\n    WarehouseToolRequestsComponent,\r\n    WarehouseToolRequestComponent,\r\n    WarehouseProductionRequestsComponent,\r\n    WarehouseProductionRequestComponent,\r\n    CreatePhysicalInventoryComponent,\r\n    MovePhysicalInventoryProductComponent,\r\n    AddProductToPhysicalInventoryComponent,\r\n    CreateEditWarehouseComponent,\r\n    CreateEditLocatorComponent,\r\n    CreateEditWarehouseCategoryComponent,\r\n    CreateEditUnitMeasureComponent,\r\n    CreateEditSerialTypeComponent,\r\n    CreateEditWarehouseProductComponent,\r\n    MoveWarehouseProductComponent,\r\n    ProductionListsComponent,\r\n    ProductionListComponent,\r\n    SetProductionListLocatorComponent,\r\n    ListProductPrintItemComponent,\r\n    WarehouseQcComponent,\r\n    WarehouseQcInvoiceComponent,\r\n    QcAcceptToWarehouseComponent,\r\n    QcAcceptTechnicalEquipmentComponent,\r\n    WarehouseQcOrderComponent,\r\n    WarehouseProductionRequestPrintPageComponent,\r\n    NomenclatureSerialInfoComponent,\r\n    PhysicalInventoryProductsChangesComponent,\r\n    WarehouseShippingRequestsComponent,\r\n    WarehouseShippingRequestComponent,\r\n    WarehouseShippingRequestPrintComponent,\r\n  ],\r\n  exports: [\r\n    WarehouseCategoriesComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    WarehouseRouting,\r\n    LayoutModule,\r\n    SharedModule,\r\n    TreeModule,\r\n    ProductStructureModule,\r\n    QrCodeModule,\r\n    RippleModule,\r\n  ]\r\n})\r\nexport class WarehouseModule {\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {RouterModule, Routes} from '@angular/router';\r\nimport {WarehouseItemsComponent} from './components/warehouse-items/warehouse-items.component';\r\nimport {WarehouseLayoutComponent} from './components/warehouse-layout/warehouse-layout.component';\r\nimport {WarehouseWarehousesComponent} from './components/warehouse-warehouses/warehouse-warehouses.component';\r\nimport {WarehouseLocatorsComponent} from './components/warehouse-locators/warehouse-locators.component';\r\nimport {WarehouseUnitsMeasureComponent} from './components/warehouse-units-measure/warehouse-units-measure.component';\r\nimport {WarehouseSerialTypesComponent} from './components/warehouse-serial-types/warehouse-serial-types.component';\r\n\r\n\r\nimport {WarehouseCategoriesComponent} from './components/warehouse-categories/warehouse-categories.component';\r\nimport {WarehouseWhereUsedComponent} from './components/warehouse-where-used/warehouse-where-used.component';\r\nimport {PhysicalInventoryComponent} from './components/physical-inventory/physical-inventory.component';\r\nimport {\r\n  PhysicalInventoryProductsComponent\r\n} from './components/physical-inventory/physical-inventory-products/physical-inventory-products.component';\r\nimport {WarehouseToolRequestsComponent} from './components/warehouse-tool-requests/warehouse-tool-requests.component';\r\nimport {WarehouseToolRequestComponent} from './components/warehouse-tool-request/warehouse-tool-request.component';\r\nimport {\r\n  WarehouseProductionRequestsComponent\r\n} from './components/warehouse-production-requests/warehouse-production-requests.component';\r\nimport {\r\n  WarehouseProductionRequestComponent\r\n} from './components/warehouse-production-request/warehouse-production-request.component';\r\nimport {ProductionListsComponent} from './components/production-lists/production-lists.component';\r\nimport {ProductionListComponent} from './components/production-lists/production-list/production-list.component';\r\nimport {WarehouseQcComponent} from './components/warehouse-qc/warehouse-qc.component';\r\nimport {\r\n  WarehouseQcInvoiceComponent\r\n} from './components/warehouse-qc/warehouse-qc-invoice/warehouse-qc-invoice.component';\r\nimport {WarehouseQcOrderComponent} from './components/warehouse-qc/warehouse-qc-order/warehouse-qc-order.component';\r\nimport {\r\n  WarehouseIsolatorInvoicesComponent\r\n} from './components/warehouse-isolator/components/warehouse-isolator-invoices/warehouse-isolator-invoices.component';\r\nimport {\r\n  WarehouseIsolatorOrdersComponent\r\n} from './components/warehouse-isolator/components/warehouse-isolator-orders/warehouse-isolator-orders.component';\r\nimport {WarehouseIsolatorComponent} from './components/warehouse-isolator/warehouse-isolator.component';\r\nimport {\r\n  WarehouseShippingRequestsComponent\r\n} from './components/warehouse-shipping-requests/warehouse-shipping-requests.component';\r\nimport {\r\n  WarehouseShippingRequestComponent\r\n} from './components/warehouse-shipping-requests/warehouse-shipping-request/warehouse-shipping-request.component';\r\n\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '', component: WarehouseLayoutComponent, children: [\r\n      {path: '', redirectTo: 'items', pathMatch: 'full'},\r\n      {path: 'items', title: 'Warehouse Items', component: WarehouseItemsComponent},\r\n      {\r\n        path: 'warehouses',\r\n        children: [\r\n          {path: '', title: 'Warehouses', component: WarehouseWarehousesComponent},\r\n          {path: ':id/locators', title: 'Locators', component: WarehouseLocatorsComponent},\r\n        ]\r\n      },\r\n      {path: 'measure', title: 'Units of Measure', component: WarehouseUnitsMeasureComponent},\r\n      {path: 'serial-types', title: 'Serial Number Types', component: WarehouseSerialTypesComponent},\r\n      {path: 'categories', title: 'Warehouse Categories', component: WarehouseCategoriesComponent},\r\n      {path: 'where-used', title: 'Where Used', component: WarehouseWhereUsedComponent},\r\n      {\r\n        path: 'production-requests', children: [\r\n          {path: '', title: 'Production Requests', component: WarehouseProductionRequestsComponent},\r\n          {path: ':id', title: 'Production Request', component: WarehouseProductionRequestComponent}\r\n        ]\r\n      },\r\n      {\r\n        path: 'tool-requests', children: [\r\n          {path: '', title: 'Tool Requests', component: WarehouseToolRequestsComponent},\r\n          {path: ':id', title: 'Tool Request', component: WarehouseToolRequestComponent}\r\n        ]\r\n      },\r\n      {\r\n        path: 'physical-inventory', children: [\r\n          {path: '', title: 'Physical Inventory', component: PhysicalInventoryComponent},\r\n          {path: ':id', title: 'Physical Inventory Products', component: PhysicalInventoryProductsComponent},\r\n        ]\r\n      },\r\n      {\r\n        path: 'production-lists', children: [\r\n          {path: '', title: 'Production Lists', component: ProductionListsComponent},\r\n          {path: ':id', title: 'Production List', component: ProductionListComponent},\r\n        ]\r\n      },\r\n      {\r\n        path: 'warehouse-qc', children: [\r\n          {path: '', title: 'Warehouse QC', component: WarehouseQcComponent},\r\n          {path: 'invoice/:id', title: 'Warehouse QC Invoice', component: WarehouseQcInvoiceComponent},\r\n          {path: 'order/:id', title: 'Warehouse QC Order', component: WarehouseQcOrderComponent},\r\n        ]\r\n      },\r\n      {\r\n        path: 'isolator', children: [\r\n          {path: '', title: 'Isolator', component: WarehouseIsolatorComponent},\r\n          {path: 'invoices/:id', title: 'Isolator Invoices', component: WarehouseIsolatorInvoicesComponent},\r\n          {path: 'orders/:id', title: 'Isolator Orders', component: WarehouseIsolatorOrdersComponent}\r\n        ]\r\n      },\r\n      {\r\n        path: 'shipments-requests', children: [\r\n          {path: '', title: 'Shipments Requests', component: WarehouseShippingRequestsComponent},\r\n          {path: ':id', title: 'Shipment Request', component: WarehouseShippingRequestComponent},\r\n        ]\r\n      }\r\n    ]\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class WarehouseRouting {\r\n}\r\n","export const environment = {\r\n  production: true,\r\n  base_url: 'https://rwave.pekauto.com/api/',\r\n  product_structure_url: 'product_structure/',\r\n  warehouse_url: 'warehouse/',\r\n  production_url: 'production/',\r\n  business_partners_url: 'crm/',\r\n  procurement_url: 'procurement/',\r\n  accounting_url: 'accounting/',\r\n  delivery_url: 'delivery/',\r\n  users_url: 'users/',\r\n  staff_url: 'staff/',\r\n  sales_url: 'sales/',\r\n  business_trips_url: 'business-trips/',\r\n  image_path: 'https://rwave.pekauto.com',\r\n  // link_url: 'http://localhost:4201/'\r\n  link_url: 'https://rwave.pekauto.com/'\r\n};\r\n"],"names":[],"sourceRoot":"webpack:///","x_google_ignoreList":[]}