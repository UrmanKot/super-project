"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[915],{9915:(lr,yt,x)=>{x.r(yt),x.d(yt,{CrmModule:()=>qb});var w=x(6895),V=x(4269),e=x(4650),Xe=x(9293);let Ht=(()=>{class n{constructor(){this.routes=[{label:"Company Card",commands:["business-partners"]},{label:"Events",commands:["events"]},{label:"Events Reports",commands:["events-reports"]},{label:"Schedules",commands:["schedules"]}],this.settingsRoutes=[{label:"Company Categories",commands:["company-categories"]},{label:"Event Types",commands:["event-types"]},{label:"Employees",commands:["employees"]},{label:"External Event Types",commands:["external-events"]},{label:"Users Profiles",commands:["users-profiles"]},{label:"Positions",commands:["positions"]}]}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["pek-crm-layout"]],decls:2,vars:3,consts:[[3,"module","routes","settingsRoutes"]],template:function(t,r){1&t&&e._UZ(0,"pek-header",0)(1,"router-outlet"),2&t&&e.Q6J("module","Contacts & Events")("routes",r.routes)("settingsRoutes",r.settingsRoutes)},dependencies:[V.lC,Xe.G]}),n})();var L=x(7579),Nn=x(4968),J=x(2722),pe=x(8505),z=x(4004),qe=x(8372),Hs=x(3068),E=x(4006),Lt=x(9558),ne=x(7427),P=x(5593),He=x(1740),K=x(805),re=x(615),Fn=x(3608),Y=x(5390),oe=x(3237),cr=x(1997),Ls=x(528),dr=x(2083),pr=x(7943),ur=x(8957),we=x(1989),Un=x(6186);function Js(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"p-checkbox",5),e.NdJ("click",function(o){e.CHM(t);const a=e.oxw(2);return e.KtG(a.selectionAllChanged(o))}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("ngModel",t.isAllSelected)("binary",!0)}}function Bs(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"p-treeSelect",3),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedRegions=o)})("onShow",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.showPanel())})("onHide",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.hidePanel())})("ngModelChange",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onChoiceCategories())}),e.YNc(1,Js,1,2,"ng-template",4),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("options",t.regionsTree)("ngModel",t.selectedRegions)("propagateSelectionUp",!1)("disabled",t.isDisabled)("filter",!0)}}function Ys(n,i){1&n&&(e.TgZ(0,"div",6),e._UZ(1,"i",7),e.qZA())}let fr=(()=>{class n{constructor(t,r,o){this.productCategoriesService=t,this.regionService=r,this.cdr=o,this.choiceCategories=new e.vpe,this.regionsSelected=new e.vpe,this.countrySelected=[],this.isLoading=!1,this.regions=[],this.regionsTree=[],this.selectedRegions=[],this.allSelectedCount=0,this.destroy$=new L.x,this.recreateTree=new L.x,this.panelOpened=!1}ngOnChanges(t){"countrySelected"in t&&this.recreateTree.next()}ngOnInit(){this.recreateTree.pipe((0,qe.b)(200)).subscribe(()=>{this.loadRegions()})}loadRegions(){const t=this.countrySelected?.map(r=>r.id);this.regionService.get([{name:"country_ids",value:t}]).pipe((0,J.R)(this.destroy$)).subscribe(r=>{this.selectedRegions=[],this.regions=r,this.createTree(),this.isLoading=!1})}createTree(){this.allSelectedCount=0;const t=o=>{o.forEach(a=>{const s=this.regions.filter(l=>l.country.id===a.data.id);s.length>0&&(a.children=s.map(l=>({label:l.name,data:l,children:[]})),this.selectedRegions.push(...a.children),this.allSelectedCount+=a.children.length,t(a.children))})},r=[];this.countrySelected.forEach(o=>{this.regions.filter(s=>s.country.id===o.id).length>0&&r.push({label:o.name,data:o,expanded:!0,styleClass:"country",selectable:!1,children:[]})}),t(r),this.regionsSelected.next(this.selectedRegions.map(o=>o.data)),this.regionsTree=[...r]}get isAllSelected(){return this.selectedRegions?.length===this.allSelectedCount}onChoiceCategories(){this.regionsSelected.next(this.selectedRegions&&0!==this.selectedRegions.length?this.selectedRegions.filter(t=>t.data.country).map(t=>t.data):null)}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}showPanel(){this.panelOpened=!0}hidePanel(){this.panelOpened=!1}selectionAllChanged(t){this.selectedRegions?.length===this.allSelectedCount?(this.selectedRegions=null,this.cdr.markForCheck(),this.cdr.detectChanges()):this.loadRegions(),this.onChoiceCategories(),t.stopPropagation(),t.preventDefault()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(pr.G),e.Y36(ur.o),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["pek-crm-multi-region-picker"]],inputs:{isDisabled:"isDisabled",countrySelected:"countrySelected"},outputs:{choiceCategories:"choiceCategories",regionsSelected:"regionsSelected"},features:[e.TTD],decls:4,vars:4,consts:[[1,"multi-categories-picker"],["selectionMode","checkbox","placeholder","Select Region",3,"options","ngModel","propagateSelectionUp","disabled","filter","ngModelChange","onShow","onHide",4,"ngIf","ngIfElse"],["spinner",""],["selectionMode","checkbox","placeholder","Select Region",3,"options","ngModel","propagateSelectionUp","disabled","filter","ngModelChange","onShow","onHide"],["pTemplate","header"],["inputId","region",3,"ngModel","binary","click"],[1,"spinner-input"],[1,"pi","pi-spin","pi-spinner",2,"font-size","1.25rem"]],template:function(t,r){if(1&t&&(e.TgZ(0,"div",0),e.YNc(1,Bs,2,5,"p-treeSelect",1),e.YNc(2,Ys,2,0,"ng-template",null,2,e.W1O),e.qZA()),2&t){const o=e.MAs(3);e.ekj("show-checkbox",r.panelOpened),e.xp6(1),e.Q6J("ngIf",!r.isLoading)("ngIfElse",o)}},dependencies:[K.jx,w.O5,E.JJ,E.On,we.XZ,Un.mP],styles:[".multi-categories-picker[_ngcontent-%COMP%]{position:relative}.multi-categories-picker[_ngcontent-%COMP%]  .p-treeselect-header .p-treeselect-filter-container{margin-left:1rem}.multi-categories-picker[_ngcontent-%COMP%]  .p-treenode-children{margin-top:.1875rem!important}.multi-categories-picker[_ngcontent-%COMP%]  .p-treenode-content button.p-ripple.p-element.p-tree-toggler.p-link{display:none}.multi-categories-picker[_ngcontent-%COMP%]  .p-treenode-content div.p-checkbox.p-component.p-checkbox-disabled{display:none}.multi-categories-picker[_ngcontent-%COMP%]  .country>.p-treenode-content:first-child{font-weight:700;font-size:16px}.multi-categories-picker[_ngcontent-%COMP%]  .country>.p-treenode-content:first-child.p-highlight{background-color:unset!important;color:unset!important}p-checkbox[_ngcontent-%COMP%]{display:none;position:absolute;right:0;top:1.1rem;left:.5rem;z-index:12222;width:20px;height:20px}.show-checkbox[_ngcontent-%COMP%]   p-checkbox[_ngcontent-%COMP%]{display:block}"],changeDetection:0}),n})();var mr=x(8424);function Qs(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"p-checkbox",5),e.NdJ("click",function(o){e.CHM(t);const a=e.oxw(2);return e.KtG(a.selectionAllChanged(o))}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("ngModel",t.isAllSelected)("binary",!0)}}function Vs(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"p-treeSelect",3),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedSubRegions=o)})("onShow",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.showPanel())})("onHide",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.hidePanel())})("ngModelChange",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onChoiceCategories())}),e.YNc(1,Qs,1,2,"ng-template",4),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("options",t.regionsTree)("ngModel",t.selectedSubRegions)("disabled",t.isDisabled)("propagateSelectionUp",!1)("filter",!0)}}function zs(n,i){1&n&&(e.TgZ(0,"div",6),e._UZ(1,"i",7),e.qZA())}let hr=(()=>{class n{constructor(t,r,o,a){this.productCategoriesService=t,this.regionService=r,this.subRegionService=o,this.cdr=a,this.choiceCategories=new e.vpe,this.subRegionsSelected=new e.vpe,this.regionsSelected=[],this.countriesSelected=[],this.isLoading=!1,this.subRegions=[],this.regionsTree=[],this.selectedSubRegions=[],this.destroy$=new L.x,this.recreateTree=new L.x,this.allSelectedCount=0,this.panelOpened=!1}ngOnChanges(t){"regionsSelected"in t&&this.recreateTree.next()}ngOnInit(){this.recreateTree.pipe((0,qe.b)(200)).subscribe(()=>{this.loadRegions()})}loadRegions(){const t=this.regionsSelected?this.regionsSelected.map(r=>r.id):[];this.subRegionService.get([{name:"region_ids",value:t}]).pipe((0,J.R)(this.destroy$)).subscribe(r=>{this.selectedSubRegions=[],this.subRegions=r,this.regionsSelected&&this.regionsSelected.length>0&&this.createTree(),this.isLoading=!1})}get isAllSelected(){return this.selectedSubRegions?.length===this.allSelectedCount}createTree(){this.allSelectedCount=0;const t=this.regionsSelected.filter((o,a,s)=>s.findIndex(l=>l.country.id===o.country.id)===a).map(o=>o.country),r=[];t.forEach(o=>{const a={label:o.name,data:o,expanded:!0,styleClass:"country",selectable:!1,children:[]};r.push(a),this.regionsSelected.filter(l=>l.country.id===o.id).forEach(l=>{if(this.subRegions.filter(d=>d.region===l.id).length>0){const d={label:l.name,data:l,expanded:!0,styleClass:"region",selectable:!1,children:[]};a.children.push(d),this.subRegions.filter(u=>u.region===l.id).forEach(u=>{const m={label:u.name,data:u,expanded:!0,styleClass:"subRegion",children:[]};this.selectedSubRegions.push(m),this.allSelectedCount++,d.children.push(m)})}})}),this.subRegionsSelected.next(this.selectedSubRegions.map(o=>o.data)),this.regionsTree=[...r]}onChoiceCategories(){this.subRegionsSelected.next(this.selectedSubRegions&&0!==this.selectedSubRegions.length?this.selectedSubRegions.filter(t=>t.data.region).map(t=>t.data):null)}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}showPanel(){this.panelOpened=!0}hidePanel(){this.panelOpened=!1}selectionAllChanged(t){this.selectedSubRegions?.length===this.allSelectedCount?(this.selectedSubRegions=null,this.cdr.markForCheck(),this.cdr.detectChanges()):this.loadRegions(),this.onChoiceCategories(),t.stopPropagation(),t.preventDefault()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(pr.G),e.Y36(ur.o),e.Y36(mr.q),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["pek-crm-multi-region-tree-picker"]],inputs:{isDisabled:"isDisabled",regionsSelected:"regionsSelected",countriesSelected:"countriesSelected"},outputs:{choiceCategories:"choiceCategories",subRegionsSelected:"subRegionsSelected"},features:[e.TTD],decls:4,vars:4,consts:[[1,"multi-categories-picker"],["selectionMode","checkbox","placeholder","Select Sub Region",3,"options","ngModel","disabled","propagateSelectionUp","filter","ngModelChange","onShow","onHide",4,"ngIf","ngIfElse"],["spinner",""],["selectionMode","checkbox","placeholder","Select Sub Region",3,"options","ngModel","disabled","propagateSelectionUp","filter","ngModelChange","onShow","onHide"],["pTemplate","header"],["inputId","subRegion",3,"ngModel","binary","click"],[1,"spinner-input"],[1,"pi","pi-spin","pi-spinner",2,"font-size","1.25rem"]],template:function(t,r){if(1&t&&(e.TgZ(0,"div",0),e.YNc(1,Vs,2,5,"p-treeSelect",1),e.YNc(2,zs,2,0,"ng-template",null,2,e.W1O),e.qZA()),2&t){const o=e.MAs(3);e.ekj("show-checkbox",r.panelOpened),e.xp6(1),e.Q6J("ngIf",!r.isLoading)("ngIfElse",o)}},dependencies:[K.jx,w.O5,E.JJ,E.On,we.XZ,Un.mP],styles:[".multi-categories-picker[_ngcontent-%COMP%]{position:relative}.multi-categories-picker[_ngcontent-%COMP%]  .p-treeselect-header .p-treeselect-filter-container{margin-left:1rem}.multi-categories-picker[_ngcontent-%COMP%]  .p-treenode-children{margin-top:.1875rem!important}.multi-categories-picker[_ngcontent-%COMP%]  .p-treenode-content button.p-ripple.p-element.p-tree-toggler.p-link{display:none}.multi-categories-picker[_ngcontent-%COMP%]  .p-treenode-content div.p-checkbox.p-component.p-checkbox-disabled{display:none}.multi-categories-picker[_ngcontent-%COMP%]  .region>.p-treenode-content:first-child{font-weight:500;font-size:14px}.multi-categories-picker[_ngcontent-%COMP%]  .region>.p-treenode-content:first-child.p-highlight{background-color:unset!important;color:unset!important}.multi-categories-picker[_ngcontent-%COMP%]  .country>.p-treenode-content:first-child{font-weight:700;font-size:14px}.multi-categories-picker[_ngcontent-%COMP%]  .country>.p-treenode-content:first-child.p-highlight{background-color:unset!important;color:unset!important}p-checkbox[_ngcontent-%COMP%]{display:none;position:absolute;right:0;top:1.1rem;left:.5rem;z-index:12222;width:20px;height:20px}.show-checkbox[_ngcontent-%COMP%]   p-checkbox[_ngcontent-%COMP%]{display:block}"],changeDetection:0}),n})();const Gs=["paginator"],Ws=["searchBoxName"],js=["searchBoxPersonName"],$s=["nomenclatureInput"];function Ks(n,i){1&n&&e.GkF(0)}function Xs(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"button",40),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.clearNomenclatureFilter())}),e._UZ(1,"i",41),e.qZA()}}function el(n,i){1&n&&e.GkF(0)}function tl(n,i){1&n&&(e.TgZ(0,"tr")(1,"th",42),e._uU(2,"#"),e.qZA(),e.TgZ(3,"th",43),e._uU(4,"Name"),e.qZA(),e.TgZ(5,"th",44),e._uU(6,"Description"),e.qZA()(),e.TgZ(7,"tr")(8,"th",45),e._uU(9,"Last Event"),e.qZA()(),e.TgZ(10,"tr")(11,"th",46),e._uU(12,"Name"),e.qZA(),e.TgZ(13,"th",47),e._uU(14,"Start Date"),e.qZA(),e.TgZ(15,"th",48),e._uU(16,"End Date"),e.qZA(),e.TgZ(17,"th",49),e._uU(18,"Comment"),e.qZA(),e.TgZ(19,"th",49),e._uU(20,"Status"),e.qZA()())}function nl(n,i){1&n&&(e.ynx(0),e.TgZ(1,"span",57),e._uU(2,"DONE"),e.qZA(),e.BQk())}function il(n,i){1&n&&(e.ynx(0),e.TgZ(1,"span",58),e._uU(2,"NOT DONE"),e.qZA(),e.BQk())}function rl(n,i){if(1&n&&(e.TgZ(0,"tr",50)(1,"td",51),e._uU(2),e.qZA(),e.TgZ(3,"td",52),e._uU(4),e.qZA(),e.TgZ(5,"td",53),e._uU(6),e.qZA(),e.TgZ(7,"td",48),e._uU(8),e.qZA(),e.TgZ(9,"td",48),e._uU(10),e.ALo(11,"date"),e.qZA(),e.TgZ(12,"td",48),e._uU(13),e.ALo(14,"date"),e.qZA(),e.TgZ(15,"td",48)(16,"div",54),e._uU(17),e.qZA()(),e.TgZ(18,"td",48)(19,"span",55),e.YNc(20,nl,3,0,"ng-container",56),e.YNc(21,il,3,0,"ng-container",56),e.qZA()()()),2&n){const t=i.$implicit,r=i.rowIndex,o=e.oxw();e.Q6J("pSelectableRow",t),e.xp6(2),e.Oqu(10*(o.searchForm.get("page").value-1)+r+1),e.xp6(2),e.hij(" ",t.name," "),e.xp6(2),e.hij(" ",t.comment," "),e.xp6(2),e.hij(" ",null==t.last_event||null==t.last_event.event?null:t.last_event.event.event_name," "),e.xp6(2),e.hij(" ",e.xi3(11,11,null==t.last_event||null==t.last_event.event?null:t.last_event.event.start,"dd/MM/yyyy, HH:mm")," "),e.xp6(3),e.hij(" ",e.xi3(14,14,null==t.last_event||null==t.last_event.event?null:t.last_event.event.end,"dd/MM/yyyy, HH:mm")," "),e.xp6(4),e.hij(" ",null==t.last_event?null:t.last_event.comment," "),e.xp6(2),e.Q6J("ngSwitch",null==t.last_event?null:t.last_event.is_done),e.xp6(1),e.Q6J("ngSwitchCase",!0),e.xp6(1),e.Q6J("ngSwitchCase",!1)}}function ol(n,i){1&n&&e._UZ(0,"i",62)}function al(n,i){1&n&&(e.TgZ(0,"span"),e._uU(1,"No Records Found"),e.qZA())}function sl(n,i){if(1&n&&(e.TgZ(0,"tr")(1,"td",59),e.YNc(2,ol,1,0,"i",60),e.YNc(3,al,2,0,"span",61),e.qZA()()),2&n){const t=e.oxw();e.xp6(1),e.uIk("colspan",6),e.xp6(1),e.Q6J("ngIf",t.isLoading),e.xp6(1),e.Q6J("ngIf",!t.isLoading)}}function ll(n,i){1&n&&(e.TgZ(0,"div",63),e._UZ(1,"i",62),e.qZA())}function cl(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",64)(1,"p-paginator",65,66),e.NdJ("onPageChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.paginate(o))}),e.qZA(),e.TgZ(3,"p-button",67),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onShowAll())}),e._uU(4," All "),e.qZA()()}if(2&n){const t=e.oxw();e.ekj("paginator-wrapper_hide",0===t.companies.length),e.xp6(1),e.Q6J("rows",10)("totalRecords",t.countCompanies)}}function dl(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",68)(1,"p-button",69),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onShowPartial())}),e._uU(2," Return pagination "),e.qZA()()}}function pl(n,i){if(1&n&&(e.TgZ(0,"div",70),e._UZ(1,"p-menubar",71),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.ekj("disabled",!t.selectedCompany),e.Q6J("model",t.menuItems)}}let ul=(()=>{class n{constructor(t,r,o,a,s){this.fb=t,this.companyService=r,this.modalService=o,this.router=a,this.route=s,this.searchForm=this.fb.group({page:[1],name:[null],category:[null],nomenclature:[null],selectedNomenclature:[null],contains_contact_person:[null],countries:[null],regions:[null],sub_regions:[null]}),this.countCompanies=0,this.companies=[],this.isStartOnePage=!1,this.isShowAll=!1,this.isLoading=!0,this.query=[{name:"paginated",value:!0},{name:"page",value:this.searchForm.get("page").value}],this.menuItems=[{label:"Selected Company",items:[{label:"Company Card",icon:"pi pi-folder",command:()=>this.onGoToChainPage()},{label:"Remove",icon:"pi pi-trash",command:()=>this.onRemoveCompany()}]}],this.tableScrollHeight="29.625rem",this.isHideFilters=!1,this.queryKey="name:null/category:null/nomenclature:null/region:null/contains_contact_person:null",this.destroy$=new L.x}ngOnInit(){this.getCompaniesForPagination()}ngAfterViewInit(){this.nSub=(0,Nn.R)(this.searchBoxName.nativeElement,"keyup").pipe((0,pe.b)(()=>this.selectedCompany=null),(0,z.U)(()=>this.searchBoxName.nativeElement.value),(0,qe.b)(350)).subscribe(()=>{this.searchCompanies()}),this.pSub=(0,Nn.R)(this.searchBoxPersonName.nativeElement,"keyup").pipe((0,pe.b)(()=>this.selectedCompany=null),(0,z.U)(()=>this.searchBoxPersonName.nativeElement.value),(0,qe.b)(350)).subscribe(()=>{this.searchCompanies()})}getCompaniesForPagination(){this.companyService.getForPagination(this.query).pipe((0,J.R)(this.destroy$)).subscribe(t=>{this.companies=t.results,this.countCompanies=t.count,this.isStartOnePage&&this.paginator?.changePage(0),this.isStartOnePage=!1,this.isLoading=!1})}getCompanies(){this.companyService.get(this.query).pipe((0,J.R)(this.destroy$)).subscribe(t=>{this.companies=t,this.countCompanies=t.length,this.isStartOnePage&&this.paginator?.changePage(0),this.isStartOnePage=!1,this.isLoading=!1})}searchCompanies(){this.isLoading=!0,this.destroy$.next(!0),this.selectedCompany=null;const t=`name:${this.searchForm.get("name").value}/category:${this.searchForm.get("category").value}/nomenclature:${this.searchForm.get("nomenclature").value}/contains_contact_person:${this.searchForm.get("contains_contact_person").value}`;t!==this.queryKey&&(this.queryKey=t,this.searchForm.get("page").patchValue(1),this.isStartOnePage=!0),this.query=[],this.isShowAll||(this.query=[{name:"paginated",value:"true"},{name:"page",value:this.searchForm.get("page").value}]),this.searchForm.get("category").value&&this.query.push({name:"category_id",value:this.searchForm.get("category").value}),this.searchForm.get("name").value&&this.query.push({name:"name",value:this.searchForm.get("name").value}),this.searchForm.get("nomenclature").value&&this.query.push({name:"ordered_nomenclature",value:this.searchForm.get("nomenclature").value}),this.searchForm.get("contains_contact_person").value&&this.query.push({name:"contains_contact_person",value:this.searchForm.get("contains_contact_person").value}),null!==this.searchForm.get("countries").value&&this.query.push({name:"countries",value:this.searchForm.get("countries").value.map(r=>r.id)}),null!==this.searchForm.get("regions").value&&this.query.push({name:"regions",value:this.searchForm.get("regions").value.map(r=>r.id)}),null!==this.searchForm.get("sub_regions").value&&this.query.push({name:"sub_regions",value:this.searchForm.get("sub_regions").value.map(r=>r.id)}),this.isShowAll?(this.searchForm.get("page").patchValue(1),this.getCompanies()):this.getCompaniesForPagination()}onAddCompany(){this.companyService.createEditCompanyModal("create").subscribe(t=>{t&&this.router.navigate(["/crm/business-partners/company-page",t.id])})}toggleFilterVisibility(){this.isHideFilters=!this.isHideFilters,this.setTableScrollHeight()}setTableScrollHeight(){!this.isHideFilters||this.isShowAll?this.isHideFilters&&this.isShowAll?this.tableScrollHeight="18.75rem":this.isHideFilters||!this.isShowAll?this.isHideFilters||this.isShowAll||(this.tableScrollHeight="29.625rem"):this.tableScrollHeight="27.5rem":this.tableScrollHeight="20.9125rem"}paginate(t){this.isStartOnePage||(this.searchForm.get("page").patchValue(t.page+1),this.searchCompanies())}onShowAll(){this.isShowAll=!0,this.setTableScrollHeight(),this.searchCompanies()}onShowPartial(){this.isShowAll=!1,this.setTableScrollHeight(),this.searchCompanies()}ngOnDestroy(){this.nSub.unsubscribe(),this.pSub.unsubscribe(),this.destroy$.next(!0),this.destroy$.complete()}onSelectCompanyCategory(t){this.searchForm.get("category").patchValue(t),this.searchCompanies()}onOpenNomenclaturePickerModal(){this.modalService.choiceNomenclatureModal(Hs.BN.PURCHASED).subscribe(t=>{this.nomenclatureInput.nativeElement.blur(),t&&(this.searchForm.get("selectedNomenclature").patchValue(`(${t.code}) ${t.name}`),this.searchForm.get("nomenclature").patchValue(t.id),this.searchCompanies())})}clearNomenclatureFilter(){this.searchForm.get("nomenclature").patchValue(null),this.searchForm.get("selectedNomenclature").patchValue(null),this.searchCompanies()}onRemoveCompany(){this.modalService.confirm("danger").subscribe(t=>{t&&(this.companyService.delete(this.selectedCompany.id).subscribe(()=>this.searchCompanies()),this.selectedCompany=null)})}onGoToChainPage(){window.open(`/crm/business-partners/company-page/${this.selectedCompany.id}`,"_blank")}countrySelected(t){t?this.searchForm.get("country_id").setValue(t.id):this.searchForm.get("country_id").setValue(null),this.searchForm.get("region").setValue(null),this.searchForm.get("sub_region_id").setValue(null),this.searchCompanies()}onSelectCountry(t){t?this.searchForm.get("countries").setValue(t):this.searchForm.get("countries").setValue(null),this.searchForm.get("sub_regions").setValue(null),this.searchForm.get("regions").setValue(null),this.searchCompanies()}onSelectRegion(t){t?this.searchForm.get("regions").setValue(t):this.searchForm.get("regions").setValue(null),this.searchForm.get("sub_regions").setValue(null),this.searchCompanies()}regionSubSelected(t){t?this.searchForm.get("sub_regions").setValue(t):this.searchForm.get("sub_regions").setValue(null),this.searchCompanies()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(E.qu),e.Y36(Lt.J),e.Y36(ne.Z),e.Y36(V.F0),e.Y36(V.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["pek-companies"]],viewQuery:function(t,r){if(1&t&&(e.Gf(Gs,5),e.Gf(Ws,5),e.Gf(js,5),e.Gf($s,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.paginator=o.first),e.iGM(o=e.CRH())&&(r.searchBoxName=o.first),e.iGM(o=e.CRH())&&(r.searchBoxPersonName=o.first),e.iGM(o=e.CRH())&&(r.nomenclatureInput=o.first)}},decls:69,vars:26,consts:[[1,"page"],[1,"page__header"],[1,"page__title"],[3,"module","isActive"],[1,"page__tools"],["pButton","","type","button","icon","pi pi-plus","label","New Company",3,"click"],[1,"page__content"],[1,"page__card"],[1,"filters-visibility"],[1,"filters-visibility__header"],[4,"ngTemplateOutlet"],["tooltipPosition","left",1,"icon","pi",3,"pTooltip","click"],[1,"form","mb-3",3,"formGroup"],[1,"row"],[1,"col-3"],[1,"form-group"],["for","name"],["id","name","type","text","pInputText","","formControlName","name",1,"form-control"],["searchBoxName",""],[3,"showClear","selectCountries"],[3,"isDisabled","countrySelected","regionsSelected"],[3,"isDisabled","regionsSelected","subRegionsSelected"],[1,"input-wrapper"],["placeholder","Select Ordered Nomenclature","type","text","pInputText","","formControlName","selectedNomenclature",1,"form-control",3,"click"],["nomenclatureInput",""],[3,"click",4,"ngIf"],[3,"selectCompanyCategory"],["for","person-name"],["id","person-name","type","text","pInputText","","formControlName","contains_contact_person",1,"form-control"],["searchBoxPersonName",""],[1,"table-pagination-preloader"],["selectionMode","single","rowExpandMode","single","dataKey","id",3,"scrollHeight","scrollable","rows","selection","value","selectionChange"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["class","pagination-preloader pagination-preloader_bord",4,"ngIf"],["class","paginator-wrapper",3,"paginator-wrapper_hide",4,"ngIf"],["class","paginator-return-pagination",4,"ngIf"],["actionButtons",""],[3,"click"],[1,"pi","pi-times"],["rowspan","3",1,"text-center",2,"width","5%"],["rowspan","3",2,"width","25%"],["rowspan","3",1,"bord-right",2,"width","20%"],["colspan","6",1,"bord","text-center","dark-two","bord-top",2,"width","50%"],[1,"bord","text-center","dark-two",2,"width","10%"],[1,"text-center","dark-two","sort-label",2,"width","10%"],[1,"text-center",2,"width","10%"],[1,"text-center","dark-two",2,"width","10%"],[3,"pSelectableRow"],[1,"text-center",2,"width","5%"],[2,"width","25%"],[2,"width","20%"],[1,"word-break"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"badge","badge_success"],[1,"badge","badge_danger"],[1,"text-center","p-4"],["class","pi pi-spin pi-spinner","style","font-size: 2.25rem",4,"ngIf"],[4,"ngIf"],[1,"pi","pi-spin","pi-spinner",2,"font-size","2.25rem"],[1,"pagination-preloader","pagination-preloader_bord"],[1,"paginator-wrapper"],[3,"rows","totalRecords","onPageChange"],["paginator",""],["type","button","styleClass","p-button-text",1,"paginator-all",3,"click"],[1,"paginator-return-pagination"],["type","button","styleClass","p-button-text",3,"click"],[1,"action-buttons"],[1,"ml-auto",3,"model"]],template:function(t,r){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"pek-module-icon",3),e.TgZ(4,"h1"),e._uU(5,"Company Card"),e.qZA()(),e.TgZ(6,"div",4)(7,"button",5),e.NdJ("click",function(){return r.onAddCompany()}),e.qZA()()()(),e.TgZ(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9),e.YNc(12,Ks,1,0,"ng-container",10),e.qZA(),e.TgZ(13,"button",11),e.NdJ("click",function(){return r.toggleFilterVisibility()}),e.qZA(),e.TgZ(14,"form",12)(15,"div",13)(16,"div",14)(17,"div",15)(18,"label",16),e._uU(19,"Name"),e.qZA(),e._UZ(20,"input",17,18),e.qZA()(),e.TgZ(22,"div",14)(23,"div",15)(24,"label"),e._uU(25,"Country"),e.qZA(),e.TgZ(26,"pek-multi-countries-picker",19),e.NdJ("selectCountries",function(a){return r.onSelectCountry(a)}),e.qZA()()(),e.TgZ(27,"div",14)(28,"div",15)(29,"label"),e._uU(30,"Region"),e.qZA(),e.TgZ(31,"pek-crm-multi-region-picker",20),e.NdJ("regionsSelected",function(a){return r.onSelectRegion(a)}),e.qZA()()(),e.TgZ(32,"div",14)(33,"div",15)(34,"label"),e._uU(35,"Sub Region"),e.qZA(),e.TgZ(36,"pek-crm-multi-region-tree-picker",21),e.NdJ("subRegionsSelected",function(a){return r.regionSubSelected(a)}),e.qZA()()(),e.TgZ(37,"div",14)(38,"div",15)(39,"label",16),e._uU(40,"Ordered Nomenclature"),e.qZA(),e.TgZ(41,"div",22)(42,"input",23,24),e.NdJ("click",function(){return r.onOpenNomenclaturePickerModal()}),e.qZA(),e.YNc(44,Xs,2,0,"button",25),e.qZA()()(),e.TgZ(45,"div",14)(46,"div",15)(47,"label"),e._uU(48,"Category"),e.qZA(),e.TgZ(49,"pek-company-category-picker",26),e.NdJ("selectCompanyCategory",function(a){return r.onSelectCompanyCategory(a)}),e.qZA()()(),e.TgZ(50,"div",14)(51,"div",15)(52,"label",27),e._uU(53,"Contact Person Name"),e.qZA(),e._UZ(54,"input",28,29),e.qZA()(),e.TgZ(56,"div",14),e.YNc(57,el,1,0,"ng-container",10),e.qZA()()()(),e.TgZ(58,"div",30)(59,"p-table",31,32),e.NdJ("selectionChange",function(a){return r.selectedCompany=a}),e.YNc(61,tl,21,0,"ng-template",33),e.YNc(62,rl,22,17,"ng-template",34),e.YNc(63,sl,4,3,"ng-template",35),e.qZA(),e.YNc(64,ll,2,0,"div",36),e.qZA(),e.YNc(65,cl,5,4,"div",37),e.YNc(66,dl,3,0,"div",38),e.qZA()(),e.YNc(67,pl,2,3,"ng-template",null,39,e.W1O)),2&t){const o=e.MAs(68);e.xp6(3),e.Q6J("module","contacts-events")("isActive",!0),e.xp6(7),e.ekj("filters-visibility_hide",r.isHideFilters),e.xp6(2),e.Q6J("ngTemplateOutlet",o),e.xp6(1),e.ekj("pi-angle-double-up",!r.isHideFilters)("pi-angle-double-down",r.isHideFilters),e.Q6J("pTooltip",r.isHideFilters?"Expand Filters":"Collapse Filters"),e.xp6(1),e.Q6J("formGroup",r.searchForm),e.xp6(12),e.Q6J("showClear",!0),e.xp6(5),e.Q6J("isDisabled",!r.searchForm.get("countries").value||0===r.searchForm.get("countries").value.length)("countrySelected",r.searchForm.get("countries").value),e.xp6(5),e.Q6J("isDisabled",!r.searchForm.get("regions").value||0===r.searchForm.get("regions").value.length)("regionsSelected",r.searchForm.get("regions").value),e.xp6(8),e.Q6J("ngIf",r.searchForm.get("nomenclature").value),e.xp6(13),e.Q6J("ngTemplateOutlet",o),e.xp6(2),e.Q6J("scrollHeight","calc(100vh - "+r.tableScrollHeight+")")("scrollable",!0)("rows",10)("selection",r.selectedCompany)("value",r.companies),e.xp6(5),e.Q6J("ngIf",r.isLoading),e.xp6(1),e.Q6J("ngIf",!r.isShowAll),e.xp6(1),e.Q6J("ngIf",r.isShowAll)}},dependencies:[w.O5,w.tP,w.RF,w.n9,P.Hq,P.zx,He.o,K.jx,E._Y,E.Fj,E.JJ,E.JL,E.sg,E.u,re.nm,Fn.u,Y.iA,Y.Ei,oe.D,cr.D,Ls.E,dr.D,fr,hr,w.uU],styles:['.form[_ngcontent-%COMP%]{margin-top:-.25rem}.input-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}.input-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;bottom:0;background:transparent;cursor:pointer;color:#6c757d;right:.6rem;top:.275rem}.bord-right[_ngcontent-%COMP%]{position:relative}.bord-right[_ngcontent-%COMP%]:before{position:absolute;content:"";width:1px;height:100%;background:#dee2e6;right:0;top:0}.badge[_ngcontent-%COMP%]{position:relative;top:-1px;border-radius:.25rem;padding:.25em .5rem;text-transform:uppercase;font-weight:700;font-size:.625rem;letter-spacing:.3px;color:#fff;background:#64748B}.badge_danger[_ngcontent-%COMP%]{background:var(--theme-color-danger)}.badge_success[_ngcontent-%COMP%]{background:var(--theme-color-success)}']}),n})();var On=x(7217);function fl(n,i){1&n&&(e.TgZ(0,"p",20),e._uU(1,"Choose the Company Category to edit"),e.qZA())}function ml(n,i){if(1&n&&(e.TgZ(0,"div",17),e.YNc(1,fl,2,0,"p",18),e._UZ(2,"p-menubar",19),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.selectedCategory),e.xp6(1),e.ekj("disabled",!t.selectedCategory),e.Q6J("model",t.menuItems)}}function hl(n,i){1&n&&(e.TgZ(0,"tr")(1,"th",21),e._uU(2,"#"),e.qZA(),e.TgZ(3,"th",22),e._uU(4,"Name"),e.qZA(),e.TgZ(5,"th",23),e._uU(6,"Modules"),e.qZA()())}function gl(n,i){1&n&&(e.TgZ(0,"span"),e._uU(1,","),e.qZA())}function vl(n,i){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.YNc(2,gl,2,0,"span",26),e.qZA()),2&n){const t=i.$implicit,r=i.index,o=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.name,""),e.xp6(1),e.Q6J("ngIf",r!==o.modules.length-1)}}function _l(n,i){if(1&n&&(e.TgZ(0,"tr",24)(1,"td",21),e._uU(2),e.qZA(),e.TgZ(3,"td",22),e._uU(4),e.qZA(),e.TgZ(5,"td",23),e.YNc(6,vl,3,2,"span",25),e.qZA()()),2&n){const t=i.$implicit,r=i.rowIndex;e.Q6J("pSelectableRow",t),e.xp6(2),e.Oqu(r+1),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Q6J("ngForOf",t.modules)}}function yl(n,i){1&n&&e._UZ(0,"i",29)}function Cl(n,i){1&n&&(e.TgZ(0,"span"),e._uU(1,"No Records Found"),e.qZA())}function bl(n,i){if(1&n&&(e.TgZ(0,"tr")(1,"td",27),e.YNc(2,yl,1,0,"i",28),e.YNc(3,Cl,2,0,"span",26),e.qZA()()),2&n){const t=e.oxw();e.xp6(1),e.uIk("colspan",4),e.xp6(1),e.Q6J("ngIf",t.isLoading),e.xp6(1),e.Q6J("ngIf",!t.isLoading)}}function El(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",30),e.NdJ("click",function(){e.CHM(t),e.oxw();const o=e.MAs(12);return e.KtG(o.paginator=!1)}),e._uU(1,"All "),e.qZA()}}function Tl(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",31)(1,"p-button",30),e.NdJ("click",function(){e.CHM(t),e.oxw();const o=e.MAs(12);return e.KtG(o.paginator=!0)}),e._uU(2," Return pagination "),e.qZA()()}}let xl=(()=>{class n{constructor(t,r){this.companyCategoryService=t,this.modalService=r,this.destroy$=new L.x,this.menuItems=[{label:"Selected Company Category",items:[{label:"Edit",icon:"pi pi-pencil",command:()=>this.onEditCategory()},{label:"Remove",icon:"pi pi-trash",command:()=>this.onRemoveCategory()}]}],this.categories=[],this.isLoading=!0}ngOnInit(){this.getCompanyCategories()}getCompanyCategories(){this.companyCategoryService.get().subscribe(t=>{this.categories=t,this.isLoading=!1})}onAddCategory(){this.companyCategoryService.createEditWarehouseModal("create").subscribe(t=>{t&&(this.categories.push(t),this.renderTable())})}onEditCategory(){this.companyCategoryService.createEditWarehouseModal("edit",this.selectedCategory).subscribe(t=>{if(t){const r=this.categories.findIndex(o=>o.id===this.selectedCategory.id);this.categories[r]=t,this.selectedCategory=this.categories[r],this.renderTable()}})}onRemoveCategory(){this.modalService.confirm("danger").subscribe(t=>{t&&this.companyCategoryService.delete(this.selectedCategory).subscribe(()=>{const r=this.categories.findIndex(o=>o.id===this.selectedCategory.id);this.categories.splice(r,1),this.selectedCategory=null,this.renderTable()})})}renderTable(){this.categories=this.categories.map(t=>t)}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(On.v),e.Y36(ne.Z))},n.\u0275cmp=e.Xpm({type:n,selectors:[["pek-company-categories"]],decls:19,vars:8,consts:[[1,"page"],[1,"page__header"],[1,"page__title"],[3,"module","isActive"],[1,"page__tools"],["pButton","","type","button","icon","pi pi-plus","label","New Category",3,"click"],[1,"page__content"],[1,"page__card"],[1,"page__table"],["selectionMode","single","scrollHeight","calc(100vh - 18.8rem)",3,"scrollable","paginator","rows","selection","value","selectionChange"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pTemplate","paginatorright"],["class","paginator-return-pagination",4,"ngIf"],[1,"d-flex"],["class","subtitle",4,"ngIf"],[1,"ml-auto",3,"model"],[1,"subtitle"],[1,"text-center",2,"width","5%"],[2,"width","40%"],[2,"width","55%"],[3,"pSelectableRow"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"text-center","p-4"],["class","pi pi-spin pi-spinner","style","font-size: 2.25rem",4,"ngIf"],[1,"pi","pi-spin","pi-spinner",2,"font-size","2.25rem"],["type","button","styleClass","p-button-text",3,"click"],[1,"paginator-return-pagination"]],template:function(t,r){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"pek-module-icon",3),e.TgZ(4,"h1"),e._uU(5,"Company Categories"),e.qZA()(),e.TgZ(6,"div",4)(7,"button",5),e.NdJ("click",function(){return r.onAddCategory()}),e.qZA()()()(),e.TgZ(8,"div",6)(9,"div",7)(10,"div",8)(11,"p-table",9,10),e.NdJ("selectionChange",function(a){return r.selectedCategory=a}),e.YNc(13,ml,3,4,"ng-template",11),e.YNc(14,hl,7,0,"ng-template",12),e.YNc(15,_l,7,4,"ng-template",13),e.YNc(16,bl,4,3,"ng-template",14),e.YNc(17,El,2,0,"ng-template",15),e.qZA()(),e.YNc(18,Tl,3,0,"div",16),e.qZA()()),2&t){const o=e.MAs(12);e.xp6(3),e.Q6J("module","contacts-events")("isActive",!0),e.xp6(8),e.Q6J("scrollable",!0)("paginator",r.categories.length>0)("rows",10)("selection",r.selectedCategory)("value",r.categories),e.xp6(7),e.Q6J("ngIf",!o.paginator&&!r.isLoading&&r.categories.length>0)}},dependencies:[w.sg,w.O5,P.Hq,P.zx,K.jx,re.nm,Y.iA,Y.Ei,oe.D]}),n})();var qn=x(5151);function Al(n,i){1&n&&(e.TgZ(0,"p",20),e._uU(1,"Choose the Event Type to edit"),e.qZA())}function Sl(n,i){if(1&n&&(e.TgZ(0,"div",17),e.YNc(1,Al,2,0,"p",18),e._UZ(2,"p-menubar",19),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.selectedEventType),e.xp6(1),e.ekj("disabled",!t.selectedEventType),e.Q6J("model",t.menuItems)}}function wl(n,i){1&n&&(e.TgZ(0,"tr")(1,"th",21),e._uU(2,"#"),e.qZA(),e.TgZ(3,"th",22),e._uU(4,"Name"),e.qZA(),e.TgZ(5,"th",23),e._uU(6,"Description"),e.qZA(),e.TgZ(7,"th",24),e._uU(8,"User Profiles"),e.qZA(),e.TgZ(9,"th",25),e._uU(10,"Color"),e.qZA()())}function Dl(n,i){1&n&&(e.ynx(0),e.TgZ(1,"div"),e._uU(2,"Not Related"),e.qZA(),e.BQk())}function kl(n,i){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.hij(" ",t.user_profile.first_name+" "+t.user_profile.last_name+", "+t.user_profile.gmail," ")}}function Zl(n,i){if(1&n&&(e.ynx(0),e.YNc(1,kl,2,1,"div",29),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",t.access_users)}}function Rl(n,i){if(1&n&&(e.TgZ(0,"tr",26)(1,"td",21),e._uU(2),e.qZA(),e.TgZ(3,"td",22),e._uU(4),e.qZA(),e.TgZ(5,"td",23),e._uU(6),e.qZA(),e.TgZ(7,"td",24),e.YNc(8,Dl,3,0,"ng-container",27),e.YNc(9,Zl,2,1,"ng-container",27),e.qZA(),e.TgZ(10,"td",25),e._UZ(11,"div",28),e.qZA()()),2&n){const t=i.$implicit,r=i.rowIndex;e.Q6J("pSelectableRow",t),e.xp6(2),e.Oqu(r+1),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.description),e.xp6(2),e.Q6J("ngIf",0===t.access_users.length),e.xp6(1),e.Q6J("ngIf",t.access_users.length>0),e.xp6(2),e.Udp("background-color",t.color_hex?t.color_hex:"#3788d8")}}function Ml(n,i){1&n&&e._UZ(0,"i",32)}function Il(n,i){1&n&&(e.TgZ(0,"span"),e._uU(1,"No Records Found"),e.qZA())}function Pl(n,i){if(1&n&&(e.TgZ(0,"tr")(1,"td",30),e.YNc(2,Ml,1,0,"i",31),e.YNc(3,Il,2,0,"span",27),e.qZA()()),2&n){const t=e.oxw();e.xp6(1),e.uIk("colspan",5),e.xp6(1),e.Q6J("ngIf",t.isLoading),e.xp6(1),e.Q6J("ngIf",!t.isLoading)}}function Nl(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",33),e.NdJ("click",function(){e.CHM(t),e.oxw();const o=e.MAs(12);return e.KtG(o.paginator=!1)}),e._uU(1,"All "),e.qZA()}}function Fl(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",34)(1,"p-button",33),e.NdJ("click",function(){e.CHM(t),e.oxw();const o=e.MAs(12);return e.KtG(o.paginator=!0)}),e._uU(2," Return pagination "),e.qZA()()}}let Ul=(()=>{class n{constructor(t,r){this.eventTypesService=t,this.modalService=r,this.destroy$=new L.x,this.eventTypes=[],this.isLoading=!0,this.menuItems=[{label:"Selected Event Type",items:[{label:"Edit",icon:"pi pi-pencil",command:()=>this.onEditEventType()},{label:"Remove",icon:"pi pi-trash",command:()=>this.onRemoveEventType()}]}]}ngOnInit(){this.getEventTypes()}getEventTypes(){this.eventTypesService.get([{name:"is_auto",value:!1}]).subscribe(t=>{this.eventTypes=t,this.isLoading=!1})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}onAddEventType(){this.eventTypesService.createEditEventType("create").subscribe(t=>{t&&(this.eventTypes.push(t),this.renderTable())})}onEditEventType(){this.eventTypesService.createEditEventType("edit",this.selectedEventType).subscribe(t=>{if(t){const r=this.eventTypes.findIndex(o=>o.id===this.selectedEventType.id);this.eventTypes[r]=t,this.selectedEventType=this.eventTypes[r],this.renderTable()}})}onRemoveEventType(){this.modalService.confirm("danger").subscribe(t=>{t&&this.eventTypesService.delete(this.selectedEventType).subscribe(()=>{const r=this.eventTypes.findIndex(o=>o.id===this.selectedEventType.id);this.eventTypes.splice(r,1),this.selectedEventType=null,this.renderTable()})})}renderTable(){this.eventTypes=this.eventTypes.map(t=>t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(qn.B),e.Y36(ne.Z))},n.\u0275cmp=e.Xpm({type:n,selectors:[["pek-event-types"]],decls:19,vars:8,consts:[[1,"page"],[1,"page__header"],[1,"page__title"],[3,"module","isActive"],[1,"page__tools"],["pButton","","type","button","icon","pi pi-plus","label","New Event Type",3,"click"],[1,"page__content"],[1,"page__card"],[1,"page__table"],["selectionMode","single","scrollHeight","calc(100vh - 18.8rem)",3,"scrollable","paginator","rows","selection","value","selectionChange"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pTemplate","paginatorright"],["class","paginator-return-pagination",4,"ngIf"],[1,"d-flex"],["class","subtitle",4,"ngIf"],[1,"ml-auto",3,"model"],[1,"subtitle"],[1,"text-center",2,"width","5%"],[2,"width","25%"],[2,"width","35%"],[1,"text-center",2,"width","25%"],[1,"text-center",2,"width","10%"],[3,"pSelectableRow"],[4,"ngIf"],[1,"event-color"],[4,"ngFor","ngForOf"],[1,"text-center","p-4"],["class","pi pi-spin pi-spinner","style","font-size: 2.25rem",4,"ngIf"],[1,"pi","pi-spin","pi-spinner",2,"font-size","2.25rem"],["type","button","styleClass","p-button-text",3,"click"],[1,"paginator-return-pagination"]],template:function(t,r){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"pek-module-icon",3),e.TgZ(4,"h1"),e._uU(5,"Event Types"),e.qZA()(),e.TgZ(6,"div",4)(7,"button",5),e.NdJ("click",function(){return r.onAddEventType()}),e.qZA()()()(),e.TgZ(8,"div",6)(9,"div",7)(10,"div",8)(11,"p-table",9,10),e.NdJ("selectionChange",function(a){return r.selectedEventType=a}),e.YNc(13,Sl,3,4,"ng-template",11),e.YNc(14,wl,11,0,"ng-template",12),e.YNc(15,Rl,12,8,"ng-template",13),e.YNc(16,Pl,4,3,"ng-template",14),e.YNc(17,Nl,2,0,"ng-template",15),e.qZA()(),e.YNc(18,Fl,3,0,"div",16),e.qZA()()),2&t){const o=e.MAs(12);e.xp6(3),e.Q6J("module","contacts-events")("isActive",!0),e.xp6(8),e.Q6J("scrollable",!0)("paginator",r.eventTypes.length>0)("rows",10)("selection",r.selectedEventType)("value",r.eventTypes),e.xp6(7),e.Q6J("ngIf",!o.paginator&&!r.isLoading&&r.eventTypes.length>0)}},dependencies:[w.sg,w.O5,P.Hq,P.zx,K.jx,re.nm,Y.iA,Y.Ei,oe.D],styles:[".event-color[_ngcontent-%COMP%]{height:20px;border-radius:3px;width:100%}"]}),n})();var f=x(655),gr=x(4128),ge=x(9933),vr=x(733),Hn=x(9038),_r=x(4189),yr=x(4951),De=x(6237);function Ol(n,i){if(1&n&&(e.TgZ(0,"div",15),e._UZ(1,"p-menubar",16),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.ekj("disabled",!t.selected),e.Q6J("model",t.menuItems)}}function ql(n,i){1&n&&(e.TgZ(0,"tr")(1,"th",17),e._uU(2,"Name"),e.qZA()())}function Hl(n,i){if(1&n&&(e.TgZ(0,"tr",18)(1,"td",19),e._UZ(2,"p-treeTableToggler",20),e._uU(3),e.TgZ(4,"span"),e._uU(5),e.qZA()()()),2&n){const t=i.$implicit,r=i.rowData;e.Q6J("ttRow",t)("ttSelectableRowDisabled",!(null!=r&&r.employee))("ttSelectableRow",t),e.xp6(2),e.Q6J("rowNode",t),e.xp6(1),e.AsE(" ",null==r.department?null:r.department.title," ",null==r.position?null:r.position.title," "),e.xp6(2),e.AsE("",null==r.employee?null:r.employee.first_name," ",null==r.employee?null:r.employee.last_name,"")}}let Le=class{constructor(i,t,r,o){this.crmEmployeeService=i,this.modalService=t,this.crmPositionService=r,this.crmDepartmentService=o,this.tree=[],this.expanseMapDepartments={},this.expanseMapPositions={},this.positions=[],this.departments=[],this.menuItems=[{label:"Selected Employee",items:[{label:"Edit",icon:"pi pi-pencil",command:()=>this.onEditEmployee()},{label:"Remove",icon:"pi pi-trash",command:()=>this.onRemoveEmployee()}]}],this.destroy$=new L.x,this.employees=[],this.isLoading=!0}ngOnInit(){this.prepareTree()}prepareTree(){(0,gr.D)({departments:this.crmDepartmentService.get(),positions:this.crmPositionService.get(),employees:this.crmEmployeeService.get()}).pipe((0,ge.t)(this)).subscribe(({departments:i,positions:t,employees:r})=>{this.departments=i,this.positions=t,this.employees=r,this.createTree()})}createTree(){this.tree&&this.mapExpansion();const i=[];let t=!1;this.expanseMapPositions&&(t=this.expanseMapPositions[95e6]),i.push({data:{position:{title:"Without Position",id:95e6}},expanded:t,children:this.employees.filter(o=>!o.position).map(o=>({data:{employee:o},expanded:!1,children:[]}))});let r=!1;this.expanseMapDepartments&&(r=this.expanseMapDepartments[9e7]),i.push({data:{department:{title:"Without Department",id:9e7}},expanded:r,children:this.positions.filter(o=>!o.department).map(o=>{let a=!1;return this.expanseMapPositions&&(a=this.expanseMapPositions[o.id]),{data:{position:o},expanded:a,children:this.employees.filter(s=>s.position).filter(s=>s.position.id===o.id).map(s=>({data:{employee:s},expanded:!1,children:[]}))}})}),this.departments.forEach(o=>{let a=!1;this.expanseMapDepartments&&(a=this.expanseMapDepartments[o.id]),i.push({data:{department:o},expanded:a,children:this.positions.filter(s=>s.department).filter(s=>s.department.id===o.id).map(s=>{let l=!1;return this.expanseMapPositions&&(l=this.expanseMapPositions[s.id]),{data:{position:s},expanded:l,children:this.employees.filter(c=>c.position).filter(c=>c.position.id===s.id).map(c=>({data:{employee:c},expanded:!1,children:[]}))}})})}),this.tree=i.map(o=>o)}mapExpansion(){this.tree.forEach(i=>{this.createExpanseMap(i)})}createExpanseMap(i){i.expanded?(i.data.department&&(this.expanseMapDepartments[i.data.department.id]=i.expanded),i.data.position&&(this.expanseMapPositions[i.data.position.id]=i.expanded)):(i.data.department&&(this.expanseMapDepartments[i.data.department.id]=!1),i.data.position&&(this.expanseMapPositions[i.data.position.id]=!1)),i.children&&i.children.forEach(t=>{this.createExpanseMap(t)})}onAddEmployee(){this.crmEmployeeService.createEditEmployeeModal("create").subscribe(i=>{i&&this.prepareTree()})}onEditEmployee(){this.crmEmployeeService.createEditEmployeeModal("edit",this.selected.data.employee).subscribe(i=>{i&&this.prepareTree()})}onRemoveEmployee(){this.modalService.confirm("danger").subscribe(i=>{i&&this.crmEmployeeService.delete(this.selected.data.employee).subscribe(()=>{this.prepareTree()})})}renderTable(){this.employees=this.employees.map(i=>i)}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}expandCollapseRecursive(i,t){i.expanded=t,i.children&&i.children.forEach(r=>{this.expandCollapseRecursive(r,t)})}expandCollapse(i=!0){const t=vr(this.tree);t.forEach(r=>{this.expandCollapseRecursive(r,i)}),this.tree=t}};function Ll(n,i){1&n&&(e.TgZ(0,"p",20),e._uU(1,"Choose the External Event Type to edit"),e.qZA())}function Jl(n,i){if(1&n&&(e.TgZ(0,"div",17),e.YNc(1,Ll,2,0,"p",18),e._UZ(2,"p-menubar",19),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.selectedExternalEvent),e.xp6(1),e.ekj("disabled",!t.selectedExternalEvent),e.Q6J("model",t.menuItems)}}function Bl(n,i){1&n&&(e.TgZ(0,"tr")(1,"th",21),e._uU(2,"#"),e.qZA(),e.TgZ(3,"th",22),e._uU(4,"Google Calendar ID"),e.qZA(),e.TgZ(5,"th",23),e._uU(6,"Name"),e.qZA(),e.TgZ(7,"th",24),e._uU(8,"First Name"),e.qZA(),e.TgZ(9,"th",24),e._uU(10,"Last Name"),e.qZA(),e.TgZ(11,"th",25),e._uU(12,"Gmail"),e.qZA(),e.TgZ(13,"th",26),e._uU(14,"Color"),e.qZA()())}function Yl(n,i){if(1&n&&(e.TgZ(0,"tr",27)(1,"td",28),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td",26),e._UZ(14,"div",29),e.qZA()()),2&n){const t=i.$implicit,r=i.rowIndex;e.Q6J("pSelectableRow",t),e.xp6(2),e.Oqu(r+1),e.xp6(2),e.Oqu(t.google_calendar_id),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.google_owner_first_name),e.xp6(2),e.Oqu(t.google_owner_last_name),e.xp6(2),e.Oqu(t.google_owner_gmail),e.xp6(2),e.Udp("background-color",t.color_hex?t.color_hex:"#3788d8")}}function Ql(n,i){1&n&&e._UZ(0,"i",33)}function Vl(n,i){1&n&&(e.TgZ(0,"span"),e._uU(1,"No Records Found"),e.qZA())}function zl(n,i){if(1&n&&(e.TgZ(0,"tr")(1,"td",30),e.YNc(2,Ql,1,0,"i",31),e.YNc(3,Vl,2,0,"span",32),e.qZA()()),2&n){const t=e.oxw();e.xp6(1),e.uIk("colspan",7),e.xp6(1),e.Q6J("ngIf",t.isLoading),e.xp6(1),e.Q6J("ngIf",!t.isLoading)}}function Gl(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",34),e.NdJ("click",function(){e.CHM(t),e.oxw();const o=e.MAs(12);return e.KtG(o.paginator=!1)}),e._uU(1,"All "),e.qZA()}}function Wl(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",35)(1,"p-button",34),e.NdJ("click",function(){e.CHM(t),e.oxw();const o=e.MAs(12);return e.KtG(o.paginator=!0)}),e._uU(2," Return pagination "),e.qZA()()}}Le.\u0275fac=function(i){return new(i||Le)(e.Y36(Hn.R),e.Y36(ne.Z),e.Y36(_r.q),e.Y36(yr.e))},Le.\u0275cmp=e.Xpm({type:Le,selectors:[["pek-crm-employees"]],decls:17,vars:5,consts:[[1,"page"],[1,"page__header"],[1,"page__title"],[3,"module","isActive"],[1,"page__tools"],["pButton","","type","button","icon","pi pi-plus","label","New Employee",1,"mr-2",3,"click"],["pButton","","type","button","icon","pi pi-angle-down","label","Expand All",1,"mr-2",3,"click"],["pButton","","type","button","icon","pi pi-angle-up","label","Collapse All",1,"mr-2",3,"click"],[1,"page__content"],[1,"page__card"],[1,"page__table"],["selectionMode","single","scrollHeight","calc(100vh - 19.2rem)",3,"value","selection","scrollable","selectionChange"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"action-buttons"],[1,"ml-auto",3,"model"],[2,"padding-left","52px","width","60%"],[3,"ttRow","ttSelectableRowDisabled","ttSelectableRow"],[2,"width","100%"],[3,"rowNode"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"pek-module-icon",3),e.TgZ(4,"h1"),e._uU(5,"Employees"),e.qZA()(),e.TgZ(6,"div",4)(7,"button",5),e.NdJ("click",function(){return t.onAddEmployee()}),e.qZA(),e.TgZ(8,"button",6),e.NdJ("click",function(){return t.expandCollapse()}),e.qZA(),e.TgZ(9,"button",7),e.NdJ("click",function(){return t.expandCollapse(!1)}),e.qZA()()()(),e.TgZ(10,"div",8)(11,"div",9)(12,"div",10)(13,"p-treeTable",11),e.NdJ("selectionChange",function(o){return t.selected=o}),e.YNc(14,Ol,2,3,"ng-template",12),e.YNc(15,ql,3,0,"ng-template",13),e.YNc(16,Hl,6,8,"ng-template",14),e.qZA()()()()),2&i&&(e.xp6(3),e.Q6J("module","contacts-events")("isActive",!0),e.xp6(10),e.Q6J("value",t.tree)("selection",t.selected)("scrollable",!0))},dependencies:[P.Hq,De.iw,K.jx,De.gc,De.V4,De.e2,re.nm,oe.D]}),Le=(0,f.gn)([(0,ge.c)()],Le);let jl=(()=>{class n{constructor(t,r){this.eventTypesService=t,this.modalService=r,this.menuItems=[{label:"Selected External Event Type",items:[{label:"Edit",icon:"pi pi-pencil",command:()=>this.onEditEventType()},{label:"Remove",icon:"pi pi-trash",command:()=>this.onRemoveEventType()}]}],this.destroy$=new L.x,this.isLoading=!0,this.externalEvents=[]}ngOnInit(){this.getEventTypes()}getEventTypes(){this.eventTypesService.getExternalEventTypes().pipe((0,J.R)(this.destroy$)).subscribe(t=>{this.externalEvents=t,this.isLoading=!1})}onAddEventType(){this.eventTypesService.createEditExternalEventType("create").subscribe(t=>{t&&(this.externalEvents.unshift(t),this.renderTable())})}onEditEventType(){this.eventTypesService.createEditExternalEventType("edit",this.selectedExternalEvent).subscribe(t=>{if(t){const r=this.externalEvents.findIndex(o=>o.id===this.selectedExternalEvent.id);this.externalEvents[r]=t,this.selectedExternalEvent=this.externalEvents[r],this.renderTable()}})}onRemoveEventType(){this.modalService.confirm("danger").subscribe(t=>{t&&this.eventTypesService.delete(this.selectedExternalEvent).subscribe(()=>{const r=this.externalEvents.findIndex(o=>o.id===this.selectedExternalEvent.id);this.externalEvents.splice(r,1),this.selectedExternalEvent=null,this.renderTable()})})}renderTable(){this.externalEvents=this.externalEvents.map(t=>t)}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(qn.B),e.Y36(ne.Z))},n.\u0275cmp=e.Xpm({type:n,selectors:[["pek-crm-external-events"]],decls:19,vars:8,consts:[[1,"page"],[1,"page__header"],[1,"page__title"],[3,"module","isActive"],[1,"page__tools"],["pButton","","type","button","icon","pi pi-plus","label","New External Event Type",3,"click"],[1,"page__content"],[1,"page__card"],[1,"page__table"],["selectionMode","single","scrollHeight","calc(100vh - 18.8rem)",3,"scrollable","paginator","rows","selection","value","selectionChange"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pTemplate","paginatorright"],["class","paginator-return-pagination",4,"ngIf"],[1,"d-flex"],["class","subtitle",4,"ngIf"],[1,"ml-auto",3,"model"],[1,"subtitle"],[1,"text-center",2,"width","5%"],[2,"width","30%"],[2,"width","20%"],[2,"width","10%"],[2,"width","15%"],[1,"text-center",2,"width","10%"],[3,"pSelectableRow"],[1,"text-center"],[1,"event-color"],[1,"text-center","p-4"],["class","pi pi-spin pi-spinner","style","font-size: 2.25rem",4,"ngIf"],[4,"ngIf"],[1,"pi","pi-spin","pi-spinner",2,"font-size","2.25rem"],["type","button","styleClass","p-button-text",3,"click"],[1,"paginator-return-pagination"]],template:function(t,r){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"pek-module-icon",3),e.TgZ(4,"h1"),e._uU(5,"External Event Types"),e.qZA()(),e.TgZ(6,"div",4)(7,"button",5),e.NdJ("click",function(){return r.onAddEventType()}),e.qZA()()()(),e.TgZ(8,"div",6)(9,"div",7)(10,"div",8)(11,"p-table",9,10),e.NdJ("selectionChange",function(a){return r.selectedExternalEvent=a}),e.YNc(13,Jl,3,4,"ng-template",11),e.YNc(14,Bl,15,0,"ng-template",12),e.YNc(15,Yl,15,9,"ng-template",13),e.YNc(16,zl,4,3,"ng-template",14),e.YNc(17,Gl,2,0,"ng-template",15),e.qZA()(),e.YNc(18,Wl,3,0,"div",16),e.qZA()()),2&t){const o=e.MAs(12);e.xp6(3),e.Q6J("module","contacts-events")("isActive",!0),e.xp6(8),e.Q6J("scrollable",!0)("paginator",r.externalEvents.length>0)("rows",10)("selection",r.selectedExternalEvent)("value",r.externalEvents),e.xp6(7),e.Q6J("ngIf",!o.paginator&&!r.isLoading&&r.externalEvents.length>0)}},dependencies:[w.O5,P.Hq,P.zx,K.jx,re.nm,Y.iA,Y.Ei,oe.D],styles:[".event-color[_ngcontent-%COMP%]{height:20px;border-radius:3px}"]}),n})();var ue=x(2340),$l=x(9646),Z=x(6319);let Kl=(()=>{class n{constructor(t,r,o,a){this.dialogRef=t,this.userProfileService=r,this.fb=o,this.data=a,this.isSaving=!1,this.form=this.fb.group({first_name:[null,E.kI.required],last_name:[null,E.kI.required],gmail:[null,E.kI.required]})}ngOnInit(){"edit"===this.data.type&&(this.form.addControl("id",new E.NI(this.data.userProfile.id)),this.form.patchValue(this.data.userProfile))}onSave(){switch(this.isSaving=!0,this.data.type){case"create":this.createEventType();break;case"edit":this.editEventType()}}createEventType(){this.userProfileService.create(this.form.value).subscribe({next:r=>this.dialogRef.close(r),error:()=>this.isSaving=!1})}editEventType(){this.userProfileService.update(this.form.value).subscribe({next:r=>this.dialogRef.close(r),error:()=>this.isSaving=!1})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Z.so),e.Y36(Ln),e.Y36(E.qu),e.Y36(Z.WI))},n.\u0275cmp=e.Xpm({type:n,selectors:[["pek-create-edit-user-profile"]],decls:20,vars:6,consts:[[1,"modal-header"],[1,"modal-header__title"],[3,"formGroup"],[1,"form-group"],["for","first-name"],["pInputText","","formControlName","first_name","type","text","id","first-name",1,"form-control"],["for","last-name"],["pInputText","","formControlName","last_name","type","text","id","last-name",1,"form-control"],["for","gmail"],["pInputText","","formControlName","gmail","type","text","id","gmail",1,"form-control"],[1,"justify-content-between"],["pButton","","type","button","label","Cancel",1,"p-button-danger",3,"mat-dialog-close"],["pButton","","type","button",1,"p-button-success",3,"label","loading","disabled","click"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"h2",1),e._uU(2),e.qZA()(),e.TgZ(3,"mat-dialog-content")(4,"form",2)(5,"div",3)(6,"label",4),e._uU(7,"First Name*"),e.qZA(),e._UZ(8,"input",5),e.qZA(),e.TgZ(9,"div",3)(10,"label",6),e._uU(11,"Last Name*"),e.qZA(),e._UZ(12,"input",7),e.qZA(),e.TgZ(13,"div",3)(14,"label",8),e._uU(15,"Gmail*"),e.qZA(),e._UZ(16,"input",9),e.qZA()()(),e.TgZ(17,"mat-dialog-actions",10),e._UZ(18,"button",11),e.TgZ(19,"button",12),e.NdJ("click",function(){return r.onSave()}),e.qZA()()),2&t&&(e.xp6(2),e.hij(" ",r.data.type," User Profile "),e.xp6(2),e.Q6J("formGroup",r.form),e.xp6(14),e.Q6J("mat-dialog-close",!1),e.xp6(1),e.Q6J("label",r.data.type)("loading",r.isSaving)("disabled",r.form.invalid))},dependencies:[P.Hq,He.o,E._Y,E.Fj,E.JJ,E.JL,E.sg,E.u,Z.ZT,Z.xY,Z.H8]}),n})();var Ct=x(529);let Ln=(()=>{class n{constructor(t,r){this.httpClient=t,this.dialog=r,this.API_URL=ue.N.base_url+ue.N.business_partners_url,this.url="user_profile/"}get(t){if(this.userProfiles)return(0,$l.of)(this.userProfiles);let r="";return t&&t.forEach((o,a)=>{r+=a>0?"&"+o.name+"="+o.value:"?"+o.name+"="+o.value}),this.httpClient.get(this.API_URL+this.url+"all/"+r).pipe((0,z.U)(o=>{const a=o.data.map(s=>({...s,fullName:`${s.first_name} ${s.last_name}`}));return this.userProfiles=a,a}))}create(t){return this.httpClient.post(this.API_URL+this.url,t).pipe((0,z.U)(r=>r.data))}update(t){return this.httpClient.put(this.API_URL+this.url+t.id+"/",t).pipe((0,z.U)(r=>r.data))}delete(t){return this.httpClient.delete(this.API_URL+this.url+t.id+"/")}createEditUserProfileModel(t,r){return this.dialog.open(Kl,{width:"50rem",height:"auto",panelClass:"modal-overflow-visible",data:{type:t,userProfile:r},autoFocus:!1,enterAnimationDuration:"250ms"}).afterClosed()}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Ct.eN),e.LFG(Z.uw))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Xl(n,i){1&n&&(e.TgZ(0,"p",20),e._uU(1,"Choose the User Profile to edit"),e.qZA())}function ec(n,i){if(1&n&&(e.TgZ(0,"div",17),e.YNc(1,Xl,2,0,"p",18),e._UZ(2,"p-menubar",19),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.selectedUserProfile),e.xp6(1),e.ekj("disabled",!t.selectedUserProfile),e.Q6J("model",t.menuItems)}}function tc(n,i){1&n&&(e.TgZ(0,"tr")(1,"th",21),e._uU(2,"#"),e.qZA(),e.TgZ(3,"th",22),e._uU(4,"First Name"),e.qZA(),e.TgZ(5,"th",22),e._uU(6,"Last Name"),e.qZA(),e.TgZ(7,"th",23),e._uU(8,"Gmail"),e.qZA()())}function nc(n,i){if(1&n&&(e.TgZ(0,"tr",24)(1,"td",21),e._uU(2),e.qZA(),e.TgZ(3,"td",22),e._uU(4),e.qZA(),e.TgZ(5,"td",22),e._uU(6),e.qZA(),e.TgZ(7,"td",23),e._uU(8),e.qZA()()),2&n){const t=i.$implicit,r=i.rowIndex;e.Q6J("pSelectableRow",t),e.xp6(2),e.Oqu(r+1),e.xp6(2),e.Oqu(t.first_name),e.xp6(2),e.Oqu(t.last_name),e.xp6(2),e.Oqu(t.gmail)}}function ic(n,i){1&n&&e._UZ(0,"i",28)}function rc(n,i){1&n&&(e.TgZ(0,"span"),e._uU(1,"No Records Found"),e.qZA())}function oc(n,i){if(1&n&&(e.TgZ(0,"tr")(1,"td",25),e.YNc(2,ic,1,0,"i",26),e.YNc(3,rc,2,0,"span",27),e.qZA()()),2&n){const t=e.oxw();e.xp6(1),e.uIk("colspan",4),e.xp6(1),e.Q6J("ngIf",t.isLoading),e.xp6(1),e.Q6J("ngIf",!t.isLoading)}}function ac(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",29),e.NdJ("click",function(){e.CHM(t),e.oxw();const o=e.MAs(12);return e.KtG(o.paginator=!1)}),e._uU(1,"All "),e.qZA()}}function sc(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",30)(1,"p-button",29),e.NdJ("click",function(){e.CHM(t),e.oxw();const o=e.MAs(12);return e.KtG(o.paginator=!0)}),e._uU(2," Return pagination "),e.qZA()()}}let lc=(()=>{class n{constructor(t,r){this.modalService=t,this.userProfileService=r,this.isLoading=!0,this.destroy$=new L.x,this.menuItems=[{label:"Selected User Profile",items:[{label:"Edit",icon:"pi pi-pencil",command:()=>this.onEditUserProfile()},{label:"Remove",icon:"pi pi-trash",command:()=>this.onRemoveUserProfile()}]}],this.usersProfiles=[]}ngOnInit(){this.getUserProfiles()}getUserProfiles(){this.userProfileService.get().pipe((0,J.R)(this.destroy$)).subscribe(t=>{this.usersProfiles=t,this.isLoading=!1})}onAddUserProfile(){this.userProfileService.createEditUserProfileModel("create").subscribe(t=>{t&&(this.usersProfiles.unshift(t),this.renderTable())})}onEditUserProfile(){this.userProfileService.createEditUserProfileModel("edit",this.selectedUserProfile).subscribe(t=>{if(t){const r=this.usersProfiles.findIndex(o=>o.id===this.selectedUserProfile.id);this.usersProfiles[r]=t,this.selectedUserProfile=this.usersProfiles[r],this.renderTable()}})}onRemoveUserProfile(){this.modalService.confirm("danger").subscribe(t=>{t&&this.userProfileService.delete(this.selectedUserProfile).subscribe(()=>{const r=this.usersProfiles.findIndex(o=>o.id===this.selectedUserProfile.id);this.usersProfiles.splice(r,1),this.selectedUserProfile=null,this.renderTable()})})}renderTable(){this.usersProfiles=this.usersProfiles.map(t=>t)}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(ne.Z),e.Y36(Ln))},n.\u0275cmp=e.Xpm({type:n,selectors:[["pek-crm-users-profiles"]],decls:19,vars:8,consts:[[1,"page"],[1,"page__header"],[1,"page__title"],[3,"module","isActive"],[1,"page__tools"],["pButton","","type","button","icon","pi pi-plus","label","New User Profile",3,"click"],[1,"page__content"],[1,"page__card"],[1,"page__table"],["selectionMode","single","scrollHeight","calc(100vh - 18.8rem)",3,"scrollable","paginator","rows","selection","value","selectionChange"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pTemplate","paginatorright"],["class","paginator-return-pagination",4,"ngIf"],[1,"d-flex"],["class","subtitle",4,"ngIf"],[1,"ml-auto",3,"model"],[1,"subtitle"],[1,"text-center",2,"width","5%"],[2,"width","30%"],[2,"width","35%"],[3,"pSelectableRow"],[1,"text-center","p-4"],["class","pi pi-spin pi-spinner","style","font-size: 2.25rem",4,"ngIf"],[4,"ngIf"],[1,"pi","pi-spin","pi-spinner",2,"font-size","2.25rem"],["type","button","styleClass","p-button-text",3,"click"],[1,"paginator-return-pagination"]],template:function(t,r){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"pek-module-icon",3),e.TgZ(4,"h1"),e._uU(5,"Employees"),e.qZA()(),e.TgZ(6,"div",4)(7,"button",5),e.NdJ("click",function(){return r.onAddUserProfile()}),e.qZA()()()(),e.TgZ(8,"div",6)(9,"div",7)(10,"div",8)(11,"p-table",9,10),e.NdJ("selectionChange",function(a){return r.selectedUserProfile=a}),e.YNc(13,ec,3,4,"ng-template",11),e.YNc(14,tc,9,0,"ng-template",12),e.YNc(15,nc,9,5,"ng-template",13),e.YNc(16,oc,4,3,"ng-template",14),e.YNc(17,ac,2,0,"ng-template",15),e.qZA()(),e.YNc(18,sc,3,0,"div",16),e.qZA()()),2&t){const o=e.MAs(12);e.xp6(3),e.Q6J("module","contacts-events")("isActive",!0),e.xp6(8),e.Q6J("scrollable",!0)("paginator",r.usersProfiles.length>0)("rows",10)("selection",r.selectedUserProfile)("value",r.usersProfiles),e.xp6(7),e.Q6J("ngIf",!o.paginator&&!r.isLoading&&r.usersProfiles.length>0)}},dependencies:[w.O5,P.Hq,P.zx,K.jx,re.nm,Y.iA,Y.Ei,oe.D]}),n})();var ke=x(3054),bt=x(585),et=x(5722),tt=x(9290),Jn=x(2665);let cc=(()=>{class n{constructor(t,r,o,a){this.dialogRef=t,this.crmScheduleService=r,this.fb=o,this.data=a,this.isSaving=!1,this.scheduleDays=[{value:0,name:"Monday"},{value:1,name:"Tuesday"},{value:2,name:"Wednesday"},{value:3,name:"Thursday"},{value:4,name:"Friday"},{value:5,name:"Saturday"},{value:6,name:"Sunday"}],this.form=this.fb.group({start:[null,[E.kI.required]],end:[null,[E.kI.required]],schedule_values:[[],[E.kI.required]],event_type:[null,[E.kI.required]],employee:[[]],description:[null,[E.kI.required]]})}ngOnInit(){"edit"===this.data.type&&(this.form.addControl("id",new E.NI(this.data.schedule.id)),this.form.get("start").patchValue(new Date(this.data.schedule.start)),this.form.get("end").patchValue(new Date(this.data.schedule.end)),this.form.get("description").patchValue(this.data.schedule.description),this.form.get("event_type").patchValue(this.data.schedule.event_type?.id),this.form.get("schedule_values").patchValue(this.data.schedule.values),this.form.get("employee").patchValue(this.data.schedule.employee.map(t=>t.id)))}onSave(){switch(this.isSaving=!0,this.data.type){case"create":this.createSchedule();break;case"edit":this.editSchedule()}}createSchedule(){this.crmScheduleService.create(this.form.value).subscribe({next:r=>this.dialogRef.close(r),error:()=>this.isSaving=!1})}editSchedule(){this.crmScheduleService.update(this.form.value).subscribe({next:r=>this.dialogRef.close(r),error:()=>this.isSaving=!1})}onSelectEventType(t){this.form.get("event_type").patchValue(t)}onSelectEmployees(t){t?this.form.get("employee").patchValue(t):this.form.get("employee").patchValue([])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Z.so),e.Y36(Cr),e.Y36(E.qu),e.Y36(Z.WI))},n.\u0275cmp=e.Xpm({type:n,selectors:[["pek-create-edit-schedule"]],decls:33,vars:19,consts:[[1,"modal-header"],[1,"modal-header__title"],[3,"formGroup"],[1,"form-group"],[3,"currentEmployeeIds","selectEmployees"],[3,"currentEventTypeId","selectEventType"],["for","description"],["id","description","pInputTextarea","","formControlName","description",3,"rows","autoResize"],[1,"col-group"],["for","start"],["id","start","formControlName","start","inputId","timeonly",3,"showButtonBar","showTime","timeOnly","hourFormat"],[1,"form-group","col-6"],["for","end"],["id","end","formControlName","end","inputId","timeonly",3,"showButtonBar","showTime","timeOnly","hourFormat"],["formControlName","schedule_values","optionLabel","name","optionValue","value",3,"options"],[1,"justify-content-between"],["pButton","","type","button","label","Cancel",1,"p-button-danger",3,"mat-dialog-close"],["pButton","","type","button",1,"p-button-success",3,"label","loading","disabled","click"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"h2",1),e._uU(2),e.qZA()(),e.TgZ(3,"mat-dialog-content")(4,"form",2)(5,"div",3)(6,"label"),e._uU(7,"Employees"),e.qZA(),e.TgZ(8,"pek-crm-employee-picker",4),e.NdJ("selectEmployees",function(a){return r.onSelectEmployees(a)}),e.qZA()(),e.TgZ(9,"div",3)(10,"label"),e._uU(11,"Event Type*"),e.qZA(),e.TgZ(12,"pek-crm-event-type-picker",5),e.NdJ("selectEventType",function(a){return r.onSelectEventType(a)}),e.qZA()(),e.TgZ(13,"div",3)(14,"label",6),e._uU(15,"Description*"),e.qZA(),e._UZ(16,"textarea",7),e.qZA(),e.TgZ(17,"div",8)(18,"div",3)(19,"label",9),e._uU(20,"Start Time*"),e.qZA(),e._UZ(21,"p-calendar",10),e.qZA(),e.TgZ(22,"div",11)(23,"label",12),e._uU(24,"End Time*"),e.qZA(),e._UZ(25,"p-calendar",13),e.qZA()(),e.TgZ(26,"div",3)(27,"label"),e._uU(28," Week days* "),e.qZA(),e._UZ(29,"p-multiSelect",14),e.qZA()()(),e.TgZ(30,"mat-dialog-actions",15),e._UZ(31,"button",16),e.TgZ(32,"button",17),e.NdJ("click",function(){return r.onSave()}),e.qZA()()),2&t&&(e.xp6(2),e.hij(" ",r.data.type," Schedule "),e.xp6(2),e.Q6J("formGroup",r.form),e.xp6(4),e.Q6J("currentEmployeeIds",r.form.get("employee").value),e.xp6(4),e.Q6J("currentEventTypeId",r.form.get("event_type").value),e.xp6(4),e.Q6J("rows",2)("autoResize",!1),e.xp6(5),e.Q6J("showButtonBar",!0)("showTime",!0)("timeOnly",!0)("hourFormat","24"),e.xp6(4),e.Q6J("showButtonBar",!0)("showTime",!0)("timeOnly",!0)("hourFormat","24"),e.xp6(4),e.Q6J("options",r.scheduleDays),e.xp6(2),e.Q6J("mat-dialog-close",!1),e.xp6(1),e.Q6J("label",r.data.type)("loading",r.isSaving)("disabled",r.form.invalid))},dependencies:[P.Hq,E._Y,E.Fj,E.JJ,E.JL,E.sg,E.u,Z.ZT,Z.xY,Z.H8,ke.g,bt.f,et.NU,tt.F,Jn.O],styles:[".col-group[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.col-group[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{width:49%}"]}),n})(),Cr=(()=>{class n{constructor(t,r){this.httpClient=t,this.dialog=r,this.API_URL=ue.N.base_url+ue.N.business_partners_url,this.url="schedules/"}getById(t){return this.httpClient.get(this.API_URL+this.url+t+"/").pipe((0,z.U)(r=>r.data))}get(t){let r="";return t&&t.forEach((o,a)=>{r+=a>0?"&"+o.name+"="+o.value:"?"+o.name+"="+o.value}),this.httpClient.get(this.API_URL+this.url+r).pipe((0,z.U)(o=>o.data))}create(t){return this.httpClient.post(this.API_URL+this.url,t).pipe((0,z.U)(r=>r.data))}update(t){return this.httpClient.put(this.API_URL+this.url+t.id+"/",t).pipe((0,z.U)(r=>r.data))}delete(t){return this.httpClient.delete(this.API_URL+this.url+t.id+"/")}createEditScheduleModal(t,r){return this.dialog.open(cc,{width:"50rem",height:"auto",panelClass:"modal-overflow-visible",data:{type:t,schedule:r},autoFocus:!1,enterAnimationDuration:"250ms"}).afterClosed()}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Ct.eN),e.LFG(Z.uw))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function dc(n,i){1&n&&(e.TgZ(0,"p",20),e._uU(1,"Choose the Schedule to edit"),e.qZA())}function pc(n,i){if(1&n&&(e.TgZ(0,"div",17),e.YNc(1,dc,2,0,"p",18),e._UZ(2,"p-menubar",19),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.selectedSchedule),e.xp6(1),e.ekj("disabled",!t.selectedSchedule),e.Q6J("model",t.menuItems)}}function uc(n,i){1&n&&(e.TgZ(0,"tr")(1,"th",21),e._uU(2,"#"),e.qZA(),e.TgZ(3,"th",22),e._uU(4,"ID"),e.qZA(),e.TgZ(5,"th",23),e._uU(6,"Description"),e.qZA()())}function fc(n,i){if(1&n&&(e.TgZ(0,"tr",24)(1,"td",25),e._uU(2),e.qZA(),e.TgZ(3,"td",22),e._uU(4),e.qZA(),e.TgZ(5,"td",23),e._uU(6),e.qZA()()),2&n){const t=i.$implicit,r=i.rowIndex;e.Q6J("pSelectableRow",t),e.xp6(2),e.Oqu(r+1),e.xp6(2),e.Oqu(t.id),e.xp6(2),e.Oqu(t.description)}}function mc(n,i){1&n&&e._UZ(0,"i",29)}function hc(n,i){1&n&&(e.TgZ(0,"span"),e._uU(1,"No Records Found"),e.qZA())}function gc(n,i){if(1&n&&(e.TgZ(0,"tr")(1,"td",26),e.YNc(2,mc,1,0,"i",27),e.YNc(3,hc,2,0,"span",28),e.qZA()()),2&n){const t=e.oxw();e.xp6(1),e.uIk("colspan",7),e.xp6(1),e.Q6J("ngIf",t.isLoading),e.xp6(1),e.Q6J("ngIf",!t.isLoading)}}function vc(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",30),e.NdJ("click",function(){e.CHM(t),e.oxw();const o=e.MAs(12);return e.KtG(o.paginator=!1)}),e._uU(1,"All "),e.qZA()}}function _c(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",31)(1,"p-button",30),e.NdJ("click",function(){e.CHM(t),e.oxw();const o=e.MAs(12);return e.KtG(o.paginator=!0)}),e._uU(2," Return pagination "),e.qZA()()}}let yc=(()=>{class n{constructor(t,r){this.crmSchedulesService=t,this.modalService=r,this.menuItems=[{label:"Selected Schedule",items:[{label:"Edit",icon:"pi pi-pencil",command:()=>this.onEditSchedule()},{label:"Remove",icon:"pi pi-trash",command:()=>this.onRemoveSchedule()}]}],this.destroy$=new L.x,this.isLoading=!0,this.schedules=[]}ngOnInit(){this.getSchedules()}getSchedules(){this.crmSchedulesService.get().pipe((0,J.R)(this.destroy$)).subscribe(t=>{this.schedules=t,this.isLoading=!1})}onAddSchedule(){this.crmSchedulesService.createEditScheduleModal("create").subscribe(t=>{t&&(this.schedules.unshift(t),this.renderTable())})}onEditSchedule(){this.crmSchedulesService.createEditScheduleModal("edit",this.selectedSchedule).subscribe(t=>{if(t){const r=this.schedules.findIndex(o=>o.id===this.selectedSchedule.id);this.schedules[r]=t,this.selectedSchedule=this.schedules[r],this.renderTable()}})}onRemoveSchedule(){this.modalService.confirm("danger").subscribe(t=>{t&&this.crmSchedulesService.delete(this.selectedSchedule).subscribe(()=>{const r=this.schedules.findIndex(o=>o.id===this.selectedSchedule.id);this.schedules.splice(r,1),this.selectedSchedule=null,this.renderTable()})})}renderTable(){this.schedules=this.schedules.map(t=>t)}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Cr),e.Y36(ne.Z))},n.\u0275cmp=e.Xpm({type:n,selectors:[["pek-crm-schedules"]],decls:19,vars:8,consts:[[1,"page"],[1,"page__header"],[1,"page__title"],[3,"module","isActive"],[1,"page__tools"],["pButton","","type","button","icon","pi pi-plus","label","New Schedule",3,"click"],[1,"page__content"],[1,"page__card"],[1,"page__table"],["selectionMode","single","scrollHeight","calc(100vh - 18.8rem)",3,"scrollable","paginator","rows","selection","value","selectionChange"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pTemplate","paginatorright"],["class","paginator-return-pagination",4,"ngIf"],[1,"d-flex"],["class","subtitle",4,"ngIf"],[1,"ml-auto",3,"model"],[1,"subtitle"],[1,"index-header","text-center",2,"width","5%"],[1,"text-center",2,"width","10%"],[1,"text-center",2,"width","85%"],[3,"pSelectableRow"],[1,"text-center",2,"width","5%"],[1,"text-center","p-4"],["class","pi pi-spin pi-spinner","style","font-size: 2.25rem",4,"ngIf"],[4,"ngIf"],[1,"pi","pi-spin","pi-spinner",2,"font-size","2.25rem"],["type","button","styleClass","p-button-text",3,"click"],[1,"paginator-return-pagination"]],template:function(t,r){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"pek-module-icon",3),e.TgZ(4,"h1"),e._uU(5,"Schedules"),e.qZA()(),e.TgZ(6,"div",4)(7,"button",5),e.NdJ("click",function(){return r.onAddSchedule()}),e.qZA()()()(),e.TgZ(8,"div",6)(9,"div",7)(10,"div",8)(11,"p-table",9,10),e.NdJ("selectionChange",function(a){return r.selectedSchedule=a}),e.YNc(13,pc,3,4,"ng-template",11),e.YNc(14,uc,7,0,"ng-template",12),e.YNc(15,fc,7,4,"ng-template",13),e.YNc(16,gc,4,3,"ng-template",14),e.YNc(17,vc,2,0,"ng-template",15),e.qZA()(),e.YNc(18,_c,3,0,"div",16),e.qZA()()),2&t){const o=e.MAs(12);e.xp6(3),e.Q6J("module","contacts-events")("isActive",!0),e.xp6(8),e.Q6J("scrollable",!0)("paginator",r.schedules.length>0)("rows",10)("selection",r.selectedSchedule)("value",r.schedules),e.xp6(7),e.Q6J("ngIf",!o.paginator&&!r.isLoading&&r.schedules.length>0)}},dependencies:[w.O5,P.Hq,P.zx,K.jx,re.nm,Y.iA,Y.Ei,oe.D]}),n})();var Bn=x(8920);let Cc=(()=>{class n{constructor(t){this.httpClient=t,this.API_URL=ue.N.base_url+ue.N.business_partners_url}getForPagination(t){t.push({name:"paginated",value:!0});let r="";return t&&t.forEach((o,a)=>{r+=a>0?"&"+o.name+"="+o.value:"?"+o.name+"="+o.value}),this.httpClient.get(this.API_URL+"events_reports/get_reports_events/"+r).pipe((0,z.U)(o=>o.data))}get(t){let r="";return t&&t.forEach((o,a)=>{r+=a>0?"&"+o.name+"="+o.value:"?"+o.name+"="+o.value}),this.httpClient.get(this.API_URL+"events_reports/get_reports_events/"+r).pipe((0,z.U)(o=>o.data))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Ct.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Je=x(1814),Yn=x(1191),Jt=x(6767),br=x(180),Er=x(7385),Bt=x(6242),bc=x(9258),Ec=x(8666);function Tc(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"p-multiSelect",3),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedEventType=o)})("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.onSelectEventTypes(o))}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("options",t.eventTypes)("ngModel",t.selectedEventType)("placeholder",t.isExternal?"Select External Type":"Select Event Types")("showClear",!0)}}function xc(n,i){1&n&&(e.TgZ(0,"div",4),e._UZ(1,"i",5),e.qZA())}let Tr=(()=>{class n{constructor(t,r){this.crmEmployeeService=t,this.eventTypesService=r,this.isInner=!1,this.isExternal=!1,this.currentEventTypesIds=[],this.currentEventTypes=[],this.selectEventTypes=new e.vpe,this.isLoading=!0,this.eventTypes=[],this.selectedEventType=[],this.destroy$=new L.x}ngOnInit(){this.eventTypesService.get([],!1).pipe((0,J.R)(this.destroy$)).subscribe(t=>{this.eventTypes=t,this.isInner&&(this.eventTypes=this.eventTypes.filter(r=>r.is_inner)),this.isExternal&&(this.eventTypes=this.eventTypes.filter(r=>!r.is_inner)),this.findEventTypes(),this.isLoading=!1})}ngOnChanges(t){("currentEmployeeIds"in t||"currentEventTypes"in t)&&(this.selectedEventType=[],this.findEventTypes())}onSelectEventTypes(t){this.selectEventTypes.emit(t)}findEventTypes(){this.currentEventTypesIds.length>0&&this.currentEventTypesIds.forEach(t=>{const r=this.eventTypes.find(o=>o.id===t);r&&this.selectedEventType.push(r)}),this.currentEventTypes&&this.selectedEventType.push(...this.currentEventTypes)}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Hn.R),e.Y36(qn.B))},n.\u0275cmp=e.Xpm({type:n,selectors:[["pek-crm-multi-event-types-picker"]],inputs:{isInner:"isInner",isExternal:"isExternal",currentEventTypesIds:"currentEventTypesIds",currentEventTypes:"currentEventTypes"},outputs:{selectEventTypes:"selectEventTypes"},features:[e.TTD],decls:4,vars:2,consts:[[1,"crm-multi-event-types-picker"],["optionLabel","name","optionValue","id",3,"options","ngModel","placeholder","showClear","ngModelChange",4,"ngIf","ngIfElse"],["spinner",""],["optionLabel","name","optionValue","id",3,"options","ngModel","placeholder","showClear","ngModelChange"],[1,"spinner-input"],[1,"pi","pi-spin","pi-spinner",2,"font-size","1.25rem"]],template:function(t,r){if(1&t&&(e.TgZ(0,"div",0),e.YNc(1,Tc,1,4,"p-multiSelect",1),e.YNc(2,xc,2,0,"ng-template",null,2,e.W1O),e.qZA()),2&t){const o=e.MAs(3);e.xp6(1),e.Q6J("ngIf",!r.isLoading)("ngIfElse",o)}},dependencies:[w.O5,E.JJ,E.On,et.NU]}),n})();const Ac=["dt"],Sc=["paginator"];function wc(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",13)(1,"label"),e._uU(2,"Last Events Date Start From"),e.qZA(),e.TgZ(3,"p-calendar",39),e.NdJ("ngModelChange",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.filterByLastStartDate())}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("firstDayOfWeek",1)("showButtonBar",!0)("readonlyInput",!0)("maxDate",t.lastBeforeStartDateSelected?t.lastBeforeStartDateSelected:t.dateRangeLimit)}}function Dc(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",13)(1,"label"),e._uU(2,"Last Events Date End From"),e.qZA(),e.TgZ(3,"p-calendar",40),e.NdJ("ngModelChange",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.filterByLastEndDate())}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("firstDayOfWeek",1)("showButtonBar",!0)("readonlyInput",!0)("maxDate",t.lastBeforeEndDateSelected?t.lastBeforeEndDateSelected:t.dateRangeLimit)}}function kc(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",13)(1,"label"),e._uU(2,"Feature Events Date Start From"),e.qZA(),e.TgZ(3,"p-calendar",41),e.NdJ("ngModelChange",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.filterByFeatureStartDate())}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("firstDayOfWeek",1)("showButtonBar",!0)("readonlyInput",!0)("minDate",t.dateRangeLimit)("maxDate",t.featureBeforeStartDateSelected?t.featureBeforeStartDateSelected:null)}}function Zc(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",13)(1,"label"),e._uU(2,"Feature Events Date End From"),e.qZA(),e.TgZ(3,"p-calendar",42),e.NdJ("ngModelChange",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.filterByFeatureEndDate())}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("firstDayOfWeek",1)("showButtonBar",!0)("readonlyInput",!0)("minDate",t.dateRangeLimit)("maxDate",t.featureBeforeEndDateSelected?t.featureBeforeEndDateSelected:null)}}function Rc(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",13)(1,"label"),e._uU(2,"Last Events Date Start To"),e.qZA(),e.TgZ(3,"p-calendar",43),e.NdJ("ngModelChange",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.filterByLastStartDate())}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("firstDayOfWeek",1)("showButtonBar",!0)("readonlyInput",!0)("maxDate",t.dateRangeLimit)("minDate",t.lastAfterStartDateSelected)}}function Mc(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",13)(1,"label"),e._uU(2,"Last Events Date End To"),e.qZA(),e.TgZ(3,"p-calendar",44),e.NdJ("ngModelChange",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.filterByLastEndDate())}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("firstDayOfWeek",1)("showButtonBar",!0)("readonlyInput",!0)("maxDate",t.dateRangeLimit)("minDate",t.lastAfterEndDateSelected?t.lastAfterEndDateSelected:t.dateRangeLimit)}}function Ic(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",13)(1,"label"),e._uU(2,"Feature Events Date Start To"),e.qZA(),e.TgZ(3,"p-calendar",45),e.NdJ("ngModelChange",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.filterByFeatureStartDate())}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("firstDayOfWeek",1)("showButtonBar",!0)("readonlyInput",!0)("minDate",t.featureAfterStartDateSelected?t.featureAfterStartDateSelected:t.dateRangeLimit)}}function Pc(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",13)(1,"label"),e._uU(2,"Feature Events Date End To"),e.qZA(),e.TgZ(3,"p-calendar",46),e.NdJ("ngModelChange",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.filterByFeatureEndDate())}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("firstDayOfWeek",1)("showButtonBar",!0)("readonlyInput",!0)("minDate",t.featureAfterEndDateSelected?t.featureAfterEndDateSelected:t.dateRangeLimit)}}function Nc(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",13)(1,"label"),e._uU(2,"Intersections Last Events Dates"),e.qZA(),e.TgZ(3,"p-checkbox",47),e.NdJ("onChange",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.search())}),e.qZA()()}2&n&&(e.xp6(3),e.Q6J("binary",!0))}function Fc(n,i){1&n&&(e.TgZ(0,"div",13)(1,"label"),e._uU(2,"\xa0"),e.qZA(),e._UZ(3,"div",48),e.qZA())}function Uc(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",13)(1,"label"),e._uU(2,"Intersections Last Feature Dates"),e.qZA(),e.TgZ(3,"p-checkbox",49),e.NdJ("onChange",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.search())}),e.qZA()()}2&n&&(e.xp6(3),e.Q6J("binary",!0))}function Oc(n,i){if(1&n&&(e.TgZ(0,"div",61),e._UZ(1,"div",62),e.TgZ(2,"div",12)(3,"div",8),e._UZ(4,"p-menubar",63),e.qZA()()()),2&n){const t=e.oxw(2);e.xp6(4),e.ekj("disabled",!t.selectedEventCompany),e.Q6J("model",t.eventCompanyMenuItems)}}function qc(n,i){1&n&&(e.TgZ(0,"span"),e._uU(1,"(By Default: Last 10 days)"),e.qZA())}function Hc(n,i){1&n&&(e.TgZ(0,"span"),e._uU(1,"(By Default: Next 1 Year)"),e.qZA())}function Lc(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"tr",64)(1,"th",65),e._uU(2,"#"),e.qZA(),e.TgZ(3,"th",66),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.sorting(o.searchForm.get("order_by_name").value,"order_by_name"))}),e._uU(4," Company "),e._UZ(5,"pek-sort-icon",67),e.qZA()(),e.TgZ(6,"tr",64)(7,"th",68),e._uU(8,"Last Event "),e.YNc(9,qc,2,0,"span",69),e.qZA(),e.TgZ(10,"th",70),e._uU(11,"Future Event "),e.YNc(12,Hc,2,0,"span",69),e.qZA()(),e.TgZ(13,"tr")(14,"th",71),e._uU(15,"Name"),e.qZA(),e.TgZ(16,"th",72),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return o.sorting(o.searchForm.get("order_by_date").value,"order_by_date",!1),e.KtG(o.removeSoring("order_by_date_end"))}),e._uU(17," Start Date "),e._UZ(18,"pek-sort-icon",67),e.qZA(),e.TgZ(19,"th",72),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return o.sorting(o.searchForm.get("order_by_date_end").value,"order_by_date_end",!1),e.KtG(o.removeSoring("order_by_date"))}),e._uU(20," End Date "),e._UZ(21,"pek-sort-icon",67),e.qZA(),e.TgZ(22,"th",73),e._uU(23,"Comment"),e.qZA(),e.TgZ(24,"th",73),e._uU(25,"Status"),e.qZA(),e.TgZ(26,"th",74),e._uU(27,"Name"),e.qZA(),e.TgZ(28,"th",75),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return o.sorting(o.searchForm.get("order_by_next_event_date").value,"order_by_next_event_date",!1),e.KtG(o.removeSoring("order_by_next_event_date_end"))}),e._uU(29," Start Date "),e._UZ(30,"pek-sort-icon",67),e.qZA(),e.TgZ(31,"th",76),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return o.sorting(o.searchForm.get("order_by_next_event_date_end").value,"order_by_next_event_date_end",!1),e.KtG(o.removeSoring("order_by_next_event_date"))}),e._uU(32," End Date "),e._UZ(33,"pek-sort-icon",67),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(5),e.Q6J("value",t.searchForm.get("order_by_name").value),e.xp6(4),e.Q6J("ngIf",t.isLastDateDefaultFilterSelected),e.xp6(3),e.Q6J("ngIf",t.isNextDateDefaultFilterSelected),e.xp6(6),e.Q6J("value",t.searchForm.get("order_by_date").value),e.xp6(3),e.Q6J("value",t.searchForm.get("order_by_date_end").value),e.xp6(9),e.Q6J("value",t.searchForm.get("order_by_next_event_date").value),e.xp6(3),e.Q6J("value",t.searchForm.get("order_by_next_event_date_end").value)}}function Jc(n,i){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=i.$implicit;e.xp6(1),e.hij("",t.name,", ")}}function Bc(n,i){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.country.name)}}function Yc(n,i){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.region.name)}}function Qc(n,i){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.sub_region.name)}}function Vc(n,i){if(1&n&&(e.TgZ(0,"p")(1,"i"),e._uU(2),e.qZA()()),2&n){const t=i.$implicit;e.xp6(2),e.Oqu(t.name)}}function zc(n,i){1&n&&e._UZ(0,"i",99)}function Gc(n,i){1&n&&e._UZ(0,"i",100)}function Wc(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",102),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw(2).$implicit,l=e.oxw(2);return e.KtG(l.selectedReport(a,s))}),e.TgZ(1,"a",81),e._uU(2),e.qZA()()}if(2&n){const t=i.$implicit,r=e.oxw(4);e.ekj("impression-neutral",r.searchForm.get("enableColors").value&&t.is_done&&t.impression===r.Impression.NEUTRAL)("impression-positive",r.searchForm.get("enableColors").value&&t.is_done&&t.impression===r.Impression.POSITIVE)("impression-negative",r.searchForm.get("enableColors").value&&t.is_done&&t.impression===r.Impression.NEGATIVE)("is-selected",r.selectedEventCompany&&t.event_id===r.selectedEventCompany.id),e.Q6J("pTooltip",t?t.description:"No Description"),e.xp6(1),e.Q6J("routerLink","/crm/events/"+(null==t?null:t.id)),e.xp6(1),e.Oqu(null==t?null:t.event_name)}}function jc(n,i){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Wc,3,11,"div",101),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",t.last_events)}}function $c(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",103),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw(2).$implicit,l=e.oxw(2);return e.KtG(l.selectedReport(a,s))}),e._uU(1),e.ALo(2,"date"),e.qZA()}if(2&n){const t=i.$implicit,r=e.oxw(4);e.ekj("impression-neutral",r.searchForm.get("enableColors").value&&t.is_done&&t.impression===r.Impression.NEUTRAL)("impression-positive",r.searchForm.get("enableColors").value&&t.is_done&&t.impression===r.Impression.POSITIVE)("impression-negative",r.searchForm.get("enableColors").value&&t.is_done&&t.impression===r.Impression.NEGATIVE)("is-selected",r.selectedEventCompany&&t.event_id===r.selectedEventCompany.id),e.xp6(1),e.hij(" ",e.xi3(2,9,null==t?null:t.start,"dd/MM/yyyy, HH:mm")," ")}}function Kc(n,i){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,$c,3,12,"div",97),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",t.last_events)}}function Xc(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",103),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw(2).$implicit,l=e.oxw(2);return e.KtG(l.selectedReport(a,s))}),e._uU(1),e.ALo(2,"date"),e.qZA()}if(2&n){const t=i.$implicit,r=e.oxw(4);e.ekj("impression-neutral",r.searchForm.get("enableColors").value&&t.is_done&&t.impression===r.Impression.NEUTRAL)("impression-positive",r.searchForm.get("enableColors").value&&t.is_done&&t.impression===r.Impression.POSITIVE)("impression-negative",r.searchForm.get("enableColors").value&&t.is_done&&t.impression===r.Impression.NEGATIVE)("is-selected",r.selectedEventCompany&&t.event_id===r.selectedEventCompany.id),e.xp6(1),e.hij(" ",e.xi3(2,9,null==t?null:t.end,"dd/MM/yyyy, HH:mm")," ")}}function ed(n,i){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Xc,3,12,"div",97),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",t.last_events)}}function td(n,i){if(1&n&&(e.TgZ(0,"pek-hover-detailed-info-component",106)(1,"span",107),e._uU(2),e.qZA()()),2&n){const t=e.oxw().$implicit;e.Q6J("moveLeft",20),e.xp6(2),e.hij(" ",null==t?null:t.event_comment," ")}}function nd(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",103),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw(2).$implicit,l=e.oxw(2);return e.KtG(l.selectedReport(a,s))}),e.TgZ(1,"div",104)(2,"span"),e._uU(3),e.qZA(),e.YNc(4,td,3,2,"pek-hover-detailed-info-component",105),e.qZA()()}if(2&n){const t=i.$implicit,r=e.oxw(4);e.ekj("impression-neutral",r.searchForm.get("enableColors").value&&t.is_done&&t.impression===r.Impression.NEUTRAL)("impression-positive",r.searchForm.get("enableColors").value&&t.is_done&&t.impression===r.Impression.POSITIVE)("impression-negative",r.searchForm.get("enableColors").value&&t.is_done&&t.impression===r.Impression.NEGATIVE)("is-selected",r.selectedEventCompany&&t.event_id===r.selectedEventCompany.id),e.xp6(3),e.hij(" ",r.getSmallComment(null==t?null:t.event_comment)," "),e.xp6(1),e.Q6J("ngIf",r.getSmallComment(null==t?null:t.event_comment))}}function id(n,i){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,nd,5,10,"div",97),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",t.last_events)}}function rd(n,i){1&n&&(e.ynx(0),e._uU(1,"Done"),e.BQk())}function od(n,i){1&n&&(e.ynx(0),e._uU(1,"Not Done"),e.BQk())}function ad(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",103),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw(2).$implicit,l=e.oxw(2);return e.KtG(l.selectedReport(a,s))}),e.TgZ(1,"span",108),e.YNc(2,rd,2,0,"ng-container",109),e.YNc(3,od,2,0,"ng-container",109),e.qZA()()}if(2&n){const t=i.$implicit,r=e.oxw(4);e.ekj("impression-neutral",r.searchForm.get("enableColors").value&&t.is_done&&t.impression===r.Impression.NEUTRAL)("impression-positive",r.searchForm.get("enableColors").value&&t.is_done&&t.impression===r.Impression.POSITIVE)("impression-negative",r.searchForm.get("enableColors").value&&t.is_done&&t.impression===r.Impression.NEGATIVE)("is-selected",r.selectedEventCompany&&t.event_id===r.selectedEventCompany.id),e.xp6(1),e.Q6J("ngSwitch",null==t?null:t.is_done),e.xp6(1),e.Q6J("ngSwitchCase",!0),e.xp6(1),e.Q6J("ngSwitchCase",!1)}}function sd(n,i){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,ad,4,11,"div",97),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",t.last_events)}}function ld(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",110),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw().$implicit,l=e.oxw(2);return e.KtG(l.selectedReport(a,s))}),e.TgZ(1,"a",111),e._uU(2),e.qZA()()}if(2&n){const t=i.$implicit,r=e.oxw(3);e.ekj("impression-neutral",r.searchForm.get("enableColors").value&&t.is_done&&t.impression===r.Impression.NEUTRAL)("impression-positive",r.searchForm.get("enableColors").value&&t.is_done&&t.impression===r.Impression.POSITIVE)("impression-negative",r.searchForm.get("enableColors").value&&t.is_done&&t.impression===r.Impression.NEGATIVE)("is-selected",r.selectedEventCompany&&t.event_id===r.selectedEventCompany.id),e.xp6(1),e.Q6J("routerLink","/crm/events/"+(null==t?null:t.id))("pTooltip",t?t.description:"No Description"),e.xp6(1),e.hij(" ",null==t?null:t.event_name," ")}}function cd(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",103),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw().$implicit,l=e.oxw(2);return e.KtG(l.selectedReport(a,s))}),e._uU(1),e.ALo(2,"date"),e.qZA()}if(2&n){const t=i.$implicit,r=e.oxw(3);e.ekj("impression-neutral",r.searchForm.get("enableColors").value&&t.is_done&&t.impression===r.Impression.NEUTRAL)("impression-positive",r.searchForm.get("enableColors").value&&t.is_done&&t.impression===r.Impression.POSITIVE)("impression-negative",r.searchForm.get("enableColors").value&&t.is_done&&t.impression===r.Impression.NEGATIVE)("is-selected",r.selectedEventCompany&&t.event_id===r.selectedEventCompany.id),e.xp6(1),e.hij(" ",e.xi3(2,9,null==t?null:t.start,"dd/MM/yyyy, HH:mm")," ")}}function dd(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",103),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw().$implicit,l=e.oxw(2);return e.KtG(l.selectedReport(a,s))}),e._uU(1),e.ALo(2,"date"),e.qZA()}if(2&n){const t=i.$implicit,r=e.oxw(3);e.ekj("impression-neutral",r.searchForm.get("enableColors").value&&t.is_done&&t.impression===r.Impression.NEUTRAL)("impression-positive",r.searchForm.get("enableColors").value&&t.is_done&&t.impression===r.Impression.POSITIVE)("impression-negative",r.searchForm.get("enableColors").value&&t.is_done&&t.impression===r.Impression.NEGATIVE)("is-selected",r.selectedEventCompany&&t.event_id===r.selectedEventCompany.id),e.xp6(1),e.hij(" ",e.xi3(2,9,null==t?null:t.end,"dd/MM/yyyy, HH:mm")," ")}}function pd(n,i){if(1&n&&(e.TgZ(0,"tr")(1,"td",77)(2,"div",78),e._uU(3),e.qZA()(),e.TgZ(4,"td",79)(5,"div",80)(6,"span")(7,"a",81),e._uU(8),e.qZA()(),e.TgZ(9,"pek-hover-detailed-info-component")(10,"div",82)(11,"div",26)(12,"div",83)(13,"h4"),e._uU(14,"Name: "),e.TgZ(15,"i"),e._uU(16),e.qZA()(),e.TgZ(17,"h4"),e._uU(18," Category: "),e.TgZ(19,"i"),e.YNc(20,Jc,2,1,"ng-container",84),e.qZA()(),e.TgZ(21,"h4"),e._uU(22,"Address: "),e.TgZ(23,"i"),e._uU(24),e.qZA()(),e.TgZ(25,"h4"),e._uU(26,"Email: 22 "),e.TgZ(27,"i"),e._uU(28),e.qZA()(),e.TgZ(29,"h4"),e._uU(30,"Phone Number: "),e.TgZ(31,"i"),e._uU(32),e.qZA()(),e.TgZ(33,"h4"),e._uU(34,"Website: "),e.TgZ(35,"i")(36,"a",85),e._uU(37),e.qZA()()(),e.TgZ(38,"h4"),e._uU(39,"Tax Number: "),e.TgZ(40,"i"),e._uU(41),e.qZA()(),e.TgZ(42,"h4"),e._uU(43,"Register Number: "),e.TgZ(44,"i"),e._uU(45),e.qZA()()(),e.TgZ(46,"div",86)(47,"h4"),e._uU(48,"Nomenclature: "),e.TgZ(49,"i"),e._uU(50),e.qZA()(),e.TgZ(51,"h4"),e._uU(52,"Description: "),e.TgZ(53,"i"),e._uU(54),e.qZA()(),e.TgZ(55,"h4"),e._uU(56," Country: "),e.YNc(57,Bc,2,1,"span",69),e.qZA(),e.TgZ(58,"h4"),e._uU(59," Region: "),e.YNc(60,Yc,2,1,"span",69),e.qZA(),e.TgZ(61,"h4"),e._uU(62," Sub Region: "),e.YNc(63,Qc,2,1,"span",69),e.qZA(),e.TgZ(64,"h4"),e._uU(65,"Connected Companies"),e.qZA(),e.YNc(66,Vc,3,1,"p",84),e.TgZ(67,"h4"),e._uU(68,"Dont have VAT: "),e.YNc(69,zc,1,0,"i",87),e.YNc(70,Gc,1,0,"i",88),e.qZA()()()()()()(),e.TgZ(71,"td",89)(72,"div",90),e.YNc(73,jc,2,1,"div",69),e.qZA()(),e.TgZ(74,"td",91)(75,"div",92),e.YNc(76,Kc,2,1,"div",69),e.qZA()(),e.TgZ(77,"td",91)(78,"div",92),e.YNc(79,ed,2,1,"div",69),e.qZA()(),e.TgZ(80,"td",93)(81,"div",92),e.YNc(82,id,2,1,"div",69),e.qZA()(),e.TgZ(83,"td",91)(84,"div",92),e.YNc(85,sd,2,1,"div",69),e.qZA()(),e.TgZ(86,"td",94)(87,"div",90)(88,"div"),e.YNc(89,ld,3,11,"div",95),e.qZA()()(),e.TgZ(90,"td",96)(91,"div",92)(92,"div"),e.YNc(93,cd,3,12,"div",97),e.qZA()()(),e.TgZ(94,"td",98)(95,"div",92)(96,"div"),e.YNc(97,dd,3,12,"div",97),e.qZA()()()()),2&n){const t=i.$implicit,r=i.rowIndex,o=e.oxw(2);e.xp6(1),e.ekj("impression-neutral",o.searchForm.get("enableColors").value&&(null==t?null:t.lastEventImpressionByFilter)===o.Impression.NEUTRAL)("impression-positive",o.searchForm.get("enableColors").value&&(null==t?null:t.lastEventImpressionByFilter)===o.Impression.POSITIVE)("impression-negative",o.searchForm.get("enableColors").value&&(null==t?null:t.lastEventImpressionByFilter)===o.Impression.NEGATIVE),e.xp6(2),e.hij(" ",10*(o.searchForm.get("page").value-1)+r+1," "),e.xp6(1),e.ekj("impression-neutral",o.searchForm.get("enableColors").value&&(null==t?null:t.lastEventImpressionByFilter)===o.Impression.NEUTRAL)("impression-positive",o.searchForm.get("enableColors").value&&(null==t?null:t.lastEventImpressionByFilter)===o.Impression.POSITIVE)("impression-negative",o.searchForm.get("enableColors").value&&(null==t?null:t.lastEventImpressionByFilter)===o.Impression.NEGATIVE),e.xp6(3),e.Q6J("routerLink","/crm/business-partners/company-page/"+t.id),e.xp6(1),e.hij(" ",t.name," "),e.xp6(8),e.Oqu(t.name),e.xp6(4),e.Q6J("ngForOf",t.categories),e.xp6(4),e.Oqu(t.address),e.xp6(4),e.Oqu(t.email),e.xp6(4),e.Oqu(t.phone_number),e.xp6(4),e.Q6J("href",t.website,e.LSH),e.xp6(1),e.Oqu(t.website),e.xp6(4),e.Oqu(t.tax_number),e.xp6(4),e.Oqu(t.registration_number),e.xp6(5),e.Oqu(t.supplier_nomenclature),e.xp6(4),e.Oqu(t.comment),e.xp6(3),e.Q6J("ngIf",t.country),e.xp6(3),e.Q6J("ngIf",t.region),e.xp6(3),e.Q6J("ngIf",t.sub_region),e.xp6(3),e.Q6J("ngForOf",t.linked_companies),e.xp6(3),e.Q6J("ngIf",t.has_not_vat),e.xp6(1),e.Q6J("ngIf",!t.has_not_vat),e.xp6(2),e.ekj("event-item-col",t.last_events.length>1),e.xp6(1),e.Q6J("ngIf",t.last_events&&t.last_events.length>0),e.xp6(2),e.ekj("event-item-col",t.last_events.length>1),e.xp6(1),e.Q6J("ngIf",t.last_events&&t.last_events.length>0),e.xp6(2),e.ekj("event-item-col",t.last_events.length>1),e.xp6(1),e.Q6J("ngIf",t.last_events&&t.last_events.length>0),e.xp6(2),e.ekj("event-item-col",t.last_events.length>1),e.xp6(1),e.Q6J("ngIf",t.last_events&&t.last_events.length>0),e.xp6(2),e.ekj("event-item-col",t.last_events.length>1),e.xp6(1),e.Q6J("ngIf",t.last_events&&t.last_events.length>0),e.xp6(2),e.ekj("event-item-col",t.next_events.length>1),e.xp6(2),e.Q6J("ngForOf",t.next_events),e.xp6(4),e.Q6J("ngForOf",t.next_events),e.xp6(4),e.Q6J("ngForOf",t.next_events)}}function ud(n,i){1&n&&e._UZ(0,"i",114)}function fd(n,i){1&n&&(e.TgZ(0,"span"),e._uU(1,"No Records Found"),e.qZA())}function md(n,i){if(1&n&&(e.TgZ(0,"tr")(1,"td",112),e.YNc(2,ud,1,0,"i",113),e.YNc(3,fd,2,0,"span",69),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(1),e.uIk("colspan",12),e.xp6(1),e.Q6J("ngIf",t.isLoading),e.xp6(1),e.Q6J("ngIf",!t.isLoading)}}function hd(n,i){1&n&&(e.TgZ(0,"div",115),e._UZ(1,"i",114),e.qZA())}function gd(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",116)(1,"p-paginator",117,118),e.NdJ("onPageChange",function(o){e.CHM(t);const a=e.oxw(2);return e.KtG(a.paginate(o))}),e.qZA(),e.TgZ(3,"p-button",119),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.onShowAll())}),e._uU(4," All "),e.qZA()()}if(2&n){const t=e.oxw(2);e.ekj("hidden",0===(null==t.eventsReports?null:t.eventsReports.length)),e.xp6(1),e.Q6J("rows",10)("totalRecords",t.reportsCount)}}function vd(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",120)(1,"p-button",121),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.onShowPartial())}),e._uU(2," Return pagination "),e.qZA()()}}const xr=function(){return["name"]};function _d(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",50),e.YNc(1,Oc,5,3,"div",51),e.TgZ(2,"div",52)(3,"p-table",53,54),e.NdJ("selectionChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedEventsReport=o)}),e.YNc(5,Lc,34,7,"ng-template",55),e.YNc(6,pd,98,52,"ng-template",56),e.YNc(7,md,4,3,"ng-template",57),e.qZA(),e.YNc(8,hd,2,0,"div",58),e.qZA(),e.YNc(9,gd,5,4,"div",59),e.YNc(10,vd,3,0,"div",60),e.qZA()}if(2&n){const t=e.oxw();e.ekj("menu-opened",t.selectedEventCompany),e.xp6(1),e.Q6J("ngIf",t.selectedEventCompany),e.xp6(2),e.Q6J("rows",10)("value",t.eventsReports)("globalFilterFields",e.DdM(10,xr))("selection",t.selectedEventsReport),e.xp6(5),e.Q6J("ngIf",t.isLoading),e.xp6(1),e.Q6J("ngIf",!t.isShowAll),e.xp6(1),e.Q6J("ngIf",t.isShowAll)}}function yd(n,i){if(1&n&&(e.TgZ(0,"div",61),e._UZ(1,"div",62),e.TgZ(2,"div",12)(3,"div",8),e._UZ(4,"p-menubar",63),e.qZA()()()),2&n){const t=e.oxw(2);e.xp6(4),e.ekj("disabled",!t.selectedEventCompany),e.Q6J("model",t.eventCompanyMenuItems)}}function Cd(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"tr",64)(1,"th",65),e._uU(2,"#"),e.qZA(),e.TgZ(3,"th",66),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.sorting(o.searchForm.get("order_by_name").value,"order_by_name"))}),e._uU(4," Company "),e._UZ(5,"pek-sort-icon",67),e.qZA()(),e.TgZ(6,"tr",64)(7,"th",68),e._uU(8,"Last Event"),e.qZA(),e.TgZ(9,"th",70),e._uU(10,"Future Event "),e.qZA()(),e.TgZ(11,"tr")(12,"th",71),e._uU(13,"Name"),e.qZA(),e.TgZ(14,"th",72),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return o.sorting(o.searchForm.get("order_by_date").value,"order_by_date",!1),e.KtG(o.removeSoring("order_by_date_end"))}),e._uU(15," Start Date "),e._UZ(16,"pek-sort-icon",67),e.qZA(),e.TgZ(17,"th",72),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return o.sorting(o.searchForm.get("order_by_date_end").value,"order_by_date_end",!1),e.KtG(o.removeSoring("order_by_date"))}),e._uU(18," End Date "),e._UZ(19,"pek-sort-icon",67),e.qZA(),e.TgZ(20,"th",73),e._uU(21,"Comment"),e.qZA(),e.TgZ(22,"th",73),e._uU(23,"Status"),e.qZA(),e.TgZ(24,"th",74),e._uU(25,"Name"),e.qZA(),e.TgZ(26,"th",75),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return o.sorting(o.searchForm.get("order_by_next_event_date").value,"order_by_next_event_date",!1),e.KtG(o.removeSoring("order_by_next_event_date_end"))}),e._uU(27," Start Date "),e._UZ(28,"pek-sort-icon",67),e.qZA(),e.TgZ(29,"th",76),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return o.sorting(o.searchForm.get("order_by_next_event_date_end").value,"order_by_next_event_date_end",!1),e.KtG(o.removeSoring("order_by_next_event_date"))}),e._uU(30," End Date "),e._UZ(31,"pek-sort-icon",67),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(5),e.Q6J("value",t.searchForm.get("order_by_name").value),e.xp6(11),e.Q6J("value",t.searchForm.get("order_by_date").value),e.xp6(3),e.Q6J("value",t.searchForm.get("order_by_date_end").value),e.xp6(9),e.Q6J("value",t.searchForm.get("order_by_next_event_date").value),e.xp6(3),e.Q6J("value",t.searchForm.get("order_by_next_event_date_end").value)}}function bd(n,i){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=i.$implicit;e.xp6(1),e.hij("",t.name,", ")}}function Ed(n,i){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.country.name)}}function Td(n,i){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.region.name)}}function xd(n,i){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.sub_region.name)}}function Ad(n,i){if(1&n&&(e.TgZ(0,"p")(1,"i"),e._uU(2),e.qZA()()),2&n){const t=i.$implicit;e.xp6(2),e.Oqu(t.name)}}function Sd(n,i){1&n&&e._UZ(0,"i",99)}function wd(n,i){1&n&&e._UZ(0,"i",100)}function Dd(n,i){if(1&n&&(e.TgZ(0,"span")(1,"b")(2,"a",81),e._uU(3),e.qZA()()()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.Q6J("routerLink","/crm/events/"+t.root_id),e.xp6(1),e.AsE(" ",t.label," ",t.root_id,"")}}function kd(n,i){if(1&n&&(e.TgZ(0,"span")(1,"b"),e._uU(2),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.hij(" ",t.label," ")}}function Zd(n,i){if(1&n&&(e.TgZ(0,"a",130),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.Q6J("routerLink","/crm/events/"+t.id)("pTooltip",t?t.description:"No Description"),e.xp6(1),e.Oqu(t.event_name)}}function Rd(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",128),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw(3).$implicit,l=e.oxw(2);return e.KtG(l.selectedReport(a,s))}),e.YNc(1,Zd,2,3,"a",129),e.qZA()}if(2&n){const t=i.$implicit,r=e.oxw(5);e.ekj("impression-neutral",r.searchForm.get("enableColors").value&&(null==t?null:t.is_done)&&t.impression===r.Impression.NEUTRAL)("impression-positive",r.searchForm.get("enableColors").value&&(null==t?null:t.is_done)&&t.impression===r.Impression.POSITIVE)("impression-negative",r.searchForm.get("enableColors").value&&(null==t?null:t.is_done)&&t.impression===r.Impression.NEGATIVE)("is-selected",r.selectedEventCompany&&(null==t?null:t.event_id)===r.selectedEventCompany.id),e.xp6(1),e.Q6J("ngIf",t)}}function Md(n,i){if(1&n&&(e.TgZ(0,"div")(1,"div",126),e.YNc(2,Dd,4,3,"span",69),e.YNc(3,kd,3,1,"span",69),e.qZA(),e.YNc(4,Rd,2,9,"div",127),e.qZA()),2&n){const t=i.$implicit,r=i.index;e.Tol(t.root_id>-1?"row-"+r:""),e.xp6(2),e.Q6J("ngIf",t.root_id>-1),e.xp6(1),e.Q6J("ngIf",-1===t.root_id),e.xp6(1),e.Q6J("ngForOf",t.events)}}function Id(n,i){if(1&n&&(e.TgZ(0,"div",124),e.YNc(1,Md,5,5,"div",125),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",t.groupedLastEvents)}}function Pd(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",103),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw(3).$implicit,l=e.oxw(2);return e.KtG(l.selectedReport(a,s))}),e._uU(1),e.ALo(2,"date"),e.qZA()}if(2&n){const t=i.$implicit,r=e.oxw(5);e.ekj("impression-neutral",r.searchForm.get("enableColors").value&&(null==t?null:t.is_done)&&t.impression===r.Impression.NEUTRAL)("impression-positive",r.searchForm.get("enableColors").value&&(null==t?null:t.is_done)&&t.impression===r.Impression.POSITIVE)("impression-negative",r.searchForm.get("enableColors").value&&(null==t?null:t.is_done)&&t.impression===r.Impression.NEGATIVE)("is-selected",r.selectedEventCompany&&(null==t?null:t.event_id)===r.selectedEventCompany.id),e.xp6(1),e.hij(" ",e.xi3(2,9,null==t?null:t.start,"dd/MM/yyyy, HH:mm")," ")}}function Nd(n,i){if(1&n&&(e.TgZ(0,"div"),e._UZ(1,"div",131),e.YNc(2,Pd,3,12,"div",97),e.qZA()),2&n){const t=i.$implicit,r=i.index;e.Tol(t.root_id>-1?"row-"+r:""),e.xp6(2),e.Q6J("ngForOf",t.events)}}function Fd(n,i){if(1&n&&(e.TgZ(0,"div",124),e.YNc(1,Nd,3,3,"div",125),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",t.groupedLastEvents)}}function Ud(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",103),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw(3).$implicit,l=e.oxw(2);return e.KtG(l.selectedReport(a,s))}),e._uU(1),e.ALo(2,"date"),e.qZA()}if(2&n){const t=i.$implicit,r=e.oxw(5);e.ekj("impression-neutral",r.searchForm.get("enableColors").value&&(null==t?null:t.is_done)&&t.impression===r.Impression.NEUTRAL)("impression-positive",r.searchForm.get("enableColors").value&&(null==t?null:t.is_done)&&t.impression===r.Impression.POSITIVE)("impression-negative",r.searchForm.get("enableColors").value&&(null==t?null:t.is_done)&&t.impression===r.Impression.NEGATIVE)("is-selected",r.selectedEventCompany&&(null==t?null:t.event_id)===r.selectedEventCompany.id),e.xp6(1),e.hij(" ",e.xi3(2,9,null==t?null:t.end,"dd/MM/yyyy, HH:mm")," ")}}function Od(n,i){if(1&n&&(e.TgZ(0,"div"),e._UZ(1,"div",131),e.YNc(2,Ud,3,12,"div",97),e.qZA()),2&n){const t=i.$implicit,r=i.index;e.Tol(t.root_id>-1?"row-"+r:""),e.xp6(2),e.Q6J("ngForOf",t.events)}}function qd(n,i){if(1&n&&(e.TgZ(0,"div",124),e.YNc(1,Od,3,3,"div",125),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",t.groupedLastEvents)}}function Hd(n,i){if(1&n&&(e.TgZ(0,"pek-hover-detailed-info-component",106)(1,"span",107),e._uU(2),e.qZA()()),2&n){const t=e.oxw().$implicit;e.Q6J("moveLeft",20),e.xp6(2),e.hij(" ",null==t?null:t.event_comment," ")}}function Ld(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",133),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw(3).$implicit,l=e.oxw(2);return e.KtG(l.selectedReport(a,s))}),e.TgZ(1,"div",134)(2,"span"),e._uU(3),e.qZA(),e.YNc(4,Hd,3,2,"pek-hover-detailed-info-component",105),e.qZA()()}if(2&n){const t=i.$implicit,r=e.oxw(5);e.ekj("impression-neutral",r.searchForm.get("enableColors").value&&(null==t?null:t.is_done)&&t.impression===r.Impression.NEUTRAL)("impression-positive",r.searchForm.get("enableColors").value&&(null==t?null:t.is_done)&&t.impression===r.Impression.POSITIVE)("impression-negative",r.searchForm.get("enableColors").value&&(null==t?null:t.is_done)&&t.impression===r.Impression.NEGATIVE)("is-selected",r.selectedEventCompany&&(null==t?null:t.event_id)===r.selectedEventCompany.id),e.xp6(3),e.hij(" ",r.getSmallComment(null==t?null:t.event_comment)," "),e.xp6(1),e.Q6J("ngIf",r.getSmallComment(null==t?null:t.event_comment))}}function Jd(n,i){if(1&n&&(e.TgZ(0,"div"),e._UZ(1,"div",131),e.YNc(2,Ld,5,10,"div",132),e.qZA()),2&n){const t=i.$implicit,r=i.index;e.Tol(t.root_id>-1?"row-"+r:""),e.xp6(2),e.Q6J("ngForOf",t.events)}}function Bd(n,i){if(1&n&&(e.TgZ(0,"div",124),e.YNc(1,Jd,3,3,"div",125),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",t.groupedLastEvents)}}function Yd(n,i){1&n&&(e.ynx(0),e._uU(1,"Done"),e.BQk())}function Qd(n,i){1&n&&(e.ynx(0),e._uU(1,"Not Done"),e.BQk())}function Vd(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",131)(1,"span",136),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw(3).$implicit,l=e.oxw(2);return e.KtG(l.selectedReport(a,s))}),e.YNc(2,Yd,2,0,"ng-container",109),e.YNc(3,Qd,2,0,"ng-container",109),e.qZA()()}if(2&n){const t=i.$implicit,r=e.oxw(5);e.ekj("impression-neutral",r.searchForm.get("enableColors").value&&(null==t?null:t.is_done)&&t.impression===r.Impression.NEUTRAL)("impression-positive",r.searchForm.get("enableColors").value&&(null==t?null:t.is_done)&&t.impression===r.Impression.POSITIVE)("impression-negative",r.searchForm.get("enableColors").value&&(null==t?null:t.is_done)&&t.impression===r.Impression.NEGATIVE)("is-selected",r.selectedEventCompany&&(null==t?null:t.event_id)===r.selectedEventCompany.id),e.xp6(1),e.Q6J("ngSwitch",null==t?null:t.is_done),e.xp6(1),e.Q6J("ngSwitchCase",!0),e.xp6(1),e.Q6J("ngSwitchCase",!1)}}function zd(n,i){if(1&n&&(e.TgZ(0,"div"),e._UZ(1,"div",131),e.YNc(2,Vd,4,11,"div",135),e.qZA()),2&n){const t=i.$implicit,r=i.index;e.Tol(t.root_id>-1?"row-"+r:""),e.xp6(2),e.Q6J("ngForOf",t.events)}}function Gd(n,i){if(1&n&&(e.TgZ(0,"div",124),e.YNc(1,zd,3,3,"div",125),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",t.groupedLastEvents)}}function Wd(n,i){if(1&n&&(e.TgZ(0,"a",130),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.Q6J("routerLink","/crm/events/"+t.id)("pTooltip",t?t.description:"No Description"),e.xp6(1),e.Oqu(t.event_name)}}function jd(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",128),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw(2).$implicit,l=e.oxw(2);return e.KtG(l.selectedReport(a,s))}),e.YNc(1,Wd,2,3,"a",129),e.qZA()}if(2&n){const t=i.$implicit,r=e.oxw(4);e.ekj("is-selected",r.selectedEventCompany&&(null==t?null:t.event_id)===r.selectedEventCompany.id),e.xp6(1),e.Q6J("ngIf",t)}}function $d(n,i){if(1&n&&(e.TgZ(0,"div"),e._UZ(1,"div",126),e.YNc(2,jd,2,3,"div",137),e.qZA()),2&n){const t=i.$implicit,r=i.index;e.Tol(t.root_id>-1?"row-"+r:""),e.xp6(2),e.Q6J("ngForOf",t.events)}}function Kd(n,i){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"date"),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,null==t?null:t.start,"dd/MM/yyyy, HH:mm")," ")}}function Xd(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",103),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw(2).$implicit,l=e.oxw(2);return e.KtG(l.selectedReport(a,s))}),e.YNc(1,Kd,3,4,"span",69),e.qZA()}if(2&n){const t=i.$implicit,r=e.oxw(4);e.ekj("is-selected",r.selectedEventCompany&&(null==t?null:t.event_id)===r.selectedEventCompany.id),e.xp6(1),e.Q6J("ngIf",t)}}function ep(n,i){if(1&n&&(e.TgZ(0,"div"),e._UZ(1,"div",131),e.YNc(2,Xd,2,3,"div",138),e.qZA()),2&n){const t=i.$implicit,r=i.index;e.Tol(t.root_id>-1?"row-"+r:""),e.xp6(2),e.Q6J("ngForOf",t.events)}}function tp(n,i){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"date"),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,null==t?null:t.end,"dd/MM/yyyy, HH:mm")," ")}}function np(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",103),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw(2).$implicit,l=e.oxw(2);return e.KtG(l.selectedReport(a,s))}),e.YNc(1,tp,3,4,"span",69),e.qZA()}if(2&n){const t=i.$implicit,r=e.oxw(4);e.ekj("is-selected",r.selectedEventCompany&&(null==t?null:t.event_id)===r.selectedEventCompany.id),e.xp6(1),e.Q6J("ngIf",t)}}function ip(n,i){if(1&n&&(e.TgZ(0,"div"),e._UZ(1,"div",131),e.YNc(2,np,2,3,"div",138),e.qZA()),2&n){const t=i.$implicit,r=i.index;e.Tol(t.root_id>-1?"row-"+r:""),e.xp6(2),e.Q6J("ngForOf",t.events)}}function rp(n,i){if(1&n&&(e.TgZ(0,"tr")(1,"td",77)(2,"div",78),e._uU(3),e.qZA()(),e.TgZ(4,"td",79)(5,"div",80)(6,"span")(7,"a",81),e._uU(8),e.qZA()(),e.TgZ(9,"pek-hover-detailed-info-component")(10,"div",82)(11,"div",26)(12,"div",83)(13,"h4"),e._uU(14,"Name: "),e.TgZ(15,"i"),e._uU(16),e.qZA()(),e.TgZ(17,"h4"),e._uU(18," Category: "),e.TgZ(19,"i"),e.YNc(20,bd,2,1,"ng-container",84),e.qZA()(),e.TgZ(21,"h4"),e._uU(22,"Address: "),e.TgZ(23,"i"),e._uU(24),e.qZA()(),e.TgZ(25,"h4"),e._uU(26,"Email: "),e.TgZ(27,"i"),e._uU(28),e.qZA()(),e.TgZ(29,"h4"),e._uU(30,"Phone Number: "),e.TgZ(31,"i"),e._uU(32),e.qZA()(),e.TgZ(33,"h4"),e._uU(34,"Website: "),e.TgZ(35,"i")(36,"a",85),e._uU(37),e.qZA()()(),e.TgZ(38,"h4"),e._uU(39,"Tax Number: "),e.TgZ(40,"i"),e._uU(41),e.qZA()(),e.TgZ(42,"h4"),e._uU(43,"Register Number: "),e.TgZ(44,"i"),e._uU(45),e.qZA()()(),e.TgZ(46,"div",86)(47,"h4"),e._uU(48,"Nomenclature: "),e.TgZ(49,"i"),e._uU(50),e.qZA()(),e.TgZ(51,"h4"),e._uU(52,"Description: "),e.TgZ(53,"i"),e._uU(54),e.qZA()(),e.TgZ(55,"h4"),e._uU(56," Country: "),e.YNc(57,Ed,2,1,"span",69),e.qZA(),e.TgZ(58,"h4"),e._uU(59," Region: "),e.YNc(60,Td,2,1,"span",69),e.qZA(),e.TgZ(61,"h4"),e._uU(62," Sub Region: "),e.YNc(63,xd,2,1,"span",69),e.qZA(),e.TgZ(64,"h4"),e._uU(65,"Connected Companies"),e.qZA(),e.YNc(66,Ad,3,1,"p",84),e.TgZ(67,"h4"),e._uU(68,"Dont have VAT: "),e.YNc(69,Sd,1,0,"i",87),e.YNc(70,wd,1,0,"i",88),e.qZA()()()()()()(),e.TgZ(71,"td",89)(72,"div",90),e.YNc(73,Id,2,1,"div",122),e.qZA()(),e.TgZ(74,"td",91)(75,"div",92),e.YNc(76,Fd,2,1,"div",122),e.qZA()(),e.TgZ(77,"td",91)(78,"div",92),e.YNc(79,qd,2,1,"div",122),e.qZA()(),e.TgZ(80,"td",93)(81,"div",92),e.YNc(82,Bd,2,1,"div",122),e.qZA()(),e.TgZ(83,"td",91)(84,"div",92),e.YNc(85,Gd,2,1,"div",122),e.qZA()(),e.TgZ(86,"td",123)(87,"div",90)(88,"div",124),e.YNc(89,$d,3,3,"div",125),e.qZA()()(),e.TgZ(90,"td",96)(91,"div",92)(92,"div",124),e.YNc(93,ep,3,3,"div",125),e.qZA()()(),e.TgZ(94,"td",98)(95,"div",92)(96,"div",124),e.YNc(97,ip,3,3,"div",125),e.qZA()()()()),2&n){const t=i.$implicit,r=i.rowIndex,o=e.oxw(2);e.xp6(1),e.ekj("impression-neutral",o.searchForm.get("enableColors").value&&(null==t?null:t.lastEventImpressionByFilter)===o.Impression.NEUTRAL)("impression-positive",o.searchForm.get("enableColors").value&&(null==t?null:t.lastEventImpressionByFilter)===o.Impression.POSITIVE)("impression-negative",o.searchForm.get("enableColors").value&&(null==t?null:t.lastEventImpressionByFilter)===o.Impression.NEGATIVE),e.xp6(2),e.hij(" ",10*(o.searchForm.get("page").value-1)+r+1," "),e.xp6(1),e.ekj("impression-neutral",o.searchForm.get("enableColors").value&&(null==t?null:t.lastEventImpressionByFilter)===o.Impression.NEUTRAL)("impression-positive",o.searchForm.get("enableColors").value&&(null==t?null:t.lastEventImpressionByFilter)===o.Impression.POSITIVE)("impression-negative",o.searchForm.get("enableColors").value&&(null==t?null:t.lastEventImpressionByFilter)===o.Impression.NEGATIVE),e.xp6(3),e.Q6J("routerLink","/crm/business-partners/company-page/"+t.id),e.xp6(1),e.Oqu(t.name),e.xp6(8),e.Oqu(t.name),e.xp6(4),e.Q6J("ngForOf",t.categories),e.xp6(4),e.Oqu(t.address),e.xp6(4),e.Oqu(t.email),e.xp6(4),e.Oqu(t.phone_number),e.xp6(4),e.Q6J("href",t.website,e.LSH),e.xp6(1),e.Oqu(t.website),e.xp6(4),e.Oqu(t.tax_number),e.xp6(4),e.Oqu(t.registration_number),e.xp6(5),e.Oqu(t.supplier_nomenclature),e.xp6(4),e.Oqu(t.comment),e.xp6(3),e.Q6J("ngIf",t.country),e.xp6(3),e.Q6J("ngIf",t.region),e.xp6(3),e.Q6J("ngIf",t.sub_region),e.xp6(3),e.Q6J("ngForOf",t.linked_companies),e.xp6(3),e.Q6J("ngIf",t.has_not_vat),e.xp6(1),e.Q6J("ngIf",!t.has_not_vat),e.xp6(3),e.Q6J("ngIf",t.groupedLastEvents&&t.groupedLastEvents.length>0),e.xp6(3),e.Q6J("ngIf",t.groupedLastEvents&&t.groupedLastEvents.length>0),e.xp6(3),e.Q6J("ngIf",t.groupedLastEvents&&t.groupedLastEvents.length>0),e.xp6(3),e.Q6J("ngIf",t.groupedLastEvents&&t.groupedLastEvents.length>0),e.xp6(3),e.Q6J("ngIf",t.groupedLastEvents&&t.groupedLastEvents.length>0),e.xp6(4),e.Q6J("ngForOf",t.groupedNextEvents),e.xp6(4),e.Q6J("ngForOf",t.groupedNextEvents),e.xp6(4),e.Q6J("ngForOf",t.groupedNextEvents)}}function op(n,i){1&n&&e._UZ(0,"i",114)}function ap(n,i){1&n&&(e.TgZ(0,"span"),e._uU(1,"No Records Found"),e.qZA())}function sp(n,i){if(1&n&&(e.TgZ(0,"tr")(1,"td",112),e.YNc(2,op,1,0,"i",113),e.YNc(3,ap,2,0,"span",69),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(1),e.uIk("colspan",12),e.xp6(1),e.Q6J("ngIf",t.isLoading),e.xp6(1),e.Q6J("ngIf",!t.isLoading)}}function lp(n,i){1&n&&(e.TgZ(0,"div",115),e._UZ(1,"i",114),e.qZA())}function cp(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",116)(1,"p-paginator",117,118),e.NdJ("onPageChange",function(o){e.CHM(t);const a=e.oxw(2);return e.KtG(a.paginate(o))}),e.qZA(),e.TgZ(3,"p-button",119),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.onShowAll())}),e._uU(4," All "),e.qZA()()}if(2&n){const t=e.oxw(2);e.ekj("hidden",0===t.eventsReports.length),e.xp6(1),e.Q6J("rows",10)("totalRecords",t.reportsCount)}}function dp(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",120)(1,"p-button",121),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.onShowPartial())}),e._uU(2," Return pagination "),e.qZA()()}}function pp(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",50),e.YNc(1,yd,5,3,"div",51),e.TgZ(2,"div",52)(3,"p-table",53,54),e.NdJ("selectionChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedEventsReport=o)}),e.YNc(5,Cd,32,5,"ng-template",55),e.YNc(6,rp,98,40,"ng-template",56),e.YNc(7,sp,4,3,"ng-template",57),e.qZA(),e.YNc(8,lp,2,0,"div",58),e.qZA(),e.YNc(9,cp,5,4,"div",59),e.YNc(10,dp,3,0,"div",60),e.qZA()}if(2&n){const t=e.oxw();e.ekj("menu-opened",t.selectedEventCompany),e.xp6(1),e.Q6J("ngIf",t.selectedEventCompany),e.xp6(2),e.Q6J("rows",10)("value",t.eventsReports)("globalFilterFields",e.DdM(10,xr))("selection",t.selectedEventsReport),e.xp6(5),e.Q6J("ngIf",t.isLoading),e.xp6(1),e.Q6J("ngIf",!t.isShowAll),e.xp6(1),e.Q6J("ngIf",t.isShowAll)}}const Ar=function(){return{standalone:!0}};let Be=class{constructor(i,t,r,o,a,s,l,c){this.fb=i,this.eventsReportService=t,this.eventsListService=r,this.eventCompanyService=o,this.modalService=a,this.adapterService=s,this.route=l,this.router=c,this.Impression=Bn.U,this.destroy$=new L.x,this.updateSearch=new L.x,this.isShowAll=!1,this.isStartOnePage=!1,this.reportsCount=0,this.isLastDateDefaultFilterSelected=!0,this.isNextDateDefaultFilterSelected=!0,this.eventCompanyMenuItems=[{label:"Selected Company Event",items:[{label:"View Company",icon:"pi pi-eye",command:()=>this.onViewCompany()},{label:"Create Linked Event",icon:"pi pi-share-alt",command:()=>this.onCreateLinkedEvent()},{label:"Done",icon:"pi pi-check",command:()=>this.onDoneCompany()},{label:"Edit comment",icon:"pi pi-pencil",command:()=>this.onEditCompany()},{label:"Remove",icon:"pi pi-trash",command:()=>this.onRemoveTechnology()}]}],this.dateFilters=[{name:"Last Events Date Start",value:"last_events_date_start"},{name:"Last Events Date End",value:"last_events_date_end"},{name:"Future Events Date Start",value:"future_events_date_start"},{name:"Future Events Date End",value:"future_events_date_end"}],this.isLastEventStartFilterOpen=!1,this.isLastEventEndFilterOpen=!1,this.isFeatureEventStartFilterOpen=!1,this.isFeatureEventEndFilterOpen=!1,this.isHideFilters=!1,this.tableScrollHeight="29.625rem",this.searchForm=this.fb.group({page:[1],id:[null],id__in:[[]],company_category_ids:[null],countries:[null],regions:[null],sub_regions:[null],categories_ids:[null],chain_status_ids:[null],employees_ids:[null],is_null_chain_status:[null],order_by_name:[!1],order_by_date:[!0],order_by_date_end:[null],order_by_next_event_date:[null],order_by_next_event_date_end:[null],event_date_start:[null],event_date_end:[null],last_events_date_start:[null],last_events_date_end:[null],feature_events_date_start:[null],feature_events_date_end:[null],last_events_date_start_after:[null],last_events_date_start_before:[null],last_events_date_end_after:[null],last_events_date_end_before:[null],next_events_date_start_after:[null],next_events_date_start_before:[null],next_events_date_end_after:[null],next_events_date_end_before:[null],dateFilterType:[null],datesLastFilterType:[null],datesFutureFilterType:[null],autoEvents:[!0],groupView:[!1],enableColors:[!1],intersect_last_event:[!1],intersect_next_event:[!1],event_id:[null]}),this.rangeCalendar=[new Date,new Date],this.isLoading=!1,this.selectedFilterType="lastNextDate",this.queryKey="id:null/categories_ids:null/chain_status_ids:null/employees_ids:null/is_null_chain_status:null",this.dateLastFilterTypes=[{name:"Last events date start",value:"lastStart"},{name:"Last events date end",value:"lastEnd"}],this.dateFutureFilterTypes=[{name:"Future events date start",value:"futureStart"},{name:"Future events date end",value:"futureEnd"}],this.query=[{name:"page",value:this.searchForm.get("page").value},{name:"ordering",value:"-last_event_start"},{name:"test_method",value:"true"}],this.enableColors=!1,this.isFilteredByEvent=!1}ngOnInit(){this.dateRangeLimit=new Date;let i=new Date;this.lastTenDays=new Date(i.setDate(i.getDate()-10)),i=new Date,this.nextYear=new Date(i.setDate(i.getDate()+365.2422)),this.today=new Date,this.updateSearch.pipe((0,qe.b)(200),(0,ge.t)(this)).subscribe(()=>{this.search()}),this.updateSearch.next()}get(){this.eventsReportService.get(this.query).pipe((0,J.R)(this.destroy$)).subscribe(i=>{this.eventsReports=i,this.eventsReports.forEach(t=>{if(t.last_events.length>0){const o=[...t.last_events].filter(a=>a.is_done&&a.impression).sort((a,s)=>{if(a&&s)return s.start=new Date(s.start),a.start=new Date(a.start),s.start.getTime()-a.start.getTime()});o.length>0&&(t.lastEventImpressionByFilter=o[0].impression)}}),this.reportsCount=this.eventsReports.length,this.isStartOnePage&&this.paginator?.changePage(0),this.isStartOnePage=!1,this.breakForGroupedEvents(),this.sortEvents(),this.isLoading=!1})}breakForGroupedEvents(){this.eventsReports.forEach(i=>{i.groupedLastEvents=[],i.groupedNextEvents=[],this.createGroups(i),this.groupLastEvents(i),this.groupNextEvents(i),i.groupedLastEvents.filter(t=>t.root_id>=0).forEach(t=>{const r=i.groupedNextEvents.find(o=>o.root_id===t.root_id);if(r){const o=t.events.length,a=r.events.length;if(o>a){const l=Array(o-a).fill(null);r.events.push(...l)}else{const l=Array(a-o).fill(null);t.events.push(...l)}}}),i.groupedLastEvents.sort((t,r)=>r.root_id-t.root_id),i.groupedNextEvents.sort((t,r)=>r.root_id-t.root_id),i.groupedLastEvents.forEach(t=>{t.events=t.events.sort((r,o)=>{if(r&&o)return o.start=new Date(o.start),r.start=new Date(r.start),r.start.getTime()-o.start.getTime()})}),i.groupedNextEvents.forEach(t=>{t.events=t.events.sort((r,o)=>{if(r&&o)return o.start=new Date(o.start),r.start=new Date(r.start),r.start.getTime()-o.start.getTime()})})})}createGroups(i){const o=[...i.last_events.map(a=>a.root),...i.next_events.map(a=>a.root)];o.filter((a,s)=>o.findIndex(l=>l===a)===s).forEach(a=>{const s=a||-1;i.groupedLastEvents.push({root_id:s,label:s>-1?"Connected Events":"Events",events:[]}),i.groupedNextEvents.push({root_id:s,label:s>-1?"Connected Events":"Events",events:[]})})}groupLastEvents(i){i.last_events.forEach(t=>{if(!i.groupedLastEvents.find(o=>o.root_id===t.id)){const o=t.root?t.root:-1,a=i.groupedLastEvents.findIndex(s=>s.root_id===o);a>-1&&i.groupedLastEvents[a].events.push(t)}}),i.groupedLastEvents.forEach(t=>{const r=i.last_events.find(o=>o.id===t.root_id);r&&t.events.splice(0,0,r)})}groupNextEvents(i){i.next_events.forEach(t=>{if(!i.groupedNextEvents.find(o=>o.root_id===t.id)){const o=t.root?t.root:-1,a=i.groupedNextEvents.findIndex(s=>s.root_id===o);a>-1&&i.groupedNextEvents[a].events.push(t)}}),i.groupedNextEvents.forEach(t=>{const r=i.next_events.find(o=>o.id===t.root_id);r&&t.events.splice(0,0,r)})}getForPagination(){this.eventsReportService.getForPagination(this.query).pipe((0,J.R)(this.destroy$)).subscribe(i=>{this.eventsReports=i.results,this.eventsReports.forEach(t=>{if(t.last_events.length>0){const o=[...t.last_events].filter(a=>a.is_done&&a.impression).sort((a,s)=>{if(a&&s)return s.start=new Date(s.start),a.start=new Date(a.start),s.start.getTime()-a.start.getTime()});o.length>0&&(t.lastEventImpressionByFilter=o[0].impression)}}),this.reportsCount=i.count,this.isStartOnePage&&this.paginator.changePage(0),this.isStartOnePage=!1,this.breakForGroupedEvents(),this.sortEvents(),this.isLoading=!1})}sortEvents(){null!==this.searchForm.get("order_by_date").value&&(this.searchForm.get("order_by_date").value?(this.eventsReports.forEach(i=>{i.last_events.sort((t,r)=>new Date(r.start).getTime()-new Date(t.start).getTime())}),this.eventsReports.forEach(i=>{i.groupedLastEvents.forEach(t=>{t.events.sort((r,o)=>new Date(o?.start).getTime()-new Date(r?.start).getTime())})})):(this.eventsReports.forEach(i=>{i.last_events.sort((t,r)=>new Date(t.start).getTime()-new Date(r.start).getTime())}),this.eventsReports.forEach(i=>{i.groupedLastEvents.forEach(t=>{t.events.sort((r,o)=>new Date(r?.start).getTime()-new Date(o?.start).getTime())})}))),null!==this.searchForm.get("order_by_date_end").value&&(this.searchForm.get("order_by_date_end").value?(this.eventsReports.forEach(i=>{i.last_events.sort((t,r)=>new Date(r.end).getTime()-new Date(t.end).getTime())}),this.eventsReports.forEach(i=>{i.groupedLastEvents.forEach(t=>{t.events.sort((r,o)=>new Date(o?.end).getTime()-new Date(r?.end).getTime())})})):(this.eventsReports.forEach(i=>{i.last_events.sort((t,r)=>new Date(t.end).getTime()-new Date(r.end).getTime())}),this.eventsReports.forEach(i=>{i.groupedLastEvents.forEach(t=>{t.events.sort((r,o)=>new Date(r?.end).getTime()-new Date(o?.end).getTime())})}))),null!==this.searchForm.get("order_by_next_event_date").value&&(this.searchForm.get("order_by_next_event_date").value?(this.eventsReports.forEach(i=>{i.next_events.sort((t,r)=>new Date(r.start).getTime()-new Date(t.start).getTime())}),this.eventsReports.forEach(i=>{i.groupedNextEvents.forEach(t=>{t.events.sort((r,o)=>new Date(o?.start).getTime()-new Date(r?.start).getTime())})})):(this.eventsReports.forEach(i=>{i.next_events.sort((t,r)=>new Date(t.start).getTime()-new Date(r.start).getTime())}),this.eventsReports.forEach(i=>{i.groupedNextEvents.forEach(t=>{t.events.sort((r,o)=>new Date(r?.start).getTime()-new Date(o?.start).getTime())})}))),null!==this.searchForm.get("order_by_next_event_date_end").value&&(this.searchForm.get("order_by_next_event_date_end").value?(this.eventsReports.forEach(i=>{i.next_events.sort((t,r)=>new Date(r.end).getTime()-new Date(t.end).getTime())}),this.eventsReports.forEach(i=>{i.groupedNextEvents.forEach(t=>{t.events.sort((r,o)=>new Date(o?.end).getTime()-new Date(r?.end).getTime())})})):(this.eventsReports.forEach(i=>{i.next_events.sort((t,r)=>new Date(t.end).getTime()-new Date(r.end).getTime())}),this.eventsReports.forEach(i=>{i.groupedNextEvents.forEach(t=>{t.events.sort((r,o)=>new Date(r?.end).getTime()-new Date(o?.end).getTime())})})))}emitChange(){this.updateSearch.next()}search(){this.destroy$.next(!0);const i=this.adapterService.dateAdapter(new Date),t=(new Date).getHours(),r=(new Date).getMinutes();this.isLoading=!0,this.eventsReports=[],this.selectedEventsReport=null;const o=`id:${this.searchForm.get("id").value}/categories_ids:${this.searchForm.get("categories_ids").value}/chain_status_ids:${this.searchForm.get("chain_status_ids").value}/employees_ids:${this.searchForm.get("employees_ids").value}/is_null_chain_status:${this.searchForm.get("is_null_chain_status").value}`;o!==this.queryKey&&(this.queryKey=o,this.searchForm.get("page").patchValue(1),this.isStartOnePage=!0),this.query=[{name:"page",value:this.searchForm.get("page").value}],this.searchForm.get("id").value&&this.query.push({name:"id",value:this.searchForm.get("id").value}),this.searchForm.get("categories_ids").value&&this.searchForm.get("categories_ids").value.length>0&&this.query.push({name:"categories_ids",value:this.preSearch(this.searchForm.get("categories_ids").value)}),this.searchForm.get("chain_status_ids").value&&this.searchForm.get("chain_status_ids").value.length>0&&this.query.push({name:"chain_status_ids",value:this.searchForm.get("chain_status_ids").value.join(",")});let a=!1,s=!1;if(this.isLastEventStartFilterOpen){let u=23,m=59;this.adapterService.dateAdapter(new Date(this.searchForm.get("last_events_date_start_before").value))===i&&(u=t,m=r),a=this.fillDateFilter("last_events_date_start_after","last_events_date_start_before","00","00",this.padTo2Digits(u),this.padTo2Digits(m))}if(this.isLastEventEndFilterOpen){let u=23,m=59;this.adapterService.dateAdapter(new Date(this.searchForm.get("last_events_date_end_before").value))===i&&(u=t,m=r),s=this.fillDateFilter("last_events_date_end_after","last_events_date_end_before","00","00",this.padTo2Digits(u),this.padTo2Digits(m))}this.isLastEventStartFilterOpen&&this.isLastEventEndFilterOpen&&this.searchForm.get("intersect_last_event").value&&this.query.push({name:"intersect_last_event",value:!0}),this.isLastDateDefaultFilterSelected=!a&&!s,!a&&!s&&(this.query.push({name:"last_events_date_start_after",value:new Date(this.lastTenDays.setHours(t,r)).toISOString()}),this.query.push({name:"last_events_date_start_before",value:new Date(this.today.setHours(t,r)).toISOString()}));let l=!1,c=!1;if(this.isFeatureEventStartFilterOpen){let u=0,m=0;this.adapterService.dateAdapter(new Date(this.searchForm.get("next_events_date_start_after").value))===i&&(u=t,m=r),l=this.fillDateFilter("next_events_date_start_after","next_events_date_start_before",this.padTo2Digits(u),this.padTo2Digits(m),23,59)}if(this.isFeatureEventEndFilterOpen){let u=0,m=0;this.adapterService.dateAdapter(new Date(this.searchForm.get("next_events_date_end_after").value))===i&&(u=t,m=r),c=this.fillDateFilter("next_events_date_end_after","next_events_date_end_before",this.padTo2Digits(u),this.padTo2Digits(m),23,59)}this.isNextDateDefaultFilterSelected=!l&&!c,this.isFeatureEventStartFilterOpen&&this.isFeatureEventEndFilterOpen&&this.searchForm.get("intersect_next_event").value&&this.query.push({name:"intersect_next_event",value:!0}),!l&&!c&&(this.query.push({name:"next_events_date_start_after",value:new Date(this.today.setHours(t,r)).toISOString()}),this.query.push({name:"next_events_date_start_before",value:new Date(this.nextYear.setHours(t,r)).toISOString()}));const d=this.prepareSortingField();d&&this.query.push({name:"ordering",value:d}),this.searchForm.get("autoEvents").value&&this.query.push({name:"hide_auto_events",value:this.searchForm.get("autoEvents").value}),this.searchForm.get("employees_ids").value&&this.searchForm.get("employees_ids").value.length>0&&this.query.push({name:"employees_ids",value:this.preSearch(this.searchForm.get("employees_ids").value)}),null!==this.searchForm.get("is_null_chain_status").value&&this.query.push({name:"is_null_chain_status",value:this.searchForm.get("is_null_chain_status").value}),null!==this.searchForm.get("company_category_ids").value&&this.query.push({name:"company_category_ids",value:this.searchForm.get("company_category_ids").value}),null!==this.searchForm.get("countries").value&&this.query.push({name:"countries",value:this.searchForm.get("countries").value.map(p=>p.id)}),null!==this.searchForm.get("regions").value&&this.query.push({name:"regions",value:this.searchForm.get("regions").value.map(p=>p.id)}),null!==this.searchForm.get("sub_regions").value&&this.query.push({name:"sub_regions",value:this.searchForm.get("sub_regions").value.map(p=>p.id)}),this.searchForm.get("id__in").value&&this.query.push({name:"id__in",value:this.searchForm.get("id__in").value}),this.searchForm.get("event_id").value&&this.query.push({name:"event_id",value:this.searchForm.get("event_id").value}),this.isShowAll?(this.searchForm.get("page").patchValue(1),this.get()):this.getForPagination()}fillDateFilter(i,t,r,o,a,s){if(this.searchForm.get(i).value&&this.searchForm.get(t).value){const l=new Date(this.searchForm.get(i).value.setHours(r,o)).toISOString(),c=new Date(this.searchForm.get(t).value.setHours(a,s)).toISOString();return this.query.push({name:i,value:l}),this.query.push({name:t,value:c}),!0}return!1}padTo2Digits(i){return i.toString().padStart(2,"0")}preSearch(i){if(i&&i.length>0)return i.join(",")}prepareSortingField(){let i="";return null!==this.searchForm.get("order_by_name").value&&(this.searchForm.get("order_by_name").value?i+="-name,":i+="name,"),i}sorting(i,t,r=!0){null===i?this.searchForm.get(t).patchValue(!1):!1===i?this.searchForm.get(t).patchValue(!0):!0===i&&this.searchForm.get(t).patchValue(!1),r?this.emitChange():this.sortEvents()}removeSoring(i){this.searchForm.get(i).patchValue(null),this.sortEvents()}searchByLastDate(){const i=this.searchForm.get("last_events_date_start").value,t=this.searchForm.get("last_events_date_end").value;i&&t&&(this.rangeCalendar=[this.searchForm.get("event_date_start").value,this.searchForm.get("event_date_end").value],this.emitChange())}filterByLastStartDate(){const i=this.searchForm.get("last_events_date_start_after").value,t=this.searchForm.get("last_events_date_start_before").value;this.lastAfterStartDateSelected=i,this.lastBeforeStartDateSelected=t,i&&t&&this.emitChange()}filterByLastEndDate(){const i=this.searchForm.get("last_events_date_end_after").value,t=this.searchForm.get("last_events_date_end_before").value;this.lastAfterEndDateSelected=i,this.lastBeforeEndDateSelected=t,i&&t&&this.emitChange()}filterByFeatureStartDate(){const i=this.searchForm.get("next_events_date_start_after").value,t=this.searchForm.get("next_events_date_start_before").value;this.featureAfterStartDateSelected=i,this.featureBeforeStartDateSelected=t,i&&t&&this.emitChange()}filterByFeatureEndDate(){const i=this.searchForm.get("next_events_date_end_after").value,t=this.searchForm.get("next_events_date_end_before").value;this.featureAfterEndDateSelected=i,this.featureBeforeEndDateSelected=t,i&&t&&this.emitChange()}getSmallComment(i){if(i)return i.substring(0,13)+"..."}searchByFeatureDate(){const i=this.searchForm.get("feature_events_date_start").value,t=this.searchForm.get("feature_events_date_end").value;i&&t&&(this.rangeCalendar=[this.searchForm.get("event_date_start").value,this.searchForm.get("event_date_end").value],this.emitChange())}changeLastsDateFilterType(i){i.value?this.searchByLastDate():(this.searchForm.get("last_events_date_start").setValue(null),this.searchForm.get("last_events_date_end").setValue(null),this.emitChange())}changeFeatureDateFilterType(i){i.value?this.searchByFeatureDate():(this.searchForm.get("feature_events_date_start").setValue(null),this.searchForm.get("feature_events_date_end").setValue(null),this.emitChange())}onShowAll(){this.isShowAll=!0,this.dt.scrollable=!0,this.emitChange()}onShowPartial(){this.isShowAll=!1,this.dt.scrollable=!1,this.emitChange()}paginate(i){this.isStartOnePage||(this.searchForm.get("page").patchValue(i.page+1),this.emitChange())}onSelectCompany(i){this.searchForm.get("id").patchValue(i),this.emitChange()}onSelectEventTypes(i){i?this.searchForm.get("categories_ids").patchValue(i):this.searchForm.get("categories_ids").patchValue(null),this.emitChange()}onSelectStatuses(i){this.searchForm.get("chain_status_ids").patchValue(i),this.emitChange()}onSelectEmployees(i){i?this.searchForm.get("employees_ids").patchValue(i):this.searchForm.get("employees_ids").patchValue(null),this.emitChange()}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}filtersTypeChanged(i){}updated(i=!0){this.isLastEventStartFilterOpen=this.selectedFilters.findIndex(t=>"last_events_date_start"===t)>-1,this.isLastEventEndFilterOpen=this.selectedFilters.findIndex(t=>"last_events_date_end"===t)>-1,this.isFeatureEventStartFilterOpen=this.selectedFilters.findIndex(t=>"future_events_date_start"===t)>-1,this.isFeatureEventEndFilterOpen=this.selectedFilters.findIndex(t=>"future_events_date_end"===t)>-1,this.isLastEventStartFilterOpen||(this.searchForm.get("last_events_date_start_after").reset(null),this.searchForm.get("last_events_date_start_before").reset(null)),this.isLastEventEndFilterOpen||(this.searchForm.get("last_events_date_end_after").reset(null),this.searchForm.get("last_events_date_end_before").reset(null)),this.isFeatureEventStartFilterOpen||(this.searchForm.get("next_events_date_start_after").reset(null),this.searchForm.get("next_events_date_start_before").reset(null)),this.isFeatureEventEndFilterOpen||(this.searchForm.get("next_events_date_end_after").reset(null),this.searchForm.get("next_events_date_end_before").reset(null)),!this.isLastEventStartFilterOpen&&!this.isLastEventEndFilterOpen&&this.searchForm.get("intersect_last_event").reset(!1),!this.isFeatureEventStartFilterOpen&&!this.isFeatureEventEndFilterOpen&&this.searchForm.get("intersect_next_event").reset(!1),i&&this.emitChange()}onSelectCompanyCategory(i){this.searchForm.get("company_category_ids").setValue(i),this.emitChange()}onSelectCountry(i){i?this.searchForm.get("countries").setValue(i):this.searchForm.get("countries").setValue(null),this.searchForm.get("sub_regions").setValue(null),this.searchForm.get("regions").setValue(null),this.emitChange()}onSelectRegion(i){i?this.searchForm.get("regions").setValue(i):this.searchForm.get("regions").setValue(null),this.searchForm.get("sub_regions").setValue(null),this.emitChange()}toggleFilterVisibility(){this.isHideFilters=!this.isHideFilters,this.setTableScrollHeight()}setTableScrollHeight(){!this.isHideFilters||this.isShowAll?this.isHideFilters&&this.isShowAll?this.tableScrollHeight="18.75rem":this.isHideFilters||!this.isShowAll?this.isHideFilters||this.isShowAll||(this.tableScrollHeight="29.625rem"):this.tableScrollHeight="27.5rem":this.tableScrollHeight="20.875rem"}regionSubSelected(i){i?this.searchForm.get("sub_regions").setValue(i):this.searchForm.get("sub_regions").setValue(null),this.emitChange()}searchEvent(i){this.searchForm.get("id__in").value?.length<=0?this.eventsListService.openEventGetEventForFilter().subscribe(t=>{if(t.event){this.selectedFilters=[];const r=(new Date).getTime(),o=t.event.on_companies.map(a=>a.company_id);this.searchForm.get("id").setValue(null,{emitEvent:!1,onlySelf:!0}),this.searchForm.get("id__in").setValue(o,{emitEvent:!1,onlySelf:!0}),this.searchForm.get("company_category_ids").patchValue(null,{emitEvent:!1,onlySelf:!0}),this.searchForm.get("countries").setValue(null,{emitEvent:!1,onlySelf:!0}),this.searchForm.get("regions").setValue(null,{emitEvent:!1,onlySelf:!0}),this.searchForm.get("sub_regions").setValue(null,{emitEvent:!1,onlySelf:!0}),this.searchForm.get("categories_ids").setValue(null,{emitEvent:!1,onlySelf:!0}),this.searchForm.get("chain_status_ids").setValue(null,{emitEvent:!1,onlySelf:!0}),this.searchForm.get("employees_ids").setValue(null,{emitEvent:!1,onlySelf:!0}),this.searchForm.get("is_null_chain_status").setValue(null,{emitEvent:!1,onlySelf:!0}),this.searchForm.get("event_id").setValue(t.event.id,{emitEvent:!1,onlySelf:!0}),this.isFilteredByEvent=!0,i.writeValue(!0),t.event.start.getTime()>r?(this.selectedFilters.push("future_events_date_start"),this.searchForm.get("next_events_date_start_after").setValue(new Date(r),{emitEvent:!1,onlySelf:!0}),this.searchForm.get("next_events_date_start_before").setValue(t.event.start,{emitEvent:!1,onlySelf:!0})):(this.selectedFilters.push("last_events_date_start"),this.searchForm.get("last_events_date_start_after").setValue(new Date(t.event.start),{emitEvent:!1,onlySelf:!0}),this.searchForm.get("last_events_date_start_before").setValue(new Date(r),{emitEvent:!1,onlySelf:!0})),this.updated()}else this.isFilteredByEvent=!1,i.writeValue(!1)}):(this.searchForm.get("id__in").setValue([]),this.searchForm.get("event_id").setValue(null),this.isFilteredByEvent=!1,i.writeValue(!1),this.selectedFilters=[],this.updated())}onViewCompany(){window.open(`/crm/business-partners/company-page/${this.selectedEventCompany.company.id}`,"_blank")}onCreateLinkedEvent(){this.eventsListService.openCreateEventEventModal("create","withEmployee",this.selectedEventCompany.event,this.selectedEventCompany.company.id,!0).subscribe(i=>{i&&this.emitChange()})}onDoneCompany(){this.eventsListService.openEventCompanySetStateModal(this.selectedEventCompany).subscribe(i=>{i&&(this.selectedEventCompany=null,this.emitChange())})}onEditCompany(){this.selectedEventCompany&&this.eventCompanyService.openEditModal(this.selectedEventCompany).subscribe(i=>{i&&(this.selectedEventCompany=null,this.emitChange())})}onRemoveTechnology(){this.modalService.confirm("danger").subscribe(i=>{i&&this.eventCompanyService.delete(this.selectedEventCompany.id).subscribe(()=>{this.selectedEventCompany=null,this.emitChange()})})}selectedReport(i,t){this.selectedEventCompany=this.selectedEventCompany&&this.selectedEventCompany.id==i.event_id?null:{comment:i.event_comment,id:i.event_id,impression:i.impression,is_done:i.is_done,company:t,event:i}}};Be.\u0275fac=function(i){return new(i||Be)(e.Y36(E.qu),e.Y36(Cc),e.Y36(Je.T),e.Y36(Yn.c),e.Y36(ne.Z),e.Y36(Jt.v),e.Y36(V.gz),e.Y36(V.F0))},Be.\u0275cmp=e.Xpm({type:Be,selectors:[["pek-crm-events-reports"]],viewQuery:function(i,t){if(1&i&&(e.Gf(Ac,5),e.Gf(Sc,5)),2&i){let r;e.iGM(r=e.CRH())&&(t.dt=r.first),e.iGM(r=e.CRH())&&(t.paginator=r.first)}},decls:101,vars:55,consts:[[1,"page"],[1,"page__header"],[1,"page__title"],[3,"module","isActive"],[1,"page__content"],[1,"page__card"],[1,"filters-visibility"],[1,"filters-visibility__header"],[1,"action-buttons"],["tooltipPosition","left",1,"icon","pi",3,"pTooltip","click"],[1,"pb-2",3,"formGroup"],[1,"row","mt-4"],[1,"col-2"],[1,"form-group"],[3,"currentCompanyId","selectCompany"],[3,"currentEventTypes","selectEventTypes"],[3,"currentSelectedStatuses","selectNumericStatuses"],[1,"event-row-filters"],[1,"form-group","mr-3"],[3,"currentEmployeeIds","selectEmployees"],[1,"col-3","d-flex"],[1,"capitalize"],["name","group1","inputId","auto-events","formControlName","autoEvents",1,"mt-1",3,"binary","onChange"],[1,"form-group","ml-3"],["name","group2","inputId","group-linked-events","formControlName","groupView",1,"mt-1",3,"binary"],["name","group1","inputId","enableColors","formControlName","enableColors",1,"mt-1",3,"binary"],[1,"row"],[3,"currentCompanyCategoriesIds","selectCompanyCategoriesIds"],[3,"currentCountries","showClear","selectCountries"],[3,"isDisabled","countrySelected","regionsSelected"],[3,"isDisabled","regionsSelected","subRegionsSelected"],["name","group1","inputId","enableColors",1,"mt-1",3,"binary","ngModel","ngModelOptions","onChange"],["checkbox",""],[1,"col-1"],[1,"col-3"],["placeholder","Select Date Filters Types","optionLabel","name","optionValue","value",3,"options","ngModel","ngModelOptions","ngModelChange"],["class","form-group",4,"ngIf"],["class","page__table events-reports-page",3,"menu-opened",4,"ngIf","ngIfElse"],["groupedView",""],["inputId","basic","dateFormat","dd/mm/yy","formControlName","last_events_date_start_after",3,"firstDayOfWeek","showButtonBar","readonlyInput","maxDate","ngModelChange"],["inputId","basic","dateFormat","dd/mm/yy","formControlName","last_events_date_end_after",3,"firstDayOfWeek","showButtonBar","readonlyInput","maxDate","ngModelChange"],["inputId","basic","formControlName","next_events_date_start_after","dateFormat","dd/mm/yy",3,"firstDayOfWeek","showButtonBar","readonlyInput","minDate","maxDate","ngModelChange"],["inputId","basic","formControlName","next_events_date_end_after","dateFormat","dd/mm/yy",3,"firstDayOfWeek","showButtonBar","readonlyInput","minDate","maxDate","ngModelChange"],["inputId","basic","formControlName","last_events_date_start_before","dateFormat","dd/mm/yy",3,"firstDayOfWeek","showButtonBar","readonlyInput","maxDate","minDate","ngModelChange"],["inputId","basic","formControlName","last_events_date_end_before","dateFormat","dd/mm/yy",3,"firstDayOfWeek","showButtonBar","readonlyInput","maxDate","minDate","ngModelChange"],["inputId","basic","formControlName","next_events_date_start_before","dateFormat","dd/mm/yy",3,"firstDayOfWeek","showButtonBar","readonlyInput","minDate","ngModelChange"],["inputId","basic","formControlName","next_events_date_end_before","dateFormat","dd/mm/yy",3,"firstDayOfWeek","showButtonBar","readonlyInput","minDate","ngModelChange"],["name","group1","inputId","auto-events","formControlName","intersect_last_event",1,"mt-1",3,"binary","onChange"],[2,"height","33px"],["name","group1","inputId","auto-events","formControlName","intersect_next_event",1,"mt-1",3,"binary","onChange"],[1,"page__table","events-reports-page"],["class","row stiky-edit",4,"ngIf"],[1,"table-pagination-preloader"],["selectionMode","single",1,"table-full-loading","events-reports",3,"rows","value","globalFilterFields","selection","selectionChange"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["class","pagination-preloader pagination-preloader_bord","style","margin-top: 5rem;",4,"ngIf"],["class","paginator-wrapper",3,"hidden",4,"ngIf"],["class","paginator-return-pagination",4,"ngIf"],[1,"row","stiky-edit"],[1,"col-10"],[1,"ml-auto",3,"model"],[1,"bord-all"],["rowspan","3",1,"text-center","bord-top","bord-left","bord-dark",2,"width","5%"],["rowspan","3",1,"bord-dark","bord-top","sort-label",2,"width","15%",3,"click"],[3,"value"],["colspan","5",1,"bord","text-center","dark-two","bord-top",2,"width","40%"],[4,"ngIf"],["colspan","3",1,"bord","text-center","bord-top","dark",2,"width","40%"],[1,"bord","text-center","dark-two",2,"width","10%"],[1,"text-center","dark-two","sort-label",2,"width","10%",3,"click"],[1,"text-center","dark-two",2,"width","10%"],[1,"bord","text-center","dark",2,"width","10%"],[1,"text-center","dark","sort-label",2,"width","10%",3,"click"],[1,"text-center","dark","border-right","sort-label",2,"width","10%",3,"click"],[1,"text-center","bord-dark",2,"width","5%"],[1,"event-item","justify-content-center"],[1,"table-comment","small-comment","bord-dark",2,"width","15%"],[1,"event-item","justify-content-center","hovered-info"],["target","_blank",3,"routerLink"],[1,"full-comment","full-comment_big"],[1,"col-md-5"],[4,"ngFor","ngForOf"],["target","_blank",3,"href"],[1,"col-md-7"],["class","pi pi-check text-success",4,"ngIf"],["class","pi pi-times text-danger",4,"ngIf"],[1,"text-center","bord","dark-two","no-padding",2,"width","10%"],[1,"event-item","event-type-name"],[1,"text-center","dark-two","no-padding",2,"width","10%"],[1,"event-item"],[1,"table-comment","text-center","dark-two","no-padding",2,"width","10%"],[1,"text-center","bord","dark","no-padding",2,"width","10%"],["class","report-event tesdt",3,"impression-neutral","impression-positive","impression-negative","is-selected","click",4,"ngFor","ngForOf"],[1,"text-center","dark","no-padding",2,"width","10%"],["class","report-event",3,"impression-neutral","impression-positive","impression-negative","is-selected","click",4,"ngFor","ngForOf"],[1,"text-center","dark","border-right","no-padding",2,"width","10%"],[1,"pi","pi-check","text-success"],[1,"pi","pi-times","text-danger"],["class","report-event","tooltipStyleClass","white-tool-tip","tooltipPosition","right",3,"pTooltip","impression-neutral","impression-positive","impression-negative","is-selected","click",4,"ngFor","ngForOf"],["tooltipStyleClass","white-tool-tip","tooltipPosition","right",1,"report-event",3,"pTooltip","click"],[1,"report-event",3,"click"],[1,"small-comment","hovered-info"],[3,"moveLeft",4,"ngIf"],[3,"moveLeft"],[1,"full-comment","description-modal"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"report-event","tesdt",3,"click"],["target","_blank","tooltipStyleClass","white-tool-tip","tooltipPosition","right",3,"routerLink","pTooltip"],[1,"text-center","p-4"],["class","pi pi-spin pi-spinner","style","font-size: 2.25rem",4,"ngIf"],[1,"pi","pi-spin","pi-spinner",2,"font-size","2.25rem"],[1,"pagination-preloader","pagination-preloader_bord",2,"margin-top","5rem"],[1,"paginator-wrapper"],[3,"rows","totalRecords","onPageChange"],["paginator",""],["type","button","styleClass","p-button-text",1,"paginator-all",3,"click"],[1,"paginator-return-pagination"],["type","button","styleClass","p-button-text",3,"click"],["class","report-event-group",4,"ngIf"],[1,"bord","text-center","dark","no-padding",2,"width","10%"],[1,"report-event-group"],[3,"class",4,"ngFor","ngForOf"],[1,"report-event","pl-1","unhide"],["class","report-event hide",3,"impression-neutral","impression-positive","impression-negative","is-selected","click",4,"ngFor","ngForOf"],[1,"report-event","hide",3,"click"],["class","pl-2","target","_blank","tooltipStyleClass","white-tool-tip","tooltipPosition","right",3,"routerLink","pTooltip",4,"ngIf"],["target","_blank","tooltipStyleClass","white-tool-tip","tooltipPosition","right",1,"pl-2",3,"routerLink","pTooltip"],[1,"report-event"],["class","report-event hovered-info",3,"impression-neutral","impression-positive","impression-negative","is-selected","click",4,"ngFor","ngForOf"],[1,"report-event","hovered-info",3,"click"],[1,"small-comment"],["class","report-event",3,"impression-neutral","impression-positive","impression-negative","is-selected",4,"ngFor","ngForOf"],[3,"ngSwitch","click"],["class","report-event hide",3,"is-selected","click",4,"ngFor","ngForOf"],["class","report-event",3,"is-selected","click",4,"ngFor","ngForOf"]],template:function(i,t){if(1&i){const r=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"pek-module-icon",3),e.TgZ(4,"h1"),e._uU(5),e.ALo(6,"date"),e.ALo(7,"date"),e.qZA()()()(),e.TgZ(8,"div",4)(9,"div",5)(10,"div",6)(11,"div",7),e._UZ(12,"div",8),e.qZA(),e.TgZ(13,"button",9),e.NdJ("click",function(){return t.toggleFilterVisibility()}),e.qZA(),e.TgZ(14,"form",10)(15,"div",11)(16,"div",12)(17,"div",13)(18,"label"),e._uU(19,"Company"),e.qZA(),e.TgZ(20,"pek-company-picker",14),e.NdJ("selectCompany",function(a){return t.onSelectCompany(a)}),e.qZA()()(),e.TgZ(21,"div",12)(22,"div",13)(23,"label"),e._uU(24,"Event Types"),e.qZA(),e.TgZ(25,"pek-crm-multi-event-types-picker",15),e.NdJ("selectEventTypes",function(a){return t.onSelectEventTypes(a)}),e.qZA()()(),e.TgZ(26,"div",12)(27,"div",13)(28,"label"),e._uU(29,"Sales Chain Statuses"),e.qZA(),e.TgZ(30,"pek-multi-sales-status-picker",16),e.NdJ("selectNumericStatuses",function(a){return t.onSelectStatuses(a)}),e.qZA()()(),e.TgZ(31,"div",12)(32,"div",17)(33,"div",18)(34,"label"),e._uU(35,"Employees"),e.qZA(),e.TgZ(36,"pek-crm-employee-picker",19),e.NdJ("selectEmployees",function(a){return t.onSelectEmployees(a)}),e.qZA()()()(),e.TgZ(37,"div",20)(38,"div",13)(39,"label",21),e._uU(40,"Hide sales chain status"),e.qZA(),e.TgZ(41,"p-checkbox",22),e.NdJ("onChange",function(){return t.search()}),e.qZA()(),e.TgZ(42,"div",23)(43,"label"),e._uU(44,"Group Linked Events"),e.qZA(),e._UZ(45,"p-checkbox",24),e.qZA(),e.TgZ(46,"div",23)(47,"label"),e._uU(48,"Enable Status Of Result"),e.qZA(),e._UZ(49,"p-checkbox",25),e.qZA()()(),e.TgZ(50,"div",26)(51,"div",12)(52,"div",13)(53,"label"),e._uU(54,"Company Category"),e.qZA(),e.TgZ(55,"pek-multi-company-category-picker",27),e.NdJ("selectCompanyCategoriesIds",function(a){return t.onSelectCompanyCategory(a)}),e.qZA()()(),e.TgZ(56,"div",12)(57,"div",13)(58,"label"),e._uU(59,"Country"),e.qZA(),e.TgZ(60,"pek-multi-countries-picker",28),e.NdJ("selectCountries",function(a){return t.onSelectCountry(a)}),e.qZA()()(),e.TgZ(61,"div",12)(62,"div",13)(63,"label"),e._uU(64,"Region"),e.qZA(),e.TgZ(65,"pek-crm-multi-region-picker",29),e.NdJ("regionsSelected",function(a){return t.onSelectRegion(a)}),e.qZA()()(),e.TgZ(66,"div",12)(67,"div",13)(68,"label"),e._uU(69,"Sub Region"),e.qZA(),e.TgZ(70,"pek-crm-multi-region-tree-picker",30),e.NdJ("subRegionsSelected",function(a){return t.regionSubSelected(a)}),e.qZA()()(),e.TgZ(71,"div",12)(72,"div",13)(73,"label",21),e._uU(74,"Filtered by companies of event "),e.qZA(),e.TgZ(75,"p-checkbox",31,32),e.NdJ("onChange",function(){e.CHM(r);const a=e.MAs(76);return e.KtG(t.searchEvent(a))}),e.qZA()()(),e._UZ(77,"div",33),e.qZA(),e.TgZ(78,"div",26)(79,"div",34)(80,"div",13)(81,"label"),e._uU(82,"Event Date Filter"),e.qZA(),e.TgZ(83,"p-multiSelect",35),e.NdJ("ngModelChange",function(a){return t.selectedFilters=a})("ngModelChange",function(a){return t.updated(a)}),e.qZA()()(),e.TgZ(84,"div",34),e.YNc(85,wc,4,4,"div",36),e.YNc(86,Dc,4,4,"div",36),e.YNc(87,kc,4,5,"div",36),e.YNc(88,Zc,4,5,"div",36),e.qZA(),e.TgZ(89,"div",34),e.YNc(90,Rc,4,5,"div",36),e.YNc(91,Mc,4,5,"div",36),e.YNc(92,Ic,4,4,"div",36),e.YNc(93,Pc,4,4,"div",36),e.qZA(),e.TgZ(94,"div",34),e.YNc(95,Nc,4,1,"div",36),e.YNc(96,Fc,4,0,"div",36),e.YNc(97,Uc,4,1,"div",36),e.qZA()()()(),e.YNc(98,_d,11,11,"div",37),e.qZA()(),e.YNc(99,pp,11,11,"ng-template",null,38,e.W1O)}if(2&i){const r=e.MAs(100);e.xp6(3),e.Q6J("module","contacts-events")("isActive",!0),e.xp6(2),e.AsE("Events Reports Date: ",e.xi3(6,47,t.today,"dd.MM")," Time: ",e.xi3(7,50,t.today,"HH:mm"),""),e.xp6(3),e.ekj("is-all-active",t.isShowAll),e.xp6(2),e.ekj("filters-visibility_hide",t.isHideFilters),e.xp6(3),e.ekj("pi-angle-double-up",!t.isHideFilters)("pi-angle-double-down",t.isHideFilters),e.Q6J("pTooltip",t.isHideFilters?"Expand Filters":"Collapse Filters"),e.xp6(1),e.Q6J("formGroup",t.searchForm),e.xp6(6),e.Q6J("currentCompanyId",t.searchForm.get("id").value),e.xp6(5),e.Q6J("currentEventTypes",t.searchForm.get("categories_ids").value),e.xp6(5),e.Q6J("currentSelectedStatuses",t.searchForm.get("chain_status_ids").value),e.xp6(6),e.Q6J("currentEmployeeIds",t.searchForm.get("employees_ids").value),e.xp6(5),e.Q6J("binary",!0),e.xp6(4),e.Q6J("binary",!0),e.xp6(4),e.Q6J("binary",!0),e.xp6(6),e.Q6J("currentCompanyCategoriesIds",t.searchForm.get("company_category_ids").value),e.xp6(5),e.Q6J("currentCountries",t.searchForm.get("countries").value)("showClear",!0),e.xp6(5),e.Q6J("isDisabled",!t.searchForm.get("countries").value||0===t.searchForm.get("countries").value.length)("countrySelected",t.searchForm.get("countries").value),e.xp6(5),e.Q6J("isDisabled",!t.searchForm.get("regions").value||0===t.searchForm.get("regions").value.length)("regionsSelected",t.searchForm.get("regions").value),e.xp6(5),e.Q6J("binary",!0)("ngModel",t.isFilteredByEvent)("ngModelOptions",e.DdM(53,Ar)),e.xp6(8),e.Q6J("options",t.dateFilters)("ngModel",t.selectedFilters)("ngModelOptions",e.DdM(54,Ar)),e.xp6(2),e.Q6J("ngIf",t.isLastEventStartFilterOpen),e.xp6(1),e.Q6J("ngIf",t.isLastEventEndFilterOpen),e.xp6(1),e.Q6J("ngIf",t.isFeatureEventStartFilterOpen),e.xp6(1),e.Q6J("ngIf",t.isFeatureEventEndFilterOpen),e.xp6(2),e.Q6J("ngIf",t.isLastEventStartFilterOpen),e.xp6(1),e.Q6J("ngIf",t.isLastEventEndFilterOpen),e.xp6(1),e.Q6J("ngIf",t.isFeatureEventStartFilterOpen),e.xp6(1),e.Q6J("ngIf",t.isFeatureEventEndFilterOpen),e.xp6(2),e.Q6J("ngIf",t.isLastEventStartFilterOpen&&t.isLastEventEndFilterOpen),e.xp6(1),e.Q6J("ngIf",t.isLastEventStartFilterOpen&&t.isLastEventEndFilterOpen||t.isFeatureEventStartFilterOpen&&t.isFeatureEventEndFilterOpen&&(!t.isLastEventStartFilterOpen&&t.isLastEventEndFilterOpen||t.isLastEventStartFilterOpen&&!t.isLastEventEndFilterOpen)),e.xp6(1),e.Q6J("ngIf",t.isFeatureEventStartFilterOpen&&t.isFeatureEventEndFilterOpen),e.xp6(1),e.Q6J("ngIf",!t.searchForm.get("groupView").value)("ngIfElse",r)}},dependencies:[w.sg,w.O5,w.RF,w.n9,V.yS,P.zx,K.jx,E._Y,E.JJ,E.JL,E.sg,E.u,re.nm,Fn.u,E.On,we.XZ,Y.iA,oe.D,cr.D,bt.f,br.s,Er.P,Bt.i,bc.o,et.NU,dr.D,fr,hr,Ec.h,tt.F,Tr,w.uU],styles:['form[_ngcontent-%COMP%]{margin-top:-.25rem;margin-bottom:.25rem}.checkbox-big[_ngcontent-%COMP%]  .p-checkbox{width:2.375rem!important;height:2.25rem!important}.checkbox-big[_ngcontent-%COMP%]  .p-checkbox-box{width:2.375rem!important;height:2.25rem!important}.event-row-filters[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.event-row-filters[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]:first-child{width:100%}.events-filters[_ngcontent-%COMP%]  label{font-weight:500}.sort-label[_ngcontent-%COMP%]{cursor:pointer}.bord-right-none[_ngcontent-%COMP%]{border-right:0!important}.small-comment[_ngcontent-%COMP%]{position:relative;min-height:1.267rem}.small-comment[_ngcontent-%COMP%]:hover   .full-comment[_ngcontent-%COMP%]{opacity:1;pointer-events:initial}.full-comment[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:500;margin-bottom:.5rem}.full-comment[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]:nth-child(8){margin-bottom:0}.full-comment[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-weight:400}.full-comment_big[_ngcontent-%COMP%]{width:650px}.full-comment.description-modal[_ngcontent-%COMP%]{display:block;max-width:18.75rem}.table-comment[_ngcontent-%COMP%]{padding:10px;resize:none}.table-comment[_ngcontent-%COMP%]::-webkit-input-placeholder{font-size:16px}.events-reports[_ngcontent-%COMP%]  .p-treetable .p-treetable-tbody>tr.p-highlight tr, .events-reports[_ngcontent-%COMP%]  .p-datatable .p-datatable-tbody>tr.p-highlight tr{transition:none!important}.events-reports[_ngcontent-%COMP%]  .p-treetable .p-treetable-tbody>tr.p-highlight td, .events-reports[_ngcontent-%COMP%]  .p-datatable .p-datatable-tbody>tr.p-highlight td{background:transparent!important;transition:none!important}.events-reports[_ngcontent-%COMP%]  .p-datatable.p-datatable-hoverable-rows .p-datatable-tbody>tr:not(.p-highlight):hover tr{transition:none!important}.events-reports[_ngcontent-%COMP%]  .p-datatable.p-datatable-hoverable-rows .p-datatable-tbody>tr:not(.p-highlight):hover td{background:#e9ecef!important;color:#495057!important;transition:none!important}.hidden[_ngcontent-%COMP%]{display:none}.bord[_ngcontent-%COMP%]{border-left:1px solid #e9ecef!important}.bord-all[_ngcontent-%COMP%]{border:1px solid #e9ecef}h4[_ngcontent-%COMP%]{font-weight:500}h4[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-style:normal;font-weight:400}.dark[_ngcontent-%COMP%]{background:#e9e9e9!important;border-color:#c3cbd3!important}.bord-dark[_ngcontent-%COMP%]{border-color:#c3cbd3!important}.dark-two[_ngcontent-%COMP%]{background:#f3f3f3!important;border-color:#c3cbd3!important}.bord-top[_ngcontent-%COMP%]{border-top:1px solid #c3cbd3!important}.bord-right[_ngcontent-%COMP%]{border-right:1px solid #c3cbd3!important}  table,   tbody,   tr,   td,   .event-item{height:100%}  .event-item-col .report-event{border-bottom:1px solid #c3cbd3}  .event-item-col .report-event:last-child{border-bottom:none}  .event-item{display:flex;flex-direction:column;justify-content:space-between}  .event-type-name{white-space:nowrap}  .small-comment,   .info-line{min-height:1.25rem}  .info-line{margin-top:1rem}  .report-event{min-height:1.975rem;padding:.2rem}  .report-event:nth-child(2n){background-color:#e1e1e1}  .report-event-group{min-height:1.875rem}  .report-event-group .row-0:not(.is-selected){background-color:#0080002e!important}  .report-event-group .row-0 .report-event:nth-child(2n):not(.is-selected){background-color:#0080002e!important}  .report-event-group .row-1{background-color:#ffc1077a!important}  .report-event-group .row-1 .report-event:nth-child(2n){background-color:#ffc1077a!important}  .report-event-group .row-2{background-color:#002e722e!important}  .report-event-group .row-2 .report-event:nth-child(2n){background-color:#002e722e!important}  .report-event-group .row-3{background-color:#dc354563!important}  .report-event-group .row-3 .report-event:nth-child(2n){background-color:#dc354563!important}  .report-event-group .row-4{background-color:#1384964f!important}  .report-event-group .row-4 .report-event:nth-child(2n){background-color:#1384964f!important}  .empty-cell{min-height:1.25rem}  .hide{overflow:hidden;text-overflow:ellipsis}  .unhide{z-index:1;position:relative}  .no-padding{padding:0!important}  .event-type-name>a{padding:0 .5rem}  p-radiobutton label{margin-bottom:0!important}tr[_ngcontent-%COMP%]{border-bottom:.1875rem solid #495057}.impression-neutral[_ngcontent-%COMP%]{background-color:#f9f8bb!important}.impression-positive[_ngcontent-%COMP%]{background-color:#d2fad2!important}.impression-negative[_ngcontent-%COMP%]{background-color:#fab5bb!important}.impression-neutral-text[_ngcontent-%COMP%]{color:#f9f8bb!important;text-shadow:1px 1px 0 rgba(0,0,0,.3215686275)}.impression-positive-text[_ngcontent-%COMP%]{color:#d2fad2!important;text-shadow:1px 1px 0 rgba(0,0,0,.3215686275)}.impression-negative-text[_ngcontent-%COMP%]{color:#fab5bb!important;text-shadow:1px 1px 0 rgba(0,0,0,.3215686275)}.is-selected[_ngcontent-%COMP%]{background-color:#eff6ff!important}[_nghost-%COMP%]     .events-reports-page .p-datatable .p-datatable-thead>tr>th:before{content:"";background-color:#e9ecef;width:100%;height:100%;position:absolute;z-index:-1;left:0;top:0}[_nghost-%COMP%]     .events-reports-page .p-datatable .p-datatable-thead{position:sticky;top:0;z-index:2}[_nghost-%COMP%]     .events-reports-page.menu-opened .p-datatable .p-datatable-thead{top:5rem}[_nghost-%COMP%]     .events-reports-page .stiky-edit{position:sticky;top:0;z-index:3;background:white;padding:1rem}[_nghost-%COMP%]       .events-reports-page .p-datatable-wrapper{overflow:unset!important}[_nghost-%COMP%]       .events-reports-page -shadowcsshost   .p-datatable .p-datatable-thead{position:relative}[_nghost-%COMP%]       .events-reports-page -shadowcsshost   .p-datatable .p-datatable-thead:after{content:"";background-color:#002e72}[_nghost-%COMP%]       .events-reports-page -shadowcsshost   .p-datatable .p-datatable-thead:before{content:"";background-color:#002e72}']}),Be=(0,f.gn)([(0,ge.c)()],Be);var Sr=x(3900),Yt=x(8746);let up=(()=>{class n{constructor(t,r,o,a){this.dialogRef=t,this.fb=r,this.eventContactPersonService=o,this.eventContactPerson=a,this.isSaving=!1,this.form=this.fb.group({comment:[""]})}ngOnInit(){this.form.patchValue(this.eventContactPerson)}onSave(){this.form.valid&&(this.isSaving=!0,this.eventContactPersonService.update(this.eventContactPerson.id,this.form.value).pipe((0,Yt.x)(()=>this.isSaving=!1)).subscribe(t=>{this.dialogRef.close(t)}))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Z.so),e.Y36(E.qu),e.Y36(Qn),e.Y36(Z.WI))},n.\u0275cmp=e.Xpm({type:n,selectors:[["pek-edit-crm-event-contact-person"]],decls:12,vars:7,consts:[[1,"modal-header"],[1,"modal-header__title"],[3,"formGroup"],[1,"form-group"],["for","comment"],["id","comment","pInputTextarea","","formControlName","comment",3,"rows","autoResize"],[1,"justify-content-between"],["pButton","","type","button","label","Cancel",1,"p-button-danger",3,"mat-dialog-close"],["pButton","","type","button",1,"p-button-success",3,"label","loading","disabled","click"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"h2",1),e._uU(2," Edit Event Contact Person "),e.qZA()(),e.TgZ(3,"mat-dialog-content")(4,"form",2)(5,"div",3)(6,"label",4),e._uU(7,"Comment"),e.qZA(),e._UZ(8,"textarea",5),e.qZA()()(),e.TgZ(9,"mat-dialog-actions",6),e._UZ(10,"button",7),e.TgZ(11,"button",8),e.NdJ("click",function(){return r.onSave()}),e.qZA()()),2&t&&(e.xp6(4),e.Q6J("formGroup",r.form),e.xp6(4),e.Q6J("rows",2)("autoResize",!0),e.xp6(2),e.Q6J("mat-dialog-close",!1),e.xp6(1),e.Q6J("label","Save")("loading",r.isSaving)("disabled",r.form.invalid))},dependencies:[P.Hq,E._Y,E.Fj,E.JJ,E.JL,E.sg,E.u,Z.ZT,Z.xY,Z.H8,ke.g]}),n})(),Qn=(()=>{class n{constructor(t,r){this.httpClient=t,this.dialog=r,this.API_URL=ue.N.base_url+ue.N.business_partners_url,this.url="event_contact_persons/"}getById(t){return this.httpClient.get(this.API_URL+this.url+t+"/").pipe((0,z.U)(r=>r.data))}get(t){let r="";return t&&t.forEach((o,a)=>{r+=a>0?"&"+o.name+"="+o.value:"?"+o.name+"="+o.value}),this.httpClient.get(this.API_URL+this.url+"all/"+r).pipe((0,z.U)(o=>o.data))}create(t){return this.httpClient.post(this.API_URL+this.url,t).pipe((0,z.U)(r=>r.data))}update(t,r){return this.httpClient.patch(this.API_URL+this.url+t+"/",r).pipe((0,z.U)(o=>o.data))}delete(t){return this.httpClient.delete(this.API_URL+this.url+t+"/")}openEditModal(t){return this.dialog.open(up,{width:"35rem",height:"auto",data:t,autoFocus:!1,panelClass:"modal-overflow-visible",enterAnimationDuration:"250ms"}).afterClosed()}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Ct.eN),e.LFG(Z.uw))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function fp(n,i){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.hij(" ",t.first_name+" "+t.last_name," ")}}function mp(n,i){if(1&n&&(e.TgZ(0,"h4"),e._uU(1," Employee: "),e.YNc(2,fp,2,1,"span",30),e.qZA()),2&n){const t=e.oxw(3);e.xp6(2),e.Q6J("ngForOf",t.event.employee)}}function hp(n,i){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.hij(" ",t.first_name+" "+t.last_name,", ")}}function gp(n,i){if(1&n&&(e.TgZ(0,"h4"),e._uU(1," Employees: "),e.YNc(2,hp,2,1,"span",30),e.qZA()),2&n){const t=e.oxw(3);e.xp6(2),e.Q6J("ngForOf",t.event.employee)}}function vp(n,i){1&n&&(e.TgZ(0,"h4"),e._uU(1," Employee: "),e.TgZ(2,"span"),e._uU(3," Not Related "),e.qZA()())}function _p(n,i){if(1&n&&(e.TgZ(0,"div",28)(1,"h4"),e._uU(2,"Name: "),e.TgZ(3,"span"),e._uU(4),e.qZA()(),e.TgZ(5,"h4"),e._uU(6,"Event Start: "),e.TgZ(7,"span"),e._uU(8),e.ALo(9,"date"),e.qZA()(),e.TgZ(10,"h4"),e._uU(11,"Event End: "),e.TgZ(12,"span"),e._uU(13),e.ALo(14,"date"),e.qZA()(),e.TgZ(15,"h4"),e._uU(16,"Event Description: "),e.TgZ(17,"span"),e._uU(18),e.qZA()(),e.YNc(19,mp,3,1,"h4",29),e.YNc(20,gp,3,1,"h4",29),e.YNc(21,vp,4,0,"h4",29),e.qZA()),2&n){const t=e.oxw(2);e.xp6(4),e.Oqu(t.event.event_type.name),e.xp6(4),e.Oqu(e.xi3(9,7,t.event.start,"dd/MM/yyyy, HH:mm")),e.xp6(5),e.Oqu(e.xi3(14,10,t.event.end,"dd/MM/yyyy, HH:mm")),e.xp6(5),e.Oqu(t.event.description),e.xp6(1),e.Q6J("ngIf",1===t.event.employee.length),e.xp6(1),e.Q6J("ngIf",t.event.employee.length>1),e.xp6(1),e.Q6J("ngIf",0===t.event.employee.length)}}function yp(n,i){if(1&n&&(e.TgZ(0,"div",25)(1,"div",26),e.YNc(2,_p,22,13,"div",27),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",t.event)}}function Cp(n,i){1&n&&(e.TgZ(0,"p",36),e._uU(1,"Choose the Company to edit"),e.qZA())}function bp(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",31),e.YNc(1,Cp,2,0,"p",32),e.TgZ(2,"p-checkbox",33),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.enableColors=o)}),e.qZA(),e._UZ(3,"p-menubar",34),e.TgZ(4,"button",35),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onAddCompanyToEvent())}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.selectedEventCompany),e.xp6(1),e.Q6J("binary",!0)("ngModel",t.enableColors),e.xp6(1),e.ekj("disabled",!t.selectedEventCompany),e.Q6J("model",t.eventCompanyMenuItems)}}function Ep(n,i){1&n&&(e.TgZ(0,"tr")(1,"th",37),e._uU(2,"#"),e.qZA(),e.TgZ(3,"th",38),e._uU(4,"Name"),e.qZA(),e.TgZ(5,"th",39),e._uU(6,"Comment"),e.qZA(),e.TgZ(7,"th",40),e._uU(8,"Is Done"),e.qZA()())}function Tp(n,i){1&n&&e._UZ(0,"i",46)}function xp(n,i){if(1&n&&(e.TgZ(0,"tr",41)(1,"td",42),e._uU(2),e.qZA(),e.TgZ(3,"td")(4,"a",43),e._uU(5),e.qZA()(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td",42)(9,"div",44),e.YNc(10,Tp,1,0,"i",45),e.qZA()()()),2&n){const t=i.$implicit,r=i.rowIndex,o=e.oxw(),a=e.MAs(39);e.ekj("impression-neutral",o.enableColors&&t.is_done&&t.impression===o.Impression.NEUTRAL)("impression-positive",o.enableColors&&t.is_done&&t.impression===o.Impression.POSITIVE)("impression-negative",o.enableColors&&t.is_done&&t.impression===o.Impression.NEGATIVE),e.Q6J("pSelectableRow",t),e.xp6(2),e.Oqu(r+1),e.xp6(2),e.Q6J("routerLink","/crm/business-partners/company-page/"+t.company.id),e.xp6(1),e.hij(" ",t.company.name," "),e.xp6(2),e.hij(" ",t.comment," "),e.xp6(3),e.Q6J("ngIf",t.is_done)("ngIfElse",a)}}function Ap(n,i){1&n&&e._UZ(0,"i",49)}function Sp(n,i){1&n&&(e.TgZ(0,"span"),e._uU(1,"No Records Found"),e.qZA())}function wp(n,i){if(1&n&&(e.TgZ(0,"tr")(1,"td",47),e.YNc(2,Ap,1,0,"i",48),e.YNc(3,Sp,2,0,"span",29),e.qZA()()),2&n){const t=e.oxw();e.xp6(1),e.uIk("colspan",4),e.xp6(1),e.Q6J("ngIf",t.isLoading),e.xp6(1),e.Q6J("ngIf",!t.isLoading)}}function Dp(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",50),e.NdJ("click",function(){e.CHM(t),e.oxw();const o=e.MAs(19);return e.KtG(o.paginator=!1)}),e._uU(1," All "),e.qZA()}}function kp(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",51)(1,"p-button",50),e.NdJ("click",function(){e.CHM(t),e.oxw();const o=e.MAs(19);return e.KtG(o.paginator=!0)}),e._uU(2," Return pagination "),e.qZA()()}}function Zp(n,i){1&n&&(e.TgZ(0,"p",36),e._uU(1,"Choose the Contact Person to edit"),e.qZA())}function Rp(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",31),e.YNc(1,Zp,2,0,"p",32),e._UZ(2,"p-menubar",52),e.TgZ(3,"button",53),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onAddContactPerson())}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.selectedContactPerson),e.xp6(1),e.ekj("disabled",!t.selectedContactPerson),e.Q6J("model",t.contactPersonMenuItems)}}function Mp(n,i){1&n&&(e.TgZ(0,"tr")(1,"th",37),e._uU(2,"#"),e.qZA(),e.TgZ(3,"th",38),e._uU(4,"Name"),e.qZA(),e.TgZ(5,"th",39),e._uU(6,"Comment"),e.qZA(),e.TgZ(7,"th",40),e._uU(8,"Is Done"),e.qZA()())}function Ip(n,i){1&n&&e._UZ(0,"i",46)}function Pp(n,i){if(1&n&&(e.TgZ(0,"tr",41)(1,"td",37),e._uU(2),e.qZA(),e.TgZ(3,"td",38),e._uU(4),e.qZA(),e.TgZ(5,"td",39),e._uU(6),e.qZA(),e.TgZ(7,"td",40)(8,"div",44),e.YNc(9,Ip,1,0,"i",45),e.qZA()()()),2&n){const t=i.$implicit,r=i.rowIndex;e.oxw();const o=e.MAs(39);e.Q6J("pSelectableRow",t),e.xp6(2),e.Oqu(r+1),e.xp6(2),e.AsE(" ",t.contact_person.first_name," ",t.contact_person.last_name," "),e.xp6(2),e.hij(" ",t.comment," "),e.xp6(3),e.Q6J("ngIf",t.is_done)("ngIfElse",o)}}function Np(n,i){1&n&&e._UZ(0,"i",49)}function Fp(n,i){1&n&&(e.TgZ(0,"span"),e._uU(1,"No Records Found"),e.qZA())}function Up(n,i){if(1&n&&(e.TgZ(0,"tr")(1,"td",47),e.YNc(2,Np,1,0,"i",48),e.YNc(3,Fp,2,0,"span",29),e.qZA()()),2&n){const t=e.oxw();e.xp6(1),e.uIk("colspan",4),e.xp6(1),e.Q6J("ngIf",t.isLoading),e.xp6(1),e.Q6J("ngIf",!t.isLoading)}}function Op(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",50),e.NdJ("click",function(){e.CHM(t),e.oxw();const o=e.MAs(31);return e.KtG(o.paginator=!1)}),e._uU(1," All "),e.qZA()}}function qp(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",51)(1,"p-button",50),e.NdJ("click",function(){e.CHM(t),e.oxw();const o=e.MAs(31);return e.KtG(o.paginator=!0)}),e._uU(2," Return pagination "),e.qZA()()}}function Hp(n,i){1&n&&e._UZ(0,"i",54)}function Lp(n,i){1&n&&(e.TgZ(0,"div",55),e._UZ(1,"i",49),e.qZA())}let Jp=(()=>{class n{constructor(t,r,o,a,s,l,c){this.eventListService=t,this.route=r,this.router=o,this.modalService=a,this.eventCompanyService=s,this.eventContactPersonService=l,this.eventsListService=c,this.Impression=Bn.U,this.eventCompanyMenuItems=[{label:"Selected Company",items:[{label:"View Company",icon:"pi pi-eye",command:()=>this.onViewCompany()},{label:"Create Linked Event",icon:"pi pi-share-alt",command:()=>this.onCreateLinkedEvent()},{label:"Done",icon:"pi pi-check",command:()=>this.onDoneCompany()},{label:"Edit comment",icon:"pi pi-pencil",command:()=>this.onEditTechnology()},{label:"Remove",icon:"pi pi-trash",command:()=>this.onRemoveTechnology()}]}],this.contactPersonMenuItems=[{label:"Selected Contact Person",items:[{label:"Done",icon:"pi pi-check",command:()=>this.onDoneContactPerson()},{label:"Edit",icon:"pi pi-pencil",command:()=>this.onEditContactPerson()},{label:"Remove",icon:"pi pi-trash",command:()=>this.onRemoveContactPerson()}]}],this.isLoading=!0,this.destroy$=new L.x}ngOnInit(){this.getEvent()}getEvent(){this.route.paramMap.pipe((0,z.U)(t=>t.get("id")),(0,pe.b)(t=>this.eventId=+t),(0,Sr.w)(()=>this.eventListService.getById(this.eventId)),(0,J.R)(this.destroy$)).subscribe(t=>{this.event=t,this.selectedEventCompany&&(this.selectedEventCompany=t.on_companies.find(r=>r.id===this.selectedEventCompany.id),this.onEventCompanySelectionChange()),this.selectedContactPerson&&(this.selectedContactPerson=t.on_contacts.find(r=>r.id===this.selectedContactPerson.id),this.onEventContactPersonSelectionChange()),this.isLoading=!1})}onDoneCompany(){this.eventListService.openEventCompanySetStateModal(this.selectedEventCompany).subscribe(t=>{t&&(this.selectedEventCompany=null,this.getEvent())})}onEditTechnology(){this.selectedEventCompany&&this.eventCompanyService.openEditModal(this.selectedEventCompany).subscribe(t=>{t&&this.getEvent()})}onRemoveTechnology(){this.modalService.confirm("danger").subscribe(t=>{t&&(this.eventCompanyService.delete(this.selectedEventCompany.id).subscribe(()=>this.getEvent()),this.selectedEventCompany=null)})}onAddCompanyToEvent(){this.eventListService.openAddCompanyToEventModal(this.eventId).subscribe(t=>{t&&this.getEvent()})}onEventCompanySelectionChange(){this.eventCompanyMenuItems[0].items[2].label=this.selectedEventCompany?.is_done?"Edit result":"Done",this.eventCompanyMenuItems[0].items[0].disabled=!!this.selectedEventCompany?.is_done}onEventContactPersonSelectionChange(){this.contactPersonMenuItems[0].items[0].disabled=!!this.selectedContactPerson?.is_done}onDoneContactPerson(){this.modalService.confirm("success").subscribe(t=>{t&&this.eventContactPersonService.update(this.selectedContactPerson.id,{is_done:!0}).subscribe(()=>this.getEvent())})}onEditContactPerson(){this.selectedContactPerson&&this.eventContactPersonService.openEditModal(this.selectedContactPerson).subscribe(t=>{t&&this.getEvent()})}onRemoveContactPerson(){this.modalService.confirm("danger").subscribe(t=>{t&&(this.eventContactPersonService.delete(this.selectedContactPerson.id).subscribe(()=>this.getEvent()),this.selectedContactPerson=null)})}onAddContactPerson(){this.eventListService.openAddContactPersonToEventModal(this.eventId).subscribe(t=>{t&&this.getEvent()})}onCreateLinkedEvent(){this.eventListService.openCreateEventEventModal("create","withEmployee",this.event,this.selectedEventCompany.company.id,!0).subscribe(t=>{t&&this.getEvent()})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}onViewCompany(){this.router.navigate(["/crm/business-partners/company-page/",this.selectedEventCompany.company.id])}onEditEvent(){const t=this.event.employee&&this.event.employee.length>0;console.log("this.event",this.event),this.event.on_companies.forEach(r=>{r.company_id=r.company.id}),this.event.on_contacts.forEach(r=>{r.contact_person_id=r.contact_person.id}),this.eventsListService.openCreateEventEventModal("edit",t?"withEmployee":"withoutEmployee",this.event).subscribe(r=>{r&&this.getEvent()})}onRemoveEvent(){this.modalService.confirm("danger").subscribe(t=>{t&&this.eventsListService.delete(this.event.id).subscribe(()=>{})})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Je.T),e.Y36(V.gz),e.Y36(V.F0),e.Y36(ne.Z),e.Y36(Yn.c),e.Y36(Qn),e.Y36(Je.T))},n.\u0275cmp=e.Xpm({type:n,selectors:[["pek-crm-event-card"]],decls:42,vars:18,consts:[[1,"page"],[1,"page__header"],[1,"page__title"],[3,"module","isActive"],[1,"page__tools"],["pButton","","type","button","icon","pi pi-trash","label","Remove",1,"mr-2",3,"disabled","click"],["pButton","","type","button","icon","pi pi-pencil","label","Edit",1,"mr-2",3,"disabled","click"],[1,"page__content"],[1,"mb-4"],[1,"page__card","event-card","mb-4"],["class","event-card__info",4,"ngIf","ngIfElse"],[1,"page__card","mb-4","card-event"],[1,"page__table"],["selectionMode","single","scrollHeight","calc(100vh - 18.8rem)",3,"scrollable","paginator","rows","selection","value","selectionChange"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pTemplate","paginatorright"],["class","paginator-return-pagination",4,"ngIf"],[1,"page__card"],["st",""],["notGrouped",""],["infoLoading",""],[1,"event-card__info"],[1,"row"],["class","col-md-5",4,"ngIf"],[1,"col-md-5"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"d-flex"],["class","subtitle",4,"ngIf"],["name","group1","label","Enable Status Of Result","inputId","enableColors",1,"checkbox-big","ml-auto","event-statuses",3,"binary","ngModel","ngModelChange"],[1,"ml-2",3,"model"],["pButton","","type","button","icon","pi pi-plus","label","Add Company",1,"ml-2",3,"click"],[1,"subtitle"],[1,"text-center",2,"width","5%"],[2,"width","35%"],[2,"width","45%"],[1,"text-center",2,"width","15%"],[3,"pSelectableRow"],[1,"text-center"],[3,"routerLink"],[1,"icons"],["class","pi pi-check text-success",4,"ngIf","ngIfElse"],[1,"pi","pi-check","text-success"],[1,"text-center","p-4"],["class","pi pi-spin pi-spinner","style","font-size: 2.25rem",4,"ngIf"],[1,"pi","pi-spin","pi-spinner",2,"font-size","2.25rem"],["type","button","styleClass","p-button-text",3,"click"],[1,"paginator-return-pagination"],[1,"ml-auto",3,"model"],["pButton","","type","button","icon","pi pi-plus","label","Add Contact Person",1,"ml-2",3,"click"],[1,"pi","pi-times","text-danger"],[1,"info-loading"]],template:function(t,r){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"pek-module-icon",3),e.TgZ(4,"h1"),e._uU(5,"Event Card"),e.qZA()(),e.TgZ(6,"div",4)(7,"button",5),e.NdJ("click",function(){return r.onRemoveEvent()}),e.qZA(),e.TgZ(8,"button",6),e.NdJ("click",function(){return r.onEditEvent()}),e.qZA()()()(),e.TgZ(9,"div",7)(10,"h2",8),e._uU(11,"Event Information"),e.qZA(),e.TgZ(12,"div",9),e.YNc(13,yp,3,1,"div",10),e.qZA(),e.TgZ(14,"h2",8),e._uU(15,"Event Companies"),e.qZA(),e.TgZ(16,"div",11)(17,"div",12)(18,"p-table",13,14),e.NdJ("selectionChange",function(a){return r.selectedEventCompany=a})("selectionChange",function(){return r.onEventCompanySelectionChange()}),e.YNc(20,bp,5,6,"ng-template",15),e.YNc(21,Ep,9,0,"ng-template",16),e.YNc(22,xp,11,13,"ng-template",17),e.YNc(23,wp,4,3,"ng-template",18),e.YNc(24,Dp,2,0,"ng-template",19),e.qZA()(),e.YNc(25,kp,3,0,"div",20),e.qZA(),e.TgZ(26,"h2",8),e._uU(27,"Contact Persons"),e.qZA(),e.TgZ(28,"div",21)(29,"div",12)(30,"p-table",13,22),e.NdJ("selectionChange",function(a){return r.selectedContactPerson=a})("selectionChange",function(){return r.onEventContactPersonSelectionChange()}),e.YNc(32,Rp,4,4,"ng-template",15),e.YNc(33,Mp,9,0,"ng-template",16),e.YNc(34,Pp,10,7,"ng-template",17),e.YNc(35,Up,4,3,"ng-template",18),e.YNc(36,Op,2,0,"ng-template",19),e.qZA()(),e.YNc(37,qp,3,0,"div",20),e.qZA()(),e.YNc(38,Hp,1,0,"ng-template",null,23,e.W1O),e.YNc(40,Lp,2,0,"ng-template",null,24,e.W1O)),2&t){const o=e.MAs(19),a=e.MAs(31),s=e.MAs(41);e.xp6(3),e.Q6J("module","contacts-events")("isActive",!0),e.xp6(4),e.Q6J("disabled",r.isLoading),e.xp6(1),e.Q6J("disabled",r.isLoading),e.xp6(5),e.Q6J("ngIf",!r.isLoading)("ngIfElse",s),e.xp6(5),e.Q6J("scrollable",!0)("paginator",(null==r.event?null:r.event.on_companies.length)>0)("rows",10)("selection",r.selectedEventCompany)("value",null==r.event?null:r.event.on_companies),e.xp6(7),e.Q6J("ngIf",!o.paginator&&!r.isLoading&&(null==r.event?null:r.event.on_companies.length)>0),e.xp6(5),e.Q6J("scrollable",!0)("paginator",(null==r.event?null:r.event.on_contacts.length)>0)("rows",10)("selection",r.selectedContactPerson)("value",null==r.event?null:r.event.on_contacts),e.xp6(7),e.Q6J("ngIf",!a.paginator&&!r.isLoading&&(null==r.event?null:r.event.on_contacts.length)>0)}},dependencies:[w.sg,w.O5,V.yS,P.Hq,P.zx,K.jx,E.JJ,re.nm,E.On,we.XZ,Y.iA,Y.Ei,oe.D,w.uU],styles:[".event-card[_ngcontent-%COMP%]{padding:1rem 1.75rem 1.125rem;line-height:1.4}.event-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:.625rem;font-weight:500;font-size:1.0625rem}.event-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]:last-child{margin-bottom:0}.event-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:400}.icons[_ngcontent-%COMP%]{position:relative;top:1px}h2[_ngcontent-%COMP%]{font-size:1.1875rem;font-weight:600}.card-event[_ngcontent-%COMP%]  .p-menubar .p-submenu-list{width:13.5rem!important}.info-loading[_ngcontent-%COMP%]{width:100%;height:9.935rem;display:flex;align-items:center;justify-content:center}.impression-neutral[_ngcontent-%COMP%]{background-color:#f9f8bb!important}.impression-positive[_ngcontent-%COMP%]{background-color:#d2fad2!important}.impression-negative[_ngcontent-%COMP%]{background-color:#fab5bb!important}"]}),n})();var Qt=x(3973),Bp=x(5757),Yp=x(5288),Qp=x(609);let Vp=(()=>{class n{constructor(t,r,o){this.companyFileService=t,this.dialogRef=r,this.data=o,this.isSaving=!1,this.uploadFile=null}ngOnInit(){}onSave(){this.isSaving=!0;const t=new FormData;t.append("file",this.uploadFile),t.append("company",this.data.companyId.toString()),this.companyFileService.create(t).pipe((0,Yt.x)(()=>this.isSaving=!1)).subscribe(r=>this.dialogRef.close(r))}onSelectFiles(t){t&&(this.uploadFile=t[0])}onRemoveFile(){this.uploadFile=null}fileAdded(t){this.uploadFile=t,this.onSave()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(wr),e.Y36(Z.so),e.Y36(Z.WI))},n.\u0275cmp=e.Xpm({type:n,selectors:[["pek-add-company-file-modal"]],decls:9,vars:3,consts:[["pekPasteScreenImage","",3,"imageAdded"],[1,"modal-header"],[1,"modal-header__title"],[3,"selectFile","removeFile"],[1,"justify-content-between"],["pButton","","type","button","label","Cancel",1,"p-button-danger",3,"mat-dialog-close"],["pButton","","type","button","label","Add File",1,"p-button-success",3,"disabled","loading","click"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0),e.NdJ("imageAdded",function(a){return r.fileAdded(a)}),e.TgZ(1,"div",1)(2,"h2",2),e._uU(3," Add File To Company "),e.qZA()(),e.TgZ(4,"mat-dialog-content")(5,"pek-upload-file",3),e.NdJ("selectFile",function(a){return r.onSelectFiles(a)})("removeFile",function(){return r.onRemoveFile()}),e.qZA()(),e.TgZ(6,"mat-dialog-actions",4),e._UZ(7,"button",5),e.TgZ(8,"button",6),e.NdJ("click",function(){return r.onSave()}),e.qZA()()()),2&t&&(e.xp6(7),e.Q6J("mat-dialog-close",!1),e.xp6(1),e.Q6J("disabled",!r.uploadFile)("loading",r.isSaving))},dependencies:[P.Hq,Z.ZT,Z.xY,Z.H8,Yp.R,Qp.U]}),n})(),wr=(()=>{class n{constructor(t,r){this.httpClient=t,this.dialog=r,this.API_URL=ue.N.base_url+ue.N.business_partners_url,this.url="company_files/"}get(t){let r="";return t&&t.forEach((o,a)=>{r+=a>0?"&"+o.name+"="+o.value:"?"+o.name+"="+o.value}),this.httpClient.get(this.API_URL+this.url+"all/"+r).pipe((0,z.U)(o=>o.data))}getById(t){return this.httpClient.get(this.API_URL+this.url+t+"/").pipe((0,z.U)(r=>r.data))}create(t){return this.httpClient.post(this.API_URL+this.url,t).pipe((0,z.U)(r=>r.data))}update(t){return this.httpClient.put(this.API_URL+this.url+t.id+"/",t).pipe((0,z.U)(r=>r.data))}downloadFile(t){return this.httpClient.get(this.API_URL+this.url+t.id+"/download/",{responseType:"blob"})}delete(t){return this.httpClient.delete(this.API_URL+this.url+t+"/")}openAddFileModal(t){return this.dialog.open(Vp,{width:"35rem",height:"auto",data:{companyId:t},autoFocus:!1,enterAnimationDuration:"250ms"}).afterClosed()}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Ct.eN),e.LFG(Z.uw))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var zp=x(5079);function Gp(n,i){1&n&&(e.TgZ(0,"span"),e._uU(1,","),e.qZA())}function Wp(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"span"),e._uU(2),e.qZA(),e.YNc(3,Gp,2,0,"span",36),e.BQk()),2&n){const t=i.$implicit,r=i.index,o=e.oxw(2);e.xp6(2),e.Oqu(t.name),e.xp6(1),e.Q6J("ngIf",r!==o.company.categories.length-1)}}function jp(n,i){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(t.company.country.name)}}function $p(n,i){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(t.company.region.name)}}function Kp(n,i){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(t.company.sub_region.name)}}function Xp(n,i){if(1&n&&(e.TgZ(0,"p")(1,"span"),e._uU(2),e.qZA()()),2&n){const t=i.$implicit;e.xp6(2),e.Oqu(t.name)}}function eu(n,i){1&n&&e._UZ(0,"i",39)}function tu(n,i){1&n&&e._UZ(0,"i",40)}function nu(n,i){if(1&n&&(e.TgZ(0,"div",30)(1,"div",31)(2,"div",32)(3,"h4"),e._uU(4,"Name: "),e.TgZ(5,"span"),e._uU(6),e.qZA()(),e.TgZ(7,"h4"),e._uU(8," Category: "),e.YNc(9,Wp,4,2,"ng-container",33),e.qZA(),e.TgZ(10,"h4"),e._uU(11,"Address: "),e.TgZ(12,"span"),e._uU(13),e.qZA()(),e.TgZ(14,"h4"),e._uU(15,"Email: "),e.TgZ(16,"span"),e._uU(17),e.qZA()(),e.TgZ(18,"h4"),e._uU(19,"Phone Number: "),e.TgZ(20,"span"),e._uU(21),e.qZA()(),e.TgZ(22,"h4"),e._uU(23,"Website: "),e.TgZ(24,"span")(25,"a",34),e._uU(26),e.qZA()()(),e.TgZ(27,"h4"),e._uU(28,"Tax Number: "),e.TgZ(29,"span"),e._uU(30),e.qZA()(),e.TgZ(31,"h4"),e._uU(32,"Register Number: "),e.TgZ(33,"span"),e._uU(34),e.qZA()()(),e.TgZ(35,"div",35)(36,"h4"),e._uU(37,"Nomenclature: "),e.TgZ(38,"span"),e._uU(39),e.qZA()(),e.TgZ(40,"h4"),e._uU(41,"Description: "),e.TgZ(42,"span"),e._uU(43),e.qZA()(),e.TgZ(44,"h4"),e._uU(45," Country: "),e.YNc(46,jp,2,1,"span",36),e.qZA(),e.TgZ(47,"h4"),e._uU(48," Region: "),e.YNc(49,$p,2,1,"span",36),e.qZA(),e.TgZ(50,"h4"),e._uU(51," Sub Region: "),e.YNc(52,Kp,2,1,"span",36),e.qZA(),e.TgZ(53,"h4"),e._uU(54,"Connected Companies:"),e.qZA(),e.YNc(55,Xp,3,1,"p",33),e.TgZ(56,"h4"),e._uU(57," Dont have VAT: "),e.YNc(58,eu,1,0,"i",37),e.YNc(59,tu,1,0,"i",38),e.qZA()()()()),2&n){const t=e.oxw();e.xp6(6),e.Oqu(t.company.name),e.xp6(3),e.Q6J("ngForOf",t.company.categories),e.xp6(4),e.Oqu(t.company.address),e.xp6(4),e.Oqu(t.company.email),e.xp6(4),e.Oqu(t.company.phone_number),e.xp6(4),e.Q6J("href",t.company.website,e.LSH),e.xp6(1),e.Oqu(t.company.website),e.xp6(4),e.Oqu(t.company.tax_number),e.xp6(4),e.Oqu(t.company.registration_number),e.xp6(5),e.Oqu(t.company.supplier_nomenclature),e.xp6(4),e.Oqu(t.company.comment),e.xp6(3),e.Q6J("ngIf",t.company.country),e.xp6(3),e.Q6J("ngIf",t.company.region),e.xp6(3),e.Q6J("ngIf",t.company.sub_region),e.xp6(3),e.Q6J("ngForOf",t.company.linked_companies),e.xp6(3),e.Q6J("ngIf",t.company.has_not_vat),e.xp6(1),e.Q6J("ngIf",!t.company.has_not_vat)}}function iu(n,i){1&n&&(e.TgZ(0,"p",45),e._uU(1,"Choose the Contact Person to edit"),e.qZA())}function ru(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",41),e.YNc(1,iu,2,0,"p",42),e._UZ(2,"p-menubar",43),e.TgZ(3,"button",44),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onAddContactPerson())}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.selectedContactPerson),e.xp6(1),e.ekj("disabled",!t.selectedContactPerson),e.Q6J("model",t.contactPersonMenuItems),e.xp6(1),e.Q6J("disabled",t.isLoading)}}function ou(n,i){1&n&&(e.TgZ(0,"tr")(1,"th",46),e._uU(2,"#"),e.qZA(),e.TgZ(3,"th",47),e._uU(4,"Name"),e.qZA(),e.TgZ(5,"th",47),e._uU(6,"Email"),e.qZA(),e.TgZ(7,"th",47),e._uU(8,"Position"),e.qZA(),e.TgZ(9,"th",48),e._uU(10,"Phone"),e.qZA(),e.TgZ(11,"th",47),e._uU(12,"Comment"),e.qZA()())}function au(n,i){if(1&n&&(e.TgZ(0,"tr",49)(1,"td",46),e._uU(2),e.qZA(),e.TgZ(3,"td",47),e._uU(4),e.qZA(),e.TgZ(5,"td",47),e._uU(6),e.qZA(),e.TgZ(7,"td",47),e._uU(8),e.qZA(),e.TgZ(9,"td",48),e._uU(10),e.qZA(),e.TgZ(11,"td",47),e._uU(12),e.qZA()()),2&n){const t=i.$implicit,r=i.rowIndex;e.Q6J("pSelectableRow",t),e.xp6(2),e.Oqu(r+1),e.xp6(2),e.AsE("",t.first_name," ",t.last_name,""),e.xp6(2),e.Oqu(t.email),e.xp6(2),e.Oqu(t.position),e.xp6(2),e.Oqu(t.phone_number),e.xp6(2),e.Oqu(t.comment)}}function su(n,i){1&n&&e._UZ(0,"i",52)}function lu(n,i){1&n&&(e.TgZ(0,"span"),e._uU(1,"No Records Found"),e.qZA())}function cu(n,i){if(1&n&&(e.TgZ(0,"tr")(1,"td",50),e.YNc(2,su,1,0,"i",51),e.YNc(3,lu,2,0,"span",36),e.qZA()()),2&n){const t=e.oxw();e.xp6(1),e.uIk("colspan",6),e.xp6(1),e.Q6J("ngIf",t.isLoading),e.xp6(1),e.Q6J("ngIf",!t.isLoading)}}function du(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",53),e.NdJ("click",function(){e.CHM(t),e.oxw();const o=e.MAs(20);return e.KtG(o.paginator=!1)}),e._uU(1," All "),e.qZA()}}function pu(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",54)(1,"p-button",53),e.NdJ("click",function(){e.CHM(t),e.oxw();const o=e.MAs(20);return e.KtG(o.paginator=!0)}),e._uU(2," Return pagination "),e.qZA()()}}function uu(n,i){1&n&&(e.TgZ(0,"p",45),e._uU(1,"Choose the Linked Company to edit"),e.qZA())}function fu(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",41),e.YNc(1,uu,2,0,"p",42),e._UZ(2,"p-menubar",43),e.TgZ(3,"button",55),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onAddLinkedCompany())}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.selectedLinkedCompany),e.xp6(1),e.ekj("disabled",!t.selectedLinkedCompany),e.Q6J("model",t.linkedCompanyMenuItems),e.xp6(1),e.Q6J("disabled",t.isLoading)}}function mu(n,i){1&n&&(e.TgZ(0,"tr")(1,"th",46),e._uU(2,"#"),e.qZA(),e.TgZ(3,"th",48),e._uU(4,"Company Name"),e.qZA(),e.TgZ(5,"th",48),e._uU(6,"Company Email"),e.qZA(),e.TgZ(7,"th",48),e._uU(8,"Contact Name"),e.qZA(),e.TgZ(9,"th",48),e._uU(10,"Contact Email"),e.qZA(),e.TgZ(11,"th",48),e._uU(12,"Contact Position"),e.qZA(),e.TgZ(13,"th",56),e._uU(14,"Contact Phone"),e.qZA(),e.TgZ(15,"th",57),e._uU(16,"Link Weight"),e.qZA()())}function hu(n,i){if(1&n&&(e.TgZ(0,"tr",49)(1,"td",46),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td",48),e._uU(6),e.qZA(),e.TgZ(7,"td",48),e._uU(8),e.qZA(),e.TgZ(9,"td",48),e._uU(10),e.qZA(),e.TgZ(11,"td",48),e._uU(12),e.qZA(),e.TgZ(13,"td",56),e._uU(14),e.qZA(),e.TgZ(15,"td",57),e._uU(16),e.qZA()()),2&n){const t=i.$implicit,r=i.rowIndex;e.Q6J("pSelectableRow",t),e.xp6(2),e.Oqu(r+1),e.xp6(2),e.hij(" ",t.to_company.name," "),e.xp6(2),e.hij(" ",t.to_company.email," "),e.xp6(2),e.AsE(" ",null==t.contact_person?null:t.contact_person.first_name," ",null==t.contact_person?null:t.contact_person.last_name," "),e.xp6(2),e.hij(" ",null==t.contact_person?null:t.contact_person.email," "),e.xp6(2),e.hij(" ",null==t.contact_person?null:t.contact_person.position," "),e.xp6(2),e.hij(" ",null==t.contact_person?null:t.contact_person.phone_number," "),e.xp6(2),e.hij(" ",t.link_weight," ")}}function gu(n,i){1&n&&e._UZ(0,"i",52)}function vu(n,i){1&n&&(e.TgZ(0,"span"),e._uU(1,"No Records Found"),e.qZA())}function _u(n,i){if(1&n&&(e.TgZ(0,"tr")(1,"td",50),e.YNc(2,gu,1,0,"i",51),e.YNc(3,vu,2,0,"span",36),e.qZA()()),2&n){const t=e.oxw();e.xp6(1),e.uIk("colspan",8),e.xp6(1),e.Q6J("ngIf",t.isLoading),e.xp6(1),e.Q6J("ngIf",!t.isLoading)}}function yu(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",53),e.NdJ("click",function(){e.CHM(t),e.oxw();const o=e.MAs(32);return e.KtG(o.paginator=!1)}),e._uU(1," All "),e.qZA()}}function Cu(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",54)(1,"p-button",53),e.NdJ("click",function(){e.CHM(t),e.oxw();const o=e.MAs(32);return e.KtG(o.paginator=!0)}),e._uU(2," Return pagination "),e.qZA()()}}function bu(n,i){1&n&&(e.TgZ(0,"p",45),e._uU(1,"Choose the Event to edit"),e.qZA())}function Eu(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",41),e.YNc(1,bu,2,0,"p",42),e.TgZ(2,"div",58)(3,"p-checkbox",59),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.enableColors=o)}),e.qZA(),e._UZ(4,"p-menubar",43),e.qZA(),e.TgZ(5,"button",60),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onAddEventToCompany("withEmployee"))}),e.qZA(),e.TgZ(6,"button",61),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onAddEventToCompany("withoutEmployee"))}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.selectedCompanyActivity),e.xp6(2),e.Q6J("binary",!0)("ngModel",t.enableColors),e.xp6(1),e.ekj("disabled",!t.selectedCompanyActivity),e.Q6J("model",t.eventMenuItems),e.xp6(1),e.Q6J("disabled",t.isLoading),e.xp6(1),e.Q6J("disabled",t.isLoading)}}function Tu(n,i){1&n&&(e.TgZ(0,"tr")(1,"th",62),e._uU(2,"#"),e.qZA(),e.TgZ(3,"th",48),e._uU(4,"Event Name"),e.qZA(),e.TgZ(5,"th",63),e._uU(6," Event Start "),e._UZ(7,"p-sortIcon",64),e.qZA(),e.TgZ(8,"th",65),e._uU(9," Event End "),e._UZ(10,"p-sortIcon",66),e.qZA(),e.TgZ(11,"th",47),e._uU(12,"Event Description"),e.qZA(),e.TgZ(13,"th",67),e._uU(14,"Employee"),e.qZA(),e.TgZ(15,"th",48),e._uU(16,"Event Comment"),e.qZA(),e.TgZ(17,"th",57),e._uU(18,"Is Done"),e.qZA()())}const xu=function(n){return["/dash/sales/sales-procurement-chains/chain-page",n]};function Au(n,i){if(1&n&&(e.TgZ(0,"span")(1,"a",74),e._uU(2),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(2,xu,t.event.sales_chain)),e.xp6(1),e.hij(" ",t.event.description," ")}}function Su(n,i){if(1&n&&e._uU(0),2&n){const t=e.oxw().$implicit;e.hij(" ",t.event.description," ")}}function wu(n,i){1&n&&(e.ynx(0),e._uU(1," Not Related "),e.BQk())}function Du(n,i){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e._UZ(2,"br"),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.hij(" ",t.first_name+" "+t.last_name," ")}}function ku(n,i){if(1&n&&(e.ynx(0),e.YNc(1,Du,3,1,"span",33),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",t.event.employee)}}function Zu(n,i){1&n&&e._UZ(0,"i",39)}const Ru=function(n){return["/dash/crm/events-list/event-card/",n]};function Mu(n,i){if(1&n&&(e.TgZ(0,"tr",49)(1,"td",46),e._uU(2),e.qZA(),e.TgZ(3,"td",48),e._uU(4),e.qZA(),e.TgZ(5,"td",68),e._uU(6),e.ALo(7,"date"),e.qZA(),e.TgZ(8,"td",69),e._uU(9),e.ALo(10,"date"),e.qZA(),e.TgZ(11,"td",47),e.YNc(12,Au,3,4,"span",70),e.YNc(13,Su,1,1,"ng-template",null,71,e.W1O),e.qZA(),e.TgZ(15,"td",67),e.YNc(16,wu,2,0,"ng-container",36),e.YNc(17,ku,2,1,"ng-container",36),e.qZA(),e.TgZ(18,"td",48),e._uU(19),e.qZA(),e.TgZ(20,"td",57)(21,"div",72),e.YNc(22,Zu,1,0,"i",73),e.qZA()()()),2&n){const t=i.$implicit,r=i.rowIndex,o=e.MAs(14),a=e.oxw(),s=e.MAs(78);e.ekj("impression-neutral",a.enableColors&&t.is_done&&t.impression===a.Impression.NEUTRAL)("impression-positive",a.enableColors&&t.is_done&&t.impression===a.Impression.POSITIVE)("impression-negative",a.enableColors&&t.is_done&&t.impression===a.Impression.NEGATIVE),e.Q6J("pSelectableRow",t),e.xp6(2),e.Oqu(r+1),e.xp6(2),e.Oqu(t.event.event_type.name),e.xp6(1),e.Q6J("routerLink",e.VKq(25,Ru,t.event.id)),e.xp6(1),e.hij(" ",e.xi3(7,19,t.event.start,"dd/MM/yyyy, HH:mm")," "),e.xp6(3),e.hij(" ",e.xi3(10,22,t.event.end,"dd/MM/yyyy, HH:mm")," "),e.xp6(3),e.Q6J("ngIf",t.event.sales_chain)("ngIfElse",o),e.xp6(4),e.Q6J("ngIf",0===t.event.employee.length),e.xp6(1),e.Q6J("ngIf",t.event.employee.length>0),e.xp6(2),e.hij(" ",t.comment," "),e.xp6(3),e.Q6J("ngIf",t.is_done)("ngIfElse",s)}}function Iu(n,i){1&n&&e._UZ(0,"i",52)}function Pu(n,i){1&n&&(e.TgZ(0,"span"),e._uU(1,"No Records Found"),e.qZA())}function Nu(n,i){if(1&n&&(e.TgZ(0,"tr")(1,"td",50),e.YNc(2,Iu,1,0,"i",51),e.YNc(3,Pu,2,0,"span",36),e.qZA()()),2&n){const t=e.oxw();e.xp6(1),e.uIk("colspan",8),e.xp6(1),e.Q6J("ngIf",t.isLoading),e.xp6(1),e.Q6J("ngIf",!t.isLoading)}}function Fu(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",53),e.NdJ("click",function(){e.CHM(t),e.oxw();const o=e.MAs(44);return e.KtG(o.paginator=!1)}),e._uU(1," All "),e.qZA()}}function Uu(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",54)(1,"p-button",53),e.NdJ("click",function(){e.CHM(t),e.oxw();const o=e.MAs(44);return e.KtG(o.paginator=!0)}),e._uU(2," Return pagination "),e.qZA()()}}function Ou(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",41)(1,"button",75),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.goToInvoice())}),e.qZA(),e.TgZ(2,"button",76),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.goToOrder())}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("disabled",t.isLoadingInvoice||!t.selectedInvoice),e.xp6(1),e.Q6J("disabled",t.isLoadingInvoice||!t.selectedInvoice)}}function qu(n,i){1&n&&(e.TgZ(0,"tr")(1,"th",46),e._uU(2,"#"),e.qZA(),e.TgZ(3,"th",57),e._uU(4,"Creation Date"),e.qZA(),e.TgZ(5,"th",77),e._uU(6,"Proforma Number"),e.qZA(),e.TgZ(7,"th",78),e._uU(8,"Total Price"),e.qZA()())}function Hu(n,i){1&n&&e._UZ(0,"i",80)}function Lu(n,i){if(1&n&&(e.TgZ(0,"tr",49)(1,"td",46),e._uU(2),e.qZA(),e.TgZ(3,"td",57),e._uU(4),e.ALo(5,"date"),e.YNc(6,Hu,1,0,"i",79),e.qZA(),e.TgZ(7,"td",77),e._uU(8),e.qZA(),e.TgZ(9,"td",78),e._uU(10),e.ALo(11,"moneyFormat"),e.qZA()()),2&n){const t=i.$implicit,r=i.rowIndex;e.Q6J("pSelectableRow",t),e.xp6(2),e.Oqu(r+1),e.xp6(2),e.hij(" ",e.xi3(5,7,t.system_creation_date,"dd/MM/yyyy")," "),e.xp6(2),e.Q6J("ngIf",t.related_files),e.xp6(2),e.hij(" ",t.self_proforma_serial_number," "),e.xp6(2),e.AsE(" ",e.lcZ(11,10,t.total_price)," ",null==t.currency?null:t.currency.symbol," ")}}function Ju(n,i){1&n&&e._UZ(0,"i",52)}function Bu(n,i){1&n&&(e.TgZ(0,"span"),e._uU(1,"No Records Found"),e.qZA())}function Yu(n,i){if(1&n&&(e.TgZ(0,"tr")(1,"td",50),e.YNc(2,Ju,1,0,"i",51),e.YNc(3,Bu,2,0,"span",36),e.qZA()()),2&n){const t=e.oxw();e.xp6(1),e.uIk("colspan",6),e.xp6(1),e.Q6J("ngIf",t.isLoading),e.xp6(1),e.Q6J("ngIf",!t.isLoading)}}function Qu(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",53),e.NdJ("click",function(){e.CHM(t),e.oxw();const o=e.MAs(56);return e.KtG(o.paginator=!1)}),e._uU(1," All "),e.qZA()}}function Vu(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",54)(1,"p-button",53),e.NdJ("click",function(){e.CHM(t),e.oxw();const o=e.MAs(56);return e.KtG(o.paginator=!0)}),e._uU(2," Return pagination "),e.qZA()()}}function zu(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",41)(1,"button",81),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onAddFile())}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("disabled",t.isLoadingFiles)}}function Gu(n,i){1&n&&(e.TgZ(0,"tr")(1,"th",46),e._uU(2,"#"),e.qZA(),e.TgZ(3,"th",82),e._uU(4,"Name"),e.qZA(),e.TgZ(5,"th",57),e._uU(6,"Actions"),e.qZA()())}function Wu(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"tr",49)(1,"td",46),e._uU(2),e.qZA(),e.TgZ(3,"td",82)(4,"a",83),e._uU(5),e.qZA()(),e.TgZ(6,"td",57)(7,"div",84)(8,"button",85),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.onDownloadFile(a))}),e.qZA(),e.TgZ(9,"button",86),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.onRemoveFile(a.id))}),e.qZA()()()()}if(2&n){const t=i.$implicit,r=i.rowIndex,o=e.oxw();e.Q6J("pSelectableRow",t),e.xp6(2),e.Oqu(r+1),e.xp6(2),e.Q6J("href",o.link+t.file,e.LSH),e.xp6(1),e.Oqu(o.getFileName(t.file)),e.xp6(3),e.Q6J("loading",o.addition.has(t.id)),e.xp6(1),e.Q6J("loading",o.deletion.has(t.id))}}function ju(n,i){1&n&&e._UZ(0,"i",52)}function $u(n,i){1&n&&(e.TgZ(0,"span"),e._uU(1,"No Records Found"),e.qZA())}function Ku(n,i){if(1&n&&(e.TgZ(0,"tr")(1,"td",50),e.YNc(2,ju,1,0,"i",51),e.YNc(3,$u,2,0,"span",36),e.qZA()()),2&n){const t=e.oxw();e.xp6(1),e.uIk("colspan",3),e.xp6(1),e.Q6J("ngIf",t.isLoadingFiles),e.xp6(1),e.Q6J("ngIf",!t.isLoadingFiles)}}function Xu(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",53),e.NdJ("click",function(){e.CHM(t),e.oxw();const o=e.MAs(68);return e.KtG(o.paginator=!1)}),e._uU(1," All "),e.qZA()}}function ef(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",54)(1,"p-button",53),e.NdJ("click",function(){e.CHM(t),e.oxw();const o=e.MAs(68);return e.KtG(o.paginator=!0)}),e._uU(2," Return pagination "),e.qZA()()}}function tf(n,i){1&n&&(e.TgZ(0,"div",87),e._UZ(1,"i",52),e.qZA())}function nf(n,i){1&n&&e._UZ(0,"i",40)}let rf=(()=>{class n{constructor(t,r,o,a,s,l,c,d,p,u){this.route=t,this.router=r,this.companyService=o,this.contactPersonService=a,this.modalService=s,this.invoiceService=l,this.companyFileService=c,this.adapterService=d,this.eventCompanyService=p,this.eventListService=u,this.link=ue.N.link_url+"dash/",this.contactPersonMenuItems=[{label:"Selected Contact Person",items:[{label:"Contact Person Page",icon:"pi pi-user",command:()=>this.onGoContactPersonPage()},{label:"Edit",icon:"pi pi-pencil",command:()=>this.onEditContactPerson()},{label:"Remove",icon:"pi pi-trash",command:()=>this.onRemoveContactPerson()}]}],this.linkedCompanyMenuItems=[{label:"Selected Linked Company",items:[{label:"Contact Person Page",icon:"pi pi-user",command:()=>this.linkedGoContactPersonPage()},{label:"Company Page",icon:"pi pi-share-alt",command:()=>this.linkedGoCompanyPage()},{label:"Edit",icon:"pi pi-pencil",command:()=>this.onEditLinkedCompany()},{label:"Remove",icon:"pi pi-trash",command:()=>this.onRemoveLinkedCompany()}]}],this.eventMenuItems=[{label:"Selected Event",items:[{label:"Done",icon:"pi pi-check",command:()=>this.onDoneEvent()},{label:"Edit",icon:"pi pi-pencil",command:()=>this.onEditEvent()},{label:"Remove",icon:"pi pi-trash",command:()=>this.onRemoveEvent()}]}],this.isRemoving=!1,this.isPendingFile=!1,this.deletion=new Set,this.addition=new Set,this.companyActivities=[],this.invoices=[],this.files=[],this.isLoadingInvoice=!0,this.isLoadingFiles=!0,this.isLoading=!0,this.destroy$=new L.x,this.enableColors=!1,this.Impression=Bn.U}ngOnInit(){this.route.paramMap.pipe((0,z.U)(t=>t.get("id")),(0,pe.b)(t=>this.companyId=+t),(0,pe.b)(()=>this.getInvoices()),(0,pe.b)(()=>this.getFiles()),(0,Sr.w)(t=>this.companyService.getById(+t)),(0,J.R)(this.destroy$)).subscribe(t=>{this.company=t,this.companyActivities=t.activities,this.companyActivities.sort((r,o)=>{const a=new Date(r.event.start);return new Date(o.event.start)-a}),this.isLoading=!1})}getInvoices(){this.invoiceService.get([{name:"supplier",value:this.companyId}]).pipe((0,J.R)(this.destroy$)).subscribe(t=>{this.invoices=t,this.isLoadingInvoice=!1})}getCompany(){this.companyService.getById(this.companyId).pipe((0,J.R)(this.destroy$)).subscribe(t=>{this.company=t,this.selectedLinkedCompany&&(this.selectedLinkedCompany=this.company.linked_companies.find(r=>r.id===this.selectedLinkedCompany.id)),this.companyActivities=t.activities,this.companyActivities.sort((r,o)=>{const a=new Date(r.event.start);return new Date(o.event.start)-a}),this.selectedCompanyActivity&&(this.selectedCompanyActivity=this.companyActivities.find(r=>r.id===this.selectedCompanyActivity.id),this.onEventSelectionChange()),this.isLoading=!1})}onRemoveCompany(){this.modalService.confirm("danger").subscribe(t=>{t&&(this.isRemoving=!0,this.companyService.delete(this.companyId).subscribe(()=>{this.router.navigate(["../../"],{relativeTo:this.route}),this.isRemoving=!1}))})}onEditCompany(){this.companyService.createEditCompanyModal("edit",this.company).subscribe(t=>{t&&t.region&&(this.company.region=t.region,this.company.country=t.region.country)})}onAddContactPerson(){this.contactPersonService.createEditContactPersonModal(this.companyId,"create").subscribe(t=>{t&&(this.company.contact_persons.push(t),this.company.contact_persons=this.company.contact_persons.map(r=>r))})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}onEditContactPerson(){this.contactPersonService.createEditContactPersonModal(this.companyId,"edit",this.selectedContactPerson).subscribe(t=>{if(t){const r=this.company.contact_persons.findIndex(o=>o.id===t.id);this.company.contact_persons[r]=t,this.company.contact_persons=this.company.contact_persons.map(o=>o)}})}onRemoveContactPerson(){this.modalService.confirm("danger").subscribe(t=>{t&&this.contactPersonService.delete(this.selectedContactPerson.id).subscribe(()=>{const r=this.company.contact_persons.findIndex(o=>o.id===this.selectedContactPerson.id);this.company.contact_persons.splice(r,1),this.selectedContactPerson=null,this.company.contact_persons=this.company.contact_persons.map(o=>o)})})}onAddLinkedCompany(){this.companyService.createEditLinkedCompanyModal(this.companyId,"create").subscribe(t=>{t&&this.getCompany()})}onEditLinkedCompany(){this.companyService.createEditLinkedCompanyModal(this.companyId,"edit",this.selectedLinkedCompany).subscribe(t=>{t&&this.getCompany()})}onRemoveLinkedCompany(){this.modalService.confirm("danger").subscribe(t=>{t&&this.companyService.deleteLinkedCompany(this.selectedLinkedCompany.id).subscribe(()=>{const r=this.company.linked_companies.findIndex(o=>o.id===this.selectedLinkedCompany.id);this.company.linked_companies.splice(r,1),this.selectedLinkedCompany=null,this.company.linked_companies=this.company.linked_companies.map(o=>o)})})}goToInvoice(){window.open(`/reports/invoices/invoice/${this.selectedInvoice.id}`,"_blank")}goToOrder(){1===this.selectedInvoice.order.accounting_type&&window.open("procurement/chains/order/"+this.selectedInvoice.order.id),2===this.selectedInvoice.order.accounting_type&&window.open("outsourcing/chains/order/"+this.selectedInvoice.order.id)}onAddFile(){this.companyFileService.openAddFileModal(this.companyId).subscribe(t=>{t&&(this.files.push(t),this.files=this.files.map(r=>r))})}getFileName(t){let r=t.split("/");return r[r.length-1]}getFiles(){this.companyFileService.get([{name:"company_id",value:this.companyId}]).pipe((0,J.R)(this.destroy$)).subscribe(t=>{this.files=t,this.isLoadingFiles=!1})}onDownloadFile(t){this.isPendingFile||(this.isPendingFile=!0,this.addition.add(t.id),this.companyFileService.downloadFile(t).pipe((0,Yt.x)(()=>{this.isPendingFile=!1,this.addition.clear()})).subscribe(r=>{const o=this.getFileName(t.file);this.adapterService.downloadFile(o,r)}))}onRemoveFile(t){this.modalService.confirm("danger").subscribe(r=>{r&&(this.deletion.add(t),this.companyFileService.delete(t).pipe((0,Yt.x)(()=>{this.deletion.clear()})).subscribe(()=>{const o=this.files.findIndex(a=>a.id===t);this.files.splice(o,1),this.selectedFile=null,this.files=this.files.map(a=>a)}))})}onEventSelectionChange(){this.eventMenuItems[0].items[0].label=this.selectedCompanyActivity?.is_done?"Edit result":"Done"}onRemoveEvent(){this.modalService.confirm("danger").subscribe(t=>{t&&this.eventCompanyService.delete(this.selectedCompanyActivity.id).subscribe(()=>{const r=this.companyActivities.findIndex(o=>o.id===this.selectedCompanyActivity.id);this.companyActivities.splice(r,1),this.selectedCompanyActivity=null})})}onDoneEvent(){this.eventListService.openEventCompanySetStateModal({id:this.selectedCompanyActivity.id,is_done:this.selectedCompanyActivity.is_done,comment:this.selectedCompanyActivity.comment,impression:this.selectedCompanyActivity.impression}).subscribe(r=>{r&&(this.selectedCompanyActivity.is_done=r.eventCompany.is_done,this.selectedCompanyActivity.impression=r.eventCompany.impression)})}onAddEventToCompany(t){this.companyService.openAddEventToCompanyModal(t,this.company).subscribe(r=>{r&&this.getCompany()})}onEditEvent(){this.eventCompanyService.openEditCompanyActivityModal(this.selectedCompanyActivity).subscribe(t=>{t&&this.getCompany()})}onGoContactPersonPage(){this.router.navigate(["../../","contact-person",this.selectedContactPerson.id],{relativeTo:this.route}),window.open(`crm/business-partners/contact-person/${this.selectedContactPerson.id}`,"_blank")}linkedGoContactPersonPage(){window.open(`crm/business-partners/contact-person/${this.selectedLinkedCompany.contact_person.id}`,"_blank")}linkedGoCompanyPage(){window.open(`crm/business-partners/company-page/${this.selectedLinkedCompany.to_company.id}`,"_blank")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(V.gz),e.Y36(V.F0),e.Y36(Lt.J),e.Y36(Qt._),e.Y36(ne.Z),e.Y36(Bp.q),e.Y36(wr),e.Y36(Jt.v),e.Y36(Yn.c),e.Y36(Je.T))},n.\u0275cmp=e.Xpm({type:n,selectors:[["pek-company-page"]],decls:79,vars:37,consts:[[1,"company-page"],[1,"page"],[1,"page__header"],[1,"page__title"],[3,"module","isActive"],[1,"page__tools"],["pButton","","type","button","icon","pi pi-pencil","label","Edit Company Information",1,"mr-2",3,"disabled","click"],["pButton","","type","button","icon","pi pi-times","label","Remove Company",1,"p-button-danger","p-button-icon",3,"loading","disabled","click"],[1,"page__content"],[1,"mb-4"],[1,"page__card","company-information-card","mb-4"],["class","company-information",4,"ngIf","ngIfElse"],[1,"page__card","mb-4"],[1,"page__table"],["selectionMode","single","scrollHeight","calc(100vh - 18.8rem)",3,"scrollable","paginator","rows","selection","value","selectionChange"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pTemplate","paginatorright"],["class","paginator-return-pagination",4,"ngIf"],["st",""],["at",""],["selectionMode","single","scrollHeight","calc(100vh - 18.8rem)",3,"scrollable","paginator","rows","value","selection","selectionChange"],["ft",""],[1,"page__card"],["mt",""],["infoLoading",""],["notGrouped",""],[1,"company-information"],[1,"row"],[1,"col-md-5"],[4,"ngFor","ngForOf"],["target","_blank",3,"href"],[1,"col-md-7"],[4,"ngIf"],["class","pi pi-check text-success",4,"ngIf"],["class","pi pi-times text-danger",4,"ngIf"],[1,"pi","pi-check","text-success"],[1,"pi","pi-times","text-danger"],[1,"d-flex"],["class","subtitle",4,"ngIf"],[1,"ml-auto",3,"model"],["pButton","","type","button","icon","pi pi-plus","label","Create Contact Person",1,"ml-2",3,"disabled","click"],[1,"subtitle"],[1,"text-center",2,"width","5%"],[2,"width","20%"],[2,"width","15%"],[3,"pSelectableRow"],[1,"text-center","p-4"],["class","pi pi-spin pi-spinner","style","font-size: 2.25rem",4,"ngIf"],[1,"pi","pi-spin","pi-spinner",2,"font-size","2.25rem"],["type","button","styleClass","p-button-text",3,"click"],[1,"paginator-return-pagination"],["pButton","","type","button","icon","pi pi-plus","label","Add Connection",1,"ml-2",3,"disabled","click"],[2,"width","10%"],[1,"text-center",2,"width","10%"],[1,"d-flex","ml-auto"],["name","group1","label","Enable Status Of Result","inputId","enableColors",1,"checkbox-big","mr-3","event-statuses",3,"binary","ngModel","ngModelChange"],["pButton","","type","button","icon","pi pi-plus","label","Add Event to Company with Employee",1,"ml-2","mr-2",3,"disabled","click"],["pButton","","type","button","icon","pi pi-plus","label","Add Event to Company without Employee",1,"ml-2",3,"disabled","click"],[1,"index-header","text-center",2,"width","5%"],["pSortableColumn","event.start",2,"width","12%"],["field","event.start"],["pSortableColumn","event.end",2,"width","12%"],["field","event.end"],[2,"width","11%"],[2,"width","12%",3,"routerLink"],[2,"width","12%"],[4,"ngIf","ngIfElse"],["emptySale",""],[1,"icons"],["class","pi pi-check text-success",4,"ngIf","ngIfElse"],["target","blank",3,"routerLink"],["pButton","","type","button","icon","pi pi-eye","label","View Invoice",1,"ml-auto",3,"disabled","click"],["pButton","","type","button","icon","pi pi-eye","label","Go To Order",1,"ml-2",3,"disabled","click"],[1,"text-center",2,"width","50%"],[1,"text-center",2,"width","35%"],["class","pi pi-link",4,"ngIf"],[1,"pi","pi-link"],["pButton","","type","button","icon","pi pi-plus","label","Add File",1,"ml-auto",3,"disabled","click"],[2,"width","85%"],[3,"href"],[1,"d-flex","justify-content-center"],["pButton","","type","button","icon","pi pi-download",1,"p-button-primary","p-button-rounded","p-button-outlined","p-button-rounded_small","mr-2",3,"loading","click"],["pButton","","type","button","icon","pi pi-trash",1,"p-button-danger","p-button-rounded","p-button-outlined","p-button-rounded_small",3,"loading","click"],[1,"info-loading"]],template:function(t,r){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e._UZ(4,"pek-module-icon",4),e.TgZ(5,"h1"),e._uU(6,"Company Card"),e.qZA()(),e.TgZ(7,"div",5)(8,"button",6),e.NdJ("click",function(){return r.onEditCompany()}),e.qZA(),e.TgZ(9,"button",7),e.NdJ("click",function(){return r.onRemoveCompany()}),e.qZA()()()(),e.TgZ(10,"div",8)(11,"h2",9),e._uU(12,"Company Information"),e.qZA(),e.TgZ(13,"div",10),e.YNc(14,nu,60,17,"div",11),e.qZA(),e.TgZ(15,"h2",9),e._uU(16,"Contact Persons"),e.qZA(),e.TgZ(17,"div",12)(18,"div",13)(19,"p-table",14,15),e.NdJ("selectionChange",function(a){return r.selectedContactPerson=a}),e.YNc(21,ru,4,5,"ng-template",16),e.YNc(22,ou,13,0,"ng-template",17),e.YNc(23,au,13,8,"ng-template",18),e.YNc(24,cu,4,3,"ng-template",19),e.YNc(25,du,2,0,"ng-template",20),e.qZA()(),e.YNc(26,pu,3,0,"div",21),e.qZA(),e.TgZ(27,"h2",9),e._uU(28,"Linked Companies"),e.qZA(),e.TgZ(29,"div",12)(30,"div",13)(31,"p-table",14,22),e.NdJ("selectionChange",function(a){return r.selectedLinkedCompany=a}),e.YNc(33,fu,4,5,"ng-template",16),e.YNc(34,mu,17,0,"ng-template",17),e.YNc(35,hu,17,10,"ng-template",18),e.YNc(36,_u,4,3,"ng-template",19),e.YNc(37,yu,2,0,"ng-template",20),e.qZA()(),e.YNc(38,Cu,3,0,"div",21),e.qZA(),e.TgZ(39,"h2",9),e._uU(40,"Events"),e.qZA(),e.TgZ(41,"div",12)(42,"div",13)(43,"p-table",14,23),e.NdJ("selectionChange",function(a){return r.selectedCompanyActivity=a})("selectionChange",function(){return r.onEventSelectionChange()}),e.YNc(45,Eu,7,8,"ng-template",16),e.YNc(46,Tu,19,0,"ng-template",17),e.YNc(47,Mu,23,27,"ng-template",18),e.YNc(48,Nu,4,3,"ng-template",19),e.YNc(49,Fu,2,0,"ng-template",20),e.qZA()(),e.YNc(50,Uu,3,0,"div",21),e.qZA(),e.TgZ(51,"h2",9),e._uU(52,"Invoices"),e.qZA(),e.TgZ(53,"div",12)(54,"div",13)(55,"p-table",24,25),e.NdJ("selectionChange",function(a){return r.selectedInvoice=a}),e.YNc(57,Ou,3,2,"ng-template",16),e.YNc(58,qu,9,0,"ng-template",17),e.YNc(59,Lu,12,12,"ng-template",18),e.YNc(60,Yu,4,3,"ng-template",19),e.YNc(61,Qu,2,0,"ng-template",20),e.qZA()(),e.YNc(62,Vu,3,0,"div",21),e.qZA(),e.TgZ(63,"h2",9),e._uU(64,"Files"),e.qZA(),e.TgZ(65,"div",26)(66,"div",13)(67,"p-table",24,27),e.NdJ("selectionChange",function(a){return r.selectedFile=a}),e.YNc(69,zu,2,1,"ng-template",16),e.YNc(70,Gu,7,0,"ng-template",17),e.YNc(71,Wu,10,6,"ng-template",18),e.YNc(72,Ku,4,3,"ng-template",19),e.YNc(73,Xu,2,0,"ng-template",20),e.qZA()(),e.YNc(74,ef,3,0,"div",21),e.qZA()()(),e.YNc(75,tf,2,0,"ng-template",null,28,e.W1O),e.YNc(77,nf,1,0,"ng-template",null,29,e.W1O)),2&t){const o=e.MAs(20),a=e.MAs(32),s=e.MAs(44),l=e.MAs(56),c=e.MAs(68),d=e.MAs(76);e.xp6(4),e.Q6J("module","contacts-events")("isActive",!0),e.xp6(4),e.Q6J("disabled",r.isLoading),e.xp6(1),e.Q6J("loading",r.isRemoving)("disabled",r.isLoading),e.xp6(5),e.Q6J("ngIf",!r.isLoading)("ngIfElse",d),e.xp6(5),e.Q6J("scrollable",!0)("paginator",(null==r.company?null:r.company.contact_persons.length)>0)("rows",10)("selection",r.selectedContactPerson)("value",null==r.company?null:r.company.contact_persons),e.xp6(7),e.Q6J("ngIf",!o.paginator&&!r.isLoading&&(null==r.company?null:r.company.contact_persons.length)>0),e.xp6(5),e.Q6J("scrollable",!0)("paginator",(null==r.company?null:r.company.linked_companies.length)>0)("rows",10)("selection",r.selectedLinkedCompany)("value",null==r.company?null:r.company.linked_companies),e.xp6(7),e.Q6J("ngIf",!a.paginator&&!r.isLoading&&(null==r.company?null:r.company.linked_companies.length)>0),e.xp6(5),e.Q6J("scrollable",!0)("paginator",r.companyActivities.length>0)("rows",10)("selection",r.selectedCompanyActivity)("value",r.companyActivities),e.xp6(7),e.Q6J("ngIf",!s.paginator&&!r.isLoading&&r.companyActivities.length>0),e.xp6(5),e.Q6J("scrollable",!0)("paginator",r.invoices.length>0)("rows",10)("value",r.invoices)("selection",r.selectedInvoice),e.xp6(7),e.Q6J("ngIf",!l.paginator&&!r.isLoading&&r.invoices.length>0),e.xp6(5),e.Q6J("scrollable",!0)("paginator",r.files.length>0)("rows",10)("value",r.files)("selection",r.selectedFile),e.xp6(7),e.Q6J("ngIf",!c.paginator&&!r.isLoading&&r.files.length>0)}},dependencies:[w.sg,w.O5,V.rH,V.yS,P.Hq,P.zx,K.jx,E.JJ,re.nm,E.On,we.XZ,Y.iA,Y.lQ,Y.Ei,Y.fz,oe.D,w.uU,zp.U],styles:["h2[_ngcontent-%COMP%]{font-size:1.1875rem;font-weight:600}.company-information-card[_ngcontent-%COMP%]{padding:1rem 1.75rem 1.125rem}.company-information[_ngcontent-%COMP%]{line-height:1.4}.company-information[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:.625rem;font-weight:500;font-size:1.0625rem}.company-information[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]:last-child{margin-bottom:0}.company-information[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:400}.info-loading[_ngcontent-%COMP%]{width:100%;height:16.267rem;display:flex;align-items:center;justify-content:center}.icons[_ngcontent-%COMP%]{position:relative;top:1px}.company-page[_ngcontent-%COMP%]  .p-menubar .p-submenu-list{width:13.5rem!important}.impression-neutral[_ngcontent-%COMP%]{background-color:#f9f8bb!important}.impression-positive[_ngcontent-%COMP%]{background-color:#d2fad2!important}.impression-negative[_ngcontent-%COMP%]{background-color:#fab5bb!important}"]}),n})();function of(n,i){if(1&n&&(e.TgZ(0,"div",23)(1,"div",24)(2,"div",25)(3,"h4"),e._uU(4),e.qZA(),e.TgZ(5,"h4"),e._uU(6),e.qZA(),e.TgZ(7,"h4"),e._uU(8),e.qZA()(),e.TgZ(9,"div",26)(10,"h4"),e._uU(11,"Description:"),e.qZA(),e.TgZ(12,"p"),e._uU(13),e.qZA()()()()),2&n){const t=e.oxw();e.xp6(4),e.AsE("Name: ",t.contact.first_name," ",t.contact.last_name,""),e.xp6(2),e.hij("Email: ",t.contact.email,""),e.xp6(2),e.hij("Phone Number: ",t.contact.phone_number,""),e.xp6(5),e.Oqu(t.contact.comment)}}function af(n,i){1&n&&(e.TgZ(0,"p",31),e._uU(1,"Choose the Linked Contact to edit"),e.qZA())}function sf(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",27),e.YNc(1,af,2,0,"p",28),e._UZ(2,"p-menubar",29),e.TgZ(3,"button",30),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onAddLinkedContact())}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.selectedLinkedContact),e.xp6(1),e.ekj("disabled",!t.selectedLinkedContact),e.Q6J("model",t.contactPersonMenuItems),e.xp6(1),e.Q6J("disabled",t.isLoading)}}function lf(n,i){1&n&&(e.TgZ(0,"tr")(1,"th",32),e._uU(2,"#"),e.qZA(),e.TgZ(3,"th",33),e._uU(4,"Name"),e.qZA(),e.TgZ(5,"th",34),e._uU(6,"Email"),e.qZA(),e.TgZ(7,"th",34),e._uU(8,"Position"),e.qZA(),e.TgZ(9,"th",34),e._uU(10,"Phone"),e.qZA(),e.TgZ(11,"th",33),e._uU(12,"Comment"),e.qZA(),e.TgZ(13,"th",35),e._uU(14,"Link Weight"),e.qZA()())}function cf(n,i){if(1&n&&(e.TgZ(0,"tr",36)(1,"td",32),e._uU(2),e.qZA(),e.TgZ(3,"td",33),e._uU(4),e.qZA(),e.TgZ(5,"td",34),e._uU(6),e.qZA(),e.TgZ(7,"td",34),e._uU(8),e.qZA(),e.TgZ(9,"td",34),e._uU(10),e.qZA(),e.TgZ(11,"td",33),e._uU(12),e.qZA(),e.TgZ(13,"td",35),e._uU(14),e.qZA()()),2&n){const t=i.$implicit,r=i.rowIndex;e.Q6J("pSelectableRow",t),e.xp6(2),e.Oqu(r+1),e.xp6(2),e.AsE(" ",t.from_contact.first_name," ",t.from_contact.last_name," "),e.xp6(2),e.Oqu(t.from_contact.email),e.xp6(2),e.Oqu(t.from_contact.position),e.xp6(2),e.Oqu(t.from_contact.phone_number),e.xp6(2),e.Oqu(t.from_contact.comment),e.xp6(2),e.Oqu(t.link_weight)}}function df(n,i){1&n&&e._UZ(0,"i",40)}function pf(n,i){1&n&&(e.TgZ(0,"span"),e._uU(1,"No Records Found"),e.qZA())}function uf(n,i){if(1&n&&(e.TgZ(0,"tr")(1,"td",37),e.YNc(2,df,1,0,"i",38),e.YNc(3,pf,2,0,"span",39),e.qZA()()),2&n){const t=e.oxw();e.xp6(1),e.uIk("colspan",7),e.xp6(1),e.Q6J("ngIf",t.isLoading),e.xp6(1),e.Q6J("ngIf",!t.isLoading)}}function ff(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",41),e.NdJ("click",function(){e.CHM(t),e.oxw();const o=e.MAs(16);return e.KtG(o.paginator=!1)}),e._uU(1," All "),e.qZA()}}function mf(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",42)(1,"p-button",41),e.NdJ("click",function(){e.CHM(t),e.oxw();const o=e.MAs(16);return e.KtG(o.paginator=!0)}),e._uU(2," Return pagination "),e.qZA()()}}function hf(n,i){1&n&&(e.TgZ(0,"p",31),e._uU(1,"Choose the Linked Company to edit"),e.qZA())}function gf(n,i){if(1&n&&(e.TgZ(0,"div",27),e.YNc(1,hf,2,0,"p",28),e._UZ(2,"p-menubar",29),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.selectedLinkedCompany),e.xp6(1),e.ekj("disabled",!t.selectedLinkedCompany),e.Q6J("model",t.companyMenuItems)}}function vf(n,i){1&n&&(e.TgZ(0,"tr")(1,"th",32),e._uU(2,"#"),e.qZA(),e.TgZ(3,"th",33),e._uU(4,"Company Name"),e.qZA(),e.TgZ(5,"th",34),e._uU(6,"Company Email"),e.qZA(),e.TgZ(7,"th",33),e._uU(8,"Company Address"),e.qZA(),e.TgZ(9,"th",34),e._uU(10,"Phone"),e.qZA(),e.TgZ(11,"th",43),e._uU(12,"Tax Number"),e.qZA(),e.TgZ(13,"th",34),e._uU(14,"Website"),e.qZA()())}function _f(n,i){if(1&n&&(e.TgZ(0,"tr",36)(1,"td",32),e._uU(2),e.qZA(),e.TgZ(3,"td",33),e._uU(4),e.qZA(),e.TgZ(5,"td",34),e._uU(6),e.qZA(),e.TgZ(7,"td",33),e._uU(8),e.qZA(),e.TgZ(9,"td",34),e._uU(10),e.qZA(),e.TgZ(11,"td",43),e._uU(12),e.qZA(),e.TgZ(13,"td",44)(14,"a",45),e._uU(15),e.qZA()()()),2&n){const t=i.$implicit,r=i.rowIndex;e.Q6J("pSelectableRow",t),e.xp6(2),e.Oqu(r+1),e.xp6(2),e.Oqu(t.to_company.name),e.xp6(2),e.Oqu(t.to_company.email),e.xp6(2),e.Oqu(t.to_company.address),e.xp6(2),e.Oqu(t.to_company.phone_number),e.xp6(2),e.Oqu(t.to_company.tax_number),e.xp6(2),e.Q6J("href",t.to_company.website,e.LSH),e.xp6(1),e.Oqu(t.to_company.website)}}function yf(n,i){1&n&&e._UZ(0,"i",40)}function Cf(n,i){1&n&&(e.TgZ(0,"span"),e._uU(1,"No Records Found"),e.qZA())}function bf(n,i){if(1&n&&(e.TgZ(0,"tr")(1,"td",37),e.YNc(2,yf,1,0,"i",38),e.YNc(3,Cf,2,0,"span",39),e.qZA()()),2&n){const t=e.oxw();e.xp6(1),e.uIk("colspan",7),e.xp6(1),e.Q6J("ngIf",t.isLoading),e.xp6(1),e.Q6J("ngIf",!t.isLoading)}}function Ef(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",41),e.NdJ("click",function(){e.CHM(t),e.oxw();const o=e.MAs(28);return e.KtG(o.paginator=!1)}),e._uU(1," All "),e.qZA()}}function Tf(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",42)(1,"p-button",41),e.NdJ("click",function(){e.CHM(t),e.oxw();const o=e.MAs(28);return e.KtG(o.paginator=!0)}),e._uU(2," Return pagination "),e.qZA()()}}function xf(n,i){1&n&&(e.TgZ(0,"p",31),e._uU(1,"Choose the Event to edit"),e.qZA())}function Af(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",27),e.YNc(1,xf,2,0,"p",28),e._UZ(2,"p-menubar",29),e.TgZ(3,"button",46),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onAddEventToCompany("withEmployee"))}),e.qZA(),e.TgZ(4,"button",47),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onAddEventToCompany("withoutEmployee"))}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.selectedEvent),e.xp6(1),e.ekj("disabled",!t.selectedEvent),e.Q6J("model",t.eventMenuItems),e.xp6(1),e.Q6J("disabled",t.isLoading),e.xp6(1),e.Q6J("disabled",t.isLoading)}}function Sf(n,i){1&n&&(e.TgZ(0,"tr")(1,"th",32),e._uU(2,"#"),e.qZA(),e.TgZ(3,"th",34),e._uU(4,"Event Name"),e.qZA(),e.TgZ(5,"th",33),e._uU(6,"Event Description"),e.qZA(),e.TgZ(7,"th",48),e._uU(8," Event Start "),e._UZ(9,"p-sortIcon",49),e.qZA(),e.TgZ(10,"th",50),e._uU(11," Event End "),e._UZ(12,"p-sortIcon",51),e.qZA(),e.TgZ(13,"th",52),e._uU(14,"Employee"),e.qZA(),e.TgZ(15,"th",34),e._uU(16,"Comment"),e.qZA(),e.TgZ(17,"th",35),e._uU(18,"Is Done"),e.qZA()())}function wf(n,i){1&n&&(e.ynx(0),e._uU(1,"Not Related "),e.BQk())}function Df(n,i){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e._UZ(2,"br"),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.hij(" ",t.first_name+" "+t.last_name," ")}}function kf(n,i){if(1&n&&(e.ynx(0),e.YNc(1,Df,3,1,"span",56),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",t.event.employee)}}function Zf(n,i){1&n&&e._UZ(0,"i",57)}function Rf(n,i){if(1&n&&(e.TgZ(0,"tr",36)(1,"td",32),e._uU(2),e.qZA(),e.TgZ(3,"td",34),e._uU(4),e.qZA(),e.TgZ(5,"td",33),e._uU(6),e.qZA(),e.TgZ(7,"td",53),e._uU(8),e.ALo(9,"date"),e.qZA(),e.TgZ(10,"td",53),e._uU(11),e.ALo(12,"date"),e.qZA(),e.TgZ(13,"td",52),e.YNc(14,wf,2,0,"ng-container",39),e.YNc(15,kf,2,1,"ng-container",39),e.qZA(),e.TgZ(16,"td",34),e._uU(17),e.qZA(),e.TgZ(18,"td",35)(19,"div",54),e.YNc(20,Zf,1,0,"i",55),e.qZA()()()),2&n){const t=i.$implicit,r=i.rowIndex;e.oxw();const o=e.MAs(50);e.Q6J("pSelectableRow",t),e.xp6(2),e.Oqu(r+1),e.xp6(2),e.Oqu(t.event.event_type.name),e.xp6(2),e.Oqu(t.event.description),e.xp6(2),e.Oqu(e.xi3(9,11,t.event.start,"dd/MM/yyyy, HH:mm")),e.xp6(3),e.Oqu(e.xi3(12,14,t.event.end,"dd/MM/yyyy, HH:mm")),e.xp6(3),e.Q6J("ngIf",0===t.event.employee.length),e.xp6(1),e.Q6J("ngIf",t.event.employee.length>0),e.xp6(2),e.Oqu(t.comment),e.xp6(3),e.Q6J("ngIf",t.is_done)("ngIfElse",o)}}function Mf(n,i){1&n&&e._UZ(0,"i",40)}function If(n,i){1&n&&(e.TgZ(0,"span"),e._uU(1,"No Records Found"),e.qZA())}function Pf(n,i){if(1&n&&(e.TgZ(0,"tr")(1,"td",37),e.YNc(2,Mf,1,0,"i",38),e.YNc(3,If,2,0,"span",39),e.qZA()()),2&n){const t=e.oxw();e.xp6(1),e.uIk("colspan",8),e.xp6(1),e.Q6J("ngIf",t.isLoading),e.xp6(1),e.Q6J("ngIf",!t.isLoading)}}function Nf(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",41),e.NdJ("click",function(){e.CHM(t),e.oxw();const o=e.MAs(40);return e.KtG(o.paginator=!1)}),e._uU(1," All "),e.qZA()}}function Ff(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",42)(1,"p-button",41),e.NdJ("click",function(){e.CHM(t),e.oxw();const o=e.MAs(40);return e.KtG(o.paginator=!0)}),e._uU(2," Return pagination "),e.qZA()()}}function Uf(n,i){1&n&&(e.TgZ(0,"div",58),e._UZ(1,"i",40),e.qZA())}function Of(n,i){1&n&&e._UZ(0,"i",59)}let qf=(()=>{class n{constructor(t,r,o,a,s){this.route=t,this.contactPersonService=r,this.eventContactPersonService=o,this.companyService=a,this.modalService=s,this.contactPersonMenuItems=[{label:"Selected Linked Contact",items:[{label:"Edit",icon:"pi pi-pencil",command:()=>this.onEditLinkedContact()},{label:"Remove",icon:"pi pi-trash",command:()=>this.onRemoveLinkedContact()}]}],this.companyMenuItems=[{label:"Selected Linked Company",items:[{label:"Remove",icon:"pi pi-trash",command:()=>this.onDeleteLinkedCompany()}]}],this.eventMenuItems=[{label:"Selected Event",items:[{label:"Done",icon:"pi pi-check",command:()=>this.onDoneEvent()},{label:"Edit",icon:"pi pi-pencil",command:()=>this.onEditEvent()},{label:"Remove",icon:"pi pi-trash",command:()=>this.onDeleteEvent()}]}],this.isLoading=!0,this.destroy$=new L.x}ngOnInit(){this.route.paramMap.pipe((0,z.U)(t=>t.get("id")),(0,pe.b)(t=>this.contactPersonId=+t),(0,pe.b)(()=>this.getPerson())).subscribe()}getPerson(){this.contactPersonService.getById(this.contactPersonId).pipe((0,J.R)(this.destroy$)).subscribe(t=>{this.contact=t,this.contact.activities.sort((r,o)=>{const a=new Date(r.event.start);return new Date(o.event.start)-a}),this.selectedLinkedCompany&&(this.selectedLinkedCompany=t.linked_companies.find(r=>r.id===this.selectedLinkedCompany.id),this.contact.linked_companies=this.contact.linked_companies.map(r=>r)),this.selectedLinkedContact&&(this.selectedLinkedContact=t.linked_contacts.find(r=>r.id===this.selectedLinkedContact.id),this.contact.linked_contacts=this.contact.linked_contacts.map(r=>r)),this.selectedEvent&&(this.selectedEvent=t.activities.find(r=>r.id===this.selectedEvent.id),this.contact.activities=this.contact.activities.map(r=>r),this.onEventSelect()),this.isLoading=!1})}onAddLinkedContact(){this.contactPersonService.openCreateEditLinkedContactModal("create",this.contact).subscribe(t=>{t&&this.getPerson()})}onEditLinkedContact(){this.contactPersonService.openCreateEditLinkedContactModal("edit",this.contact,this.selectedLinkedContact).subscribe(t=>{t&&this.getPerson()})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}onRemoveLinkedContact(){this.modalService.confirm("danger").subscribe(t=>{t&&this.contactPersonService.deleteLinkedContact(this.selectedLinkedContact).subscribe(()=>{const r=this.contact.linked_contacts.findIndex(o=>o.id===this.selectedLinkedContact.id);this.contact.linked_contacts.splice(r,1),this.contact.linked_contacts=this.contact.linked_contacts.map(o=>o)})})}onDeleteLinkedCompany(){this.modalService.confirm("danger").subscribe(t=>{t&&this.companyService.deleteLinkedCompany(this.selectedLinkedCompany.id).subscribe(()=>{const r=this.contact.linked_companies.findIndex(o=>o.id===this.selectedLinkedCompany.id);this.contact.linked_companies.splice(r,1),this.contact.linked_companies=this.contact.linked_companies.map(o=>o)})})}onDoneEvent(){this.modalService.confirm("success").subscribe(t=>{t&&this.eventContactPersonService.update(this.selectedEvent.id,{is_done:!0}).subscribe(()=>this.getPerson())})}onEventSelect(){this.eventMenuItems[0].items[0].disabled=this.selectedEvent.is_done}onDeleteEvent(){this.modalService.confirm("danger").subscribe(t=>{t&&this.eventContactPersonService.delete(this.selectedEvent.id).subscribe(()=>{const r=this.contact.activities.findIndex(o=>o.id===this.selectedEvent.id);this.contact.activities.splice(r,1),this.contact.activities=this.contact.activities.map(o=>o)})})}onEditEvent(){this.eventContactPersonService.openEditModal(this.selectedEvent).subscribe(t=>{t&&this.getPerson()})}onAddEventToCompany(t){this.contactPersonService.openAddEventToContactPersonModal(t,this.contact).subscribe(r=>{r&&this.getPerson()})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(V.gz),e.Y36(Qt._),e.Y36(Qn),e.Y36(Lt.J),e.Y36(ne.Z))},n.\u0275cmp=e.Xpm({type:n,selectors:[["pek-contact-person-page"]],decls:51,vars:22,consts:[[1,"page"],[1,"page__header"],[1,"page__title"],[3,"module","isActive"],[1,"page__content"],[1,"mb-4"],[1,"page__card","contact-information-card","mb-4"],["class","contact-information",4,"ngIf","ngIfElse"],[1,"page__card","mb-4"],[1,"page__table"],["selectionMode","single","scrollHeight","calc(100vh - 18.8rem)",3,"scrollable","paginator","rows","selection","value","selectionChange"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pTemplate","paginatorright"],["class","paginator-return-pagination",4,"ngIf"],["st",""],[1,"page__card"],["et",""],["infoLoading",""],["notGrouped",""],[1,"contact-information"],[1,"row"],[1,"col-md-5"],[1,"col-md-7"],[1,"d-flex"],["class","subtitle",4,"ngIf"],[1,"ml-auto",3,"model"],["pButton","","type","button","icon","pi pi-plus","label","Add Connection",1,"ml-2",3,"disabled","click"],[1,"subtitle"],[1,"text-center",2,"width","5%"],[2,"width","20%"],[2,"width","15%"],[1,"text-center",2,"width","10%"],[3,"pSelectableRow"],[1,"text-center","p-4"],["class","pi pi-spin pi-spinner","style","font-size: 2.25rem",4,"ngIf"],[4,"ngIf"],[1,"pi","pi-spin","pi-spinner",2,"font-size","2.25rem"],["type","button","styleClass","p-button-text",3,"click"],[1,"paginator-return-pagination"],[2,"width","10%"],[1,"word-break",2,"width","15%"],["target","_blank",3,"href"],["pButton","","type","button","icon","pi pi-plus","label","Add Event to Contact with Employee",1,"ml-2","mr-2",3,"disabled","click"],["pButton","","type","button","icon","pi pi-plus","label","Add Event to Contact without Employee",1,"ml-2",3,"disabled","click"],["pSortableColumn","event.start",2,"width","12%"],["field","event.start"],["pSortableColumn","event.end",2,"width","12%"],["field","event.end"],[2,"width","11%"],[2,"width","12%"],[1,"icons"],["class","pi pi-check text-success",4,"ngIf","ngIfElse"],[4,"ngFor","ngForOf"],[1,"pi","pi-check","text-success"],[1,"info-loading"],[1,"pi","pi-times","text-danger"]],template:function(t,r){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"pek-module-icon",3),e.TgZ(4,"h1"),e._uU(5,"Contact Page"),e.qZA()()()(),e.TgZ(6,"div",4)(7,"h2",5),e._uU(8,"Contact Information"),e.qZA(),e.TgZ(9,"div",6),e.YNc(10,of,14,5,"div",7),e.qZA(),e.TgZ(11,"h2",5),e._uU(12,"Linked Contacts"),e.qZA(),e.TgZ(13,"div",8)(14,"div",9)(15,"p-table",10,11),e.NdJ("selectionChange",function(a){return r.selectedLinkedContact=a}),e.YNc(17,sf,4,5,"ng-template",12),e.YNc(18,lf,15,0,"ng-template",13),e.YNc(19,cf,15,9,"ng-template",14),e.YNc(20,uf,4,3,"ng-template",15),e.YNc(21,ff,2,0,"ng-template",16),e.qZA()(),e.YNc(22,mf,3,0,"div",17),e.qZA(),e.TgZ(23,"h2",5),e._uU(24,"Linked Companies"),e.qZA(),e.TgZ(25,"div",8)(26,"div",9)(27,"p-table",10,18),e.NdJ("selectionChange",function(a){return r.selectedLinkedCompany=a}),e.YNc(29,gf,3,4,"ng-template",12),e.YNc(30,vf,15,0,"ng-template",13),e.YNc(31,_f,16,9,"ng-template",14),e.YNc(32,bf,4,3,"ng-template",15),e.YNc(33,Ef,2,0,"ng-template",16),e.qZA()(),e.YNc(34,Tf,3,0,"div",17),e.qZA(),e.TgZ(35,"h2",5),e._uU(36,"Events"),e.qZA(),e.TgZ(37,"div",19)(38,"div",9)(39,"p-table",10,20),e.NdJ("selectionChange",function(a){return r.selectedEvent=a})("selectionChange",function(){return r.onEventSelect()}),e.YNc(41,Af,5,6,"ng-template",12),e.YNc(42,Sf,19,0,"ng-template",13),e.YNc(43,Rf,21,17,"ng-template",14),e.YNc(44,Pf,4,3,"ng-template",15),e.YNc(45,Nf,2,0,"ng-template",16),e.qZA()(),e.YNc(46,Ff,3,0,"div",17),e.qZA()(),e.YNc(47,Uf,2,0,"ng-template",null,21,e.W1O),e.YNc(49,Of,1,0,"ng-template",null,22,e.W1O)),2&t){const o=e.MAs(16),a=e.MAs(28),s=e.MAs(40),l=e.MAs(48);e.xp6(3),e.Q6J("module","contacts-events")("isActive",!0),e.xp6(7),e.Q6J("ngIf",!r.isLoading)("ngIfElse",l),e.xp6(5),e.Q6J("scrollable",!0)("paginator",(null==r.contact?null:r.contact.linked_contacts.length)>0)("rows",10)("selection",r.selectedLinkedContact)("value",null==r.contact?null:r.contact.linked_contacts),e.xp6(7),e.Q6J("ngIf",!o.paginator&&!r.isLoading&&(null==r.contact?null:r.contact.linked_contacts.length)>0),e.xp6(5),e.Q6J("scrollable",!0)("paginator",(null==r.contact?null:r.contact.linked_companies.length)>0)("rows",10)("selection",r.selectedLinkedCompany)("value",null==r.contact?null:r.contact.linked_companies),e.xp6(7),e.Q6J("ngIf",!a.paginator&&!r.isLoading&&(null==r.contact?null:r.contact.linked_companies.length)>0),e.xp6(5),e.Q6J("scrollable",!0)("paginator",(null==r.contact?null:r.contact.activities.length)>0)("rows",10)("selection",r.selectedEvent)("value",null==r.contact?null:r.contact.activities),e.xp6(7),e.Q6J("ngIf",!s.paginator&&!r.isLoading&&(null==r.contact?null:r.contact.activities.length)>0)}},dependencies:[w.sg,w.O5,P.Hq,P.zx,K.jx,re.nm,Y.iA,Y.lQ,Y.Ei,Y.fz,oe.D,w.uU],styles:["h2[_ngcontent-%COMP%]{font-size:1.1875rem;font-weight:600}.info-loading[_ngcontent-%COMP%]{width:100%;height:5.715rem;display:flex;align-items:center;justify-content:center}.contact-information-card[_ngcontent-%COMP%]{padding:1rem 1.75rem 1.125rem}.icons[_ngcontent-%COMP%]{position:relative;top:1px}.contact-information[_ngcontent-%COMP%]{line-height:1.4}.contact-information[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:.625rem;font-weight:500;font-size:1.0625rem}.contact-information[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]:last-child{margin-bottom:0}.contact-information[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:400}"]}),n})(),Hf=(()=>{class n{constructor(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Tt,k,Dr,xt,kr,Zr,Lf=x(3031),Et=(()=>{return(n=Et||(Et={})).DAY_GRID_WEEK="dayGridWeek",n.DAY_GRID_MONTH="dayGridMonth",n.LIST_WEEK="listWeek",Et;var n})(),Jf=x(2559),Bf=x.n(Jf),Vt={},Rr=[],Qf=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function ve(n,i){for(var t in i)n[t]=i[t];return n}function Mr(n){var i=n.parentNode;i&&i.removeChild(n)}function ce(n,i,t){var r,o,a,s={};for(a in i)"key"==a?r=i[a]:"ref"==a?o=i[a]:s[a]=i[a];if(arguments.length>2&&(s.children=arguments.length>3?Tt.call(arguments,2):t),"function"==typeof n&&null!=n.defaultProps)for(a in n.defaultProps)void 0===s[a]&&(s[a]=n.defaultProps[a]);return At(n,s,r,o,null)}function At(n,i,t,r,o){var a={type:n,props:i,key:t,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:o??++Dr};return null==o&&null!=k.vnode&&k.vnode(a),a}function _e(n){return n.children}function de(n,i){this.props=n,this.context=i}function St(n,i){if(null==i)return n.__?St(n.__,n.__.__k.indexOf(n)+1):null;for(var t;i<n.__k.length;i++)if(null!=(t=n.__k[i])&&null!=t.__e)return t.__e;return"function"==typeof n.type?St(n):null}function Pr(n){var i,t;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,i=0;i<n.__k.length;i++)if(null!=(t=n.__k[i])&&null!=t.__e){n.__e=n.__c.base=t.__e;break}return Pr(n)}}function Vn(n){(!n.__d&&(n.__d=!0)&&xt.push(n)&&!zt.__r++||kr!==k.debounceRendering)&&((kr=k.debounceRendering)||setTimeout)(zt)}function zt(){for(var n;zt.__r=xt.length;)n=xt.sort(function(i,t){return i.__v.__b-t.__v.__b}),xt=[],n.some(function(i){var t,r,o,a,s,l;i.__d&&(s=(a=(t=i).__v).__e,(l=t.__P)&&(r=[],(o=ve({},a)).__v=a.__v+1,zn(l,a,o,t.__n,void 0!==l.ownerSVGElement,null!=a.__h?[s]:null,r,s??St(a),a.__h),Lr(r,a),a.__e!=s&&Pr(a)))})}function Nr(n,i,t,r,o,a,s,l,c,d){var p,u,m,h,v,y,C,_=r&&r.__k||Rr,T=_.length;for(t.__k=[],p=0;p<i.length;p++)if(null!=(h=t.__k[p]=null==(h=i[p])||"boolean"==typeof h?null:"string"==typeof h||"number"==typeof h||"bigint"==typeof h?At(null,h,null,null,h):Array.isArray(h)?At(_e,{children:h},null,null,null):h.__b>0?At(h.type,h.props,h.key,h.ref?h.ref:null,h.__v):h)){if(h.__=t,h.__b=t.__b+1,null===(m=_[p])||m&&h.key==m.key&&h.type===m.type)_[p]=void 0;else for(u=0;u<T;u++){if((m=_[u])&&h.key==m.key&&h.type===m.type){_[u]=void 0;break}m=null}zn(n,h,m=m||Vt,o,a,s,l,c,d),v=h.__e,(u=h.ref)&&m.ref!=u&&(C||(C=[]),m.ref&&C.push(m.ref,null,h),C.push(u,h.__c||v,h)),null!=v?(null==y&&(y=v),"function"==typeof h.type&&h.__k===m.__k?h.__d=c=Fr(h,c,n):c=Ur(n,h,m,_,v,c),"function"==typeof t.type&&(t.__d=c)):c&&m.__e==c&&c.parentNode!=n&&(c=St(m))}for(t.__e=y,p=T;p--;)null!=_[p]&&Br(_[p],_[p]);if(C)for(p=0;p<C.length;p++)Jr(C[p],C[++p],C[++p])}function Fr(n,i,t){for(var r,o=n.__k,a=0;o&&a<o.length;a++)(r=o[a])&&(r.__=n,i="function"==typeof r.type?Fr(r,i,t):Ur(t,r,r,o,r.__e,i));return i}function ye(n,i){return i=i||[],null==n||"boolean"==typeof n||(Array.isArray(n)?n.some(function(t){ye(t,i)}):i.push(n)),i}function Ur(n,i,t,r,o,a){var s,l,c;if(void 0!==i.__d)s=i.__d,i.__d=void 0;else if(null==t||o!=a||null==o.parentNode)e:if(null==a||a.parentNode!==n)n.appendChild(o),s=null;else{for(l=a,c=0;(l=l.nextSibling)&&c<r.length;c+=1)if(l==o)break e;n.insertBefore(o,a),s=a}return void 0!==s?s:o.nextSibling}function Or(n,i,t){"-"===i[0]?n.setProperty(i,t):n[i]=null==t?"":"number"!=typeof t||Qf.test(i)?t:t+"px"}function Gt(n,i,t,r,o){var a;e:if("style"===i)if("string"==typeof t)n.style.cssText=t;else{if("string"==typeof r&&(n.style.cssText=r=""),r)for(i in r)t&&i in t||Or(n.style,i,"");if(t)for(i in t)r&&t[i]===r[i]||Or(n.style,i,t[i])}else if("o"===i[0]&&"n"===i[1])a=i!==(i=i.replace(/Capture$/,"")),i=i.toLowerCase()in n?i.toLowerCase().slice(2):i.slice(2),n.l||(n.l={}),n.l[i+a]=t,t?r||n.addEventListener(i,a?Hr:qr,a):n.removeEventListener(i,a?Hr:qr,a);else if("dangerouslySetInnerHTML"!==i){if(o)i=i.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("href"!==i&&"list"!==i&&"form"!==i&&"tabIndex"!==i&&"download"!==i&&i in n)try{n[i]=t??"";break e}catch{}"function"==typeof t||(null==t||!1===t&&-1==i.indexOf("-")?n.removeAttribute(i):n.setAttribute(i,t))}}function qr(n){this.l[n.type+!1](k.event?k.event(n):n)}function Hr(n){this.l[n.type+!0](k.event?k.event(n):n)}function zn(n,i,t,r,o,a,s,l,c){var d,p,u,m,h,v,y,C,_,T,A,S,I,M,F,D=i.type;if(void 0!==i.constructor)return null;null!=t.__h&&(c=t.__h,l=i.__e=t.__e,i.__h=null,a=[l]),(d=k.__b)&&d(i);try{e:if("function"==typeof D){if(C=i.props,_=(d=D.contextType)&&r[d.__c],T=d?_?_.props.value:d.__:r,t.__c?y=(p=i.__c=t.__c).__=p.__E:("prototype"in D&&D.prototype.render?i.__c=p=new D(C,T):(i.__c=p=new de(C,T),p.constructor=D,p.render=Gf),_&&_.sub(p),p.props=C,p.state||(p.state={}),p.context=T,p.__n=r,u=p.__d=!0,p.__h=[],p._sb=[]),null==p.__s&&(p.__s=p.state),null!=D.getDerivedStateFromProps&&(p.__s==p.state&&(p.__s=ve({},p.__s)),ve(p.__s,D.getDerivedStateFromProps(C,p.__s))),m=p.props,h=p.state,u)null==D.getDerivedStateFromProps&&null!=p.componentWillMount&&p.componentWillMount(),null!=p.componentDidMount&&p.__h.push(p.componentDidMount);else{if(null==D.getDerivedStateFromProps&&C!==m&&null!=p.componentWillReceiveProps&&p.componentWillReceiveProps(C,T),!p.__e&&null!=p.shouldComponentUpdate&&!1===p.shouldComponentUpdate(C,p.__s,T)||i.__v===t.__v){for(p.props=C,p.state=p.__s,i.__v!==t.__v&&(p.__d=!1),p.__v=i,i.__e=t.__e,i.__k=t.__k,i.__k.forEach(function(H){H&&(H.__=i)}),A=0;A<p._sb.length;A++)p.__h.push(p._sb[A]);p._sb=[],p.__h.length&&s.push(p);break e}null!=p.componentWillUpdate&&p.componentWillUpdate(C,p.__s,T),null!=p.componentDidUpdate&&p.__h.push(function(){p.componentDidUpdate(m,h,v)})}if(p.context=T,p.props=C,p.__v=i,p.__P=n,S=k.__r,I=0,"prototype"in D&&D.prototype.render){for(p.state=p.__s,p.__d=!1,S&&S(i),d=p.render(p.props,p.state,p.context),M=0;M<p._sb.length;M++)p.__h.push(p._sb[M]);p._sb=[]}else do{p.__d=!1,S&&S(i),d=p.render(p.props,p.state,p.context),p.state=p.__s}while(p.__d&&++I<25);p.state=p.__s,null!=p.getChildContext&&(r=ve(ve({},r),p.getChildContext())),u||null==p.getSnapshotBeforeUpdate||(v=p.getSnapshotBeforeUpdate(m,h)),F=null!=d&&d.type===_e&&null==d.key?d.props.children:d,Nr(n,Array.isArray(F)?F:[F],i,t,r,o,a,s,l,c),p.base=i.__e,i.__h=null,p.__h.length&&s.push(p),y&&(p.__E=p.__=null),p.__e=!1}else null==a&&i.__v===t.__v?(i.__k=t.__k,i.__e=t.__e):i.__e=function zf(n,i,t,r,o,a,s,l){var c,d,p,u=t.props,m=i.props,h=i.type,v=0;if("svg"===h&&(o=!0),null!=a)for(;v<a.length;v++)if((c=a[v])&&"setAttribute"in c==!!h&&(h?c.localName===h:3===c.nodeType)){n=c,a[v]=null;break}if(null==n){if(null===h)return document.createTextNode(m);n=o?document.createElementNS("http://www.w3.org/2000/svg",h):document.createElement(h,m.is&&m),a=null,l=!1}if(null===h)u===m||l&&n.data===m||(n.data=m);else{if(a=a&&Tt.call(n.childNodes),d=(u=t.props||Vt).dangerouslySetInnerHTML,p=m.dangerouslySetInnerHTML,!l){if(null!=a)for(u={},v=0;v<n.attributes.length;v++)u[n.attributes[v].name]=n.attributes[v].value;(p||d)&&(p&&(d&&p.__html==d.__html||p.__html===n.innerHTML)||(n.innerHTML=p&&p.__html||""))}if(function Vf(n,i,t,r,o){var a;for(a in t)"children"===a||"key"===a||a in i||Gt(n,a,null,t[a],r);for(a in i)o&&"function"!=typeof i[a]||"children"===a||"key"===a||"value"===a||"checked"===a||t[a]===i[a]||Gt(n,a,i[a],t[a],r)}(n,m,u,o,l),p)i.__k=[];else if(v=i.props.children,Nr(n,Array.isArray(v)?v:[v],i,t,r,o&&"foreignObject"!==h,a,s,a?a[0]:t.__k&&St(t,0),l),null!=a)for(v=a.length;v--;)null!=a[v]&&Mr(a[v]);l||("value"in m&&void 0!==(v=m.value)&&(v!==n.value||"progress"===h&&!v||"option"===h&&v!==u.value)&&Gt(n,"value",v,u.value,!1),"checked"in m&&void 0!==(v=m.checked)&&v!==n.checked&&Gt(n,"checked",v,u.checked,!1))}return n}(t.__e,i,t,r,o,a,s,c);(d=k.diffed)&&d(i)}catch(H){i.__v=null,(c||null!=a)&&(i.__e=l,i.__h=!!c,a[a.indexOf(l)]=null),k.__e(H,i,t)}}function Lr(n,i){k.__c&&k.__c(i,n),n.some(function(t){try{n=t.__h,t.__h=[],n.some(function(r){r.call(t)})}catch(r){k.__e(r,t.__v)}})}function Jr(n,i,t){try{"function"==typeof n?n(i):n.current=i}catch(r){k.__e(r,t)}}function Br(n,i,t){var r,o;if(k.unmount&&k.unmount(n),(r=n.ref)&&(r.current&&r.current!==n.__e||Jr(r,null,i)),null!=(r=n.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(a){k.__e(a,i)}r.base=r.__P=null,n.__c=void 0}if(r=n.__k)for(o=0;o<r.length;o++)r[o]&&Br(r[o],i,t||"function"!=typeof n.type);t||null==n.__e||Mr(n.__e),n.__=n.__e=n.__d=void 0}function Gf(n,i,t){return this.constructor(n,t)}function Ze(n,i,t){var r,o,a;k.__&&k.__(n,i),o=(r="function"==typeof t)?null:t&&t.__k||i.__k,a=[],zn(i,n=(!r&&t||i).__k=ce(_e,null,[n]),o||Vt,Vt,void 0!==i.ownerSVGElement,!r&&t?[t]:o?null:i.firstChild?Tt.call(i.childNodes):null,a,!r&&t?t:o?o.__e:i.firstChild,r),Lr(a,n)}Tt=Rr.slice,k={__e:function(n,i,t,r){for(var o,a,s;i=i.__;)if((o=i.__c)&&!o.__)try{if((a=o.constructor)&&null!=a.getDerivedStateFromError&&(o.setState(a.getDerivedStateFromError(n)),s=o.__d),null!=o.componentDidCatch&&(o.componentDidCatch(n,r||{}),s=o.__d),s)return o.__E=o}catch(l){n=l}throw n}},Dr=0,de.prototype.setState=function(n,i){var t;t=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=ve({},this.state),"function"==typeof n&&(n=n(ve({},t),this.props)),n&&ve(t,n),null!=n&&this.__v&&(i&&this._sb.push(i),Vn(this))},de.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),Vn(this))},de.prototype.render=_e,xt=[],zt.__r=0,Zr=0;var Q,Gn,Vr,zr=[],Wt=[],Gr=k.__b,Wr=k.__r,jr=k.diffed,$r=k.__c,Kr=k.unmount;function nm(){for(var n;n=zr.shift();)if(n.__P&&n.__H)try{n.__H.__h.forEach($t),n.__H.__h.forEach($n),n.__H.__h=[]}catch(i){n.__H.__h=[],k.__e(i,n.__v)}}k.__b=function(n){Q=null,Gr&&Gr(n)},k.__r=function(n){Wr&&Wr(n);var i=(Q=n.__c).__H;i&&(Gn===Q?(i.__h=[],Q.__h=[],i.__.forEach(function(t){t.__N&&(t.__=t.__N),t.__V=Wt,t.__N=t.i=void 0})):(i.__h.forEach($t),i.__h.forEach($n),i.__h=[])),Gn=Q},k.diffed=function(n){jr&&jr(n);var i=n.__c;i&&i.__H&&(i.__H.__h.length&&(1!==zr.push(i)&&Vr===k.requestAnimationFrame||((Vr=k.requestAnimationFrame)||im)(nm)),i.__H.__.forEach(function(t){t.i&&(t.__H=t.i),t.__V!==Wt&&(t.__=t.__V),t.i=void 0,t.__V=Wt})),Gn=Q=null},k.__c=function(n,i){i.some(function(t){try{t.__h.forEach($t),t.__h=t.__h.filter(function(r){return!r.__||$n(r)})}catch(r){i.some(function(o){o.__h&&(o.__h=[])}),i=[],k.__e(r,t.__v)}}),$r&&$r(n,i)},k.unmount=function(n){Kr&&Kr(n);var i,t=n.__c;t&&t.__H&&(t.__H.__.forEach(function(r){try{$t(r)}catch(o){i=o}}),t.__H=void 0,i&&k.__e(i,t.__v))};var to="function"==typeof requestAnimationFrame;function im(n){var i,t=function(){clearTimeout(r),to&&cancelAnimationFrame(i),setTimeout(n)},r=setTimeout(t,100);to&&(i=requestAnimationFrame(t))}function $t(n){var i=Q,t=n.__c;"function"==typeof t&&(n.__c=void 0,t()),Q=i}function $n(n){var i=Q;n.__c=n.__(),Q=i}function Xn(n,i){for(var t in n)if("__source"!==t&&!(t in i))return!0;for(var r in i)if("__source"!==r&&n[r]!==i[r])return!0;return!1}function ti(n){this.props=n}(ti.prototype=new de).isPureReactComponent=!0,ti.prototype.shouldComponentUpdate=function(n,i){return Xn(this.props,n)||Xn(this.state,i)};var ro=k.__b;k.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),ro&&ro(n)},typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref");var lm=k.__e;k.__e=function(n,i,t,r){if(n.then)for(var o,a=i;a=a.__;)if((o=a.__c)&&o.__c)return null==i.__e&&(i.__e=t.__e,i.__k=t.__k),o.__c(n,i);lm(n,i,t,r)};var ao=k.unmount;function so(n,i,t){return n&&(n.__c&&n.__c.__H&&(n.__c.__H.__.forEach(function(r){"function"==typeof r.__c&&r.__c()}),n.__c.__H=null),null!=(n=function io(n,i){for(var t in i)n[t]=i[t];return n}({},n)).__c&&(n.__c.__P===t&&(n.__c.__P=i),n.__c=null),n.__k=n.__k&&n.__k.map(function(r){return so(r,i,t)})),n}function lo(n,i,t){return n&&(n.__v=null,n.__k=n.__k&&n.__k.map(function(r){return lo(r,i,t)}),n.__c&&n.__c.__P===i&&(n.__e&&t.insertBefore(n.__e,n.__d),n.__c.__e=!0,n.__c.__P=t)),n}function Kt(){this.__u=0,this.t=null,this.__b=null}function co(n){var i=n.__.__c;return i&&i.__a&&i.__a(n)}function wt(){this.u=null,this.o=null}k.unmount=function(n){var i=n.__c;i&&i.__R&&i.__R(),i&&!0===n.__h&&(n.type=null),ao&&ao(n)},(Kt.prototype=new de).__c=function(n,i){var t=i.__c,r=this;null==r.t&&(r.t=[]),r.t.push(t);var o=co(r.__v),a=!1,s=function(){a||(a=!0,t.__R=null,o?o(l):l())};t.__R=s;var l=function(){if(!--r.__u){if(r.state.__a){var d=r.state.__a;r.__v.__k[0]=lo(d,d.__c.__P,d.__c.__O)}var p;for(r.setState({__a:r.__b=null});p=r.t.pop();)p.forceUpdate()}},c=!0===i.__h;r.__u++||c||r.setState({__a:r.__b=r.__v.__k[0]}),n.then(s,s)},Kt.prototype.componentWillUnmount=function(){this.t=[]},Kt.prototype.render=function(n,i){if(this.__b){if(this.__v.__k){var t=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=so(this.__b,t,r.__O=r.__P)}this.__b=null}var o=i.__a&&ce(_e,null,n.fallback);return o&&(o.__h=null),[ce(_e,null,i.__a?null:n.children),o]};var po=function(n,i,t){if(++t[1]===t[0]&&n.o.delete(i),n.props.revealOrder&&("t"!==n.props.revealOrder[0]||!n.o.size))for(t=n.u;t;){for(;t.length>3;)t.pop()();if(t[1]<t[0])break;n.u=t=t[2]}};function dm(n){return this.getChildContext=function(){return n.context},n.children}function pm(n){var i=this,t=n.i;i.componentWillUnmount=function(){Ze(null,i.l),i.l=null,i.i=null},i.i&&i.i!==t&&i.componentWillUnmount(),n.__v?(i.l||(i.i=t,i.l={nodeType:1,parentNode:t,childNodes:[],appendChild:function(r){this.childNodes.push(r),i.i.appendChild(r)},insertBefore:function(r,o){this.childNodes.push(r),i.i.appendChild(r)},removeChild:function(r){this.childNodes.splice(this.childNodes.indexOf(r)>>>1,1),i.i.removeChild(r)}}),Ze(ce(dm,{context:i.context},n.__v),i.l)):i.l&&i.componentWillUnmount()}(wt.prototype=new de).__a=function(n){var i=this,t=co(i.__v),r=i.o.get(n);return r[0]++,function(o){var a=function(){i.props.revealOrder?(r.push(o),po(i,n,r)):o()};t?t(a):a()}},wt.prototype.render=function(n){this.u=null,this.o=new Map;var i=ye(n.children);n.revealOrder&&"b"===n.revealOrder[0]&&i.reverse();for(var t=i.length;t--;)this.o.set(i[t],this.u=[1,0,this.u]);return n.children},wt.prototype.componentDidUpdate=wt.prototype.componentDidMount=function(){var n=this;this.o.forEach(function(i,t){po(n,t,i)})};var fo=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,um=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,fm=typeof document<"u",mm=function(n){return(typeof Symbol<"u"&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(n)};de.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(n){Object.defineProperty(de.prototype,n,{configurable:!0,get:function(){return this["UNSAFE_"+n]},set:function(i){Object.defineProperty(this,n,{configurable:!0,writable:!0,value:i})}})});var mo=k.event;function vm(){}function _m(){return this.cancelBubble}function ym(){return this.defaultPrevented}k.event=function(n){return mo&&(n=mo(n)),n.persist=vm,n.isPropagationStopped=_m,n.isDefaultPrevented=ym,n.nativeEvent=n};var go={configurable:!0,get:function(){return this.class}},vo=k.vnode;k.vnode=function(n){var i=n.type,t=n.props,r=t;if("string"==typeof i){var o=-1===i.indexOf("-");for(var a in r={},t){var s=t[a];fm&&"children"===a&&"noscript"===i||"value"===a&&"defaultValue"in t&&null==s||("defaultValue"===a&&"value"in t&&null==t.value?a="value":"download"===a&&!0===s?s="":/ondoubleclick/i.test(a)?a="ondblclick":/^onchange(textarea|input)/i.test(a+i)&&!mm(t.type)?a="oninput":/^onfocus$/i.test(a)?a="onfocusin":/^onblur$/i.test(a)?a="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(a)?a=a.toLowerCase():o&&um.test(a)?a=a.replace(/[A-Z0-9]/g,"-$&").toLowerCase():null===s&&(s=void 0),/^oninput$/i.test(a)&&(a=a.toLowerCase(),r[a]&&(a="oninputCapture")),r[a]=s)}"select"==i&&r.multiple&&Array.isArray(r.value)&&(r.value=ye(t.children).forEach(function(l){l.props.selected=-1!=r.value.indexOf(l.props.value)})),"select"==i&&null!=r.defaultValue&&(r.value=ye(t.children).forEach(function(l){l.props.selected=r.multiple?-1!=r.defaultValue.indexOf(l.props.value):r.defaultValue==l.props.value})),n.props=r,t.class!=t.className&&(go.enumerable="className"in t,null!=t.className&&(r.class=t.className),Object.defineProperty(r,"className",go))}n.$$typeof=fo,vo&&vo(n)};var _o=k.__r;k.__r=function(n){_o&&_o(n)};var bo=typeof globalThis<"u"?globalThis:window;bo.FullCalendarVDom?console.warn("FullCalendar VDOM already loaded"):bo.FullCalendarVDom={Component:de,createElement:ce,render:Ze,createRef:function Ir(){return{current:null}},Fragment:_e,createContext:function Pm(n){var i=function Qr(n,i){var t={__c:i="__cC"+Zr++,__:n,Consumer:function(r,o){return r.children(o)},Provider:function(r){var o,a;return this.getChildContext||(o=[],(a={})[i]=this,this.getChildContext=function(){return a},this.shouldComponentUpdate=function(s){this.props.value!==s.value&&o.some(Vn)},this.sub=function(s){o.push(s);var l=s.componentWillUnmount;s.componentWillUnmount=function(){o.splice(o.indexOf(s),1),l&&l.call(s)}}),r.children}};return t.Provider.__=t.Consumer.contextType=t}(n),t=i.Provider;return i.Provider=function(){var r=this,o=!this.getChildContext,a=t.apply(this,arguments);if(o){var s=[];this.shouldComponentUpdate=function(l){r.props.value!==l.value&&s.forEach(function(c){c.context=l.value,c.forceUpdate()})},this.sub=function(l){s.push(l);var c=l.componentWillUnmount;l.componentWillUnmount=function(){s.splice(s.indexOf(l),1),c&&c.call(l)}}}return a},i},createPortal:function uo(n,i){var t=ce(pm,{__v:n,i});return t.containerInfo=i,t},flushSync:function Mm(n){n();var i=k.debounceRendering,t=[];for(k.debounceRendering=function r(o){t.push(o)},Ze(ce(Im,{}),document.createElement("div"));t.length;)t.shift()();k.debounceRendering=i},unmountComponentAtNode:function Nm(n){Ze(null,n)}};var Im=function(n){function i(){return null!==n&&n.apply(this,arguments)||this}return(0,f.ZT)(i,n),i.prototype.render=function(){return ce("div",{})},i.prototype.componentDidMount=function(){this.setState({})},i}(de);if(typeof FullCalendarVDom>"u")throw new Error("Please import the top-level fullcalendar lib before attempting to import a plugin.");var ni=FullCalendarVDom.Component,g=FullCalendarVDom.createElement,Fm=FullCalendarVDom.render,W=FullCalendarVDom.createRef,j=FullCalendarVDom.Fragment,Eo=FullCalendarVDom.createContext,Um=FullCalendarVDom.createPortal,To=FullCalendarVDom.flushSync,Om=FullCalendarVDom.unmountComponentAtNode,it=function(){function n(i,t){this.context=i,this.internalEventSource=t}return n.prototype.remove=function(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})},n.prototype.refetch=function(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})},Object.defineProperty(n.prototype,"id",{get:function(){return this.internalEventSource.publicId},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"url",{get:function(){return this.internalEventSource.meta.url},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"format",{get:function(){return this.internalEventSource.meta.format},enumerable:!1,configurable:!0}),n}();function ii(n){n.parentNode&&n.parentNode.removeChild(n)}function X(n,i){if(n.closest)return n.closest(i);if(!document.documentElement.contains(n))return null;do{if(ri(n,i))return n;n=n.parentElement||n.parentNode}while(null!==n&&1===n.nodeType);return null}function ri(n,i){return(n.matches||n.matchesSelector||n.msMatchesSelector).call(n,i)}var Hm=/(top|left|right|bottom|width|height)$/i;function Dt(n,i){for(var t in i)xo(n,t,i[t])}function xo(n,i,t){n.style[i]=null==t?"":"number"==typeof t&&Hm.test(i)?t+"px":t}function Ao(n){var i,t;return null!==(t=null===(i=n.composedPath)||void 0===i?void 0:i.call(n)[0])&&void 0!==t?t:n.target}function So(n){return n.getRootNode?n.getRootNode():document}var wo=0;function Me(){return"fc-dom-"+(wo+=1)}function Xt(n){n.preventDefault()}function Do(n,i,t,r){var o=function Lm(n,i){return function(t){var r=X(t.target,n);r&&i.call(r,t,r)}}(t,r);return n.addEventListener(i,o),function(){n.removeEventListener(i,o)}}var ko=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function Zo(n){return(0,f.pi)({onClick:n},Ro(n))}function Ro(n){return{tabIndex:0,onKeyDown:function(i){("Enter"===i.key||" "===i.key)&&(n(i),i.preventDefault())}}}var Mo=0;function rt(){return String(Mo+=1)}function en(){document.body.classList.add("fc-not-allowed")}function tn(){document.body.classList.remove("fc-not-allowed")}function jm(n,i,t){return t.func?t.func(n,i):function $m(n,i){return n||i?null==i?-1:null==n?1:"string"==typeof n||"string"==typeof i?String(n).localeCompare(String(i)):n-i:0}(n[t.field],i[t.field])*(t.order||1)}function ot(n,i){var t=String(n);return"000".substr(0,i-t.length)+t}function kt(n,i,t){return"function"==typeof n?n.apply(void 0,i):"string"==typeof n?i.reduce(function(r,o,a){return r.replace("$"+a,o||"")},n):t}function Km(n,i){return n-i}function nn(n){return n%1==0}function Xm(n){var i=n.querySelector(".fc-scrollgrid-shrink-frame"),t=n.querySelector(".fc-scrollgrid-shrink-cushion");if(!i)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!t)throw new Error("needs fc-scrollgrid-shrink-cushion className");return n.getBoundingClientRect().width-i.getBoundingClientRect().width+t.getBoundingClientRect().width}var Io=["sun","mon","tue","wed","thu","fri","sat"];function Po(n,i){var t=Pe(n);return t[2]+=7*i,ie(t)}function $(n,i){var t=Pe(n);return t[2]+=i,ie(t)}function Qe(n,i){var t=Pe(n);return t[6]+=i,ie(t)}function Ie(n,i){return(i.valueOf()-n.valueOf())/864e5}function rn(n,i){return Ne(n)===Ne(i)?Math.round(Ie(n,i)):null}function q(n){return ie([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()])}function oi(n,i,t,r){var o=ie([i,0,1+dh(i,t,r)]),a=q(n),s=Math.round(Ie(o,a));return Math.floor(s/7)+1}function dh(n,i,t){var r=7+i-t;return-(7+ie([n,0,r]).getUTCDay()-i)%7+r-1}function No(n){return[n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()]}function Fo(n){return new Date(n[0],n[1]||0,n[2]??1,n[3]||0,n[4]||0,n[5]||0)}function Pe(n){return[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.getUTCMilliseconds()]}function ie(n){return 1===n.length&&(n=n.concat([0])),new Date(Date.UTC.apply(Date,n))}function Uo(n){return!isNaN(n.valueOf())}function Ne(n){return 1e3*n.getUTCHours()*60*60+1e3*n.getUTCMinutes()*60+1e3*n.getUTCSeconds()+n.getUTCMilliseconds()}function on(n,i,t,r){return{instanceId:rt(),defId:n,range:i,forcedStartTzo:t??null,forcedEndTzo:r??null}}var an=Object.prototype.hasOwnProperty;function ai(n,i){var t={};if(i)for(var r in i){for(var o=[],a=n.length-1;a>=0;a-=1){var s=n[a][r];if("object"==typeof s&&s)o.unshift(s);else if(void 0!==s){t[r]=s;break}}o.length&&(t[r]=ai(o))}for(a=n.length-1;a>=0;a-=1){var l=n[a];for(var c in l)c in t||(t[c]=l[c])}return t}function Ve(n,i){var t={};for(var r in n)i(n[r],r)&&(t[r]=n[r]);return t}function Ce(n,i){var t={};for(var r in n)t[r]=i(n[r],r);return t}function Oo(n){for(var i={},t=0,r=n;t<r.length;t++)i[r[t]]=!0;return i}function si(n){var i=[];for(var t in n)i.push(n[t]);return i}function be(n,i){if(n===i)return!0;for(var t in n)if(an.call(n,t)&&!(t in i))return!1;for(var t in i)if(an.call(i,t)&&n[t]!==i[t])return!1;return!0}function qo(n,i){var t=[];for(var r in n)an.call(n,r)&&(r in i||t.push(r));for(var r in i)an.call(i,r)&&n[r]!==i[r]&&t.push(r);return t}function li(n,i,t){if(void 0===t&&(t={}),n===i)return!0;for(var r in i)if(!(r in n)||!ph(n[r],i[r],t[r]))return!1;for(var r in n)if(!(r in i))return!1;return!0}function ph(n,i,t){return n===i||!0===t||!!t&&t(n,i)}function at(n,i,t){var r=t.dateEnv,o=t.pluginHooks,a=t.options,s=n.defs,l=n.instances;for(var c in l=Ve(l,function(C){return!s[C.defId].recurringDef}),s){var d=s[c];if(d.recurringDef){var p=d.recurringDef.duration;p||(p=d.allDay?a.defaultAllDayEventDuration:a.defaultTimedEventDuration);for(var m=0,h=mh(d,p,i,r,o.recurringTypes);m<h.length;m++){var v=h[m],y=on(c,{start:v,end:r.add(v,p)});l[y.instanceId]=y}}}return{defs:s,instances:l}}function mh(n,i,t,r,o){var s=o[n.recurringDef.typeId].expand(n.recurringDef.typeData,{start:r.subtract(t.start,i),end:t.end},r);return n.allDay&&(s=s.map(q)),s}var Ho=["years","months","days","milliseconds"],hh=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function N(n,i){var t;return"string"==typeof n?function gh(n){var i=hh.exec(n);if(i){var t=i[1]?-1:1;return{years:0,months:0,days:t*(i[2]?parseInt(i[2],10):0),milliseconds:t*(60*(i[3]?parseInt(i[3],10):0)*60*1e3+60*(i[4]?parseInt(i[4],10):0)*1e3+1e3*(i[5]?parseInt(i[5],10):0)+(i[6]?parseInt(i[6],10):0))}}return null}(n):"object"==typeof n&&n?Lo(n):"number"==typeof n?Lo(((t={})[i||"milliseconds"]=n,t)):null}function Lo(n){var i={years:n.years||n.year||0,months:n.months||n.month||0,days:n.days||n.day||0,milliseconds:60*(n.hours||n.hour||0)*60*1e3+60*(n.minutes||n.minute||0)*1e3+1e3*(n.seconds||n.second||0)+(n.milliseconds||n.millisecond||n.ms||0)},t=n.weeks||n.week;return t&&(i.days+=7*t,i.specifiedWeeks=!0),i}function ci(n,i){return{years:n.years+i.years,months:n.months+i.months,days:n.days+i.days,milliseconds:n.milliseconds+i.milliseconds}}function st(n){return ae(n)/864e5}function ae(n){return 31536e6*n.years+2592e6*n.months+864e5*n.days+n.milliseconds}function di(n,i){for(var t=null,r=0;r<Ho.length;r+=1){var o=Ho[r];if(i[o]){var a=n[o]/i[o];if(!nn(a)||null!==t&&t!==a)return null;t=a}else if(n[o])return null}return t}function pi(n){var i=n.milliseconds;if(i){if(i%1e3!=0)return{unit:"millisecond",value:i};if(i%6e4!=0)return{unit:"second",value:i/1e3};if(i%36e5!=0)return{unit:"minute",value:i/6e4};if(i)return{unit:"hour",value:i/36e5}}return n.days?n.specifiedWeeks&&n.days%7==0?{unit:"week",value:n.days/7}:{unit:"day",value:n.days}:n.months?{unit:"month",value:n.months}:n.years?{unit:"year",value:n.years}:{unit:"millisecond",value:0}}function Jo(n,i,t){void 0===t&&(t=!1);var r=n.toISOString();return r=r.replace(".000",""),t&&(r=r.replace("T00:00:00Z","")),r.length>10&&(null==i?r=r.replace("Z",""):0!==i&&(r=r.replace("Z",ui(i,!0)))),r}function sn(n){return n.toISOString().replace(/T.*$/,"")}function Eh(n){return ot(n.getUTCHours(),2)+":"+ot(n.getUTCMinutes(),2)+":"+ot(n.getUTCSeconds(),2)}function ui(n,i){void 0===i&&(i=!1);var t=n<0?"-":"+",r=Math.abs(n),o=Math.floor(r/60),a=Math.round(r%60);return i?t+ot(o,2)+":"+ot(a,2):"GMT"+t+o+(a?":"+ot(a,2):"")}function Fe(n,i,t){if(n===i)return!0;var o,r=n.length;if(r!==i.length)return!1;for(o=0;o<r;o+=1)if(!(t?t(n[o],i[o]):n[o]===i[o]))return!1;return!0}function R(n,i,t){var r,o;return function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];if(r){if(!Fe(r,a)){t&&t(o);var l=n.apply(this,a);(!i||!i(l,o))&&(o=l)}}else o=n.apply(this,a);return r=a,o}}function ln(n,i,t){var o,a,r=this;return function(s){if(o){if(!be(o,s)){t&&t(a);var l=n.call(r,s);(!i||!i(l,a))&&(a=l)}}else a=n.call(r,s);return o=s,a}}var Bo={week:3,separator:0,omitZeroMinute:0,meridiem:0,omitCommas:0},cn={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},dn=/\s*([ap])\.?m\.?/i,Th=/,/g,xh=/\s+/g,Ah=/\u200e/g,Sh=/UTC|GMT/,wh=function(){function n(i){var t={},r={},o=0;for(var a in i)a in Bo?(r[a]=i[a],o=Math.max(Bo[a],o)):(t[a]=i[a],a in cn&&(o=Math.max(cn[a],o)));this.standardDateProps=t,this.extendedSettings=r,this.severity=o,this.buildFormattingFunc=R(Yo)}return n.prototype.format=function(i,t){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,t)(i)},n.prototype.formatRange=function(i,t,r,o){var s=this.standardDateProps,l=this.extendedSettings,c=function Ih(n,i,t){return t.getMarkerYear(n)!==t.getMarkerYear(i)?5:t.getMarkerMonth(n)!==t.getMarkerMonth(i)?4:t.getMarkerDay(n)!==t.getMarkerDay(i)?2:Ne(n)!==Ne(i)?1:0}(i.marker,t.marker,r.calendarSystem);if(!c)return this.format(i,r);var d=c;d>1&&("numeric"===s.year||"2-digit"===s.year)&&("numeric"===s.month||"2-digit"===s.month)&&("numeric"===s.day||"2-digit"===s.day)&&(d=1);var p=this.format(i,r),u=this.format(t,r);if(p===u)return p;var m=function Ph(n,i){var t={};for(var r in n)(!(r in cn)||cn[r]<=i)&&(t[r]=n[r]);return t}(s,d),h=Yo(m,l,r),v=h(i),y=h(t),C=function Nh(n,i,t,r){for(var o=0;o<n.length;){var a=n.indexOf(i,o);if(-1===a)break;for(var s=n.substr(0,a),l=n.substr(o=a+i.length),c=0;c<t.length;){var d=t.indexOf(r,c);if(-1===d)break;var p=t.substr(0,d),u=t.substr(c=d+r.length);if(s===p&&l===u)return{before:s,after:l}}}return null}(p,v,u,y),_=l.separator||o||r.defaultSeparator||"";return C?C.before+v+_+y+C.after:p+_+u},n.prototype.getLargestUnit=function(){switch(this.severity){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}},n}();function Yo(n,i,t){var r=Object.keys(n).length;return 1===r&&"short"===n.timeZoneName?function(o){return ui(o.timeZoneOffset)}:0===r&&i.week?function(o){return function Mh(n,i,t,r,o){var a=[];return"long"===o?a.push(t):("short"===o||"narrow"===o)&&a.push(i),("long"===o||"short"===o)&&a.push(" "),a.push(r.simpleNumberFormat.format(n)),"rtl"===r.options.direction&&a.reverse(),a.join("")}(t.computeWeekNumber(o.marker),t.weekText,t.weekTextLong,t.locale,i.week)}:function Dh(n,i,t){n=(0,f.pi)({},n),i=(0,f.pi)({},i),function kh(n,i){n.timeZoneName&&(n.hour||(n.hour="2-digit"),n.minute||(n.minute="2-digit")),"long"===n.timeZoneName&&(n.timeZoneName="short"),i.omitZeroMinute&&(n.second||n.millisecond)&&delete i.omitZeroMinute}(n,i),n.timeZone="UTC";var o,r=new Intl.DateTimeFormat(t.locale.codes,n);if(i.omitZeroMinute){var a=(0,f.pi)({},n);delete a.minute,o=new Intl.DateTimeFormat(t.locale.codes,a)}return function(s){var l=s.marker;return function Zh(n,i,t,r,o){return n=n.replace(Ah,""),"short"===t.timeZoneName&&(n=function Rh(n,i){var t=!1;return n=n.replace(Sh,function(){return t=!0,i}),t||(n+=" "+i),n}(n,"UTC"===o.timeZone||null==i.timeZoneOffset?"UTC":ui(i.timeZoneOffset))),r.omitCommas&&(n=n.replace(Th,"").trim()),r.omitZeroMinute&&(n=n.replace(":00","")),!1===r.meridiem?n=n.replace(dn,"").trim():"narrow"===r.meridiem?n=n.replace(dn,function(a,s){return s.toLocaleLowerCase()}):"short"===r.meridiem?n=n.replace(dn,function(a,s){return s.toLocaleLowerCase()+"m"}):"lowercase"===r.meridiem&&(n=n.replace(dn,function(a){return a.toLocaleLowerCase()})),(n=n.replace(xh," ")).trim()}((o&&!l.getUTCMinutes()?o:r).format(l),s,n,i,t)}}(n,i,t)}function Qo(n,i){var t=i.markerToArray(n.marker);return{marker:n.marker,timeZoneOffset:n.timeZoneOffset,array:t,year:t[0],month:t[1],day:t[2],hour:t[3],minute:t[4],second:t[5],millisecond:t[6]}}function pn(n,i,t,r){var o=Qo(n,t.calendarSystem);return{date:o,start:o,end:i?Qo(i,t.calendarSystem):null,timeZone:t.timeZone,localeCodes:t.locale.codes,defaultSeparator:r||t.defaultSeparator}}var Fh=function(){function n(i){this.cmdStr=i}return n.prototype.format=function(i,t,r){return t.cmdFormatter(this.cmdStr,pn(i,null,t,r))},n.prototype.formatRange=function(i,t,r,o){return r.cmdFormatter(this.cmdStr,pn(i,t,r,o))},n}(),Uh=function(){function n(i){this.func=i}return n.prototype.format=function(i,t,r){return this.func(pn(i,null,t,r))},n.prototype.formatRange=function(i,t,r,o){return this.func(pn(i,t,r,o))},n}();function B(n){return"object"==typeof n&&n?new wh(n):"string"==typeof n?new Fh(n):"function"==typeof n?new Uh(n):null}var Vo={navLinkDayClick:b,navLinkWeekClick:b,duration:N,bootstrapFontAwesome:b,buttonIcons:b,customButtons:b,defaultAllDayEventDuration:N,defaultTimedEventDuration:N,nextDayThreshold:N,scrollTime:N,scrollTimeReset:Boolean,slotMinTime:N,slotMaxTime:N,dayPopoverFormat:B,slotDuration:N,snapDuration:N,headerToolbar:b,footerToolbar:b,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:B,dayHeaderClassNames:b,dayHeaderContent:b,dayHeaderDidMount:b,dayHeaderWillUnmount:b,dayCellClassNames:b,dayCellContent:b,dayCellDidMount:b,dayCellWillUnmount:b,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:b,weekNumbers:Boolean,weekNumberClassNames:b,weekNumberContent:b,weekNumberDidMount:b,weekNumberWillUnmount:b,editable:Boolean,viewClassNames:b,viewDidMount:b,viewWillUnmount:b,nowIndicator:Boolean,nowIndicatorClassNames:b,nowIndicatorContent:b,nowIndicatorDidMount:b,nowIndicatorWillUnmount:b,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:b,locale:b,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:b,eventOrder:function Gm(n){var r,o,i=[],t=[];for("string"==typeof n?t=n.split(/\s*,\s*/):"function"==typeof n?t=[n]:Array.isArray(n)&&(t=n),r=0;r<t.length;r+=1)"string"==typeof(o=t[r])?i.push("-"===o.charAt(0)?{field:o.substring(1),order:-1}:{field:o,order:1}):"function"==typeof o&&i.push({func:o});return i},eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:b,contentHeight:b,direction:String,weekNumberFormat:B,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:b,initialDate:b,now:b,eventDataTransform:b,stickyHeaderDates:b,stickyFooterScrollbar:b,viewHeight:b,defaultAllDay:Boolean,eventSourceFailure:b,eventSourceSuccess:b,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:b,eventConstraint:b,eventAllow:b,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:b,eventContent:b,eventDidMount:b,eventWillUnmount:b,selectConstraint:b,selectOverlap:b,selectAllow:b,droppable:Boolean,unselectCancel:String,slotLabelFormat:b,slotLaneClassNames:b,slotLaneContent:b,slotLaneDidMount:b,slotLaneWillUnmount:b,slotLabelClassNames:b,slotLabelContent:b,slotLabelDidMount:b,slotLabelWillUnmount:b,dayMaxEvents:b,dayMaxEventRows:b,dayMinWidth:Number,slotLabelInterval:N,allDayText:String,allDayClassNames:b,allDayContent:b,allDayDidMount:b,allDayWillUnmount:b,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:B,rerenderDelay:Number,moreLinkText:b,moreLinkHint:b,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:b,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:N,hiddenDays:b,monthMode:Boolean,fixedWeekCount:Boolean,validRange:b,visibleRange:b,titleFormat:b,eventInteractive:Boolean,noEventsText:String,viewHint:b,navLinkHint:b,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:b,moreLinkClassNames:b,moreLinkContent:b,moreLinkDidMount:b,moreLinkWillUnmount:b},Ee={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:" \u2013 ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30},zo={datesSet:b,eventsSet:b,eventAdd:b,eventChange:b,eventRemove:b,windowResize:b,eventClick:b,eventMouseEnter:b,eventMouseLeave:b,select:b,unselect:b,loading:b,_unmount:b,_beforeprint:b,_afterprint:b,_noEventDrop:b,_noEventResize:b,_resize:b,_scrollRequest:b},Go={buttonText:b,buttonHints:b,views:b,plugins:b,initialEvents:b,events:b,eventSources:b},ze={headerToolbar:lt,footerToolbar:lt,buttonText:lt,buttonHints:lt,buttonIcons:lt,dateIncrement:lt};function lt(n,i){return"object"==typeof n&&"object"==typeof i&&n&&i?be(n,i):n===i}var Oh={type:String,component:b,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:b,usesMinMaxTime:Boolean,classNames:b,content:b,didMount:b,willUnmount:b};function fi(n){return ai(n,ze)}function un(n,i){var t={},r={};for(var o in i)o in n&&(t[o]=i[o](n[o]));for(var o in n)o in i||(r[o]=n[o]);return{refined:t,extra:r}}function b(n){return n}function fn(n,i,t,r){for(var o={defs:{},instances:{}},a=_i(t),s=0,l=n;s<l.length;s++){var d=$o(l[s],i,t,r,a);d&&Zt(d,o)}return o}function Zt(n,i){return void 0===i&&(i={defs:{},instances:{}}),i.defs[n.def.defId]=n.def,n.instance&&(i.instances[n.instance.instanceId]=n.instance),i}function mi(n,i){var t=n.instances[i];if(t){var r=n.defs[t.defId],o=mn(n,function(a){return function qh(n,i){return Boolean(n.groupId&&n.groupId===i.groupId)}(r,a)});return o.defs[r.defId]=r,o.instances[t.instanceId]=t,o}return{defs:{},instances:{}}}function hi(n,i){return{defs:(0,f.pi)((0,f.pi)({},n.defs),i.defs),instances:(0,f.pi)((0,f.pi)({},n.instances),i.instances)}}function mn(n,i){var t=Ve(n.defs,i),r=Ve(n.instances,function(o){return t[o.defId]});return{defs:t,instances:r}}function gi(n){return Array.isArray(n)?n:"string"==typeof n?n.split(/\s+/):[]}var hn={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:b,overlap:b,allow:b,className:gi,classNames:gi,color:String,backgroundColor:String,borderColor:String,textColor:String},Jh={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function gn(n,i){var t=function Lh(n,i){return Array.isArray(n)?fn(n,null,i,!0):"object"==typeof n&&n?fn([n],null,i,!0):null!=n?String(n):null}(n.constraint,i);return{display:n.display||null,startEditable:null!=n.startEditable?n.startEditable:n.editable,durationEditable:null!=n.durationEditable?n.durationEditable:n.editable,constraints:null!=t?[t]:[],overlap:null!=n.overlap?n.overlap:null,allows:null!=n.allow?[n.allow]:[],backgroundColor:n.backgroundColor||n.color||"",borderColor:n.borderColor||n.color||"",textColor:n.textColor||"",classNames:(n.className||[]).concat(n.classNames||[])}}function Wo(n){return n.reduce(Bh,Jh)}function Bh(n,i){return{display:null!=i.display?i.display:n.display,startEditable:null!=i.startEditable?i.startEditable:n.startEditable,durationEditable:null!=i.durationEditable?i.durationEditable:n.durationEditable,constraints:n.constraints.concat(i.constraints),overlap:"boolean"==typeof i.overlap?i.overlap:n.overlap,allows:n.allows.concat(i.allows),backgroundColor:i.backgroundColor||n.backgroundColor,borderColor:i.borderColor||n.borderColor,textColor:i.textColor||n.textColor,classNames:n.classNames.concat(i.classNames)}}var vn={id:String,groupId:String,title:String,url:String,interactive:Boolean},jo={start:b,end:b,date:b,allDay:Boolean},Yh=(0,f.pi)((0,f.pi)((0,f.pi)({},vn),jo),{extendedProps:b});function $o(n,i,t,r,o){void 0===o&&(o=_i(t));var a=vi(n,t,o),s=a.refined,l=a.extra,c=function Vh(n,i){var t=null;return n&&(t=n.defaultAllDay),null==t&&(t=i.options.defaultAllDay),t}(i,t),d=function fh(n,i,t,r){for(var o=0;o<r.length;o+=1){var a=r[o].parse(n,t);if(a){var s=n.allDay;return null==s&&null==(s=i)&&null==(s=a.allDayGuess)&&(s=!1),{allDay:s,duration:a.duration,typeData:a.typeData,typeId:o}}}return null}(s,c,t.dateEnv,t.pluginHooks.recurringTypes);if(d)return(p=_n(s,l,i?i.sourceId:"",d.allDay,Boolean(d.duration),t)).recurringDef={typeId:d.typeId,typeData:d.typeData,duration:d.duration},{def:p,instance:null};var p,u=function Qh(n,i,t,r){var a,c,o=n.allDay,s=null,l=!1,d=null;if(a=t.dateEnv.createMarkerMeta(null!=n.start?n.start:n.date))s=a.marker;else if(!r)return null;return null!=n.end&&(c=t.dateEnv.createMarkerMeta(n.end)),null==o&&(o=null!=i?i:(!a||a.isTimeUnspecified)&&(!c||c.isTimeUnspecified)),o&&s&&(s=q(s)),c&&(d=c.marker,o&&(d=q(d)),s&&d<=s&&(d=null)),d?l=!0:r||(l=t.options.forceEventDuration||!1,d=t.dateEnv.add(s,o?t.options.defaultAllDayEventDuration:t.options.defaultTimedEventDuration)),{allDay:o,hasEnd:l,range:{start:s,end:d},forcedStartTzo:a?a.forcedTzo:null,forcedEndTzo:c?c.forcedTzo:null}}(s,c,t,r);return u?{def:p=_n(s,l,i?i.sourceId:"",u.allDay,u.hasEnd,t),instance:on(p.defId,u.range,u.forcedStartTzo,u.forcedEndTzo)}:null}function vi(n,i,t){return void 0===t&&(t=_i(i)),un(n,t)}function _i(n){return(0,f.pi)((0,f.pi)((0,f.pi)({},hn),Yh),n.pluginHooks.eventRefiners)}function _n(n,i,t,r,o,a){for(var s={title:n.title||"",groupId:n.groupId||"",publicId:n.id||"",url:n.url||"",recurringDef:null,defId:rt(),sourceId:t,allDay:r,hasEnd:o,interactive:n.interactive,ui:gn(n,a),extendedProps:(0,f.pi)((0,f.pi)({},n.extendedProps||{}),i)},l=0,c=a.pluginHooks.eventDefMemberAdders;l<c.length;l++)(0,f.pi)(s,(0,c[l])(n));return Object.freeze(s.ui.classNames),Object.freeze(s.extendedProps),s}function Ko(n){var i=Math.floor(Ie(n.start,n.end))||1,t=q(n.start);return{start:t,end:$(t,i)}}function yi(n,i){void 0===i&&(i=N(0));var t=null,r=null;if(n.end){r=q(n.end);var o=n.end.valueOf()-r.valueOf();o&&o>=ae(i)&&(r=$(r,1))}return n.start&&(t=q(n.start),r&&r<=t&&(r=$(t,1))),{start:t,end:r}}function ct(n,i,t,r){return"year"===r?N(t.diffWholeYears(n,i),"year"):"month"===r?N(t.diffWholeMonths(n,i),"month"):function rh(n,i){var t=q(n),r=q(i);return{years:0,months:0,days:Math.round(Ie(t,r)),milliseconds:i.valueOf()-r.valueOf()-(n.valueOf()-t.valueOf())}}(n,i)}function Xo(n,i){var o,a,t=[],r=i.start;for(n.sort(Wh),o=0;o<n.length;o+=1)(a=n[o]).start>r&&t.push({start:r,end:a.start}),a.end>r&&(r=a.end);return r<i.end&&t.push({start:r,end:i.end}),t}function Wh(n,i){return n.start.valueOf()-i.start.valueOf()}function Ge(n,i){var t=n.start,r=n.end,o=null;return null!==i.start&&(t=null===t?i.start:new Date(Math.max(t.valueOf(),i.start.valueOf()))),null!=i.end&&(r=null===r?i.end:new Date(Math.min(r.valueOf(),i.end.valueOf()))),(null===t||null===r||t<r)&&(o={start:t,end:r}),o}function Ci(n,i){return(null===n.end||null===i.start||n.end>i.start)&&(null===n.start||null===i.end||n.start<i.end)}function yn(n,i){return(null===n.start||null!==i.start&&i.start>=n.start)&&(null===n.end||null!==i.end&&i.end<=n.end)}function Ue(n,i){return(null===n.start||i>=n.start)&&(null===n.end||i<n.end)}function Cn(n,i,t,r){var o={},a={},s={},l=[],c=[],d=bn(n.defs,i);for(var p in n.defs)"inverse-background"===(m=d[(u=n.defs[p]).defId]).display&&(u.groupId?(o[u.groupId]=[],s[u.groupId]||(s[u.groupId]=u)):a[p]=[]);for(var h in n.instances){var v=n.instances[h],m=d[(u=n.defs[v.defId]).defId],y=v.range,C=!u.allDay&&r?yi(y,r):y,_=Ge(C,t);_&&("inverse-background"===m.display?u.groupId?o[u.groupId].push(_):a[v.defId].push(_):"none"!==m.display&&("background"===m.display?l:c).push({def:u,ui:m,instance:v,range:_,isStart:C.start&&C.start.valueOf()===_.start.valueOf(),isEnd:C.end&&C.end.valueOf()===_.end.valueOf()}))}for(var T in o)for(var I=0,M=Xo(o[T],t);I<M.length;I++){var u;l.push({def:u=s[T],ui:m=d[u.defId],instance:null,range:M[I],isStart:!1,isEnd:!1})}for(var p in a)for(var D=0,H=Xo(a[p],t);D<H.length;D++)l.push({def:n.defs[p],ui:d[p],instance:null,range:H[D],isStart:!1,isEnd:!1});return{bg:l,fg:c}}function ea(n,i){n.fcSeg=i}function dt(n){return n.fcSeg||n.parentNode.fcSeg||null}function bn(n,i){return Ce(n,function(t){return ta(t,i)})}function ta(n,i){var t=[];return i[""]&&t.push(i[""]),i[n.defId]&&t.push(i[n.defId]),t.push(n.ui),Wo(t)}function bi(n,i){var t=n.map(Xh);return t.sort(function(r,o){return function Wm(n,i,t){var r,o;for(r=0;r<t.length;r+=1)if(o=jm(n,i,t[r]))return o;return 0}(r,o,i)}),t.map(function(r){return r._seg})}function Xh(n){var i=n.eventRange,t=i.def,r=i.instance?i.instance.range:i.range,o=r.start?r.start.valueOf():0,a=r.end?r.end.valueOf():0;return(0,f.pi)((0,f.pi)((0,f.pi)({},t.extendedProps),t),{id:t.publicId,start:o,end:a,duration:a-o,allDay:Number(t.allDay),_seg:n})}function eg(n,i){for(var o=n.eventRange,a=o.def,s=o.ui,l=s.startEditable,c=0,d=i.pluginHooks.isDraggableTransformers;c<d.length;c++)l=(0,d[c])(l,a,s,i);return l}function tg(n,i){return n.isStart&&n.eventRange.ui.durationEditable&&i.options.eventResizableFromStart}function ng(n,i){return n.isEnd&&n.eventRange.ui.durationEditable}function Rt(n,i,t,r,o,a,s){var l=t.dateEnv,c=t.options,d=c.displayEventTime,p=c.displayEventEnd,u=n.eventRange.def,m=n.eventRange.instance;null==d&&(d=!1!==r),null==p&&(p=!1!==o);var h=m.range.start,v=m.range.end,y=a||n.start||n.eventRange.range.start,C=s||n.end||n.eventRange.range.end,_=q(h).valueOf()===q(y).valueOf(),T=q(Qe(v,-1)).valueOf()===q(Qe(C,-1)).valueOf();return d&&!u.allDay&&(_||T)?(y=_?h:y,C=T?v:C,p&&u.hasEnd?l.formatRange(y,C,i,{forcedStartTzo:a?null:m.forcedStartTzo,forcedEndTzo:s?null:m.forcedEndTzo}):l.format(y,i,{forcedTzo:a?null:m.forcedStartTzo})):""}function Te(n,i,t){var r=n.eventRange.range;return{isPast:r.end<(t||i.start),isFuture:r.start>=(t||i.end),isToday:i&&Ue(i,r.start)}}function na(n){return n.instance?n.instance.instanceId:n.def.defId+":"+n.range.start.toISOString()}function Ei(n,i){var t=n.eventRange,r=t.def,o=t.instance,a=r.url;if(a)return{href:a};var s=i.emitter,c=i.options.eventInteractive;return null==c&&null==(c=r.interactive)&&(c=Boolean(s.hasHandlers("eventClick"))),c?Ro(function(d){s.trigger("eventClick",{el:d.target,event:new G(i,r,o),jsEvent:d,view:i.viewApi})}):{}}var rg={start:b,end:b,allDay:Boolean};function ia(n,i,t){return(0,f.pi)((0,f.pi)({},ra(n,i,t)),{timeZone:i.timeZone})}function ra(n,i,t){return{start:i.toDate(n.start),end:i.toDate(n.end),startStr:i.formatIso(n.start,{omitTime:t}),endStr:i.formatIso(n.end,{omitTime:t})}}function dg(n,i,t){var r=vi({editable:!1},t),o=_n(r.refined,r.extra,"",n.allDay,!0,t);return{def:o,ui:ta(o,i),instance:on(o.defId,n.range),range:n.range,isStart:!0,isEnd:!0}}function oa(n,i,t){t.emitter.trigger("select",(0,f.pi)((0,f.pi)({},Ti(n,t)),{jsEvent:i?i.origEvent:null,view:t.viewApi||t.calendarApi.view}))}function Ti(n,i){for(var t={},r=0,o=i.pluginHooks.dateSpanTransforms;r<o.length;r++)(0,f.pi)(t,(0,o[r])(n,i));return(0,f.pi)(t,function cg(n,i){return(0,f.pi)((0,f.pi)({},ra(n.range,i,n.allDay)),{allDay:n.allDay})}(n,i.dateEnv)),t}function xi(n,i,t){var r=t.dateEnv,o=t.options,a=i;return n?(a=q(a),a=r.add(a,o.defaultAllDayEventDuration)):a=r.add(a,o.defaultTimedEventDuration),a}function Ai(n,i,t,r){var o=bn(n.defs,i),a={defs:{},instances:{}};for(var s in n.defs)a.defs[s]=ug(n.defs[s],o[s],t,r);for(var c in n.instances){var d=n.instances[c];a.instances[c]=fg(d,a.defs[d.defId],o[d.defId],t,r)}return a}function ug(n,i,t,r){var o=t.standardProps||{};null==o.hasEnd&&i.durationEditable&&(t.startDelta||t.endDelta)&&(o.hasEnd=!0);var a=(0,f.pi)((0,f.pi)((0,f.pi)({},n),o),{ui:(0,f.pi)((0,f.pi)({},n.ui),o.ui)});t.extendedProps&&(a.extendedProps=(0,f.pi)((0,f.pi)({},a.extendedProps),t.extendedProps));for(var s=0,l=r.pluginHooks.eventDefMutationAppliers;s<l.length;s++)(0,l[s])(a,t,r);return!a.hasEnd&&r.options.forceEventDuration&&(a.hasEnd=!0),a}function fg(n,i,t,r,o){var a=o.dateEnv,s=r.standardProps&&!0===r.standardProps.allDay,l=r.standardProps&&!1===r.standardProps.hasEnd,c=(0,f.pi)({},n);return s&&(c.range=Ko(c.range)),r.datesDelta&&t.startEditable&&(c.range={start:a.add(c.range.start,r.datesDelta),end:a.add(c.range.end,r.datesDelta)}),r.startDelta&&t.durationEditable&&(c.range={start:a.add(c.range.start,r.startDelta),end:c.range.end}),r.endDelta&&t.durationEditable&&(c.range={start:c.range.start,end:a.add(c.range.end,r.endDelta)}),l&&(c.range={start:c.range.start,end:xi(i.allDay,c.range.start,o)}),i.allDay&&(c.range={start:q(c.range.start),end:q(c.range.end)}),c.range.end<c.range.start&&(c.range.end=xi(i.allDay,c.range.start,o)),c}var mg=function(){function n(i,t,r){this.type=i,this.getCurrentData=t,this.dateEnv=r}return Object.defineProperty(n.prototype,"calendar",{get:function(){return this.getCurrentData().calendarApi},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"title",{get:function(){return this.getCurrentData().viewTitle},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"activeStart",{get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"activeEnd",{get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"currentStart",{get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"currentEnd",{get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)},enumerable:!1,configurable:!0}),n.prototype.getOption=function(i){return this.getCurrentData().options[i]},n}(),hg={id:String,defaultAllDay:Boolean,url:String,format:String,events:b,eventDataTransform:b,success:b,failure:b};function aa(n,i,t){var r;if(void 0===t&&(t=sa(i)),"string"==typeof n?r={url:n}:"function"==typeof n||Array.isArray(n)?r={events:n}:"object"==typeof n&&n&&(r=n),r){var o=un(r,t),a=o.refined,s=o.extra,l=function gg(n,i){for(var t=i.pluginHooks.eventSourceDefs,r=t.length-1;r>=0;r-=1){var a=t[r].parseMeta(n);if(a)return{sourceDefId:r,meta:a}}return null}(a,i);if(l)return{_raw:n,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:a.defaultAllDay,eventDataTransform:a.eventDataTransform,success:a.success,failure:a.failure,publicId:a.id||"",sourceId:rt(),sourceDefId:l.sourceDefId,meta:l.meta,ui:gn(a,i),extendedProps:s}}return null}function sa(n){return(0,f.pi)((0,f.pi)((0,f.pi)({},hn),hg),n.pluginHooks.eventSourceRefiners)}function Mt(n,i){return"function"==typeof n&&(n=n()),null==n?i.createNowMarker():i.createMarker(n)}var yg=function(){function n(){}return n.prototype.getCurrentData=function(){return this.currentDataManager.getCurrentData()},n.prototype.dispatch=function(i){return this.currentDataManager.dispatch(i)},Object.defineProperty(n.prototype,"view",{get:function(){return this.getCurrentData().viewApi},enumerable:!1,configurable:!0}),n.prototype.batchRendering=function(i){i()},n.prototype.updateSize=function(){this.trigger("_resize",!0)},n.prototype.setOption=function(i,t){this.dispatch({type:"SET_OPTION",optionName:i,rawOptionValue:t})},n.prototype.getOption=function(i){return this.currentDataManager.currentCalendarOptionsInput[i]},n.prototype.getAvailableLocaleCodes=function(){return Object.keys(this.getCurrentData().availableRawLocales)},n.prototype.on=function(i,t){var r=this.currentDataManager;r.currentCalendarOptionsRefiners[i]?r.emitter.on(i,t):console.warn("Unknown listener name '"+i+"'")},n.prototype.off=function(i,t){this.currentDataManager.emitter.off(i,t)},n.prototype.trigger=function(i){for(var t,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];(t=this.currentDataManager.emitter).trigger.apply(t,(0,f.ev)([i],r))},n.prototype.changeView=function(i,t){var r=this;this.batchRendering(function(){if(r.unselect(),t)if(t.start&&t.end)r.dispatch({type:"CHANGE_VIEW_TYPE",viewType:i}),r.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:t});else{var o=r.getCurrentData().dateEnv;r.dispatch({type:"CHANGE_VIEW_TYPE",viewType:i,dateMarker:o.createMarker(t)})}else r.dispatch({type:"CHANGE_VIEW_TYPE",viewType:i})})},n.prototype.zoomTo=function(i,t){var o;o=this.getCurrentData().viewSpecs[t=t||"day"]||this.getUnitViewSpec(t),this.unselect(),this.dispatch(o?{type:"CHANGE_VIEW_TYPE",viewType:o.type,dateMarker:i}:{type:"CHANGE_DATE",dateMarker:i})},n.prototype.getUnitViewSpec=function(i){var s,l,t=this.getCurrentData(),r=t.viewSpecs,o=t.toolbarConfig,a=[].concat(o.header?o.header.viewsWithButtons:[],o.footer?o.footer.viewsWithButtons:[]);for(var c in r)a.push(c);for(s=0;s<a.length;s+=1)if((l=r[a[s]])&&l.singleUnit===i)return l;return null},n.prototype.prev=function(){this.unselect(),this.dispatch({type:"PREV"})},n.prototype.next=function(){this.unselect(),this.dispatch({type:"NEXT"})},n.prototype.prevYear=function(){var i=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:i.dateEnv.addYears(i.currentDate,-1)})},n.prototype.nextYear=function(){var i=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:i.dateEnv.addYears(i.currentDate,1)})},n.prototype.today=function(){var i=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:Mt(i.calendarOptions.now,i.dateEnv)})},n.prototype.gotoDate=function(i){var t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.createMarker(i)})},n.prototype.incrementDate=function(i){var t=this.getCurrentData(),r=N(i);r&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.add(t.currentDate,r)}))},n.prototype.getDate=function(){var i=this.getCurrentData();return i.dateEnv.toDate(i.currentDate)},n.prototype.formatDate=function(i,t){var r=this.getCurrentData().dateEnv;return r.format(r.createMarker(i),B(t))},n.prototype.formatRange=function(i,t,r){var o=this.getCurrentData().dateEnv;return o.formatRange(o.createMarker(i),o.createMarker(t),B(r),r)},n.prototype.formatIso=function(i,t){var r=this.getCurrentData().dateEnv;return r.formatIso(r.createMarker(i),{omitTime:t})},n.prototype.select=function(i,t){var r;r=null==t?null!=i.start?i:{start:i,end:null}:{start:i,end:t};var o=this.getCurrentData(),a=function og(n,i,t){var r=function ag(n,i){var t=un(n,rg),r=t.refined,o=t.extra,a=r.start?i.createMarkerMeta(r.start):null,s=r.end?i.createMarkerMeta(r.end):null,l=r.allDay;return null==l&&(l=a&&a.isTimeUnspecified&&(!s||s.isTimeUnspecified)),(0,f.pi)({range:{start:a?a.marker:null,end:s?s.marker:null},allDay:l},o)}(n,i),o=r.range;if(!o.start)return null;if(!o.end){if(null==t)return null;o.end=i.add(o.start,t)}return r}(r,o.dateEnv,N({days:1}));a&&(this.dispatch({type:"SELECT_DATES",selection:a}),oa(a,null,o))},n.prototype.unselect=function(i){var t=this.getCurrentData();t.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),function pg(n,i){i.emitter.trigger("unselect",{jsEvent:n?n.origEvent:null,view:i.viewApi||i.calendarApi.view})}(i,t))},n.prototype.addEvent=function(i,t){if(i instanceof G){var r=i._def,o=i._instance;return this.getCurrentData().eventStore.defs[r.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:Zt({def:r,instance:o})}),this.triggerEventAdd(i)),i}var l,s=this.getCurrentData();if(t instanceof it)l=t.internalEventSource;else if("boolean"==typeof t)t&&(l=si(s.eventSources)[0]);else if(null!=t){var c=this.getEventSourceById(t);if(!c)return console.warn('Could not find an event source with ID "'+t+'"'),null;l=c.internalEventSource}var d=$o(i,l,s,!1);if(d){var p=new G(s,d.def,d.def.recurringDef?null:d.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:Zt(d)}),this.triggerEventAdd(p),p}return null},n.prototype.triggerEventAdd=function(i){var t=this;this.getCurrentData().emitter.trigger("eventAdd",{event:i,relatedEvents:[],revert:function(){t.dispatch({type:"REMOVE_EVENTS",eventStore:la(i)})}})},n.prototype.getEventById=function(i){var t=this.getCurrentData(),r=t.eventStore,o=r.defs,a=r.instances;for(var s in i=String(i),o){var l=o[s];if(l.publicId===i){if(l.recurringDef)return new G(t,l,null);for(var c in a){var d=a[c];if(d.defId===l.defId)return new G(t,l,d)}}}return null},n.prototype.getEvents=function(){var i=this.getCurrentData();return We(i.eventStore,i)},n.prototype.removeAllEvents=function(){this.dispatch({type:"REMOVE_ALL_EVENTS"})},n.prototype.getEventSources=function(){var i=this.getCurrentData(),t=i.eventSources,r=[];for(var o in t)r.push(new it(i,t[o]));return r},n.prototype.getEventSourceById=function(i){var t=this.getCurrentData(),r=t.eventSources;for(var o in i=String(i),r)if(r[o].publicId===i)return new it(t,r[o]);return null},n.prototype.addEventSource=function(i){var t=this.getCurrentData();if(i instanceof it)return t.eventSources[i.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[i.internalEventSource]}),i;var r=aa(i,t);return r?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[r]}),new it(t,r)):null},n.prototype.removeAllEventSources=function(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})},n.prototype.refetchEvents=function(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})},n.prototype.scrollToTime=function(i){var t=N(i);t&&this.trigger("_scrollRequest",{time:t})},n}(),G=function(){function n(i,t,r){this._context=i,this._def=t,this._instance=r||null}return n.prototype.setProp=function(i,t){var r,o;if(i in jo)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if("id"===i)t=vn[i](t),this.mutate({standardProps:{publicId:t}});else if(i in vn)t=vn[i](t),this.mutate({standardProps:(r={},r[i]=t,r)});else if(i in hn){var a=hn[i](t);"color"===i?a={backgroundColor:t,borderColor:t}:"editable"===i?a={startEditable:t,durationEditable:t}:((o={})[i]=t,a=o),this.mutate({standardProps:{ui:a}})}else console.warn("Could not set prop '"+i+"'. Use setExtendedProp instead.")},n.prototype.setExtendedProp=function(i,t){var r;this.mutate({extendedProps:(r={},r[i]=t,r)})},n.prototype.setStart=function(i,t){void 0===t&&(t={});var r=this._context.dateEnv,o=r.createMarker(i);if(o&&this._instance){var s=ct(this._instance.range.start,o,r,t.granularity);this.mutate(t.maintainDuration?{datesDelta:s}:{startDelta:s})}},n.prototype.setEnd=function(i,t){void 0===t&&(t={});var o,r=this._context.dateEnv;if((null==i||(o=r.createMarker(i)))&&this._instance)if(o){var a=ct(this._instance.range.end,o,r,t.granularity);this.mutate({endDelta:a})}else this.mutate({standardProps:{hasEnd:!1}})},n.prototype.setDates=function(i,t,r){void 0===r&&(r={});var l,o=this._context.dateEnv,a={allDay:r.allDay},s=o.createMarker(i);if(s&&(null==t||(l=o.createMarker(t)))&&this._instance){var c=this._instance.range;!0===r.allDay&&(c=Ko(c));var d=ct(c.start,s,o,r.granularity);if(l){var p=ct(c.end,l,o,r.granularity);!function vh(n,i){return n.years===i.years&&n.months===i.months&&n.days===i.days&&n.milliseconds===i.milliseconds}(d,p)?this.mutate({startDelta:d,endDelta:p,standardProps:a}):this.mutate({datesDelta:d,standardProps:a})}else a.hasEnd=!1,this.mutate({datesDelta:d,standardProps:a})}},n.prototype.moveStart=function(i){var t=N(i);t&&this.mutate({startDelta:t})},n.prototype.moveEnd=function(i){var t=N(i);t&&this.mutate({endDelta:t})},n.prototype.moveDates=function(i){var t=N(i);t&&this.mutate({datesDelta:t})},n.prototype.setAllDay=function(i,t){void 0===t&&(t={});var r={allDay:i},o=t.maintainDuration;null==o&&(o=this._context.options.allDayMaintainDuration),this._def.allDay!==i&&(r.hasEnd=o),this.mutate({standardProps:r})},n.prototype.formatRange=function(i){var t=this._context.dateEnv,r=this._instance,o=B(i);return this._def.hasEnd?t.formatRange(r.range.start,r.range.end,o,{forcedStartTzo:r.forcedStartTzo,forcedEndTzo:r.forcedEndTzo}):t.format(r.range.start,o,{forcedTzo:r.forcedStartTzo})},n.prototype.mutate=function(i){var t=this._instance;if(t){var r=this._def,o=this._context,a=o.getCurrentData().eventStore,s=mi(a,t.instanceId);s=Ai(s,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},i,o);var c=new n(o,r,t);this._def=s.defs[r.defId],this._instance=s.instances[t.instanceId],o.dispatch({type:"MERGE_EVENTS",eventStore:s}),o.emitter.trigger("eventChange",{oldEvent:c,event:this,relatedEvents:We(s,o,t),revert:function(){o.dispatch({type:"RESET_EVENTS",eventStore:a})}})}},n.prototype.remove=function(){var i=this._context,t=la(this);i.dispatch({type:"REMOVE_EVENTS",eventStore:t}),i.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert:function(){i.dispatch({type:"MERGE_EVENTS",eventStore:t})}})},Object.defineProperty(n.prototype,"source",{get:function(){var i=this._def.sourceId;return i?new it(this._context,this._context.getCurrentData().eventSources[i]):null},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"start",{get:function(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"end",{get:function(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"startStr",{get:function(){var i=this._instance;return i?this._context.dateEnv.formatIso(i.range.start,{omitTime:this._def.allDay,forcedTzo:i.forcedStartTzo}):""},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"endStr",{get:function(){var i=this._instance;return i&&this._def.hasEnd?this._context.dateEnv.formatIso(i.range.end,{omitTime:this._def.allDay,forcedTzo:i.forcedEndTzo}):""},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"id",{get:function(){return this._def.publicId},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"groupId",{get:function(){return this._def.groupId},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"allDay",{get:function(){return this._def.allDay},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"title",{get:function(){return this._def.title},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"url",{get:function(){return this._def.url},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"display",{get:function(){return this._def.ui.display||"auto"},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"startEditable",{get:function(){return this._def.ui.startEditable},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"durationEditable",{get:function(){return this._def.ui.durationEditable},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"constraint",{get:function(){return this._def.ui.constraints[0]||null},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"overlap",{get:function(){return this._def.ui.overlap},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"allow",{get:function(){return this._def.ui.allows[0]||null},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"backgroundColor",{get:function(){return this._def.ui.backgroundColor},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"borderColor",{get:function(){return this._def.ui.borderColor},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"textColor",{get:function(){return this._def.ui.textColor},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"classNames",{get:function(){return this._def.ui.classNames},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"extendedProps",{get:function(){return this._def.extendedProps},enumerable:!1,configurable:!0}),n.prototype.toPlainObject=function(i){void 0===i&&(i={});var t=this._def,r=t.ui,a=this.startStr,s=this.endStr,l={};return t.title&&(l.title=t.title),a&&(l.start=a),s&&(l.end=s),t.publicId&&(l.id=t.publicId),t.groupId&&(l.groupId=t.groupId),t.url&&(l.url=t.url),r.display&&"auto"!==r.display&&(l.display=r.display),i.collapseColor&&r.backgroundColor&&r.backgroundColor===r.borderColor?l.color=r.backgroundColor:(r.backgroundColor&&(l.backgroundColor=r.backgroundColor),r.borderColor&&(l.borderColor=r.borderColor)),r.textColor&&(l.textColor=r.textColor),r.classNames.length&&(l.classNames=r.classNames),Object.keys(t.extendedProps).length&&(i.collapseExtendedProps?(0,f.pi)(l,t.extendedProps):l.extendedProps=t.extendedProps),l},n.prototype.toJSON=function(){return this.toPlainObject()},n}();function la(n){var i,t,r=n._def,o=n._instance;return{defs:(i={},i[r.defId]=r,i),instances:o?(t={},t[o.instanceId]=o,t):{}}}function We(n,i,t){var r=n.defs,o=n.instances,a=[],s=t?t.instanceId:"";for(var l in o){var c=o[l];c.instanceId!==s&&a.push(new G(i,r[c.defId],c))}return a}var ca={};!function Cg(n,i){ca[n]=i}("gregory",function(){function n(){}return n.prototype.getMarkerYear=function(i){return i.getUTCFullYear()},n.prototype.getMarkerMonth=function(i){return i.getUTCMonth()},n.prototype.getMarkerDay=function(i){return i.getUTCDate()},n.prototype.arrayToMarker=function(i){return ie(i)},n.prototype.markerToArray=function(i){return Pe(i)},n}());var Tg=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/,da=function(){function n(i){var t=this.timeZone=i.timeZone,r="local"!==t&&"UTC"!==t;i.namedTimeZoneImpl&&r&&(this.namedTimeZoneImpl=new i.namedTimeZoneImpl(t)),this.canComputeOffset=Boolean(!r||this.namedTimeZoneImpl),this.calendarSystem=function bg(n){return new ca[n]}(i.calendarSystem),this.locale=i.locale,this.weekDow=i.locale.week.dow,this.weekDoy=i.locale.week.doy,"ISO"===i.weekNumberCalculation&&(this.weekDow=1,this.weekDoy=4),"number"==typeof i.firstDay&&(this.weekDow=i.firstDay),"function"==typeof i.weekNumberCalculation&&(this.weekNumberFunc=i.weekNumberCalculation),this.weekText=null!=i.weekText?i.weekText:i.locale.options.weekText,this.weekTextLong=(null!=i.weekTextLong?i.weekTextLong:i.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=i.cmdFormatter,this.defaultSeparator=i.defaultSeparator}return n.prototype.createMarker=function(i){var t=this.createMarkerMeta(i);return null===t?null:t.marker},n.prototype.createNowMarker=function(){return this.canComputeOffset?this.timestampToMarker((new Date).valueOf()):ie(No(new Date))},n.prototype.createMarkerMeta=function(i){if("string"==typeof i)return this.parse(i);var t=null;return"number"==typeof i?t=this.timestampToMarker(i):i instanceof Date?(i=i.valueOf(),isNaN(i)||(t=this.timestampToMarker(i))):Array.isArray(i)&&(t=ie(i)),null!==t&&Uo(t)?{marker:t,isTimeUnspecified:!1,forcedTzo:null}:null},n.prototype.parse=function(i){var t=function xg(n){var i=Tg.exec(n);if(i){var t=new Date(Date.UTC(Number(i[1]),i[3]?Number(i[3])-1:0,Number(i[5]||1),Number(i[7]||0),Number(i[8]||0),Number(i[10]||0),i[12]?1e3*Number("0."+i[12]):0));if(Uo(t)){var r=null;return i[13]&&(r=("-"===i[15]?-1:1)*(60*Number(i[16]||0)+Number(i[18]||0))),{marker:t,isTimeUnspecified:!i[6],timeZoneOffset:r}}}return null}(i);if(null===t)return null;var r=t.marker,o=null;return null!==t.timeZoneOffset&&(this.canComputeOffset?r=this.timestampToMarker(r.valueOf()-60*t.timeZoneOffset*1e3):o=t.timeZoneOffset),{marker:r,isTimeUnspecified:t.isTimeUnspecified,forcedTzo:o}},n.prototype.getYear=function(i){return this.calendarSystem.getMarkerYear(i)},n.prototype.getMonth=function(i){return this.calendarSystem.getMarkerMonth(i)},n.prototype.add=function(i,t){var r=this.calendarSystem.markerToArray(i);return r[0]+=t.years,r[1]+=t.months,r[2]+=t.days,r[6]+=t.milliseconds,this.calendarSystem.arrayToMarker(r)},n.prototype.subtract=function(i,t){var r=this.calendarSystem.markerToArray(i);return r[0]-=t.years,r[1]-=t.months,r[2]-=t.days,r[6]-=t.milliseconds,this.calendarSystem.arrayToMarker(r)},n.prototype.addYears=function(i,t){var r=this.calendarSystem.markerToArray(i);return r[0]+=t,this.calendarSystem.arrayToMarker(r)},n.prototype.addMonths=function(i,t){var r=this.calendarSystem.markerToArray(i);return r[1]+=t,this.calendarSystem.arrayToMarker(r)},n.prototype.diffWholeYears=function(i,t){var r=this.calendarSystem;return Ne(i)===Ne(t)&&r.getMarkerDay(i)===r.getMarkerDay(t)&&r.getMarkerMonth(i)===r.getMarkerMonth(t)?r.getMarkerYear(t)-r.getMarkerYear(i):null},n.prototype.diffWholeMonths=function(i,t){var r=this.calendarSystem;return Ne(i)===Ne(t)&&r.getMarkerDay(i)===r.getMarkerDay(t)?r.getMarkerMonth(t)-r.getMarkerMonth(i)+12*(r.getMarkerYear(t)-r.getMarkerYear(i)):null},n.prototype.greatestWholeUnit=function(i,t){var r=this.diffWholeYears(i,t);return null!==r?{unit:"year",value:r}:null!==(r=this.diffWholeMonths(i,t))?{unit:"month",value:r}:(r=function oh(n,i){var t=rn(n,i);return null!==t&&t%7==0?t/7:null}(i,t),null!==r?{unit:"week",value:r}:null!==(r=rn(i,t))?{unit:"day",value:r}:(r=function th(n,i){return(i.valueOf()-n.valueOf())/36e5}(i,t),nn(r)?{unit:"hour",value:r}:(r=function nh(n,i){return(i.valueOf()-n.valueOf())/6e4}(i,t),nn(r)?{unit:"minute",value:r}:(r=function ih(n,i){return(i.valueOf()-n.valueOf())/1e3}(i,t),nn(r)?{unit:"second",value:r}:{unit:"millisecond",value:t.valueOf()-i.valueOf()}))))},n.prototype.countDurationsBetween=function(i,t,r){var o;return r.years&&null!==(o=this.diffWholeYears(i,t))?o/function Ch(n){return st(n)/365}(r):r.months&&null!==(o=this.diffWholeMonths(i,t))?o/function bh(n){return st(n)/30}(r):r.days&&null!==(o=rn(i,t))?o/st(r):(t.valueOf()-i.valueOf())/ae(r)},n.prototype.startOf=function(i,t){return"year"===t?this.startOfYear(i):"month"===t?this.startOfMonth(i):"week"===t?this.startOfWeek(i):"day"===t?q(i):"hour"===t?function ah(n){return ie([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours()])}(i):"minute"===t?function sh(n){return ie([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes()])}(i):"second"===t?function lh(n){return ie([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds()])}(i):null},n.prototype.startOfYear=function(i){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(i)])},n.prototype.startOfMonth=function(i){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(i),this.calendarSystem.getMarkerMonth(i)])},n.prototype.startOfWeek=function(i){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(i),this.calendarSystem.getMarkerMonth(i),i.getUTCDate()-(i.getUTCDay()-this.weekDow+7)%7])},n.prototype.computeWeekNumber=function(i){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(i)):function ch(n,i,t){var r=n.getUTCFullYear(),o=oi(n,r,i,t);if(o<1)return oi(n,r-1,i,t);var a=oi(n,r+1,i,t);return a>=1?Math.min(o,a):o}(i,this.weekDow,this.weekDoy)},n.prototype.format=function(i,t,r){return void 0===r&&(r={}),t.format({marker:i,timeZoneOffset:null!=r.forcedTzo?r.forcedTzo:this.offsetForMarker(i)},this)},n.prototype.formatRange=function(i,t,r,o){return void 0===o&&(o={}),o.isEndExclusive&&(t=Qe(t,-1)),r.formatRange({marker:i,timeZoneOffset:null!=o.forcedStartTzo?o.forcedStartTzo:this.offsetForMarker(i)},{marker:t,timeZoneOffset:null!=o.forcedEndTzo?o.forcedEndTzo:this.offsetForMarker(t)},this,o.defaultSeparator)},n.prototype.formatIso=function(i,t){void 0===t&&(t={});var r=null;return t.omitTimeZoneOffset||(r=null!=t.forcedTzo?t.forcedTzo:this.offsetForMarker(i)),Jo(i,r,t.omitTime)},n.prototype.timestampToMarker=function(i){return"local"===this.timeZone?ie(No(new Date(i))):"UTC"!==this.timeZone&&this.namedTimeZoneImpl?ie(this.namedTimeZoneImpl.timestampToArray(i)):new Date(i)},n.prototype.offsetForMarker=function(i){return"local"===this.timeZone?-Fo(Pe(i)).getTimezoneOffset():"UTC"===this.timeZone?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(Pe(i)):null},n.prototype.toDate=function(i,t){return"local"===this.timeZone?Fo(Pe(i)):"UTC"===this.timeZone?new Date(i.valueOf()):this.namedTimeZoneImpl?new Date(i.valueOf()-1e3*this.namedTimeZoneImpl.offsetForArray(Pe(i))*60):new Date(i.valueOf()-(t||0))},n}(),Ag=[],pa={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},ua=(0,f.pi)((0,f.pi)({},pa),{buttonHints:{prev:"Previous $0",next:"Next $0",today:function(n,i){return"day"===i?"Today":"This "+n}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint:function(n){return"Show "+n+" more event"+(1===n?"":"s")}});function fa(n){for(var i=n.length>0?n[0].code:"en",t=Ag.concat(n),r={en:ua},o=0,a=t;o<a.length;o++){var s=a[o];r[s.code]=s}return{map:r,defaultCode:i}}function Si(n,i){return"object"!=typeof n||Array.isArray(n)?function Sg(n,i){var t=[].concat(n||[]),r=function wg(n,i){for(var t=0;t<n.length;t+=1)for(var r=n[t].toLocaleLowerCase().split("-"),o=r.length;o>0;o-=1){var a=r.slice(0,o).join("-");if(i[a])return i[a]}return null}(t,i)||ua;return ma(n,t,r)}(n,i):ma(n.code,[n.code],n)}function ma(n,i,t){var r=ai([pa,t],["buttonText"]);delete r.code;var o=r.week;return delete r.week,{codeArg:n,codes:i,week:o,simpleNumberFormat:new Intl.NumberFormat(n),options:r}}var wi,Dg={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function Rg(n,i){return n.left>=i.left&&n.left<i.right&&n.top>=i.top&&n.top<i.bottom}function ga(n,i){var t={left:Math.max(n.left,i.left),right:Math.min(n.right,i.right),top:Math.max(n.top,i.top),bottom:Math.min(n.bottom,i.bottom)};return t.left<t.right&&t.top<t.bottom&&t}function va(){return null==wi&&(wi=function Ng(){if(typeof document>"u")return!0;var n=document.createElement("div");n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.innerHTML="<table><tr><td><div></div></td></tr></table>",n.querySelector("table").style.height="100px",n.querySelector("div").style.height="100%",document.body.appendChild(n);var t=n.querySelector("div").offsetHeight>0;return document.body.removeChild(n),t}()),wi}var Di={defs:{},instances:{}},Fg=function(){function n(){this.getKeysForEventDefs=R(this._getKeysForEventDefs),this.splitDateSelection=R(this._splitDateSpan),this.splitEventStore=R(this._splitEventStore),this.splitIndividualUi=R(this._splitIndividualUi),this.splitEventDrag=R(this._splitInteraction),this.splitEventResize=R(this._splitInteraction),this.eventUiBuilders={}}return n.prototype.splitProps=function(i){var t=this,r=this.getKeyInfo(i),o=this.getKeysForEventDefs(i.eventStore),a=this.splitDateSelection(i.dateSelection),s=this.splitIndividualUi(i.eventUiBases,o),l=this.splitEventStore(i.eventStore,o),c=this.splitEventDrag(i.eventDrag),d=this.splitEventResize(i.eventResize),p={};for(var u in this.eventUiBuilders=Ce(r,function(y,C){return t.eventUiBuilders[C]||R(Ug)}),r){var m=r[u],h=l[u]||Di;p[u]={businessHours:m.businessHours||i.businessHours,dateSelection:a[u]||null,eventStore:h,eventUiBases:(0,this.eventUiBuilders[u])(i.eventUiBases[""],m.ui,s[u]),eventSelection:h.instances[i.eventSelection]?i.eventSelection:"",eventDrag:c[u]||null,eventResize:d[u]||null}}return p},n.prototype._splitDateSpan=function(i){var t={};if(i)for(var o=0,a=this.getKeysForDateSpan(i);o<a.length;o++)t[a[o]]=i;return t},n.prototype._getKeysForEventDefs=function(i){var t=this;return Ce(i.defs,function(r){return t.getKeysForEventDef(r)})},n.prototype._splitEventStore=function(i,t){var r=i.defs,o=i.instances,a={};for(var s in r)for(var l=0,c=t[s];l<c.length;l++)a[d=c[l]]||(a[d]={defs:{},instances:{}}),a[d].defs[s]=r[s];for(var p in o)for(var u=o[p],m=0,h=t[u.defId];m<h.length;m++){var d;a[d=h[m]]&&(a[d].instances[p]=u)}return a},n.prototype._splitIndividualUi=function(i,t){var r={};for(var o in i)if(o)for(var a=0,s=t[o];a<s.length;a++){var l=s[a];r[l]||(r[l]={}),r[l][o]=i[o]}return r},n.prototype._splitInteraction=function(i){var t={};if(i){var r=this._splitEventStore(i.affectedEvents,this._getKeysForEventDefs(i.affectedEvents)),o=this._getKeysForEventDefs(i.mutatedEvents),a=this._splitEventStore(i.mutatedEvents,o),s=function(c){t[c]||(t[c]={affectedEvents:r[c]||Di,mutatedEvents:a[c]||Di,isEvent:i.isEvent})};for(var l in r)s(l);for(var l in a)s(l)}return t},n}();function Ug(n,i,t){var r=[];n&&r.push(n),i&&r.push(i);var o={"":Wo(r)};return t&&(0,f.pi)(o,t),o}function ki(n,i,t,r){return{dow:n.getUTCDay(),isDisabled:Boolean(r&&!Ue(r.activeRange,n)),isOther:Boolean(r&&!Ue(r.currentRange,n)),isToday:Boolean(i&&Ue(i,n)),isPast:Boolean(t?n<t:!!i&&n<i.start),isFuture:Boolean(t?n>t:!!i&&n>=i.end)}}function En(n,i){var t=["fc-day","fc-day-"+Io[n.dow]];return n.isDisabled?t.push("fc-day-disabled"):(n.isToday&&(t.push("fc-day-today"),t.push(i.getClass("today"))),n.isPast&&t.push("fc-day-past"),n.isFuture&&t.push("fc-day-future"),n.isOther&&t.push("fc-day-other")),t}var Og=B({year:"numeric",month:"long",day:"numeric"}),qg=B({week:"long"});function pt(n,i,t,r){void 0===t&&(t="day"),void 0===r&&(r=!0);var o=n.dateEnv,a=n.options,s=n.calendarApi,l=o.format(i,"week"===t?qg:Og);if(a.navLinks){var c=o.toDate(i),d=function(p){var u="day"===t?a.navLinkDayClick:"week"===t?a.navLinkWeekClick:null;"function"==typeof u?u.call(s,o.toDate(i),p):("string"==typeof u&&(t=u),s.zoomTo(i,t))};return(0,f.pi)({title:kt(a.navLinkHint,[l,c],l),"data-navlink":""},r?Zo(d):{onClick:d})}return{"aria-label":l}}var Ri,Zi=null;function _a(n){return{x:n.offsetHeight-n.clientHeight,y:n.offsetWidth-n.clientWidth}}function Qg(n,i,t){void 0===i&&(i=!1);var r=t?n.getBoundingClientRect():Mi(n),o=function Yg(n,i){void 0===i&&(i=!1);var t=window.getComputedStyle(n),r=parseInt(t.borderLeftWidth,10)||0,o=parseInt(t.borderRightWidth,10)||0,a=parseInt(t.borderTopWidth,10)||0,s=parseInt(t.borderBottomWidth,10)||0,l=_a(n),c=l.y-r-o,p={borderLeft:r,borderRight:o,borderTop:a,borderBottom:s,scrollbarBottom:l.x-a-s,scrollbarLeft:0,scrollbarRight:0};return function Hg(){return null===Zi&&(Zi=function Lg(){var n=document.createElement("div");Dt(n,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),n.innerHTML="<div></div>",document.body.appendChild(n);var t=n.firstChild.getBoundingClientRect().left>n.getBoundingClientRect().left;return ii(n),t}()),Zi}()&&"rtl"===t.direction?p.scrollbarLeft=c:p.scrollbarRight=c,i&&(p.paddingLeft=parseInt(t.paddingLeft,10)||0,p.paddingRight=parseInt(t.paddingRight,10)||0,p.paddingTop=parseInt(t.paddingTop,10)||0,p.paddingBottom=parseInt(t.paddingBottom,10)||0),p}(n,i),a={left:r.left+o.borderLeft+o.scrollbarLeft,right:r.right-o.borderRight-o.scrollbarRight,top:r.top+o.borderTop,bottom:r.bottom-o.borderBottom-o.scrollbarBottom};return i&&(a.left+=o.paddingLeft,a.right-=o.paddingRight,a.top+=o.paddingTop,a.bottom-=o.paddingBottom),a}function Mi(n){var i=n.getBoundingClientRect();return{left:i.left+window.pageXOffset,top:i.top+window.pageYOffset,right:i.right+window.pageXOffset,bottom:i.bottom+window.pageYOffset}}function ya(n){for(var i=[];n instanceof HTMLElement;){var t=window.getComputedStyle(n);if("fixed"===t.position)break;/(auto|scroll)/.test(t.overflow+t.overflowY+t.overflowX)&&i.push(n),n=n.parentNode}return i}var Tn=function(){function n(){this.handlers={},this.thisContext=null}return n.prototype.setThisContext=function(i){this.thisContext=i},n.prototype.setOptions=function(i){this.options=i},n.prototype.on=function(i,t){!function Wg(n,i,t){(n[i]||(n[i]=[])).push(t)}(this.handlers,i,t)},n.prototype.off=function(i,t){!function jg(n,i,t){t?n[i]&&(n[i]=n[i].filter(function(r){return r!==t})):delete n[i]}(this.handlers,i,t)},n.prototype.trigger=function(i){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];for(var o=this.handlers[i]||[],a=this.options&&this.options[i],s=[].concat(a||[],o),l=0,c=s;l<c.length;l++){var d=c[l];d.apply(this.thisContext,t)}},n.prototype.hasHandlers=function(i){return Boolean(this.handlers[i]&&this.handlers[i].length||this.options&&this.options[i])},n}(),It=function(){function n(i,t,r,o){this.els=t;var a=this.originClientRect=i.getBoundingClientRect();r&&this.buildElHorizontals(a.left),o&&this.buildElVerticals(a.top)}return n.prototype.buildElHorizontals=function(i){for(var t=[],r=[],o=0,a=this.els;o<a.length;o++){var l=a[o].getBoundingClientRect();t.push(l.left-i),r.push(l.right-i)}this.lefts=t,this.rights=r},n.prototype.buildElVerticals=function(i){for(var t=[],r=[],o=0,a=this.els;o<a.length;o++){var l=a[o].getBoundingClientRect();t.push(l.top-i),r.push(l.bottom-i)}this.tops=t,this.bottoms=r},n.prototype.leftToIndex=function(i){var s,r=this.lefts,o=this.rights,a=r.length;for(s=0;s<a;s+=1)if(i>=r[s]&&i<o[s])return s},n.prototype.topToIndex=function(i){var s,r=this.tops,o=this.bottoms,a=r.length;for(s=0;s<a;s+=1)if(i>=r[s]&&i<o[s])return s},n.prototype.getWidth=function(i){return this.rights[i]-this.lefts[i]},n.prototype.getHeight=function(i){return this.bottoms[i]-this.tops[i]},n}(),Ii=function(){function n(){}return n.prototype.getMaxScrollTop=function(){return this.getScrollHeight()-this.getClientHeight()},n.prototype.getMaxScrollLeft=function(){return this.getScrollWidth()-this.getClientWidth()},n.prototype.canScrollVertically=function(){return this.getMaxScrollTop()>0},n.prototype.canScrollHorizontally=function(){return this.getMaxScrollLeft()>0},n.prototype.canScrollUp=function(){return this.getScrollTop()>0},n.prototype.canScrollDown=function(){return this.getScrollTop()<this.getMaxScrollTop()},n.prototype.canScrollLeft=function(){return this.getScrollLeft()>0},n.prototype.canScrollRight=function(){return this.getScrollLeft()<this.getMaxScrollLeft()},n}(),$g=function(n){function i(t){var r=n.call(this)||this;return r.el=t,r}return(0,f.ZT)(i,n),i.prototype.getScrollTop=function(){return this.el.scrollTop},i.prototype.getScrollLeft=function(){return this.el.scrollLeft},i.prototype.setScrollTop=function(t){this.el.scrollTop=t},i.prototype.setScrollLeft=function(t){this.el.scrollLeft=t},i.prototype.getScrollWidth=function(){return this.el.scrollWidth},i.prototype.getScrollHeight=function(){return this.el.scrollHeight},i.prototype.getClientHeight=function(){return this.el.clientHeight},i.prototype.getClientWidth=function(){return this.el.clientWidth},i}(Ii),Kg=function(n){function i(){return null!==n&&n.apply(this,arguments)||this}return(0,f.ZT)(i,n),i.prototype.getScrollTop=function(){return window.pageYOffset},i.prototype.getScrollLeft=function(){return window.pageXOffset},i.prototype.setScrollTop=function(t){window.scroll(window.pageXOffset,t)},i.prototype.setScrollLeft=function(t){window.scroll(t,window.pageYOffset)},i.prototype.getScrollWidth=function(){return document.documentElement.scrollWidth},i.prototype.getScrollHeight=function(){return document.documentElement.scrollHeight},i.prototype.getClientHeight=function(){return document.documentElement.clientHeight},i.prototype.getClientWidth=function(){return document.documentElement.clientWidth},i}(Ii),Pt=function(){function n(i){this.iconOverrideOption&&this.setIconOverride(i[this.iconOverrideOption])}return n.prototype.setIconOverride=function(i){var t,r;if("object"==typeof i&&i){for(r in t=(0,f.pi)({},this.iconClasses),i)t[r]=this.applyIconOverridePrefix(i[r]);this.iconClasses=t}else!1===i&&(this.iconClasses={})},n.prototype.applyIconOverridePrefix=function(i){var t=this.iconOverridePrefix;return t&&0!==i.indexOf(t)&&(i=t+i),i},n.prototype.getClass=function(i){return this.classes[i]||""},n.prototype.getIconClass=function(i,t){var r;return(r=t&&this.rtlIconClasses&&this.rtlIconClasses[i]||this.iconClasses[i])?this.baseIconClass+" "+r:""},n.prototype.getCustomButtonIconClass=function(i){var t;return this.iconOverrideCustomButtonOption&&(t=i[this.iconOverrideCustomButtonOption])?this.baseIconClass+" "+this.applyIconOverridePrefix(t):""},n}();Pt.prototype.classes={},Pt.prototype.iconClasses={},Pt.prototype.baseIconClass="",Pt.prototype.iconOverridePrefix="";var Xg=function(){function n(i,t,r,o){var a=this;this.execFunc=i,this.emitter=t,this.scrollTime=r,this.scrollTimeReset=o,this.handleScrollRequest=function(s){a.queuedRequest=(0,f.pi)({},a.queuedRequest||{},s),a.drain()},t.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}return n.prototype.detach=function(){this.emitter.off("_scrollRequest",this.handleScrollRequest)},n.prototype.update=function(i){i&&this.scrollTimeReset?this.fireInitialScroll():this.drain()},n.prototype.fireInitialScroll=function(){this.handleScrollRequest({time:this.scrollTime})},n.prototype.drain=function(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)},n}(),xe=Eo({});function ev(n,i,t,r,o,a,s,l,c,d,p,u,m){return{dateEnv:o,options:t,pluginHooks:s,emitter:d,dispatch:l,getCurrentData:c,calendarApi:p,viewSpec:n,viewApi:i,dateProfileGenerator:r,theme:a,isRtl:"rtl"===t.direction,addResizeHandler:function(h){d.on("_resize",h)},removeResizeHandler:function(h){d.off("_resize",h)},createScrollResponder:function(h){return new Xg(h,d,N(t.scrollTime),t.scrollTimeReset)},registerInteractiveComponent:u,unregisterInteractiveComponent:m}}var xn=function(n){function i(){return null!==n&&n.apply(this,arguments)||this}return(0,f.ZT)(i,n),i.prototype.shouldComponentUpdate=function(t,r){return this.debug&&console.log(qo(t,this.props),qo(r,this.state)),!li(this.props,t,this.propEquality)||!li(this.state,r,this.stateEquality)},i.prototype.safeSetState=function(t){li(this.state,(0,f.pi)((0,f.pi)({},this.state),t),this.stateEquality)||this.setState(t)},i.addPropsEquality=tv,i.addStateEquality=nv,i.contextType=xe,i}(ni);xn.prototype.propEquality={},xn.prototype.stateEquality={};var U=function(n){function i(){return null!==n&&n.apply(this,arguments)||this}return(0,f.ZT)(i,n),i.contextType=xe,i}(xn);function tv(n){var i=Object.create(this.prototype.propEquality);(0,f.pi)(i,n),this.prototype.propEquality=i}function nv(n){var i=Object.create(this.prototype.stateEquality);(0,f.pi)(i,n),this.prototype.stateEquality=i}function fe(n,i){"function"==typeof n?n(i):n&&(n.current=i)}var me=function(n){function i(){var t=null!==n&&n.apply(this,arguments)||this;return t.uid=rt(),t}return(0,f.ZT)(i,n),i.prototype.prepareHits=function(){},i.prototype.queryHit=function(t,r,o,a){return null},i.prototype.isValidSegDownEl=function(t){return!this.props.eventDrag&&!this.props.eventResize&&!X(t,".fc-event-mirror")},i.prototype.isValidDateDownEl=function(t){return!(X(t,".fc-event:not(.fc-bg-event)")||X(t,".fc-more-link")||X(t,"a[data-navlink]")||X(t,".fc-popover"))},i}(U);function he(n){return{id:rt(),deps:n.deps||[],reducers:n.reducers||[],isLoadingFuncs:n.isLoadingFuncs||[],contextInit:[].concat(n.contextInit||[]),eventRefiners:n.eventRefiners||{},eventDefMemberAdders:n.eventDefMemberAdders||[],eventSourceRefiners:n.eventSourceRefiners||{},isDraggableTransformers:n.isDraggableTransformers||[],eventDragMutationMassagers:n.eventDragMutationMassagers||[],eventDefMutationAppliers:n.eventDefMutationAppliers||[],dateSelectionTransformers:n.dateSelectionTransformers||[],datePointTransforms:n.datePointTransforms||[],dateSpanTransforms:n.dateSpanTransforms||[],views:n.views||{},viewPropsTransformers:n.viewPropsTransformers||[],isPropsValid:n.isPropsValid||null,externalDefTransforms:n.externalDefTransforms||[],viewContainerAppends:n.viewContainerAppends||[],eventDropTransformers:n.eventDropTransformers||[],componentInteractions:n.componentInteractions||[],calendarInteractions:n.calendarInteractions||[],themeClasses:n.themeClasses||{},eventSourceDefs:n.eventSourceDefs||[],cmdFormatter:n.cmdFormatter,recurringTypes:n.recurringTypes||[],namedTimeZonedImpl:n.namedTimeZonedImpl,initialView:n.initialView||"",elementDraggingImpl:n.elementDraggingImpl,optionChangeHandlers:n.optionChangeHandlers||{},scrollGridImpl:n.scrollGridImpl||null,contentTypeHandlers:n.contentTypeHandlers||{},listenerRefiners:n.listenerRefiners||{},optionRefiners:n.optionRefiners||{},propSetHandlers:n.propSetHandlers||{}}}function ov(n,i){return{reducers:n.reducers.concat(i.reducers),isLoadingFuncs:n.isLoadingFuncs.concat(i.isLoadingFuncs),contextInit:n.contextInit.concat(i.contextInit),eventRefiners:(0,f.pi)((0,f.pi)({},n.eventRefiners),i.eventRefiners),eventDefMemberAdders:n.eventDefMemberAdders.concat(i.eventDefMemberAdders),eventSourceRefiners:(0,f.pi)((0,f.pi)({},n.eventSourceRefiners),i.eventSourceRefiners),isDraggableTransformers:n.isDraggableTransformers.concat(i.isDraggableTransformers),eventDragMutationMassagers:n.eventDragMutationMassagers.concat(i.eventDragMutationMassagers),eventDefMutationAppliers:n.eventDefMutationAppliers.concat(i.eventDefMutationAppliers),dateSelectionTransformers:n.dateSelectionTransformers.concat(i.dateSelectionTransformers),datePointTransforms:n.datePointTransforms.concat(i.datePointTransforms),dateSpanTransforms:n.dateSpanTransforms.concat(i.dateSpanTransforms),views:(0,f.pi)((0,f.pi)({},n.views),i.views),viewPropsTransformers:n.viewPropsTransformers.concat(i.viewPropsTransformers),isPropsValid:i.isPropsValid||n.isPropsValid,externalDefTransforms:n.externalDefTransforms.concat(i.externalDefTransforms),viewContainerAppends:n.viewContainerAppends.concat(i.viewContainerAppends),eventDropTransformers:n.eventDropTransformers.concat(i.eventDropTransformers),calendarInteractions:n.calendarInteractions.concat(i.calendarInteractions),componentInteractions:n.componentInteractions.concat(i.componentInteractions),themeClasses:(0,f.pi)((0,f.pi)({},n.themeClasses),i.themeClasses),eventSourceDefs:n.eventSourceDefs.concat(i.eventSourceDefs),cmdFormatter:i.cmdFormatter||n.cmdFormatter,recurringTypes:n.recurringTypes.concat(i.recurringTypes),namedTimeZonedImpl:i.namedTimeZonedImpl||n.namedTimeZonedImpl,initialView:n.initialView||i.initialView,elementDraggingImpl:n.elementDraggingImpl||i.elementDraggingImpl,optionChangeHandlers:(0,f.pi)((0,f.pi)({},n.optionChangeHandlers),i.optionChangeHandlers),scrollGridImpl:i.scrollGridImpl||n.scrollGridImpl,contentTypeHandlers:(0,f.pi)((0,f.pi)({},n.contentTypeHandlers),i.contentTypeHandlers),listenerRefiners:(0,f.pi)((0,f.pi)({},n.listenerRefiners),i.listenerRefiners),optionRefiners:(0,f.pi)((0,f.pi)({},n.optionRefiners),i.optionRefiners),propSetHandlers:(0,f.pi)((0,f.pi)({},n.propSetHandlers),i.propSetHandlers)}}var Oe=function(n){function i(){return null!==n&&n.apply(this,arguments)||this}return(0,f.ZT)(i,n),i}(Pt);function Pi(n,i,t,r){if(i[n])return i[n];var o=function sv(n,i,t,r){var o=t[n],a=r[n],s=function(p){return o&&null!==o[p]?o[p]:a&&null!==a[p]?a[p]:null},l=s("component"),c=s("superType"),d=null;if(c){if(c===n)throw new Error("Can't have a custom view type that references itself");d=Pi(c,i,t,r)}return!l&&d&&(l=d.component),l?{type:n,component:l,defaults:(0,f.pi)((0,f.pi)({},d?d.defaults:{}),o?o.rawOptions:{}),overrides:(0,f.pi)((0,f.pi)({},d?d.overrides:{}),a?a.rawOptions:{})}:null}(n,i,t,r);return o&&(i[n]=o),o}Oe.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"},Oe.prototype.baseIconClass="fc-icon",Oe.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"},Oe.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"},Oe.prototype.iconOverrideOption="buttonIcons",Oe.prototype.iconOverrideCustomButtonOption="icon",Oe.prototype.iconOverridePrefix="fc-icon-";var se=function(n){function i(){var t=null!==n&&n.apply(this,arguments)||this;return t.rootElRef=W(),t.handleRootEl=function(r){fe(t.rootElRef,r),t.props.elRef&&fe(t.props.elRef,r)},t}return(0,f.ZT)(i,n),i.prototype.render=function(){var t=this,r=this.props,o=r.hookProps;return g(Ni,{hookProps:o,didMount:r.didMount,willUnmount:r.willUnmount,elRef:this.handleRootEl},function(a){return g(ba,{hookProps:o,content:r.content,defaultContent:r.defaultContent,backupElRef:t.rootElRef},function(s,l){return r.children(a,Ta(r.classNames,o),s,l)})})},i}(U),Ca=Eo(0);function ba(n){return g(Ca.Consumer,null,function(i){return g(lv,(0,f.pi)({renderId:i},n))})}var lv=function(n){function i(){var t=null!==n&&n.apply(this,arguments)||this;return t.innerElRef=W(),t}return(0,f.ZT)(i,n),i.prototype.render=function(){return this.props.children(this.innerElRef,this.renderInnerContent())},i.prototype.componentDidMount=function(){this.updateCustomContent()},i.prototype.componentDidUpdate=function(){this.updateCustomContent()},i.prototype.componentWillUnmount=function(){this.customContentInfo&&this.customContentInfo.destroy&&this.customContentInfo.destroy()},i.prototype.renderInnerContent=function(){var t=this.customContentInfo,r=this.getInnerContent(),o=this.getContentMeta(r);return t&&t.contentKey===o.contentKey?t&&(t.contentVal=r[o.contentKey]):(t&&(t.destroy&&t.destroy(),t=this.customContentInfo=null),o.contentKey&&(t=this.customContentInfo=(0,f.pi)({contentKey:o.contentKey,contentVal:r[o.contentKey]},o.buildLifecycleFuncs()))),t?[]:r},i.prototype.getInnerContent=function(){var t=this.props,r=xa(t.content,t.hookProps);return void 0===r&&(r=xa(t.defaultContent,t.hookProps)),r??null},i.prototype.getContentMeta=function(t){var r=this.context.pluginHooks.contentTypeHandlers,o="",a=null;if(t)for(var s in r)if(void 0!==t[s]){o=s,a=r[s];break}return{contentKey:o,buildLifecycleFuncs:a}},i.prototype.updateCustomContent=function(){this.customContentInfo&&this.customContentInfo.render(this.innerElRef.current||this.props.backupElRef.current,this.customContentInfo.contentVal)},i}(U),Ni=function(n){function i(){var t=null!==n&&n.apply(this,arguments)||this;return t.handleRootEl=function(r){t.rootEl=r,t.props.elRef&&fe(t.props.elRef,r)},t}return(0,f.ZT)(i,n),i.prototype.render=function(){return this.props.children(this.handleRootEl)},i.prototype.componentDidMount=function(){var t=this.props.didMount;t&&t((0,f.pi)((0,f.pi)({},this.props.hookProps),{el:this.rootEl}))},i.prototype.componentWillUnmount=function(){var t=this.props.willUnmount;t&&t((0,f.pi)((0,f.pi)({},this.props.hookProps),{el:this.rootEl}))},i}(U);function Ea(){var n,i,t=[];return function(r,o){return(!i||!be(i,o)||r!==n)&&(n=r,i=o,t=Ta(r,o)),t}}function Ta(n,i){return"function"==typeof n&&(n=n(i)),gi(n)}function xa(n,i){return"function"==typeof n?n(i,g):n}var ut=function(n){function i(){var t=null!==n&&n.apply(this,arguments)||this;return t.normalizeClassNames=Ea(),t}return(0,f.ZT)(i,n),i.prototype.render=function(){var r=this.props,o=this.context,a=o.options,s={view:o.viewApi},l=this.normalizeClassNames(a.viewClassNames,s);return g(Ni,{hookProps:s,didMount:a.viewDidMount,willUnmount:a.viewWillUnmount,elRef:r.elRef},function(c){return r.children(c,["fc-"+r.viewSpec.type+"-view","fc-view"].concat(l))})},i}(U);function Aa(n){return Ce(n,cv)}function cv(n){var i="function"==typeof n?{component:n}:n,t=i.component;return i.content&&(t=function dv(n){return function(i){return g(xe.Consumer,null,function(t){return g(ut,{viewSpec:t.viewSpec},function(r,o){var a=(0,f.pi)((0,f.pi)({},i),{nextDayThreshold:t.options.nextDayThreshold});return g(se,{hookProps:a,classNames:n.classNames,content:n.content,didMount:n.didMount,willUnmount:n.willUnmount,elRef:r},function(s,l,c,d){return g("div",{className:o.concat(l).join(" "),ref:s},d)})})})}}(i)),{superType:i.type,component:t,rawOptions:i}}function pv(n,i,t,r){var o=Aa(n),a=Aa(i.views),s=function av(n,i){var r,t={};for(r in n)Pi(r,t,n,i);for(r in i)Pi(r,t,n,i);return t}(o,a);return Ce(s,function(l){return function uv(n,i,t,r,o){var a=n.overrides.duration||n.defaults.duration||r.duration||t.duration,s=null,l="",c="",d={};if(a&&(s=function fv(n){var i=JSON.stringify(n),t=Sa[i];return void 0===t&&(t=N(n),Sa[i]=t),t}(a))){var p=pi(s);l=p.unit,1===p.value&&(c=l,d=i[l]?i[l].rawOptions:{})}var u=function(h){var v=h.buttonText||{},y=n.defaults.buttonTextKey;return null!=y&&null!=v[y]?v[y]:null!=v[n.type]?v[n.type]:null!=v[c]?v[c]:null},m=function(h){var v=h.buttonHints||{},y=n.defaults.buttonTextKey;return null!=y&&null!=v[y]?v[y]:null!=v[n.type]?v[n.type]:null!=v[c]?v[c]:null};return{type:n.type,component:n.component,duration:s,durationUnit:l,singleUnit:c,optionDefaults:n.defaults,optionOverrides:(0,f.pi)((0,f.pi)({},d),n.overrides),buttonTextOverride:u(r)||u(t)||n.overrides.buttonText,buttonTextDefault:u(o)||n.defaults.buttonText||u(Ee)||n.type,buttonTitleOverride:m(r)||m(t)||n.overrides.buttonHint,buttonTitleDefault:m(o)||n.defaults.buttonHint||m(Ee)}}(l,a,i,t,r)})}var Sa={},wa=function(){function n(i){this.props=i,this.nowDate=Mt(i.nowInput,i.dateEnv),this.initHiddenDays()}return n.prototype.buildPrev=function(i,t,r){var o=this.props.dateEnv,a=o.subtract(o.startOf(t,i.currentRangeUnit),i.dateIncrement);return this.build(a,-1,r)},n.prototype.buildNext=function(i,t,r){var o=this.props.dateEnv,a=o.add(o.startOf(t,i.currentRangeUnit),i.dateIncrement);return this.build(a,1,r)},n.prototype.build=function(i,t,r){void 0===r&&(r=!0);var a,s,l,c,d,p,o=this.props;return a=this.buildValidRange(),a=this.trimHiddenDays(a),r&&(i=function $h(n,i){return null!=i.start&&n<i.start?i.start:null!=i.end&&n>=i.end?new Date(i.end.valueOf()-1):n}(i,a)),s=this.buildCurrentRangeInfo(i,t),l=/^(year|month|week|day)$/.test(s.unit),c=this.buildRenderRange(this.trimHiddenDays(s.range),s.unit,l),d=c=this.trimHiddenDays(c),o.showNonCurrentDates||(d=Ge(d,s.range)),d=Ge(d=this.adjustActiveRange(d),a),p=Ci(s.range,a),{validRange:a,currentRange:s.range,currentRangeUnit:s.unit,isRangeAllDay:l,activeRange:d,renderRange:c,slotMinTime:o.slotMinTime,slotMaxTime:o.slotMaxTime,isValid:p,dateIncrement:this.buildDateIncrement(s.duration)}},n.prototype.buildValidRange=function(){var i=this.props.validRangeInput,t="function"==typeof i?i.call(this.props.calendarApi,this.nowDate):i;return this.refineRange(t)||{start:null,end:null}},n.prototype.buildCurrentRangeInfo=function(i,t){var l,r=this.props,o=null,a=null,s=null;return r.duration?s=this.buildRangeFromDuration(i,t,o=r.duration,a=r.durationUnit):(l=this.props.dayCount)?(a="day",s=this.buildRangeFromDayCount(i,t,l)):(s=this.buildCustomVisibleRange(i))?a=r.dateEnv.greatestWholeUnit(s.start,s.end).unit:(a=pi(o=this.getFallbackDuration()).unit,s=this.buildRangeFromDuration(i,t,o,a)),{duration:o,unit:a,range:s}},n.prototype.getFallbackDuration=function(){return N({day:1})},n.prototype.adjustActiveRange=function(i){var t=this.props,r=t.dateEnv,a=t.slotMinTime,s=t.slotMaxTime,l=i.start,c=i.end;return t.usesMinMaxTime&&(st(a)<0&&(l=q(l),l=r.add(l,a)),st(s)>1&&(c=$(c=q(c),-1),c=r.add(c,s))),{start:l,end:c}},n.prototype.buildRangeFromDuration=function(i,t,r,o){var c,d,p,a=this.props,s=a.dateEnv,l=a.dateAlignment;if(!l){var u=this.props.dateIncrement;l=u&&ae(u)<ae(r)?pi(u).unit:o}function m(){c=s.startOf(i,l),d=s.add(c,r),p={start:c,end:d}}return st(r)<=1&&this.isHiddenDay(c)&&(c=q(c=this.skipHiddenDays(c,t))),m(),this.trimHiddenDays(p)||(i=this.skipHiddenDays(i,t),m()),p},n.prototype.buildRangeFromDayCount=function(i,t,r){var d,o=this.props,s=o.dateAlignment,l=0,c=i;s&&(c=o.dateEnv.startOf(c,s)),c=q(c),d=c=this.skipHiddenDays(c,t);do{d=$(d,1),this.isHiddenDay(d)||(l+=1)}while(l<r);return{start:c,end:d}},n.prototype.buildCustomVisibleRange=function(i){var t=this.props,r=t.visibleRangeInput,o="function"==typeof r?r.call(t.calendarApi,t.dateEnv.toDate(i)):r,a=this.refineRange(o);return!a||null!=a.start&&null!=a.end?a:null},n.prototype.buildRenderRange=function(i,t,r){return i},n.prototype.buildDateIncrement=function(i){var r;return this.props.dateIncrement||((r=this.props.dateAlignment)?N(1,r):i||N({days:1}))},n.prototype.refineRange=function(i){if(i){var t=function Gh(n,i){var t=null,r=null;return n.start&&(t=i.createMarker(n.start)),n.end&&(r=i.createMarker(n.end)),!t&&!r||t&&r&&r<t?null:{start:t,end:r}}(i,this.props.dateEnv);return t&&(t=yi(t)),t}return null},n.prototype.initHiddenDays=function(){var o,i=this.props.hiddenDays||[],t=[],r=0;for(!1===this.props.weekends&&i.push(0,6),o=0;o<7;o+=1)(t[o]=-1!==i.indexOf(o))||(r+=1);if(!r)throw new Error("invalid hiddenDays");this.isHiddenDayHash=t},n.prototype.trimHiddenDays=function(i){var t=i.start,r=i.end;return t&&(t=this.skipHiddenDays(t)),r&&(r=this.skipHiddenDays(r,-1,!0)),null==t||null==r||t<r?{start:t,end:r}:null},n.prototype.isHiddenDay=function(i){return i instanceof Date&&(i=i.getUTCDay()),this.isHiddenDayHash[i]},n.prototype.skipHiddenDays=function(i,t,r){for(void 0===t&&(t=1),void 0===r&&(r=!1);this.isHiddenDayHash[(i.getUTCDay()+(r?t:0)+7)%7];)i=$(i,t);return i},n}();function Da(n){for(var i in n)if(n[i].isFetching)return!0;return!1}function ka(n,i,t,r){for(var o={},a=0,s=i;a<s.length;a++){var l=s[a];o[l.sourceId]=l}return t&&(o=Za(o,t,r)),(0,f.pi)((0,f.pi)({},n),o)}function Za(n,i,t){return Fi(n,Ve(n,function(r){return function bv(n,i,t){return Ma(n,t)?!t.options.lazyFetching||!n.fetchRange||n.isFetching||i.start<n.fetchRange.start||i.end>n.fetchRange.end:!n.latestFetchId}(r,i,t)}),i,!1,t)}function Fi(n,i,t,r,o){var a={};for(var s in n){var l=n[s];a[s]=i[s]?Ev(l,t,r,o):l}return a}function Ev(n,i,t,r){var o=r.options,a=r.calendarApi,s=r.pluginHooks.eventSourceDefs[n.sourceDefId],l=rt();return s.fetch({eventSource:n,range:i,isRefetch:t,context:r},function(c){var d=c.rawEvents;o.eventSourceSuccess&&(d=o.eventSourceSuccess.call(a,d,c.xhr)||d),n.success&&(d=n.success.call(a,d,c.xhr)||d),r.dispatch({type:"RECEIVE_EVENTS",sourceId:n.sourceId,fetchId:l,fetchRange:i,rawEvents:d})},function(c){console.warn(c.message,c),o.eventSourceFailure&&o.eventSourceFailure.call(a,c),n.failure&&n.failure(c),r.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:n.sourceId,fetchId:l,fetchRange:i,error:c})}),(0,f.pi)((0,f.pi)({},n),{isFetching:!0,latestFetchId:l})}function Ra(n,i){return Ve(n,function(t){return Ma(t,i)})}function Ma(n,i){return!i.pluginHooks.eventSourceDefs[n.sourceDefId].ignoreRange}function Ia(n,i){var t;if(i){t=[];for(var r=0,o=n;r<o.length;r++){var a=o[r],s=i(a);s?t.push(s):null==s&&t.push(a)}}else t=n;return t}function Pa(n,i){return mn(n,function(t){return t.sourceId!==i})}function Rv(n,i){switch(i.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return i.selection;default:return n}}function Mv(n,i){switch(i.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return i.eventInstanceId;default:return n}}function Iv(n,i){var t;switch(i.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return{affectedEvents:(t=i.state).affectedEvents,mutatedEvents:t.mutatedEvents,isEvent:t.isEvent};default:return n}}function Pv(n,i){var t;switch(i.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return{affectedEvents:(t=i.state).affectedEvents,mutatedEvents:t.mutatedEvents,isEvent:t.isEvent};default:return n}}function Nv(n,i,t,r,o){return{header:n.headerToolbar?Na(n.headerToolbar,n,i,t,r,o):null,footer:n.footerToolbar?Na(n.footerToolbar,n,i,t,r,o):null}}function Na(n,i,t,r,o,a){var s={},l=[],c=!1;for(var d in n){var u=Fv(n[d],i,t,r,o,a);s[d]=u.widgets,l.push.apply(l,u.viewsWithButtons),c=c||u.hasTitle}return{sectionWidgets:s,viewsWithButtons:l,hasTitle:c}}function Fv(n,i,t,r,o,a){var s="rtl"===i.direction,l=i.customButtons||{},c=t.buttonText||{},d=i.buttonText||{},p=t.buttonHints||{},u=i.buttonHints||{},m=n?n.split(" "):[],h=[],v=!1;return{widgets:m.map(function(C){return C.split(",").map(function(_){if("title"===_)return v=!0,{buttonName:_};var T,A,S,I,M,F;if(T=l[_])S=function(O){T.click&&T.click.call(O.target,O,O.target)},(I=r.getCustomButtonIconClass(T))||(I=r.getIconClass(_,s))||(M=T.text),F=T.hint||T.text;else if(A=o[_]){h.push(_),S=function(){a.changeView(_)},(M=A.buttonTextOverride)||(I=r.getIconClass(_,s))||(M=A.buttonTextDefault);var D=A.buttonTextOverride||A.buttonTextDefault;F=kt(A.buttonTitleOverride||A.buttonTitleDefault||i.viewHint,[D,_],D)}else if(a[_])if(S=function(){a[_]()},(M=c[_])||(I=r.getIconClass(_,s))||(M=d[_]),"prevYear"===_||"nextYear"===_){var H="prevYear"===_?"prev":"next";F=kt(p[H]||u[H],[d.year||"year","year"],d[_])}else F=function(O){return kt(p[_]||u[_],[d[O]||O,O],d[_])};return{buttonName:_,buttonClick:S,buttonIcon:I,buttonText:M,buttonHint:F}})}),viewsWithButtons:h,hasTitle:v}}function Fa(n){var i=[];for(var t in n)i.push(encodeURIComponent(t)+"="+encodeURIComponent(n[t]));return i.join("&")}function Ua(n,i){for(var t=si(i.getCurrentData().eventSources),r=[],o=0,a=n;o<a.length;o++){for(var s=a[o],l=!1,c=0;c<t.length;c+=1)if(t[c]._raw===s){t.splice(c,1),l=!0;break}l||r.push(s)}for(var d=0,p=t;d<p.length;d++)i.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:p[d].sourceId});for(var m=0,h=r;m<h.length;m++)i.calendarApi.addEventSource(h[m])}var Oa=[he({eventSourceDefs:[{ignoreRange:!0,parseMeta:function(n){return Array.isArray(n.events)?n.events:null},fetch:function(n,i){i({rawEvents:n.eventSource.meta})}}]}),he({eventSourceDefs:[{parseMeta:function(n){return"function"==typeof n.events?n.events:null},fetch:function(n,i,t){!function Gg(n,i,t){var r=!1,o=function(){r||(r=!0,i.apply(this,arguments))},a=function(){r||(r=!0,t&&t.apply(this,arguments))},s=n(o,a);s&&"function"==typeof s.then&&s.then(o,a)}(n.eventSource.meta.bind(null,ia(n.range,n.context.dateEnv)),function(a){i({rawEvents:a})},t)}}]}),he({eventSourceRefiners:{method:String,extraParams:b,startParam:String,endParam:String,timeZoneParam:String},eventSourceDefs:[{parseMeta:function(n){return!n.url||"json"!==n.format&&n.format?null:{url:n.url,format:"json",method:(n.method||"GET").toUpperCase(),extraParams:n.extraParams,startParam:n.startParam,endParam:n.endParam,timeZoneParam:n.timeZoneParam}},fetch:function(n,i,t){var r=n.eventSource.meta,o=function Vv(n,i,t){var a,s,l,c,r=t.dateEnv,o=t.options,d={};return null==(a=n.startParam)&&(a=o.startParam),null==(s=n.endParam)&&(s=o.endParam),null==(l=n.timeZoneParam)&&(l=o.timeZoneParam),c="function"==typeof n.extraParams?n.extraParams():n.extraParams||{},(0,f.pi)(d,c),d[a]=r.formatIso(i.start),d[s]=r.formatIso(i.end),"local"!==r.timeZone&&(d[l]=r.timeZone),d}(r,n.range,n.context);!function Lv(n,i,t,r,o){var a=null;"GET"===(n=n.toUpperCase())?i=function Jv(n,i){return n+(-1===n.indexOf("?")?"?":"&")+Fa(i)}(i,t):a=Fa(t);var s=new XMLHttpRequest;s.open(n,i,!0),"GET"!==n&&s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.onload=function(){if(s.status>=200&&s.status<400){var l=!1,c=void 0;try{c=JSON.parse(s.responseText),l=!0}catch{}l?r(c,s):o("Failure parsing JSON",s)}else o("Request failed",s)},s.onerror=function(){o("Request failed",s)},s.send(a)}(r.method,r.url,o,function(a,s){i({rawEvents:a,xhr:s})},function(a,s){t({message:a,xhr:s})})}}]}),he({recurringTypes:[{parse:function(n,i){if(n.daysOfWeek||n.startTime||n.endTime||n.startRecur||n.endRecur){var t={daysOfWeek:n.daysOfWeek||null,startTime:n.startTime||null,endTime:n.endTime||null,startRecur:n.startRecur?i.createMarker(n.startRecur):null,endRecur:n.endRecur?i.createMarker(n.endRecur):null},r=void 0;return n.duration&&(r=n.duration),!r&&n.startTime&&n.endTime&&(r=function _h(n,i){return{years:n.years-i.years,months:n.months-i.months,days:n.days-i.days,milliseconds:n.milliseconds-i.milliseconds}}(n.endTime,n.startTime)),{allDayGuess:Boolean(!n.startTime&&!n.endTime),duration:r,typeData:t}}return null},expand:function(n,i,t){var r=Ge(i,{start:n.startRecur,end:n.endRecur});return r?function jv(n,i,t,r){for(var o=n?Oo(n):null,a=q(t.start),s=t.end,l=[];a<s;){var c=void 0;(!o||o[a.getUTCDay()])&&(c=i?r.add(a,i):a,l.push(c)),a=$(a,1)}return l}(n.daysOfWeek,n.startTime,r,t):[]}}],eventRefiners:{daysOfWeek:b,startTime:N,endTime:N,duration:N,startRecur:b,endRecur:b}}),he({optionChangeHandlers:{events:function(n,i){Ua([n],i)},eventSources:Ua}}),he({isLoadingFuncs:[function(n){return Da(n.eventSources)}],contentTypeHandlers:{html:function e_(){var n=null,i="";return{render:function t(o,a){(o!==n||a!==i)&&(o.innerHTML=a),n=o,i=a},destroy:function r(){n.innerHTML="",n=null,i=""}}},domNodes:function t_(){var n=null,i=[];function r(){i.forEach(ii),i=[],n=null}return{render:function t(o,a){var s=Array.prototype.slice.call(a);if(o!==n||!Fe(i,s)){for(var l=0,c=s;l<c.length;l++)o.appendChild(c[l]);r()}n=o,i=s},destroy:r}}},propSetHandlers:{dateProfile:function Kv(n,i){i.emitter.trigger("datesSet",(0,f.pi)((0,f.pi)({},ia(n.activeRange,i.dateEnv)),{view:i.viewApi}))},eventStore:function Xv(n,i){var t=i.emitter;t.hasHandlers("eventsSet")&&t.trigger("eventsSet",We(n,i))}}})],Ui=function(){function n(i){this.drainedOption=i,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}return n.prototype.request=function(i){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),null==i?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),i))},n.prototype.pause=function(i){void 0===i&&(i="");var t=this.pauseDepths;t[i]=(t[i]||0)+1,this.clearTimeout()},n.prototype.resume=function(i,t){void 0===i&&(i="");var r=this.pauseDepths;i in r&&(t?delete r[i]:(r[i]-=1,r[i]<=0&&delete r[i]),this.tryDrain())},n.prototype.isPaused=function(){return Object.keys(this.pauseDepths).length},n.prototype.tryDrain=function(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}},n.prototype.clear=function(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}},n.prototype.clearTimeout=function(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)},n.prototype.drained=function(){this.drainedOption&&this.drainedOption()},n}(),n_=function(){function n(i,t){this.runTaskOption=i,this.drainedOption=t,this.queue=[],this.delayedRunner=new Ui(this.drain.bind(this))}return n.prototype.request=function(i,t){this.queue.push(i),this.delayedRunner.request(t)},n.prototype.pause=function(i){this.delayedRunner.pause(i)},n.prototype.resume=function(i,t){this.delayedRunner.resume(i,t)},n.prototype.drain=function(){for(var i=this.queue;i.length;){for(var t=[],r=void 0;r=i.shift();)this.runTask(r),t.push(r);this.drained(t)}},n.prototype.runTask=function(i){this.runTaskOption&&this.runTaskOption(i)},n.prototype.drained=function(i){this.drainedOption&&this.drainedOption(i)},n}();function i_(n,i,t){var r;return r=/^(year|month)$/.test(n.currentRangeUnit)?n.currentRange:n.activeRange,t.formatRange(r.start,r.end,B(i.titleFormat||function r_(n){var i=n.currentRangeUnit;if("year"===i)return{year:"numeric"};if("month"===i)return{year:"numeric",month:"long"};var t=rn(n.currentRange.start,n.currentRange.end);return null!==t&&t>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}(n)),{isEndExclusive:n.isRangeAllDay,defaultSeparator:i.titleRangeSeparator})}var qa=function(){function n(i){var t=this;this.computeOptionsData=R(this._computeOptionsData),this.computeCurrentViewData=R(this._computeCurrentViewData),this.organizeRawLocales=R(fa),this.buildLocale=R(Si),this.buildPluginHooks=function rv(){var t,n=[],i=[];return function(r,o){return(!t||!Fe(r,n)||!Fe(o,i))&&(t=function iv(n,i){var t={},r={reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,contentTypeHandlers:{},listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function o(a){for(var s=0,l=a;s<l.length;s++){var c=l[s];t[c.id]||(t[c.id]=!0,o(c.deps),r=ov(r,c))}}return n&&o(n),o(i),r}(r,o)),n=r,i=o,t}}(),this.buildDateEnv=R(o_),this.buildTheme=R(a_),this.parseToolbars=R(Nv),this.buildViewSpecs=R(pv),this.buildDateProfileGenerator=ln(s_),this.buildViewApi=R(l_),this.buildViewUiProps=ln(p_),this.buildEventUiBySource=R(c_,be),this.buildEventUiBases=R(d_),this.parseContextBusinessHours=ln(u_),this.buildTitle=R(i_),this.emitter=new Tn,this.actionRunner=new n_(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.getCurrentData=function(){return t.data},this.dispatch=function(A){t.actionRunner.request(A)},this.props=i,this.actionRunner.pause();var r={},o=this.computeOptionsData(i.optionOverrides,r,i.calendarApi),a=o.calendarOptions.initialView||o.pluginHooks.initialView,s=this.computeCurrentViewData(a,o,i.optionOverrides,r);i.calendarApi.currentDataManager=this,this.emitter.setThisContext(i.calendarApi),this.emitter.setOptions(s.options);var l=function _g(n,i){var t=n.initialDate;return null!=t?i.createMarker(t):Mt(n.now,i)}(o.calendarOptions,o.dateEnv),c=s.dateProfileGenerator.build(l);Ue(c.activeRange,l)||(l=c.currentRange.start);for(var d={dateEnv:o.dateEnv,options:o.calendarOptions,pluginHooks:o.pluginHooks,calendarApi:i.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},p=0,u=o.pluginHooks.contextInit;p<u.length;p++)(0,u[p])(d);for(var h=function vv(n,i,t){var r=i?i.activeRange:null;return ka({},function xv(n,i){var t=sa(i),r=[].concat(n.eventSources||[]),o=[];n.initialEvents&&r.unshift(n.initialEvents),n.events&&r.unshift(n.events);for(var a=0,s=r;a<s.length;a++){var c=aa(s[a],i,t);c&&o.push(c)}return o}(n,t),r,t)}(o.calendarOptions,c,d),v={dynamicOptionOverrides:r,currentViewType:a,currentDate:l,dateProfile:c,businessHours:this.parseContextBusinessHours(d),eventSources:h,eventUiBases:{},eventStore:{defs:{},instances:{}},renderableEventStore:{defs:{},instances:{}},dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(d).selectionConfig},y=(0,f.pi)((0,f.pi)({},d),v),C=0,_=o.pluginHooks.reducers;C<_.length;C++)(0,f.pi)(v,(0,_[C])(null,null,y));Oi(v,d)&&this.emitter.trigger("loading",!0),this.state=v,this.updateData(),this.actionRunner.resume()}return n.prototype.resetOptions=function(i,t){var r=this.props;r.optionOverrides=t?(0,f.pi)((0,f.pi)({},r.optionOverrides),i):i,this.actionRunner.request({type:"NOTHING"})},n.prototype._handleAction=function(i){var t=this,r=t.props,o=t.state,a=t.emitter,s=function hv(n,i){var t;return"SET_OPTION"===i.type?(0,f.pi)((0,f.pi)({},n),((t={})[i.optionName]=i.rawOptionValue,t)):n}(o.dynamicOptionOverrides,i),l=this.computeOptionsData(r.optionOverrides,s,r.calendarApi),c=function mv(n,i){return"CHANGE_VIEW_TYPE"===i.type&&(n=i.viewType),n}(o.currentViewType,i),d=this.computeCurrentViewData(c,l,r.optionOverrides,s);r.calendarApi.currentDataManager=this,a.setThisContext(r.calendarApi),a.setOptions(d.options);var p={dateEnv:l.dateEnv,options:l.calendarOptions,pluginHooks:l.pluginHooks,calendarApi:r.calendarApi,dispatch:this.dispatch,emitter:a,getCurrentData:this.getCurrentData},u=o.currentDate,m=o.dateProfile;this.data&&this.data.dateProfileGenerator!==d.dateProfileGenerator&&(m=d.dateProfileGenerator.build(u)),u=function vg(n,i){return"CHANGE_DATE"===i.type?i.dateMarker:n}(u,i),m=function gv(n,i,t,r){var o;switch(i.type){case"CHANGE_VIEW_TYPE":return r.build(i.dateMarker||t);case"CHANGE_DATE":return r.build(i.dateMarker);case"PREV":if((o=r.buildPrev(n,t)).isValid)return o;break;case"NEXT":if((o=r.buildNext(n,t)).isValid)return o}return n}(m,i,u,d.dateProfileGenerator),("PREV"===i.type||"NEXT"===i.type||!Ue(m.currentRange,u))&&(u=m.currentRange.start);for(var h=function _v(n,i,t,r){var o=t?t.activeRange:null;switch(i.type){case"ADD_EVENT_SOURCES":return ka(n,i.sources,o,r);case"REMOVE_EVENT_SOURCE":return function Cv(n,i){return Ve(n,function(t){return t.sourceId!==i})}(n,i.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return t?Za(n,o,r):n;case"FETCH_EVENT_SOURCES":return Fi(n,i.sourceIds?Oo(i.sourceIds):Ra(n,r),o,i.isRefetch||!1,r);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return function Tv(n,i,t,r){var o,a=n[i];return a&&t===a.latestFetchId?(0,f.pi)((0,f.pi)({},n),((o={})[i]=(0,f.pi)((0,f.pi)({},a),{isFetching:!1,fetchRange:r}),o)):n}(n,i.sourceId,i.fetchId,i.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return n}}(o.eventSources,i,m,p),v=function Av(n,i,t,r,o){switch(i.type){case"RECEIVE_EVENTS":return function Sv(n,i,t,r,o,a){if(i&&t===i.latestFetchId){var s=fn(function wv(n,i,t){var r=t.options.eventDataTransform,o=i?i.eventDataTransform:null;return o&&(n=Ia(n,o)),r&&(n=Ia(n,r)),n}(o,i,a),i,a);return r&&(s=at(s,r,a)),hi(Pa(n,i.sourceId),s)}return n}(n,t[i.sourceId],i.fetchId,i.fetchRange,i.rawEvents,o);case"ADD_EVENTS":return function Dv(n,i,t,r){return t&&(i=at(i,t,r)),hi(n,i)}(n,i.eventStore,r?r.activeRange:null,o);case"RESET_EVENTS":return i.eventStore;case"MERGE_EVENTS":return hi(n,i.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return r?at(n,r.activeRange,o):n;case"REMOVE_EVENTS":return function Hh(n,i){var t=n.defs,r=n.instances,o={},a={};for(var s in t)i.defs[s]||(o[s]=t[s]);for(var l in r)!i.instances[l]&&o[r[l].defId]&&(a[l]=r[l]);return{defs:o,instances:a}}(n,i.eventStore);case"REMOVE_EVENT_SOURCE":return Pa(n,i.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return mn(n,function(a){return!a.sourceId});case"REMOVE_ALL_EVENTS":return{defs:{},instances:{}};default:return n}}(o.eventStore,i,h,m,p),C=Da(h)&&!d.options.progressiveEventRendering&&o.renderableEventStore||v,_=this.buildViewUiProps(p),T=_.eventUiSingleBase,A=_.selectionConfig,S=this.buildEventUiBySource(h),M={dynamicOptionOverrides:s,currentViewType:c,currentDate:u,dateProfile:m,eventSources:h,eventStore:v,renderableEventStore:C,selectionConfig:A,eventUiBases:this.buildEventUiBases(C.defs,T,S),businessHours:this.parseContextBusinessHours(p),dateSelection:Rv(o.dateSelection,i),eventSelection:Mv(o.eventSelection,i),eventDrag:Iv(o.eventDrag,i),eventResize:Pv(o.eventResize,i)},F=(0,f.pi)((0,f.pi)({},p),M),D=0,H=l.pluginHooks.reducers;D<H.length;D++)(0,f.pi)(M,(0,H[D])(o,i,F));var le=Oi(o,p),te=Oi(M,p);!le&&te?a.trigger("loading",!0):le&&!te&&a.trigger("loading",!1),this.state=M,r.onAction&&r.onAction(i)},n.prototype.updateData=function(){var t=this.props,r=this.state,o=this.data,a=this.computeOptionsData(t.optionOverrides,r.dynamicOptionOverrides,t.calendarApi),s=this.computeCurrentViewData(r.currentViewType,a,t.optionOverrides,r.dynamicOptionOverrides),l=this.data=(0,f.pi)((0,f.pi)((0,f.pi)({viewTitle:this.buildTitle(r.dateProfile,s.options,a.dateEnv),calendarApi:t.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},a),s),r),c=a.pluginHooks.optionChangeHandlers,d=o&&o.calendarOptions,p=a.calendarOptions;if(d&&d!==p)for(var u in d.timeZone!==p.timeZone&&(r.eventSources=l.eventSources=function yv(n,i,t){var r=i?i.activeRange:null;return Fi(n,Ra(n,t),r,!0,t)}(l.eventSources,r.dateProfile,l),r.eventStore=l.eventStore=function kv(n,i,t){var r=n.defs,o=Ce(n.instances,function(a){var s=r[a.defId];return s.allDay||s.recurringDef?a:(0,f.pi)((0,f.pi)({},a),{range:{start:t.createMarker(i.toDate(a.range.start,a.forcedStartTzo)),end:t.createMarker(i.toDate(a.range.end,a.forcedEndTzo))},forcedStartTzo:t.canComputeOffset?null:a.forcedStartTzo,forcedEndTzo:t.canComputeOffset?null:a.forcedEndTzo})});return{defs:r,instances:o}}(l.eventStore,o.dateEnv,l.dateEnv)),c)d[u]!==p[u]&&c[u](p[u],l);t.onData&&t.onData(l)},n.prototype._computeOptionsData=function(i,t,r){var o=this.processRawCalendarOptions(i,t),a=o.refinedOptions,s=o.pluginHooks,l=o.localeDefaults,c=o.availableLocaleData;Ha(o.extra);var p=this.buildDateEnv(a.timeZone,a.locale,a.weekNumberCalculation,a.firstDay,a.weekText,s,c,a.defaultRangeSeparator),u=this.buildViewSpecs(s.views,i,t,l),m=this.buildTheme(a,s);return{calendarOptions:a,pluginHooks:s,dateEnv:p,viewSpecs:u,theme:m,toolbarConfig:this.parseToolbars(a,i,m,u,r),localeDefaults:l,availableRawLocales:c.map}},n.prototype.processRawCalendarOptions=function(i,t){var r=fi([Ee,i,t]),a=r.locale,s=this.organizeRawLocales(r.locales),c=this.buildLocale(a||s.defaultCode,s.map).options,d=this.buildPluginHooks(i.plugins||[],Oa),p=this.currentCalendarOptionsRefiners=(0,f.pi)((0,f.pi)((0,f.pi)((0,f.pi)((0,f.pi)({},Vo),zo),Go),d.listenerRefiners),d.optionRefiners),u={},m=fi([Ee,c,i,t]),h={},v=this.currentCalendarOptionsInput,y=this.currentCalendarOptionsRefined,C=!1;for(var _ in m)"plugins"!==_&&(m[_]===v[_]||ze[_]&&_ in v&&ze[_](v[_],m[_])?h[_]=y[_]:p[_]?(h[_]=p[_](m[_]),C=!0):u[_]=v[_]);return C&&(this.currentCalendarOptionsInput=m,this.currentCalendarOptionsRefined=h),{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:d,availableLocaleData:s,localeDefaults:c,extra:u}},n.prototype._computeCurrentViewData=function(i,t,r,o){var a=t.viewSpecs[i];if(!a)throw new Error('viewType "'+i+"\" is not available. Please make sure you've loaded all neccessary plugins");var s=this.processRawViewOptions(a,t.pluginHooks,t.localeDefaults,r,o),l=s.refinedOptions;return Ha(s.extra),{viewSpec:a,options:l,dateProfileGenerator:this.buildDateProfileGenerator({dateProfileGeneratorClass:a.optionDefaults.dateProfileGeneratorClass,duration:a.duration,durationUnit:a.durationUnit,usesMinMaxTime:a.optionDefaults.usesMinMaxTime,dateEnv:t.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:l.slotMinTime,slotMaxTime:l.slotMaxTime,showNonCurrentDates:l.showNonCurrentDates,dayCount:l.dayCount,dateAlignment:l.dateAlignment,dateIncrement:l.dateIncrement,hiddenDays:l.hiddenDays,weekends:l.weekends,nowInput:l.now,validRangeInput:l.validRange,visibleRangeInput:l.visibleRange,monthMode:l.monthMode,fixedWeekCount:l.fixedWeekCount}),viewApi:this.buildViewApi(i,this.getCurrentData,t.dateEnv)}},n.prototype.processRawViewOptions=function(i,t,r,o,a){var s=fi([Ee,i.optionDefaults,r,o,i.optionOverrides,a]),l=(0,f.pi)((0,f.pi)((0,f.pi)((0,f.pi)((0,f.pi)((0,f.pi)({},Vo),zo),Go),Oh),t.listenerRefiners),t.optionRefiners),c={},d=this.currentViewOptionsInput,p=this.currentViewOptionsRefined,u=!1,m={};for(var h in s)s[h]===d[h]||ze[h]&&ze[h](s[h],d[h])?c[h]=p[h]:(s[h]===this.currentCalendarOptionsInput[h]||ze[h]&&ze[h](s[h],this.currentCalendarOptionsInput[h])?h in this.currentCalendarOptionsRefined&&(c[h]=this.currentCalendarOptionsRefined[h]):l[h]?c[h]=l[h](s[h]):m[h]=s[h],u=!0);return u&&(this.currentViewOptionsInput=s,this.currentViewOptionsRefined=c),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:m}},n}();function o_(n,i,t,r,o,a,s,l){var c=Si(i||s.defaultCode,s.map);return new da({calendarSystem:"gregory",timeZone:n,namedTimeZoneImpl:a.namedTimeZonedImpl,locale:c,weekNumberCalculation:t,firstDay:r,weekText:o,cmdFormatter:a.cmdFormatter,defaultSeparator:l})}function a_(n,i){return new(i.themeClasses[n.themeSystem]||Oe)(n)}function s_(n){return new(n.dateProfileGeneratorClass||wa)(n)}function l_(n,i,t){return new mg(n,i,t)}function c_(n){return Ce(n,function(i){return i.ui})}function d_(n,i,t){var r={"":i};for(var o in n){var a=n[o];a.sourceId&&t[a.sourceId]&&(r[o]=t[a.sourceId])}return r}function p_(n){var i=n.options;return{eventUiSingleBase:gn({display:i.eventDisplay,editable:i.editable,startEditable:i.eventStartEditable,durationEditable:i.eventDurationEditable,constraint:i.eventConstraint,overlap:"boolean"==typeof i.eventOverlap?i.eventOverlap:void 0,allow:i.eventAllow,backgroundColor:i.eventBackgroundColor,borderColor:i.eventBorderColor,textColor:i.eventTextColor,color:i.eventColor},n),selectionConfig:gn({constraint:i.selectConstraint,overlap:"boolean"==typeof i.selectOverlap?i.selectOverlap:void 0,allow:i.selectAllow},n)}}function Oi(n,i){for(var t=0,r=i.pluginHooks.isLoadingFuncs;t<r.length;t++)if((0,r[t])(n))return!0;return!1}function u_(n){return function kg(n,i){return fn(function Zg(n){return(!0===n?[{}]:Array.isArray(n)?n.filter(function(t){return t.daysOfWeek}):"object"==typeof n&&n?[n]:[]).map(function(t){return(0,f.pi)((0,f.pi)({},Dg),t)})}(n),null,i)}(n.options.businessHours,n)}function Ha(n,i){for(var t in n)console.warn("Unknown option '"+t+"'"+(i?" for view '"+i+"'":""))}!function(n){function i(t){var r=n.call(this,t)||this;return r.handleData=function(o){r.dataManager?r.setState(o):r.state=o},r.dataManager=new qa({optionOverrides:t.optionOverrides,calendarApi:t.calendarApi,onData:r.handleData}),r}(0,f.ZT)(i,n),i.prototype.render=function(){return this.props.children(this.state)},i.prototype.componentDidUpdate=function(t){var r=this.props.optionOverrides;r!==t.optionOverrides&&this.dataManager.resetOptions(r)}}(ni);var La=function(){function n(){this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}return n.prototype.addSegs=function(i){for(var t=[],r=0,o=i;r<o.length;r++)this.insertEntry(o[r],t);return t},n.prototype.insertEntry=function(i,t){var r=this.findInsertion(i);return this.isInsertionValid(r,i)?(this.insertEntryAt(i,r),1):this.handleInvalidInsertion(r,i,t)},n.prototype.isInsertionValid=function(i,t){return(-1===this.maxCoord||i.levelCoord+t.thickness<=this.maxCoord)&&(-1===this.maxStackCnt||i.stackCnt<this.maxStackCnt)},n.prototype.handleInvalidInsertion=function(i,t,r){return this.allowReslicing&&i.touchingEntry?this.splitEntry(t,i.touchingEntry,r):(r.push(t),0)},n.prototype.splitEntry=function(i,t,r){var o=0,a=[],s=i.span,l=t.span;return s.start<l.start&&(o+=this.insertEntry({index:i.index,thickness:i.thickness,span:{start:s.start,end:l.start}},a)),s.end>l.end&&(o+=this.insertEntry({index:i.index,thickness:i.thickness,span:{start:l.end,end:s.end}},a)),o?(r.push.apply(r,(0,f.ev)([{index:i.index,thickness:i.thickness,span:Hi(l,s)}],a)),o):(r.push(i),0)},n.prototype.insertEntryAt=function(i,t){var o=this.entriesByLevel;-1===t.lateral?(Li(this.levelCoords,t.level,t.levelCoord),Li(o,t.level,[i])):Li(o[t.level],t.lateral,i),this.stackCnts[je(i)]=t.stackCnt},n.prototype.findInsertion=function(i){for(var t=this,r=t.levelCoords,o=t.entriesByLevel,a=t.strictOrder,s=t.stackCnts,l=r.length,c=0,d=-1,p=-1,u=null,m=0,h=0;h<l;h+=1){var v=r[h];if(!a&&v>=c+i.thickness)break;for(var y=o[h],C=void 0,_=Ji(y,i.span.start,qi),T=_[0]+_[1];(C=y[T])&&C.span.start<i.span.end;){var A=v+C.thickness;A>c&&(c=A,u=C,d=h,p=T),A===c&&(m=Math.max(m,s[je(C)]+1)),T+=1}}var S=0;if(u)for(S=d+1;S<l&&r[S]<c;)S+=1;var I=-1;return S<l&&r[S]===c&&(I=Ji(o[S],i.span.end,qi)[0]),{touchingLevel:d,touchingLateral:p,touchingEntry:u,stackCnt:m,levelCoord:c,level:S,lateral:I}},n.prototype.toRects=function(){for(var t=this.entriesByLevel,r=this.levelCoords,o=t.length,a=[],s=0;s<o;s+=1)for(var c=r[s],d=0,p=t[s];d<p.length;d++)a.push((0,f.pi)((0,f.pi)({},p[d]),{levelCoord:c}));return a},n}();function qi(n){return n.span.end}function je(n){return n.index+":"+n.span.start}function m_(n,i){return{start:Math.min(n.start,i.start),end:Math.max(n.end,i.end)}}function Hi(n,i){var t=Math.max(n.start,i.start),r=Math.min(n.end,i.end);return t<r?{start:t,end:r}:null}function Li(n,i,t){n.splice(i,0,t)}function Ji(n,i,t){var r=0,o=n.length;if(!o||i<t(n[r]))return[0,0];if(i>t(n[o-1]))return[o,0];for(;r<o;){var a=Math.floor(r+(o-r)/2),s=t(n[a]);if(i<s)o=a;else{if(!(i>s))return[a,1];r=a+1}}return[r,0]}var ft=function(){function n(i){this.component=i.component,this.isHitComboAllowed=i.isHitComboAllowed||null}return n.prototype.destroy=function(){},n}();function h_(n,i){return{component:n,el:i.el,useEventCenter:null==i.useEventCenter||i.useEventCenter,isHitComboAllowed:i.isHitComboAllowed||null}}function Bi(n){var i;return(i={})[n.component.uid]=n,i}var An={},Ja=function(){function n(i,t){this.emitter=new Tn}return n.prototype.destroy=function(){},n.prototype.setMirrorIsVisible=function(i){},n.prototype.setMirrorNeedsRevert=function(i){},n.prototype.setAutoScrollEnabled=function(i){},n}(),Sn={},g_={startTime:N,duration:N,create:Boolean,sourceId:String};function Yi(n){var i=un(n,g_),t=i.refined;return{startTime:t.startTime||null,duration:t.duration||null,create:null==t.create||t.create,sourceId:t.sourceId,leftoverProps:i.extra}}var v_=function(n){function i(){return null!==n&&n.apply(this,arguments)||this}return(0,f.ZT)(i,n),i.prototype.render=function(){var t=this,r=this.props.widgetGroups.map(function(o){return t.renderWidgetGroup(o)});return g.apply(void 0,(0,f.ev)(["div",{className:"fc-toolbar-chunk"}],r))},i.prototype.renderWidgetGroup=function(t){for(var r=this.props,o=this.context.theme,a=[],s=!0,l=0,c=t;l<c.length;l++){var d=c[l],p=d.buttonName,u=d.buttonClick,m=d.buttonText,h=d.buttonIcon,v=d.buttonHint;if("title"===p)s=!1,a.push(g("h2",{className:"fc-toolbar-title",id:r.titleId},r.title));else{var y=p===r.activeButton,C=!r.isTodayEnabled&&"today"===p||!r.isPrevEnabled&&"prev"===p||!r.isNextEnabled&&"next"===p,_=["fc-"+p+"-button",o.getClass("button")];y&&_.push(o.getClass("buttonActive")),a.push(g("button",{type:"button",title:"function"==typeof v?v(r.navUnit):v,disabled:C,"aria-pressed":y,className:_.join(" "),onClick:u},m||(h?g("span",{className:h}):"")))}}if(a.length>1){var T=s&&o.getClass("buttonGroup")||"";return g.apply(void 0,(0,f.ev)(["div",{className:T}],a))}return a[0]},i}(U),Ba=function(n){function i(){return null!==n&&n.apply(this,arguments)||this}return(0,f.ZT)(i,n),i.prototype.render=function(){var s,l,t=this.props,a=!1,c=t.model.sectionWidgets,d=c.center;return c.left?(a=!0,s=c.left):s=c.start,c.right?(a=!0,l=c.right):l=c.end,g("div",{className:[t.extraClassName||"","fc-toolbar",a?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",s||[]),this.renderSection("center",d||[]),this.renderSection("end",l||[]))},i.prototype.renderSection=function(t,r){var o=this.props;return g(v_,{key:t,widgetGroups:r,title:o.title,navUnit:o.navUnit,activeButton:o.activeButton,isTodayEnabled:o.isTodayEnabled,isPrevEnabled:o.isPrevEnabled,isNextEnabled:o.isNextEnabled,titleId:o.titleId})},i}(U),__=function(n){function i(){var t=null!==n&&n.apply(this,arguments)||this;return t.state={availableWidth:null},t.handleEl=function(r){t.el=r,fe(t.props.elRef,r),t.updateAvailableWidth()},t.handleResize=function(){t.updateAvailableWidth()},t}return(0,f.ZT)(i,n),i.prototype.render=function(){var r=this.props,o=this.state,a=r.aspectRatio,l="",c="";return a?null!==o.availableWidth?l=o.availableWidth/a:c=1/a*100+"%":l=r.height||"",g("div",{"aria-labelledby":r.labeledById,ref:this.handleEl,className:["fc-view-harness",a||r.liquid||r.height?"fc-view-harness-active":"fc-view-harness-passive"].join(" "),style:{height:l,paddingBottom:c}},r.children)},i.prototype.componentDidMount=function(){this.context.addResizeHandler(this.handleResize)},i.prototype.componentWillUnmount=function(){this.context.removeResizeHandler(this.handleResize)},i.prototype.updateAvailableWidth=function(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})},i}(U),y_=function(n){function i(t){var r=n.call(this,t)||this;return r.handleSegClick=function(o,a){var s=r.component,l=s.context,c=dt(a);if(c&&s.isValidSegDownEl(o.target)){var d=X(o.target,".fc-event-forced-url"),p=d?d.querySelector("a[href]").href:"";l.emitter.trigger("eventClick",{el:a,event:new G(s.context,c.eventRange.def,c.eventRange.instance),jsEvent:o,view:l.viewApi}),p&&!o.defaultPrevented&&(window.location.href=p)}},r.destroy=Do(t.el,"click",".fc-event",r.handleSegClick),r}return(0,f.ZT)(i,n),i}(ft),C_=function(n){function i(t){var r=n.call(this,t)||this;return r.handleEventElRemove=function(o){o===r.currentSegEl&&r.handleSegLeave(null,r.currentSegEl)},r.handleSegEnter=function(o,a){dt(a)&&(r.currentSegEl=a,r.triggerEvent("eventMouseEnter",o,a))},r.handleSegLeave=function(o,a){r.currentSegEl&&(r.currentSegEl=null,r.triggerEvent("eventMouseLeave",o,a))},r.removeHoverListeners=function Jm(n,i,t,r){var o;return Do(n,"mouseover",i,function(a,s){if(s!==o){o=s,t(a,s);var l=function(c){o=null,r(c,s),s.removeEventListener("mouseleave",l)};s.addEventListener("mouseleave",l)}})}(t.el,".fc-event",r.handleSegEnter,r.handleSegLeave),r}return(0,f.ZT)(i,n),i.prototype.destroy=function(){this.removeHoverListeners()},i.prototype.triggerEvent=function(t,r,o){var a=this.component,s=a.context,l=dt(o);(!r||a.isValidSegDownEl(r.target))&&s.emitter.trigger(t,{el:o,event:new G(s,l.eventRange.def,l.eventRange.instance),jsEvent:r,view:s.viewApi})},i}(ft),b_=function(n){function i(){var t=null!==n&&n.apply(this,arguments)||this;return t.buildViewContext=R(ev),t.buildViewPropTransformers=R(T_),t.buildToolbarProps=R(E_),t.headerRef=W(),t.footerRef=W(),t.interactionsStore={},t.state={viewLabelId:Me()},t.registerInteractiveComponent=function(r,o){var a=h_(r,o),c=[y_,C_].concat(t.props.pluginHooks.componentInteractions).map(function(d){return new d(a)});t.interactionsStore[r.uid]=c,An[r.uid]=a},t.unregisterInteractiveComponent=function(r){var o=t.interactionsStore[r.uid];if(o){for(var a=0,s=o;a<s.length;a++)s[a].destroy();delete t.interactionsStore[r.uid]}delete An[r.uid]},t.resizeRunner=new Ui(function(){t.props.emitter.trigger("_resize",!0),t.props.emitter.trigger("windowResize",{view:t.props.viewApi})}),t.handleWindowResize=function(r){var o=t.props.options;o.handleWindowResize&&r.target===window&&t.resizeRunner.request(o.windowResizeDelay)},t}return(0,f.ZT)(i,n),i.prototype.render=function(){var c,t=this.props,r=t.toolbarConfig,o=t.options,a=this.buildToolbarProps(t.viewSpec,t.dateProfile,t.dateProfileGenerator,t.currentDate,Mt(t.options.now,t.dateEnv),t.viewTitle),s=!1,l="";t.isHeightAuto||t.forPrint?l="":null!=o.height?s=!0:null!=o.contentHeight?l=o.contentHeight:c=Math.max(o.aspectRatio,.5);var d=this.buildViewContext(t.viewSpec,t.viewApi,t.options,t.dateProfileGenerator,t.dateEnv,t.theme,t.pluginHooks,t.dispatch,t.getCurrentData,t.emitter,t.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),p=r.header&&r.header.hasTitle?this.state.viewLabelId:"";return g(xe.Provider,{value:d},r.header&&g(Ba,(0,f.pi)({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:r.header,titleId:p},a)),g(__,{liquid:s,height:l,aspectRatio:c,labeledById:p},this.renderView(t),this.buildAppendContent()),r.footer&&g(Ba,(0,f.pi)({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:r.footer,titleId:""},a)))},i.prototype.componentDidMount=function(){var t=this.props;this.calendarInteractions=t.pluginHooks.calendarInteractions.map(function(a){return new a(t)}),window.addEventListener("resize",this.handleWindowResize);var r=t.pluginHooks.propSetHandlers;for(var o in r)r[o](t[o],t)},i.prototype.componentDidUpdate=function(t){var r=this.props,o=r.pluginHooks.propSetHandlers;for(var a in o)r[a]!==t[a]&&o[a](r[a],r)},i.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(var t=0,r=this.calendarInteractions;t<r.length;t++)r[t].destroy();this.props.emitter.trigger("_unmount")},i.prototype.buildAppendContent=function(){var t=this.props,r=t.pluginHooks.viewContainerAppends.map(function(o){return o(t)});return g.apply(void 0,(0,f.ev)([j,{}],r))},i.prototype.renderView=function(t){for(var o=t.viewSpec,a={dateProfile:t.dateProfile,businessHours:t.businessHours,eventStore:t.renderableEventStore,eventUiBases:t.eventUiBases,dateSelection:t.dateSelection,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,isHeightAuto:t.isHeightAuto,forPrint:t.forPrint},l=0,c=this.buildViewPropTransformers(t.pluginHooks.viewPropsTransformers);l<c.length;l++)(0,f.pi)(a,c[l].transform(a,t));return g(o.component,(0,f.pi)({},a))},i}(xn);function E_(n,i,t,r,o,a){var s=t.build(o,void 0,!1),l=t.buildPrev(i,r,!1),c=t.buildNext(i,r,!1);return{title:a,activeButton:n.type,navUnit:n.singleUnit,isTodayEnabled:s.isValid&&!Ue(i.currentRange,o),isPrevEnabled:l.isValid,isNextEnabled:c.isValid}}function T_(n){return n.map(function(i){return new i})}var x_=function(n){function i(){var t=null!==n&&n.apply(this,arguments)||this;return t.state={forPrint:!1},t.handleBeforePrint=function(){t.setState({forPrint:!0})},t.handleAfterPrint=function(){t.setState({forPrint:!1})},t}return(0,f.ZT)(i,n),i.prototype.render=function(){var t=this.props,r=t.options,o=this.state.forPrint,a=o||"auto"===r.height||"auto"===r.contentHeight,s=a||null==r.height?"":r.height,l=["fc",o?"fc-media-print":"fc-media-screen","fc-direction-"+r.direction,t.theme.getClass("root")];return va()||l.push("fc-liquid-hack"),t.children(l,s,a,o)},i.prototype.componentDidMount=function(){var t=this.props.emitter;t.on("_beforeprint",this.handleBeforePrint),t.on("_afterprint",this.handleAfterPrint)},i.prototype.componentWillUnmount=function(){var t=this.props.emitter;t.off("_beforeprint",this.handleBeforePrint),t.off("_afterprint",this.handleAfterPrint)},i}(U),Ya="fc-col-header-cell";function Qa(n){return n.text}var S_=function(n){function i(){return null!==n&&n.apply(this,arguments)||this}return(0,f.ZT)(i,n),i.prototype.render=function(){var t=this.context,r=t.dateEnv,o=t.options,a=t.theme,s=t.viewApi,l=this.props,c=l.date,p=ki(c,l.todayRange,null,l.dateProfile),u=[Ya].concat(En(p,a)),m=r.format(c,l.dayHeaderFormat),h=!p.isDisabled&&l.colCnt>1?pt(this.context,c):{},v=(0,f.pi)((0,f.pi)((0,f.pi)({date:r.toDate(c),view:s},l.extraHookProps),{text:m}),p);return g(se,{hookProps:v,classNames:o.dayHeaderClassNames,content:o.dayHeaderContent,defaultContent:Qa,didMount:o.dayHeaderDidMount,willUnmount:o.dayHeaderWillUnmount},function(y,C,_,T){return g("th",(0,f.pi)({ref:y,role:"columnheader",className:u.concat(C).join(" "),"data-date":p.isDisabled?void 0:sn(c),colSpan:l.colSpan},l.extraDataAttrs),g("div",{className:"fc-scrollgrid-sync-inner"},!p.isDisabled&&g("a",(0,f.pi)({ref:_,className:["fc-col-header-cell-cushion",l.isSticky?"fc-sticky":""].join(" ")},h),T)))})},i}(U),w_=B({weekday:"long"}),D_=function(n){function i(){return null!==n&&n.apply(this,arguments)||this}return(0,f.ZT)(i,n),i.prototype.render=function(){var t=this.props,r=this.context,o=r.dateEnv,a=r.theme,s=r.viewApi,l=r.options,c=$(new Date(2592e5),t.dow),d={dow:t.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},p=[Ya].concat(En(d,a),t.extraClassNames||[]),u=o.format(c,t.dayHeaderFormat),m=(0,f.pi)((0,f.pi)((0,f.pi)((0,f.pi)({date:c},d),{view:s}),t.extraHookProps),{text:u});return g(se,{hookProps:m,classNames:l.dayHeaderClassNames,content:l.dayHeaderContent,defaultContent:Qa,didMount:l.dayHeaderDidMount,willUnmount:l.dayHeaderWillUnmount},function(h,v,y,C){return g("th",(0,f.pi)({ref:h,role:"columnheader",className:p.concat(v).join(" "),colSpan:t.colSpan},t.extraDataAttrs),g("div",{className:"fc-scrollgrid-sync-inner"},g("a",{"aria-label":o.format(c,w_),className:["fc-col-header-cell-cushion",t.isSticky?"fc-sticky":""].join(" "),ref:y},C)))})},i}(U),Nt=function(n){function i(t,r){var o=n.call(this,t,r)||this;return o.initialNowDate=Mt(r.options.now,r.dateEnv),o.initialNowQueriedMs=(new Date).valueOf(),o.state=o.computeTiming().currentState,o}return(0,f.ZT)(i,n),i.prototype.render=function(){var o=this.state;return this.props.children(o.nowDate,o.todayRange)},i.prototype.componentDidMount=function(){this.setTimeout()},i.prototype.componentDidUpdate=function(t){t.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())},i.prototype.componentWillUnmount=function(){this.clearTimeout()},i.prototype.computeTiming=function(){var r=this.props,o=this.context,a=Qe(this.initialNowDate,(new Date).valueOf()-this.initialNowQueriedMs),s=o.dateEnv.startOf(a,r.unit),l=o.dateEnv.add(s,N(1,r.unit)),c=l.valueOf()-a.valueOf();return c=Math.min(864e5,c),{currentState:{nowDate:s,todayRange:Va(s)},nextState:{nowDate:l,todayRange:Va(l)},waitMs:c}},i.prototype.setTimeout=function(){var t=this,r=this.computeTiming(),o=r.nextState;this.timeoutId=setTimeout(function(){t.setState(o,function(){t.setTimeout()})},r.waitMs)},i.prototype.clearTimeout=function(){this.timeoutId&&clearTimeout(this.timeoutId)},i.contextType=xe,i}(ni);function Va(n){var i=q(n);return{start:i,end:$(i,1)}}var za=function(n){function i(){var t=null!==n&&n.apply(this,arguments)||this;return t.createDayHeaderFormatter=R(k_),t}return(0,f.ZT)(i,n),i.prototype.render=function(){var r=this.props,o=r.dates,a=r.dateProfile,s=r.datesRepDistinctDays,l=r.renderIntro,c=this.createDayHeaderFormatter(this.context.options.dayHeaderFormat,s,o.length);return g(Nt,{unit:"day"},function(d,p){return g("tr",{role:"row"},l&&l("day"),o.map(function(u){return s?g(S_,{key:u.toISOString(),date:u,dateProfile:a,todayRange:p,colCnt:o.length,dayHeaderFormat:c}):g(D_,{key:u.getUTCDay(),dow:u.getUTCDay(),dayHeaderFormat:c})}))})},i}(U);function k_(n,i,t){return n||function A_(n,i){return B(!n||i>10?{weekday:"short"}:i>1?{weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}:{weekday:"long"})}(i,t)}var Ga=function(){function n(i,t){for(var r=i.start,o=i.end,a=[],s=[],l=-1;r<o;)t.isHiddenDay(r)?a.push(l+.5):(a.push(l+=1),s.push(r)),r=$(r,1);this.dates=s,this.indices=a,this.cnt=s.length}return n.prototype.sliceRange=function(i){var t=this.getDateDayIndex(i.start),r=this.getDateDayIndex($(i.end,-1)),o=Math.max(0,t),a=Math.min(this.cnt-1,r);return(o=Math.ceil(o))<=(a=Math.floor(a))?{firstIndex:o,lastIndex:a,isStart:t===o,isEnd:r===a}:null},n.prototype.getDateDayIndex=function(i){var t=this.indices,r=Math.floor(Ie(this.dates[0],i));return r<0?t[0]-1:r>=t.length?t[t.length-1]+1:t[r]},n}(),Wa=function(){function n(i,t){var o,a,s,r=i.dates;if(t){for(a=r[0].getUTCDay(),o=1;o<r.length&&r[o].getUTCDay()!==a;o+=1);s=Math.ceil(r.length/o)}else s=1,o=r.length;this.rowCnt=s,this.colCnt=o,this.daySeries=i,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}return n.prototype.buildCells=function(){for(var i=[],t=0;t<this.rowCnt;t+=1){for(var r=[],o=0;o<this.colCnt;o+=1)r.push(this.buildCell(t,o));i.push(r)}return i},n.prototype.buildCell=function(i,t){var r=this.daySeries.dates[i*this.colCnt+t];return{key:r.toISOString(),date:r}},n.prototype.buildHeaderDates=function(){for(var i=[],t=0;t<this.colCnt;t+=1)i.push(this.cells[0][t].date);return i},n.prototype.sliceRange=function(i){var t=this.colCnt,r=this.daySeries.sliceRange(i),o=[];if(r)for(var a=r.firstIndex,s=r.lastIndex,l=a;l<=s;){var c=Math.floor(l/t),d=Math.min((c+1)*t,s+1);o.push({row:c,firstCol:l%t,lastCol:(d-1)%t,isStart:r.isStart&&l===a,isEnd:r.isEnd&&d-1===s}),l=d}return o},n}(),ja=function(){function n(){this.sliceBusinessHours=R(this._sliceBusinessHours),this.sliceDateSelection=R(this._sliceDateSpan),this.sliceEventStore=R(this._sliceEventStore),this.sliceEventDrag=R(this._sliceInteraction),this.sliceEventResize=R(this._sliceInteraction),this.forceDayIfListItem=!1}return n.prototype.sliceProps=function(i,t,r,o){for(var a=[],s=4;s<arguments.length;s++)a[s-4]=arguments[s];var l=i.eventUiBases,c=this.sliceEventStore.apply(this,(0,f.ev)([i.eventStore,l,t,r],a));return{dateSelectionSegs:this.sliceDateSelection.apply(this,(0,f.ev)([i.dateSelection,l,o],a)),businessHourSegs:this.sliceBusinessHours.apply(this,(0,f.ev)([i.businessHours,t,r,o],a)),fgEventSegs:c.fg,bgEventSegs:c.bg,eventDrag:this.sliceEventDrag.apply(this,(0,f.ev)([i.eventDrag,l,t,r],a)),eventResize:this.sliceEventResize.apply(this,(0,f.ev)([i.eventResize,l,t,r],a)),eventSelection:i.eventSelection}},n.prototype.sliceNowDate=function(i,t){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];return this._sliceDateSpan.apply(this,(0,f.ev)([{range:{start:i,end:Qe(i,1)},allDay:!1},{},t],r))},n.prototype._sliceBusinessHours=function(i,t,r,o){for(var a=[],s=4;s<arguments.length;s++)a[s-4]=arguments[s];return i?this._sliceEventStore.apply(this,(0,f.ev)([at(i,Qi(t,Boolean(r)),o),{},t,r],a)).bg:[]},n.prototype._sliceEventStore=function(i,t,r,o){for(var a=[],s=4;s<arguments.length;s++)a[s-4]=arguments[s];if(i){var l=Cn(i,t,Qi(r,Boolean(o)),o);return{bg:this.sliceEventRanges(l.bg,a),fg:this.sliceEventRanges(l.fg,a)}}return{bg:[],fg:[]}},n.prototype._sliceInteraction=function(i,t,r,o){for(var a=[],s=4;s<arguments.length;s++)a[s-4]=arguments[s];if(!i)return null;var l=Cn(i.mutatedEvents,t,Qi(r,Boolean(o)),o);return{segs:this.sliceEventRanges(l.fg,a),affectedInstances:i.affectedEvents.instances,isEvent:i.isEvent}},n.prototype._sliceDateSpan=function(i,t,r){for(var o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];if(!i)return[];for(var s=dg(i,t,r),l=this.sliceRange.apply(this,(0,f.ev)([i.range],o)),c=0,d=l;c<d.length;c++){var p=d[c];p.eventRange=s}return l},n.prototype.sliceEventRanges=function(i,t){for(var r=[],o=0,a=i;o<a.length;o++)r.push.apply(r,this.sliceEventRange(a[o],t));return r},n.prototype.sliceEventRange=function(i,t){var r=i.range;this.forceDayIfListItem&&"list-item"===i.ui.display&&(r={start:r.start,end:$(r.start,1)});for(var o=this.sliceRange.apply(this,(0,f.ev)([r],t)),a=0,s=o;a<s.length;a++){var l=s[a];l.eventRange=i,l.isStart=i.isStart&&l.isStart,l.isEnd=i.isEnd&&l.isEnd}return o},n}();function Qi(n,i){var t=n.activeRange;return i?t:{start:Qe(t.start,n.slotMinTime.milliseconds),end:Qe(t.end,n.slotMaxTime.milliseconds-864e5)}}function Vi(n,i,t){var r=n.mutatedEvents.instances;for(var o in r)if(!yn(i.validRange,r[o].range))return!1;return $a({eventDrag:n},t)}function $a(n,i){var t=i.getCurrentData(),r=(0,f.pi)({businessHours:t.businessHours,dateSelection:"",eventStore:t.eventStore,eventUiBases:t.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},n);return(i.pluginHooks.isPropsValid||R_)(r,i)}function R_(n,i,t,r){return void 0===t&&(t={}),!(n.eventDrag&&!function M_(n,i,t,r){var o=i.getCurrentData(),a=n.eventDrag,s=a.mutatedEvents,l=s.defs,c=s.instances,d=bn(l,a.isEvent?n.eventUiBases:{"":o.selectionConfig});r&&(d=Ce(d,r));var p=function Zv(n,i){return{defs:n.defs,instances:Ve(n.instances,function(t){return!i[t.instanceId]})}}(n.eventStore,a.affectedEvents.instances),u=p.defs,m=p.instances,h=bn(u,n.eventUiBases);for(var v in c){var y=c[v],C=y.range,_=d[y.defId],T=l[y.defId];if(!Ka(_.constraints,C,p,n.businessHours,i))return!1;var A=i.options.eventOverlap,S="function"==typeof A?A:null;for(var I in m){var M=m[I];if(Ci(C,M.range)&&(!1===h[M.defId].overlap&&a.isEvent||!1===_.overlap||S&&!S(new G(i,u[M.defId],M),new G(i,T,y))))return!1}for(var D=o.eventStore,H=0,O=_.allows;H<O.length;H++){var qt,le=O[H],te=(0,f.pi)((0,f.pi)({},t),{range:y.range,allDay:T.allDay}),vt=D.defs[T.defId];if(qt=vt?new G(i,vt,D.instances[v]):new G(i,T),!le(Ti(te,i),qt))return!1}}return!0}(n,i,t,r)||n.dateSelection&&!function I_(n,i,t,r){var o=n.eventStore,a=o.defs,s=o.instances,l=n.dateSelection,c=l.range,d=i.getCurrentData().selectionConfig;if(r&&(d=r(d)),!Ka(d.constraints,c,o,n.businessHours,i))return!1;var p=i.options.selectOverlap,u="function"==typeof p?p:null;for(var m in s){var h=s[m];if(Ci(c,h.range)&&(!1===d.overlap||u&&!u(new G(i,a[h.defId],h),null)))return!1}for(var v=0,y=d.allows;v<y.length;v++)if(!(0,y[v])(Ti((0,f.pi)((0,f.pi)({},t),l),i),null))return!1;return!0}(n,i,t,r))}function Ka(n,i,t,r,o){for(var a=0,s=n;a<s.length;a++)if(!N_(P_(s[a],i,t,r,o),i))return!1;return!0}function P_(n,i,t,r,o){return"businessHours"===n?zi(at(r,i,o)):"string"==typeof n?zi(mn(t,function(a){return a.groupId===n})):"object"==typeof n&&n?zi(at(n,i,o)):[]}function zi(n){var i=n.instances,t=[];for(var r in i)t.push(i[r].range);return t}function N_(n,i){for(var t=0,r=n;t<r.length;t++)if(yn(r[t],i))return!0;return!1}var wn=/^(visible|hidden)$/,Xa=function(n){function i(){var t=null!==n&&n.apply(this,arguments)||this;return t.handleEl=function(r){t.el=r,fe(t.props.elRef,r)},t}return(0,f.ZT)(i,n),i.prototype.render=function(){var t=this.props,r=t.liquid,o=t.liquidIsAbsolute,a=r&&o,s=["fc-scroller"];return r&&s.push(o?"fc-scroller-liquid-absolute":"fc-scroller-liquid"),g("div",{ref:this.handleEl,className:s.join(" "),style:{overflowX:t.overflowX,overflowY:t.overflowY,left:a&&-(t.overcomeLeft||0)||"",right:a&&-(t.overcomeRight||0)||"",bottom:a&&-(t.overcomeBottom||0)||"",marginLeft:!a&&-(t.overcomeLeft||0)||"",marginRight:!a&&-(t.overcomeRight||0)||"",marginBottom:!a&&-(t.overcomeBottom||0)||"",maxHeight:t.maxHeight||""}},t.children)},i.prototype.needsXScrolling=function(){if(wn.test(this.props.overflowX))return!1;for(var t=this.el,r=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),o=t.children,a=0;a<o.length;a+=1)if(o[a].getBoundingClientRect().width>r)return!0;return!1},i.prototype.needsYScrolling=function(){if(wn.test(this.props.overflowY))return!1;for(var t=this.el,r=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),o=t.children,a=0;a<o.length;a+=1)if(o[a].getBoundingClientRect().height>r)return!0;return!1},i.prototype.getXScrollbarWidth=function(){return wn.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight},i.prototype.getYScrollbarWidth=function(){return wn.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth},i}(U),Ae=function(){function n(i){var t=this;this.masterCallback=i,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=function(r,o){var s=t.depths,l=t.currentMap,c=!1,d=!1;null!==r?(c=o in l,l[o]=r,s[o]=(s[o]||0)+1,d=!0):(s[o]-=1,s[o]||(delete l[o],delete t.callbackMap[o],c=!0)),t.masterCallback&&(c&&t.masterCallback(null,String(o)),d&&t.masterCallback(r,String(o)))}}return n.prototype.createRef=function(i){var t=this,r=this.callbackMap[i];return r||(r=this.callbackMap[i]=function(o){t.handleValue(o,String(i))}),r},n.prototype.collect=function(i,t,r){return function uh(n,i,t,r){void 0===i&&(i=0),void 0===r&&(r=1);var o=[];null==t&&(t=Object.keys(n).length);for(var a=i;a<t;a+=r){var s=n[a];void 0!==s&&o.push(s)}return o}(this.currentMap,i,t,r)},n.prototype.getAll=function(){return si(this.currentMap)},n}();function es(n,i){return n.liquid&&i.liquid}function q_(n,i){return Fe(n,i,be)}function H_(n,i){for(var t=[],r=0,o=n;r<o.length;r++)for(var a=o[r],s=a.span||1,l=0;l<s;l+=1)t.push(g("col",{style:{width:"shrink"===a.width?L_(i):a.width||"",minWidth:a.minWidth||""}}));return g.apply(void 0,(0,f.ev)(["colgroup",{}],t))}function L_(n){return n??4}function Y_(n,i){var t=["fc-scrollgrid-section","fc-scrollgrid-section-"+n.type,n.className];return i&&n.liquid&&null==n.maxHeight&&t.push("fc-scrollgrid-section-liquid"),n.isSticky&&t.push("fc-scrollgrid-section-sticky"),t}function Gi(n){return g("div",{className:"fc-scrollgrid-sticky-shim",style:{width:n.clientWidth,minWidth:n.tableMinWidth}})}function Dn(n){var i=n.stickyHeaderDates;return(null==i||"auto"===i)&&(i="auto"===n.height||"auto"===n.viewHeight),i}function ts(n){var i=n.stickyFooterScrollbar;return(null==i||"auto"===i)&&(i="auto"===n.height||"auto"===n.viewHeight),i}var Wi=function(n){function i(){var t=null!==n&&n.apply(this,arguments)||this;return t.processCols=R(function(r){return r},q_),t.renderMicroColGroup=R(H_),t.scrollerRefs=new Ae,t.scrollerElRefs=new Ae(t._handleScrollerEl.bind(t)),t.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},t.handleSizing=function(){t.safeSetState((0,f.pi)({shrinkWidth:t.computeShrinkWidth()},t.computeScrollerDims()))},t}return(0,f.ZT)(i,n),i.prototype.render=function(){var t=this,r=t.props,o=t.state,a=t.context,s=r.sections||[],l=this.processCols(r.cols),c=this.renderMicroColGroup(l,o.shrinkWidth),d=function B_(n,i){var t=["fc-scrollgrid",i.theme.getClass("table")];return n&&t.push("fc-scrollgrid-liquid"),t}(r.liquid,a);r.collapsibleWidth&&d.push("fc-scrollgrid-collapsible");for(var m,p=s.length,u=0,h=[],v=[],y=[];u<p&&"header"===(m=s[u]).type;)h.push(this.renderSection(m,c,!0)),u+=1;for(;u<p&&"body"===(m=s[u]).type;)v.push(this.renderSection(m,c,!1)),u+=1;for(;u<p&&"footer"===(m=s[u]).type;)y.push(this.renderSection(m,c,!0)),u+=1;var C=!va(),_={role:"rowgroup"};return g("table",{role:"grid",className:d.join(" "),style:{height:r.height}},Boolean(!C&&h.length)&&g.apply(void 0,(0,f.ev)(["thead",_],h)),Boolean(!C&&v.length)&&g.apply(void 0,(0,f.ev)(["tbody",_],v)),Boolean(!C&&y.length)&&g.apply(void 0,(0,f.ev)(["tfoot",_],y)),C&&g.apply(void 0,(0,f.ev)((0,f.ev)((0,f.ev)(["tbody",_],h),v),y)))},i.prototype.renderSection=function(t,r,o){return"outerContent"in t?g(j,{key:t.key},t.outerContent):g("tr",{key:t.key,role:"presentation",className:Y_(t,this.props.liquid).join(" ")},this.renderChunkTd(t,r,t.chunk,o))},i.prototype.renderChunkTd=function(t,r,o,a){if("outerContent"in o)return o.outerContent;var s=this.props,l=this.state,c=l.forceYScrollbars,d=l.scrollerClientWidths,p=l.scrollerClientHeights,u=function U_(n,i){return null!=i.maxHeight||es(n,i)}(s,t),m=es(s,t),h=s.liquid?c?"scroll":u?"auto":"hidden":"visible",v=t.key,y=function O_(n,i,t,r){var o=t.expandRows;return"function"==typeof i.content?i.content(t):g("table",{role:"presentation",className:[i.tableClassName,n.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:t.tableMinWidth,width:t.clientWidth,height:o?t.clientHeight:""}},t.tableColGroupNode,g(r?"thead":"tbody",{role:"presentation"},"function"==typeof i.rowContent?i.rowContent(t):i.rowContent))}(t,o,{tableColGroupNode:r,tableMinWidth:"",clientWidth:s.collapsibleWidth||void 0===d[v]?null:d[v],clientHeight:void 0!==p[v]?p[v]:null,expandRows:t.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:function(){}},a);return g(a?"th":"td",{ref:o.elRef,role:"presentation"},g("div",{className:"fc-scroller-harness"+(m?" fc-scroller-harness-liquid":"")},g(Xa,{ref:this.scrollerRefs.createRef(v),elRef:this.scrollerElRefs.createRef(v),overflowY:h,overflowX:s.liquid?"hidden":"visible",maxHeight:t.maxHeight,liquid:m,liquidIsAbsolute:!0},y)))},i.prototype._handleScrollerEl=function(t,r){var o=function Q_(n,i){for(var t=0,r=n;t<r.length;t++){var o=r[t];if(o.key===i)return o}return null}(this.props.sections,r);o&&fe(o.chunk.scrollerElRef,t)},i.prototype.componentDidMount=function(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)},i.prototype.componentDidUpdate=function(){this.handleSizing()},i.prototype.componentWillUnmount=function(){this.context.removeResizeHandler(this.handleSizing)},i.prototype.computeShrinkWidth=function(){return function J_(n){for(var i=0,t=n;i<t.length;i++)if("shrink"===t[i].width)return!0;return!1}(this.props.cols)?function F_(n){for(var i=function qm(n,i){for(var t=n instanceof HTMLElement?[n]:n,r=[],o=0;o<t.length;o+=1)for(var a=t[o].querySelectorAll(i),s=0;s<a.length;s+=1)r.push(a[s]);return r}(n,".fc-scrollgrid-shrink"),t=0,r=0,o=i;r<o.length;r++)t=Math.max(t,Xm(o[r]));return Math.ceil(t)}(this.scrollerElRefs.getAll()):0},i.prototype.computeScrollerDims=function(){var t=function Jg(){return Ri||(Ri=function Bg(){var n=document.createElement("div");n.style.overflow="scroll",n.style.position="absolute",n.style.top="-9999px",n.style.left="-9999px",document.body.appendChild(n);var i=_a(n);return document.body.removeChild(n),i}()),Ri}(),o=this.scrollerRefs,a=this.scrollerElRefs,s=!1,l={},c={};for(var d in o.currentMap){var p=o.currentMap[d];if(p&&p.needsYScrolling()){s=!0;break}}for(var u=0,m=this.props.sections;u<m.length;u++){var v=a.currentMap[d=m[u].key];if(v){var y=v.parentNode;l[d]=Math.floor(y.getBoundingClientRect().width-(s?t.y:0)),c[d]=Math.floor(y.getBoundingClientRect().height)}}return{forceYScrollbars:s,scrollerClientWidths:l,scrollerClientHeights:c}},i}(U);Wi.addStateEquality({scrollerClientWidths:be,scrollerClientHeights:be});var kn=function(n){function i(){var t=null!==n&&n.apply(this,arguments)||this;return t.elRef=W(),t}return(0,f.ZT)(i,n),i.prototype.render=function(){var r=this.props,o=this.context,a=o.options,s=r.seg,l=s.eventRange,c=l.ui,d={event:new G(o,l.def,l.instance),view:o.viewApi,timeText:r.timeText,textColor:c.textColor,backgroundColor:c.backgroundColor,borderColor:c.borderColor,isDraggable:!r.disableDragging&&eg(s,o),isStartResizable:!r.disableResizing&&tg(s,o),isEndResizable:!r.disableResizing&&ng(s),isMirror:Boolean(r.isDragging||r.isResizing||r.isDateSelecting),isStart:Boolean(s.isStart),isEnd:Boolean(s.isEnd),isPast:Boolean(r.isPast),isFuture:Boolean(r.isFuture),isToday:Boolean(r.isToday),isSelected:Boolean(r.isSelected),isDragging:Boolean(r.isDragging),isResizing:Boolean(r.isResizing)},p=function ig(n){var i=["fc-event"];return n.isMirror&&i.push("fc-event-mirror"),n.isDraggable&&i.push("fc-event-draggable"),(n.isStartResizable||n.isEndResizable)&&i.push("fc-event-resizable"),n.isDragging&&i.push("fc-event-dragging"),n.isResizing&&i.push("fc-event-resizing"),n.isSelected&&i.push("fc-event-selected"),n.isStart&&i.push("fc-event-start"),n.isEnd&&i.push("fc-event-end"),n.isPast&&i.push("fc-event-past"),n.isToday&&i.push("fc-event-today"),n.isFuture&&i.push("fc-event-future"),i}(d).concat(c.classNames);return g(se,{hookProps:d,classNames:a.eventClassNames,content:a.eventContent,defaultContent:r.defaultContent,didMount:a.eventDidMount,willUnmount:a.eventWillUnmount,elRef:this.elRef},function(u,m,h,v){return r.children(u,p.concat(m),h,v,d)})},i.prototype.componentDidMount=function(){ea(this.elRef.current,this.props.seg)},i.prototype.componentDidUpdate=function(t){var r=this.props.seg;r!==t.seg&&ea(this.elRef.current,r)},i}(U),ns=function(n){function i(){return null!==n&&n.apply(this,arguments)||this}return(0,f.ZT)(i,n),i.prototype.render=function(){var r=this.props,o=this.context,a=r.seg,l=Rt(a,o.options.eventTimeFormat||r.defaultTimeFormat,o,r.defaultDisplayEventTime,r.defaultDisplayEventEnd);return g(kn,{seg:a,timeText:l,disableDragging:r.disableDragging,disableResizing:r.disableResizing,defaultContent:r.defaultContent||V_,isDragging:r.isDragging,isResizing:r.isResizing,isDateSelecting:r.isDateSelecting,isSelected:r.isSelected,isPast:r.isPast,isFuture:r.isFuture,isToday:r.isToday},function(c,d,p,u,m){return g("a",(0,f.pi)({className:r.extraClassNames.concat(d).join(" "),style:{borderColor:m.borderColor,backgroundColor:m.backgroundColor},ref:c},Ei(a,o)),g("div",{className:"fc-event-main",ref:p,style:{color:m.textColor}},u),m.isStartResizable&&g("div",{className:"fc-event-resizer fc-event-resizer-start"}),m.isEndResizable&&g("div",{className:"fc-event-resizer fc-event-resizer-end"}))})},i}(U);function V_(n){return g("div",{className:"fc-event-main-frame"},n.timeText&&g("div",{className:"fc-event-time"},n.timeText),g("div",{className:"fc-event-title-container"},g("div",{className:"fc-event-title fc-sticky"},n.event.title||g(j,null,"\xa0"))))}var ji=function(n){return g(xe.Consumer,null,function(i){var t=i.options,r={isAxis:n.isAxis,date:i.dateEnv.toDate(n.date),view:i.viewApi};return g(se,{hookProps:r,classNames:t.nowIndicatorClassNames,content:t.nowIndicatorContent,didMount:t.nowIndicatorDidMount,willUnmount:t.nowIndicatorWillUnmount},n.children)})},z_=B({day:"numeric"}),$i=function(n){function i(){return null!==n&&n.apply(this,arguments)||this}return(0,f.ZT)(i,n),i.prototype.render=function(){var r=this.props,o=this.context,a=o.options,s=is({date:r.date,dateProfile:r.dateProfile,todayRange:r.todayRange,showDayNumber:r.showDayNumber,extraProps:r.extraHookProps,viewApi:o.viewApi,dateEnv:o.dateEnv});return g(ba,{hookProps:s,content:a.dayCellContent,defaultContent:r.defaultContent},r.children)},i}(U);function is(n){var i=n.date,t=n.dateEnv,r=ki(i,n.todayRange,null,n.dateProfile);return(0,f.pi)((0,f.pi)((0,f.pi)({date:t.toDate(i),view:n.viewApi},r),{dayNumberText:n.showDayNumber?t.format(i,z_):""}),n.extraProps)}var Ki=function(n){function i(){var t=null!==n&&n.apply(this,arguments)||this;return t.refineHookProps=ln(is),t.normalizeClassNames=Ea(),t}return(0,f.ZT)(i,n),i.prototype.render=function(){var r=this.props,o=this.context,a=o.options,s=this.refineHookProps({date:r.date,dateProfile:r.dateProfile,todayRange:r.todayRange,showDayNumber:r.showDayNumber,extraProps:r.extraHookProps,viewApi:o.viewApi,dateEnv:o.dateEnv}),l=En(s,o.theme).concat(s.isDisabled?[]:this.normalizeClassNames(a.dayCellClassNames,s)),c=s.isDisabled?{}:{"data-date":sn(r.date)};return g(Ni,{hookProps:s,didMount:a.dayCellDidMount,willUnmount:a.dayCellWillUnmount,elRef:r.elRef},function(d){return r.children(d,l,c,s.isDisabled)})},i}(U);function rs(n){return g("div",{className:"fc-"+n})}var os=function(n){return g(kn,{defaultContent:G_,seg:n.seg,timeText:"",disableDragging:!0,disableResizing:!0,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:n.isPast,isFuture:n.isFuture,isToday:n.isToday},function(i,t,r,o,a){return g("div",{ref:i,className:["fc-bg-event"].concat(t).join(" "),style:{backgroundColor:a.backgroundColor}},o)})};function G_(n){return n.event.title&&g("div",{className:"fc-event-title"},n.event.title)}var as=function(n){return g(xe.Consumer,null,function(i){var t=i.dateEnv,r=i.options,o=n.date,a=r.weekNumberFormat||n.defaultFormat,s=t.computeWeekNumber(o),l=t.format(o,a);return g(se,{hookProps:{num:s,text:l,date:o},classNames:r.weekNumberClassNames,content:r.weekNumberContent,defaultContent:W_,didMount:r.weekNumberDidMount,willUnmount:r.weekNumberWillUnmount},n.children)})};function W_(n){return n.text}var j_=function(n){function i(){var t=null!==n&&n.apply(this,arguments)||this;return t.state={titleId:Me()},t.handleRootEl=function(r){t.rootEl=r,t.props.elRef&&fe(t.props.elRef,r)},t.handleDocumentMouseDown=function(r){var o=Ao(r);t.rootEl.contains(o)||t.handleCloseClick()},t.handleDocumentKeyDown=function(r){"Escape"===r.key&&t.handleCloseClick()},t.handleCloseClick=function(){var r=t.props.onClose;r&&r()},t}return(0,f.ZT)(i,n),i.prototype.render=function(){var t=this.context,r=t.theme,o=t.options,s=this.props,l=this.state,c=["fc-popover",r.getClass("popover")].concat(s.extraClassNames||[]);return Um(g("div",(0,f.pi)({id:s.id,className:c.join(" "),"aria-labelledby":l.titleId},s.extraAttrs,{ref:this.handleRootEl}),g("div",{className:"fc-popover-header "+r.getClass("popoverHeader")},g("span",{className:"fc-popover-title",id:l.titleId},s.title),g("span",{className:"fc-popover-close "+r.getIconClass("close"),title:o.closeHint,onClick:this.handleCloseClick})),g("div",{className:"fc-popover-body "+r.getClass("popoverContent")},s.children)),s.parentEl)},i.prototype.componentDidMount=function(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()},i.prototype.componentWillUnmount=function(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)},i.prototype.updateSize=function(){var t=this.context.isRtl,r=this.props,o=r.alignmentEl,a=r.alignGridTop,s=this.rootEl,l=function Vg(n){for(var i=ya(n),t=n.getBoundingClientRect(),r=0,o=i;r<o.length;r++){var s=ga(t,o[r].getBoundingClientRect());if(!s)return null;t=s}return t}(o);if(l){var c=s.getBoundingClientRect(),d=a?X(o,".fc-scrollgrid").getBoundingClientRect().top:l.top,p=t?l.right-c.width:l.left;d=Math.max(d,10),p=Math.min(p,document.documentElement.clientWidth-10-c.width),p=Math.max(p,10);var u=s.offsetParent.getBoundingClientRect();Dt(s,{top:d-u.top,left:p-u.left})}},i}(U),$_=function(n){function i(){var t=null!==n&&n.apply(this,arguments)||this;return t.handleRootEl=function(r){t.rootEl=r,r?t.context.registerInteractiveComponent(t,{el:r,useEventCenter:!1}):t.context.unregisterInteractiveComponent(t)},t}return(0,f.ZT)(i,n),i.prototype.render=function(){var t=this.context,a=this.props,s=a.startDate,l=a.todayRange,c=a.dateProfile,d=t.dateEnv.format(s,t.options.dayPopoverFormat);return g(Ki,{date:s,dateProfile:c,todayRange:l,elRef:this.handleRootEl},function(p,u,m){return g(j_,{elRef:p,id:a.id,title:d,extraClassNames:["fc-more-popover"].concat(u),extraAttrs:m,parentEl:a.parentEl,alignmentEl:a.alignmentEl,alignGridTop:a.alignGridTop,onClose:a.onClose},g($i,{date:s,dateProfile:c,todayRange:l},function(h,v){return v&&g("div",{className:"fc-more-popover-misc",ref:h},v)}),a.children)})},i.prototype.queryHit=function(t,r,o,a){var l=this.rootEl,c=this.props;return t>=0&&t<o&&r>=0&&r<a?{dateProfile:c.dateProfile,dateSpan:(0,f.pi)({allDay:!0,range:{start:c.startDate,end:c.endDate}},c.extraDateSpan),dayEl:l,rect:{left:0,top:0,right:o,bottom:a},layer:1}:null},i}(me),ss=function(n){function i(){var t=null!==n&&n.apply(this,arguments)||this;return t.linkElRef=W(),t.state={isPopoverOpen:!1,popoverId:Me()},t.handleClick=function(r){var a=t.props,s=t.context,l=s.options.moreLinkClick,c=ls(a).start;function d(p){var u=p.eventRange,v=u.range;return{event:new G(s,u.def,u.instance),start:s.dateEnv.toDate(v.start),end:s.dateEnv.toDate(v.end),isStart:p.isStart,isEnd:p.isEnd}}"function"==typeof l&&(l=l({date:c,allDay:Boolean(a.allDayDate),allSegs:a.allSegs.map(d),hiddenSegs:a.hiddenSegs.map(d),jsEvent:r,view:s.viewApi})),l&&"popover"!==l?"string"==typeof l&&s.calendarApi.zoomTo(c,l):t.setState({isPopoverOpen:!0})},t.handlePopoverClose=function(){t.setState({isPopoverOpen:!1})},t}return(0,f.ZT)(i,n),i.prototype.render=function(){var t=this,o=this.props,a=this.state;return g(xe.Consumer,null,function(s){var l=s.viewApi,c=s.options,d=s.calendarApi,p=c.moreLinkText,u=o.moreCnt,m=ls(o),h="function"==typeof p?p.call(d,u):"+"+u+" "+p,v=kt(c.moreLinkHint,[u],h),y={num:u,shortText:"+"+u,text:h,view:l};return g(j,null,Boolean(o.moreCnt)&&g(se,{elRef:t.linkElRef,hookProps:y,classNames:c.moreLinkClassNames,content:c.moreLinkContent,defaultContent:o.defaultContent||K_,didMount:c.moreLinkDidMount,willUnmount:c.moreLinkWillUnmount},function(C,_,T,A){return o.children(C,["fc-more-link"].concat(_),T,A,t.handleClick,v,a.isPopoverOpen,a.isPopoverOpen?a.popoverId:"")}),a.isPopoverOpen&&g($_,{id:a.popoverId,startDate:m.start,endDate:m.end,dateProfile:o.dateProfile,todayRange:o.todayRange,extraDateSpan:o.extraDateSpan,parentEl:t.parentEl,alignmentEl:o.alignmentElRef.current,alignGridTop:o.alignGridTop,onClose:t.handlePopoverClose},o.popoverContent()))})},i.prototype.componentDidMount=function(){this.updateParentEl()},i.prototype.componentDidUpdate=function(){this.updateParentEl()},i.prototype.updateParentEl=function(){this.linkElRef.current&&(this.parentEl=X(this.linkElRef.current,".fc-view-harness"))},i}(U);function K_(n){return n.text}function ls(n){if(n.allDayDate)return{start:n.allDayDate,end:$(n.allDayDate,1)};var i=n.hiddenSegs;return{start:cs(i),end:ey(i)}}function cs(n){return n.reduce(X_).eventRange.range.start}function X_(n,i){return n.eventRange.range.start<i.eventRange.range.start?n:i}function ey(n){return n.reduce(ty).eventRange.range.end}function ty(n,i){return n.eventRange.range.end>i.eventRange.range.end?n:i}var ny=function(n){function i(t,r){void 0===r&&(r={});var o=n.call(this)||this;return o.isRendering=!1,o.isRendered=!1,o.currentClassNames=[],o.customContentRenderId=0,o.handleAction=function(a){switch(a.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":o.renderRunner.tryDrain()}},o.handleData=function(a){o.currentData=a,o.renderRunner.request(a.calendarOptions.rerenderDelay)},o.handleRenderRequest=function(){if(o.isRendering){o.isRendered=!0;var a=o.currentData;To(function(){Fm(g(x_,{options:a.calendarOptions,theme:a.theme,emitter:a.emitter},function(s,l,c,d){return o.setClassNames(s),o.setHeight(l),g(Ca.Provider,{value:o.customContentRenderId},g(b_,(0,f.pi)({isHeightAuto:c,forPrint:d},a)))}),o.el)})}else o.isRendered&&(o.isRendered=!1,Om(o.el),o.setClassNames([]),o.setHeight(""))},o.el=t,o.renderRunner=new Ui(o.handleRenderRequest),new qa({optionOverrides:r,calendarApi:o,onAction:o.handleAction,onData:o.handleData}),o}return(0,f.ZT)(i,n),Object.defineProperty(i.prototype,"view",{get:function(){return this.currentData.viewApi},enumerable:!1,configurable:!0}),i.prototype.render=function(){var t=this.isRendering;t?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),t&&this.updateSize()},i.prototype.destroy=function(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())},i.prototype.updateSize=function(){var t=this;To(function(){n.prototype.updateSize.call(t)})},i.prototype.batchRendering=function(t){this.renderRunner.pause("batchRendering"),t(),this.renderRunner.resume("batchRendering")},i.prototype.pauseRendering=function(){this.renderRunner.pause("pauseRendering")},i.prototype.resumeRendering=function(){this.renderRunner.resume("pauseRendering",!0)},i.prototype.resetOptions=function(t,r){this.currentDataManager.resetOptions(t,r)},i.prototype.setClassNames=function(t){if(!Fe(t,this.currentClassNames)){for(var r=this.el.classList,o=0,a=this.currentClassNames;o<a.length;o++)r.remove(a[o]);for(var l=0,c=t;l<c.length;l++)r.add(c[l]);this.currentClassNames=t}},i.prototype.setHeight=function(t){xo(this.el,"height",t)},i}(yg);const iy=Object.prototype.hasOwnProperty;function Zn(n){return Array.isArray(n)?n.map(Zn):n instanceof Date?new Date(n.valueOf()):"object"==typeof n&&n?ds(n,Zn):n}function ry(n){return"object"==typeof n&&(Array.isArray(n)?n=Array.prototype.slice.call(n):n&&(n=Object.assign({},n))),n}function ds(n,i){const t={};for(const r in n)iy.call(n,r)&&(t[r]=i(n[r],r));return t}const ps={headerToolbar:!0,footerToolbar:!0,events:!0,eventSources:!0,resources:!0};let oy=(()=>{class n{constructor(t){this.element=t,this.optionSnapshot={}}ngAfterViewInit(){const{deepChangeDetection:t}=this,r=this.options||{};this.optionSnapshot=ds(r,(o,a)=>t&&ps[a]?Zn(o):o),this.calendar=new ny(this.element.nativeElement,r),this.calendar.render()}ngDoCheck(){if(this.calendar){const{deepChangeDetection:t,optionSnapshot:r}=this,o=this.options||{},a={};let s=!1;for(const c in o)if(o.hasOwnProperty(c)){let d=o[c];t&&ps[c]?Bf()(r[c],d)||(r[c]=Zn(d),s=!0,d=ry(d)):r[c]!==d&&(r[c]=d,s=!0),a[c]=d}const l=Object.keys(r);for(const c of l)c in o||(delete r[c],s=!0);s&&(this.calendar.pauseRendering(),this.calendar.resetOptions(a))}}ngAfterContentChecked(){this.calendar&&this.calendar.resumeRendering()}ngOnDestroy(){this.calendar&&(this.calendar.destroy(),this.calendar=null)}getApi(){return this.calendar}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq))},n.\u0275cmp=e.Xpm({type:n,selectors:[["full-calendar"]],inputs:{options:"options",deepChangeDetection:"deepChangeDetection"},decls:0,vars:0,template:function(t,r){},styles:['@charset "UTF-8";.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc-unselectable{-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-touch-callout:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{vertical-align:top;padding:0}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype");font-weight:400;font-style:normal}.fc-icon{display:inline-block;width:1em;height:1em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;font-family:fcicons!important;speak:none;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;overflow:visible;text-transform:none;margin:0;font-family:inherit;font-size:inherit;line-height:inherit}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button::-moz-focus-inner{padding:0;border-style:none}.fc .fc-button{display:inline-block;font-weight:400;text-align:center;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;user-select:none;background-color:transparent;border:1px solid transparent;padding:.4em .65em;font-size:1em;line-height:1.5;border-radius:.25em}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{outline:0;box-shadow:0 0 0 .2rem rgba(44,62,80,.25)}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{color:#fff;color:var(--fc-button-text-color,#fff);background-color:#2c3e50;background-color:var(--fc-button-bg-color,#2c3e50);border-color:#2c3e50;border-color:var(--fc-button-border-color,#2c3e50)}.fc .fc-button-primary:hover{color:#fff;color:var(--fc-button-text-color,#fff);background-color:#1e2b37;background-color:var(--fc-button-hover-bg-color,#1e2b37);border-color:#1a252f;border-color:var(--fc-button-hover-border-color,#1a252f)}.fc .fc-button-primary:disabled{color:#fff;color:var(--fc-button-text-color,#fff);background-color:#2c3e50;background-color:var(--fc-button-bg-color,#2c3e50);border-color:#2c3e50;border-color:var(--fc-button-border-color,#2c3e50)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{color:#fff;color:var(--fc-button-text-color,#fff);background-color:#1a252f;background-color:var(--fc-button-active-bg-color,#1a252f);border-color:#151e27;border-color:var(--fc-button-active-border-color,#151e27)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{vertical-align:middle;font-size:1.5em}.fc .fc-button-group{position:relative;display:inline-flex;vertical-align:middle}.fc .fc-button-group>.fc-button{position:relative;flex:1 1 auto}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-top-right-radius:0;border-bottom-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){margin-right:-1px;border-top-right-radius:0;border-bottom-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-top-left-radius:0;border-bottom-left-radius:0}.fc .fc-toolbar{display:flex;justify-content:space-between;align-items:center}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{position:absolute;top:0;right:0;left:0;bottom:0}.fc .fc-scroller-harness{position:relative;overflow:hidden;direction:ltr}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{width:100%;table-layout:fixed}.fc .fc-scrollgrid table{border-top-style:hidden;border-left-style:hidden;border-right-style:hidden}.fc .fc-scrollgrid{border-collapse:separate;border-right-width:0;border-bottom-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section>td,.fc .fc-scrollgrid-section table{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-top-width:0;border-left-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:#fff;background:var(--fc-page-bg-color,#fff);position:-webkit-sticky;position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:-webkit-sticky;position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{position:absolute;top:0;right:0;bottom:0;left:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{position:absolute;top:0;left:0;right:0;bottom:0}.fc .fc-non-business{background:hsla(0,0%,84.3%,.3);background:var(--fc-non-business-color,hsla(0,0%,84.3%,.3))}.fc .fc-bg-event{background:#8fdf82;background:var(--fc-bg-event-color,#8fdf82);opacity:.3;opacity:var(--fc-bg-event-opacity,.3)}.fc .fc-bg-event .fc-event-title{margin:.5em;font-size:.85em;font-size:var(--fc-small-font-size,.85em);font-style:italic}.fc .fc-highlight{background:rgba(188,232,241,.3);background:var(--fc-highlight-color,rgba(188,232,241,.3))}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{border-radius:4px;border-radius:calc(var(--fc-event-resizer-dot-total-width, 8px) / 2);border-width:1px;width:8px;width:var(--fc-event-resizer-dot-total-width,8px);height:8px;height:var(--fc-event-resizer-dot-total-width,8px);border:var(--fc-event-resizer-dot-border-width,1px) solid;border-color:inherit;background:#fff;background:var(--fc-page-bg-color,#fff)}.fc-event-selected .fc-event-resizer:before{content:"";position:absolute;top:-20px;left:-20px;right:-20px;bottom:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{content:"";position:absolute;z-index:3;top:0;left:0;right:0;bottom:0}.fc-event-selected:after,.fc-event:focus:after{content:"";background:rgba(0,0,0,.25);background:var(--fc-event-selected-overlay-color,rgba(0,0,0,.25));position:absolute;z-index:1;top:-1px;left:-1px;right:-1px;bottom:-1px}.fc-h-event{display:block;border:1px solid #3788d8;border:1px solid var(--fc-event-border-color,#3788d8);background-color:#3788d8;background-color:var(--fc-event-bg-color,#3788d8)}.fc-h-event .fc-event-main{color:#fff;color:var(--fc-event-text-color,#fff)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;vertical-align:top;left:0;right:0;max-width:100%;overflow:hidden}.fc-h-event.fc-event-selected:before{top:-10px;bottom:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-top-left-radius:0;border-bottom-left-radius:0;border-left-width:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-top-right-radius:0;border-bottom-right-radius:0;border-right-width:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{top:0;bottom:0;width:8px;width:var(--fc-event-resizer-thickness,8px)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:-4px;left:calc(-.5 * var(--fc-event-resizer-thickness, 8px))}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:-4px;right:calc(-.5 * var(--fc-event-resizer-thickness, 8px))}.fc-h-event.fc-event-selected .fc-event-resizer{top:50%;margin-top:-4px;margin-top:calc(-.5 * var(--fc-event-resizer-dot-total-width, 8px))}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:-4px;left:calc(-.5 * var(--fc-event-resizer-dot-total-width, 8px))}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:-4px;right:calc(-.5 * var(--fc-event-resizer-dot-total-width, 8px))}.fc .fc-popover{position:absolute;z-index:9999;box-shadow:0 2px 6px rgba(0,0,0,.15)}.fc .fc-popover-header{display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;opacity:.65;font-size:1.1em}.fc-theme-standard .fc-popover{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd);background:#fff;background:var(--fc-page-bg-color,#fff)}.fc-theme-standard .fc-popover-header{background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}:root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{content:"";clear:both;display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:rgba(255,220,40,.15);background-color:var(--fc-today-bg-color,rgba(255,220,40,.15))}.fc .fc-daygrid-day-frame{position:relative;min-height:100%}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{position:relative;z-index:4;padding:4px}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{position:absolute;left:0;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{position:relative;min-height:2em}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{position:absolute;top:0;left:0;right:0}.fc .fc-daygrid-bg-harness{position:absolute;top:0;bottom:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{z-index:6;margin-top:1px}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;padding:2px 3px 0}.fc .fc-daygrid-day-bottom:before{content:"";clear:both;display:table}.fc .fc-daygrid-more-link{position:relative;z-index:4;cursor:pointer}.fc .fc-daygrid-week-number{position:absolute;z-index:5;top:0;padding:2px;min-width:1.5em;text-align:center;background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3));color:grey;color:var(--fc-neutral-text-color,grey)}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-week-number{left:0;border-radius:0 0 3px 0}.fc-direction-rtl .fc-daygrid-week-number{right:0;border-radius:0 0 0 3px}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{position:relative;white-space:nowrap;border-radius:3px;font-size:.85em;font-size:var(--fc-small-font-size,.85em)}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{display:flex;align-items:center;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;min-width:0;overflow:hidden;font-weight:700}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{top:-10px;bottom:-10px}.fc-daygrid-event-dot{margin:0 4px;box-sizing:content-box;width:0;height:0;border:4px solid #3788d8;border:calc(var(--fc-daygrid-event-dot-width, 8px) / 2) solid var(--fc-event-border-color,#3788d8);border-radius:4px;border-radius:calc(var(--fc-daygrid-event-dot-width, 8px) / 2)}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}.fc-v-event{display:block;border:1px solid #3788d8;border:1px solid var(--fc-event-border-color,#3788d8);background-color:#3788d8;background-color:var(--fc-event-bg-color,#3788d8)}.fc-v-event .fc-event-main{color:#fff;color:var(--fc-event-text-color,#fff);height:100%}.fc-v-event .fc-event-main-frame{height:100%;display:flex;flex-direction:column}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{top:0;bottom:0;max-height:100%;overflow:hidden}.fc-v-event:not(.fc-event-start){border-top-width:0;border-top-left-radius:0;border-top-right-radius:0}.fc-v-event:not(.fc-event-end){border-bottom-width:0;border-bottom-left-radius:0;border-bottom-right-radius:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:8px;height:var(--fc-event-resizer-thickness,8px);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:-4px;top:calc(var(--fc-event-resizer-thickness, 8px) / -2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:-4px;bottom:calc(var(--fc-event-resizer-thickness, 8px) / -2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:-4px;margin-left:calc(var(--fc-event-resizer-dot-total-width, 8px) / -2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:-4px;top:calc(var(--fc-event-resizer-dot-total-width, 8px) / -2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:-4px;bottom:calc(var(--fc-event-resizer-dot-total-width, 8px) / -2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{position:relative;z-index:1;min-height:100%}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{height:1.5em;border-bottom:0}.fc .fc-timegrid-slot:empty:before{content:"\xa0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{overflow:hidden;display:flex;align-items:center;justify-content:flex-end}.fc .fc-timegrid-axis-cushion{max-width:60px;flex-shrink:0}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{height:auto;position:absolute;top:0;right:0;bottom:0;left:0}.fc .fc-timegrid-col.fc-day-today{background-color:rgba(255,220,40,.15);background-color:var(--fc-today-bg-color,rgba(255,220,40,.15))}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{height:auto;position:absolute;top:0;right:0;bottom:0;left:0}.fc-media-screen .fc-timegrid-cols{position:absolute;top:0;left:0;right:0;bottom:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{position:absolute;top:0;left:0;right:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{position:absolute;left:0;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{position:absolute;top:0;bottom:0;left:0;right:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px #fff;box-shadow:0 0 0 1px var(--fc-page-bg-color,#fff)}.fc-timegrid-event,.fc-timegrid-more-link{font-size:.85em;font-size:var(--fc-small-font-size,.85em);border-radius:3px}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{white-space:nowrap;font-size:.85em;font-size:var(--fc-small-font-size,.85em);margin-bottom:1px}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\xa0-\xa0"}.fc-timegrid-event-short .fc-event-title{font-size:.85em;font-size:var(--fc-small-font-size,.85em)}.fc-timegrid-more-link{position:absolute;z-index:9999;color:inherit;color:var(--fc-more-link-text-color,inherit);background:#d0d0d0;background:var(--fc-more-link-bg-color,#d0d0d0);cursor:pointer;margin-bottom:1px}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-line{position:absolute;z-index:4;left:0;right:0;border:0 solid red;border-color:var(--fc-now-indicator-color,red);border-top:1px solid var(--fc-now-indicator-color,red)}.fc .fc-timegrid-now-indicator-arrow{position:absolute;z-index:4;margin-top:-5px;border-style:solid;border-color:red;border-color:var(--fc-now-indicator-color,red)}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{left:0;border-width:5px 0 5px 6px;border-top-color:transparent;border-bottom-color:transparent}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{right:0;border-width:5px 6px 5px 0;border-top-color:transparent;border-bottom-color:transparent}:root{--fc-list-event-dot-width:10px;--fc-list-event-hover-bg-color:#f5f5f5}.fc-theme-standard .fc-list{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc .fc-list-empty{background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3));height:100%;display:flex;justify-content:center;align-items:center}.fc .fc-list-empty-cushion{margin:5em 0}.fc .fc-list-table{width:100%;border-style:hidden}.fc .fc-list-table tr>*{border-left:0;border-right:0}.fc .fc-list-sticky .fc-list-day>*{position:-webkit-sticky;position:sticky;top:0;background:#fff;background:var(--fc-page-bg-color,#fff)}.fc .fc-list-table thead{position:absolute;left:-10000px}.fc .fc-list-table tbody>tr:first-child th{border-top:0}.fc .fc-list-table th{padding:0}.fc .fc-list-day-cushion,.fc .fc-list-table td{padding:8px 14px}.fc .fc-list-day-cushion:after{content:"";clear:both;display:table}.fc-theme-standard .fc-list-day-cushion{background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}.fc-direction-ltr .fc-list-day-text,.fc-direction-rtl .fc-list-day-side-text{float:left}.fc-direction-ltr .fc-list-day-side-text,.fc-direction-rtl .fc-list-day-text{float:right}.fc-direction-ltr .fc-list-table .fc-list-event-graphic{padding-right:0}.fc-direction-rtl .fc-list-table .fc-list-event-graphic{padding-left:0}.fc .fc-list-event.fc-event-forced-url{cursor:pointer}.fc .fc-list-event:hover td{background-color:#f5f5f5;background-color:var(--fc-list-event-hover-bg-color,#f5f5f5)}.fc .fc-list-event-graphic,.fc .fc-list-event-time{white-space:nowrap;width:1px}.fc .fc-list-event-dot{display:inline-block;box-sizing:content-box;width:0;height:0;border:5px solid #3788d8;border:calc(var(--fc-list-event-dot-width, 10px) / 2) solid var(--fc-event-border-color,#3788d8);border-radius:5px;border-radius:calc(var(--fc-list-event-dot-width, 10px) / 2)}.fc .fc-list-event-title a{color:inherit;text-decoration:none}.fc .fc-list-event.fc-event-forced-url:hover a{text-decoration:underline}.fc-theme-bootstrap a:not([href]){color:inherit}.fc .fc-event,.fc .fc-scrollgrid table tr{-moz-column-break-inside:avoid;break-inside:avoid}.fc-media-print{display:block;max-width:100%}.fc-media-print .fc-bg-event,.fc-media-print .fc-non-business,.fc-media-print .fc-timegrid-axis-chunk,.fc-media-print .fc-timegrid-slots,.fc-media-print .fc-timeline-slots{display:none}.fc-media-print .fc-h-event,.fc-media-print .fc-toolbar button,.fc-media-print .fc-v-event{color:#000!important;background:#fff!important}.fc-media-print .fc-event,.fc-media-print .fc-event-main{color:#000!important}.fc-media-print .fc-timegrid-event{margin:.5em 0}.fc .fc-timeline-body{min-height:100%;position:relative;z-index:1}.fc .fc-timeline-slots{position:absolute;z-index:1;top:0;bottom:0}.fc .fc-timeline-slots>table{height:100%}.fc .fc-timeline-slot-minor{border-style:dotted}.fc .fc-timeline-slot-frame{display:flex;align-items:center;justify-content:center}.fc .fc-timeline-header-row-chrono .fc-timeline-slot-frame{justify-content:flex-start}.fc .fc-timeline-header-row:last-child .fc-timeline-slot-frame{overflow:hidden}.fc .fc-timeline-slot-cushion{padding:4px 5px;white-space:nowrap}.fc-direction-ltr .fc-timeline-slot{border-right:0!important}.fc-direction-rtl .fc-timeline-slot{border-left:0!important}.fc .fc-timeline-now-indicator-container{position:absolute;z-index:4;top:0;bottom:0;left:0;right:0;width:0}.fc .fc-timeline-now-indicator-arrow,.fc .fc-timeline-now-indicator-line{position:absolute;top:0;border-style:solid;border-color:red;border-color:var(--fc-now-indicator-color,red)}.fc .fc-timeline-now-indicator-arrow{margin:0 -6px;border-width:6px 5px 0;border-left-color:transparent;border-right-color:transparent}.fc .fc-timeline-now-indicator-line{margin:0 -1px;bottom:0;border-width:0 0 0 1px}.fc .fc-timeline-events{position:relative;z-index:3;width:0}.fc .fc-timeline-event-harness,.fc .fc-timeline-more-link{position:absolute;top:0}.fc-timeline-event{z-index:1}.fc-timeline-event.fc-event-mirror{z-index:2}.fc-timeline-event{position:relative;display:flex;align-items:center;border-radius:0;padding:2px 1px;margin-bottom:1px;font-size:.85em;font-size:var(--fc-small-font-size,.85em)}.fc-timeline-event .fc-event-main{flex-grow:1;flex-shrink:1;min-width:0}.fc-timeline-event .fc-event-time{font-weight:700}.fc-timeline-event .fc-event-time,.fc-timeline-event .fc-event-title{white-space:nowrap;padding:0 2px}.fc-direction-ltr .fc-timeline-event.fc-event-end,.fc-direction-ltr .fc-timeline-more-link{margin-right:1px}.fc-direction-rtl .fc-timeline-event.fc-event-end,.fc-direction-rtl .fc-timeline-more-link{margin-left:1px}.fc-timeline-overlap-disabled .fc-timeline-event{padding-top:5px;padding-bottom:5px;margin-bottom:0}.fc-timeline-event:not(.fc-event-end):after,.fc-timeline-event:not(.fc-event-start):before{content:"";flex-grow:0;flex-shrink:0;opacity:.5;width:0;height:0;margin:0 1px;border-color:transparent #000;border-style:solid;border-width:5px}.fc-direction-ltr .fc-timeline-event:not(.fc-event-start):before,.fc-direction-rtl .fc-timeline-event:not(.fc-event-end):after{border-left:0}.fc-direction-ltr .fc-timeline-event:not(.fc-event-end):after,.fc-direction-rtl .fc-timeline-event:not(.fc-event-start):before{border-right:0}.fc-timeline-more-link{font-size:.85em;font-size:var(--fc-small-font-size,.85em);color:inherit;color:var(--fc-more-link-text-color,inherit);background:#d0d0d0;background:var(--fc-more-link-bg-color,#d0d0d0);padding:1px;cursor:pointer}.fc-timeline-more-link-inner{display:inline-block;left:0;right:0;padding:2px}.fc .fc-timeline-bg{position:absolute;z-index:2;top:0;bottom:0;width:0;left:0;right:0}.fc .fc-timeline-bg .fc-non-business{z-index:1}.fc .fc-timeline-bg .fc-bg-event{z-index:2}.fc .fc-timeline-bg .fc-highlight{z-index:3}.fc .fc-timeline-bg-harness{position:absolute;top:0;bottom:0}.fc .fc-resource-timeline-divider{width:3px;cursor:col-resize}.fc .fc-resource-group{font-weight:inherit;text-align:inherit}.fc .fc-resource-timeline .fc-resource-group:not([rowspan]){background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}.fc .fc-timeline-lane-frame{position:relative}.fc .fc-timeline-overlap-enabled .fc-timeline-lane-frame .fc-timeline-events{box-sizing:content-box;padding-bottom:10px}.fc-timeline-body-expandrows td.fc-timeline-lane{position:relative}.fc-timeline-body-expandrows .fc-timeline-lane-frame{position:static}.fc-datagrid-cell-frame-liquid{height:100%}.fc-liquid-hack .fc-datagrid-cell-frame-liquid{height:auto;position:absolute;top:0;right:0;bottom:0;left:0}.fc .fc-datagrid-header .fc-datagrid-cell-frame{position:relative;display:flex;justify-content:flex-start;align-items:center}.fc .fc-datagrid-cell-resizer{position:absolute;z-index:1;top:0;bottom:0;width:5px;cursor:col-resize}.fc .fc-datagrid-cell-cushion{padding:8px;white-space:nowrap;overflow:hidden}.fc .fc-datagrid-expander{cursor:pointer;opacity:.65}.fc .fc-datagrid-expander .fc-icon{display:inline-block;width:1em}.fc .fc-datagrid-expander-placeholder{cursor:auto}.fc .fc-resource-timeline-flat .fc-datagrid-expander-placeholder{display:none}.fc-direction-ltr .fc-datagrid-cell-resizer{right:-3px}.fc-direction-rtl .fc-datagrid-cell-resizer{left:-3px}.fc-direction-ltr .fc-datagrid-expander{margin-right:3px}.fc-direction-rtl .fc-datagrid-expander{margin-left:3px}'],encapsulation:2}),n})(),us=(()=>{class n{static registerPlugins(t){Oa.push(...t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n})();const ay=["calendar"],sy=["template"];let $e=class{constructor(i,t,r,o,a){this.fb=i,this.adapterService=t,this.eventsListService=r,this.eventS=o,this.modalService=a,this.isLoading=!1,this.eventList=[],this.FCViewMode=Et,this.viewMode=Et.DAY_GRID_MONTH,this.events=[],this.query=[],this.fetchEvents=new L.x,this.calendarOptions={height:"auto",initialView:"dayGridMonth",firstDay:1,eventClick:this.handleDateClick.bind(this),eventMouseEnter:this.handleDateMouseEnter.bind(this),headerToolbar:!1,eventDidMount:s=>{const l=this.findEvent(s.event._def.publicId);if(l){let c=`\n      <a target="_blank" href="/crm/events/${l.id}"><b>${l.event_type.name}</b></a></br>\n      Event Description:</br></br>`;l.description&&(c+=`<p>${l.description}</p></br>`),c+="<p>List Of Companies:</p>",l.on_companies.length>0?l.on_companies.forEach(p=>{c+=`<li>\n            <a target="_blank" href="/crm/business-partners/company-page/${p.company_id}"><b>${p.company_name}</b></a>\n        </li>`}):c+="<li>\n            <p>There are no companies</p>\n        </li>";let d="";d=`\n        <ol>${c}</ol>\n        `,(0,Lf.ZP)(s.el,{content:d,allowHTML:!0,interactive:!0,duration:0,placement:"right",followCursor:!0,popperOptions:{strategy:"fixed",modifiers:[{name:"flip",options:{fallbackPlacements:["top-end","right"]}},{name:"preventOverflow",options:{altAxis:!0,tether:!1}}]}})}},dateClick:this.handleDateClick.bind(this),eventMaxStack:2,events:[]}}ngOnInit(){requestAnimationFrame(()=>{this.updateInfoFromCalendar(),this.search()}),this.fetchEvents.pipe((0,qe.b)(200),(0,ge.t)(this)).subscribe(()=>{this.search()})}updateInfoFromCalendar(){const i=this.calendarComponent.getApi();if(i){this.clearEvents();const t=i.view;this.currentTitle=t.title,this.startDate=t.activeStart,this.endDate=t.activeEnd}}handleDateClick(i){const t=this.findEvent(i.event._def.publicId);this.openCalendarEvent(t)}handleDateMouseEnter(i){this.currentEvent=this.findEvent(i.event._def.publicId)}ngOnChanges(i){("description"in i||"employee"in i||"eventsTypes"in i||"externalEvent"in i)&&this.fetchEvents.next()}openCalendarEvent(i){window.open("/crm/events/"+i.id,"_blank")}prepareForView(){let i;this.events=[],this.eventList.forEach(t=>{this.events.push({id:t.id,title:`${t.event_type.name}`,allDay:!1,overlap:!1,end:t.end,start:t.start,backgroundColor:t.event_type.color_hex?t.event_type.color_hex:"#3788d8",borderColor:t.event_type.color_hex?t.event_type.color_hex:"#3788d8"})}),i=this.adapterService.dateAdapter(this.startDate?new Date(this.startDate):new Date(Math.min(...this.eventList.filter(t=>t.start).map(t=>new Date(t.start).getTime())))),"1970-01-01"===i&&(i=this.adapterService.dateAdapter(new Date)),this.calendarOptions.initialDate=i,this.calendarOptions.events=[...this.events]}findEvent(i){return this.eventList.find(t=>t.id===parseInt(i,10))}changeView(i){this.viewMode=i,this.calendarComponent.getApi().changeView(i),this.updateInfoFromCalendar(),this.fetchEvents.next()}nextPeriod(){this.calendarComponent.getApi().next(),this.updateInfoFromCalendar(),this.fetchEvents.next()}clearEvents(){this.calendarComponent.getApi().removeAllEvents()}previousPeriod(){this.calendarComponent.getApi().prev(),this.updateInfoFromCalendar(),this.fetchEvents.next()}todayPeriod(){this.calendarComponent.getApi().today(),this.updateInfoFromCalendar(),this.fetchEvents.next()}getEvents(){this.isLoading=!0,this.eventsListService.get(this.query).pipe((0,ge.t)(this)).subscribe(i=>{i.sort((t,r)=>(r.start=new Date(r.start),t.start=new Date(t.start),r.start.getTime()-t.start.getTime())),this.eventList=i,this.prepareForView(),this.isLoading=!1})}search(){if(this.eventList=[],this.query=[],this.query.push({name:"start_end_range_after",value:this.adapterService.dateAdapter(this.startDate)}),this.query.push({name:"start_end_range_before",value:this.adapterService.dateAdapter(new Date(this.endDate))}),this.employee.length>0&&this.query.push({name:"employee_ids",value:this.employee.join(",")}),this.description&&this.query.push({name:"description",value:this.description}),this.eventsTypes){const i=[];this.eventsTypes.length>0&&this.eventsTypes.forEach(t=>i.push(t)),i.length>0&&this.query.push({name:"event_type_ids",value:i.join(",")})}if(this.externalEvent){const i=[];this.externalEvent.length>0&&this.externalEvent.forEach(t=>i.push(t)),i.length>0&&this.query.push({name:"external_event_type_ids",value:i.join(",")})}this.hideAutoEvents&&this.query.push({name:"hide_auto_events",value:this.hideAutoEvents}),this.getEvents()}};$e.\u0275fac=function(i){return new(i||$e)(e.Y36(E.qu),e.Y36(Jt.v),e.Y36(Je.T),e.Y36(Je.T),e.Y36(ne.Z))},$e.\u0275cmp=e.Xpm({type:$e,selectors:[["pek-crm-full-calendar"]],viewQuery:function(i,t){if(1&i&&(e.Gf(ay,5),e.Gf(sy,5)),2&i){let r;e.iGM(r=e.CRH())&&(t.calendarComponent=r.first),e.iGM(r=e.CRH())&&(t.template=r.first)}},inputs:{hideAutoEvents:"hideAutoEvents",description:"description",employee:"employee",eventsTypes:"eventsTypes",externalEvent:"externalEvent"},features:[e.TTD],decls:14,vars:14,consts:[[1,"full-calendar"],[1,"custom-toolbar"],["pButton","","type","button","size","xs","icon","pi pi-chevron-left",1,"calendar-icon-button","left-group-btn","p-button-icon",3,"disabled","click"],["pButton","","type","button","size","xs","icon","pi pi-chevron-right",1,"calendar-icon-button","right-group-btn","p-button-icon",3,"disabled","click"],["pButton","","type","button","size","xs","label","TODAY",1,"ml-3",3,"disabled","click"],[1,"toolbar-title"],["pButton","","type","button","size","xs","label","MONTH",1,"left-group-btn",3,"disabled","click"],["pButton","","type","button","size","xs","label","WEEK",1,"middle-group-btn",3,"disabled","click"],["pButton","","type","button","size","xs","label","LIST",1,"right-group-btn",3,"disabled","click"],[3,"options"],["calendar",""]],template:function(i,t){1&i&&(e.TgZ(0,"div",0)(1,"header",1)(2,"div")(3,"button",2),e.NdJ("click",function(){return t.previousPeriod()}),e.qZA(),e.TgZ(4,"button",3),e.NdJ("click",function(){return t.nextPeriod()}),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return t.todayPeriod()}),e.qZA()(),e.TgZ(6,"span",5),e._uU(7),e.qZA(),e.TgZ(8,"div")(9,"button",6),e.NdJ("click",function(){return t.changeView(t.FCViewMode.DAY_GRID_MONTH)}),e.qZA(),e.TgZ(10,"button",7),e.NdJ("click",function(){return t.changeView(t.FCViewMode.DAY_GRID_WEEK)}),e.qZA(),e.TgZ(11,"button",8),e.NdJ("click",function(){return t.changeView(t.FCViewMode.LIST_WEEK)}),e.qZA()()(),e._UZ(12,"full-calendar",9,10),e.qZA()),2&i&&(e.xp6(3),e.Q6J("disabled",t.isLoading),e.xp6(1),e.Q6J("disabled",t.isLoading),e.xp6(1),e.Q6J("disabled",t.isLoading),e.xp6(2),e.Oqu(t.currentTitle),e.xp6(2),e.ekj("active",t.viewMode===t.FCViewMode.DAY_GRID_MONTH),e.Q6J("disabled",t.isLoading),e.xp6(1),e.ekj("active",t.viewMode===t.FCViewMode.DAY_GRID_WEEK),e.Q6J("disabled",t.isLoading),e.xp6(1),e.ekj("active",t.viewMode===t.FCViewMode.LIST_WEEK),e.Q6J("disabled",t.isLoading),e.xp6(1),e.Q6J("options",t.calendarOptions))},dependencies:[P.Hq,oy],styles:[".full-calendar[_ngcontent-%COMP%]{border-radius:1rem;box-shadow:0 0 .5rem #0000000f;background:#fff;padding:1.5rem 1.75rem;position:relative}.full-calendar[_ngcontent-%COMP%]  .tippy-box{color:#fff;border-radius:4px;padding:7px 12px;overflow:hidden;min-width:200px;font-weight:500;text-overflow:ellipsis;background:rgba(97,97,97,.9);font-size:14px}.full-calendar[_ngcontent-%COMP%]  .tippy-box a{color:#fff!important;font-weight:500}.full-calendar[_ngcontent-%COMP%]  .tippy-box a:hover{text-decoration:underline}.full-calendar[_ngcontent-%COMP%]  .tippy-box ol{margin:0;padding:.5rem}.full-calendar[_ngcontent-%COMP%]  .fc-toolbar-chunk{display:flex}.full-calendar[_ngcontent-%COMP%]  .fc-daygrid-event{cursor:pointer}.full-calendar[_ngcontent-%COMP%]  .fc-list-event{cursor:pointer}.full-calendar[_ngcontent-%COMP%]  .fc-list-event td{transition:.25s!important}.full-calendar[_ngcontent-%COMP%]  .fc-day{font-weight:400;height:20%}.full-calendar[_ngcontent-%COMP%]  .fc-day a{font-weight:400}.full-calendar[_ngcontent-%COMP%]  .fc-day-sat, .full-calendar[_ngcontent-%COMP%]  .fc-day-sun{font-weight:600}.full-calendar[_ngcontent-%COMP%]  .fc-day-sat a, .full-calendar[_ngcontent-%COMP%]  .fc-day-sun a{font-weight:600}.full-calendar[_ngcontent-%COMP%]  .fc-icon{position:relative;top:-2px}.full-calendar[_ngcontent-%COMP%]  .fc .fc-toolbar .fc-button{background:var(--theme-color-primary);border:1px solid var(--theme-color-primary);color:#fff;font-size:12px;text-transform:uppercase;font-weight:500;padding:.375rem .75rem;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}.full-calendar[_ngcontent-%COMP%]  .fc .fc-toolbar .fc-button-active{background-color:var(--theme-color-primary-hover)!important;color:#fff!important;border-color:var(--theme-color-primary-hover)!important}.full-calendar[_ngcontent-%COMP%]  .fc .fc-toolbar .fc-button:focus{outline:none!important;box-shadow:none!important}.full-calendar[_ngcontent-%COMP%]  .fc .fc-toolbar .fc-button:hover{color:#fff;background-color:var(--theme-color-primary-hover);border-color:var(--theme-color-primary-hover)}.full-calendar[_ngcontent-%COMP%]  .fc.fc-theme-standard .fc-view-harness th{z-index:1}header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:1.5em}header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{outline:none!important;font-size:.75rem;height:2.125rem;box-shadow:none}header[_ngcontent-%COMP%]   button.left-group-btn[_ngcontent-%COMP%]{border-top-right-radius:0;border-bottom-right-radius:0}header[_ngcontent-%COMP%]   button.right-group-btn[_ngcontent-%COMP%]{border-top-left-radius:0;border-bottom-left-radius:0}header[_ngcontent-%COMP%]   button.middle-group-btn[_ngcontent-%COMP%]{border-radius:0}header[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:var(--theme-color-primary-hover)!important;color:#fff!important;border-color:var(--theme-color-primary-hover)!important}header[_ngcontent-%COMP%]   .calendar-icon-button[_ngcontent-%COMP%]{height:2.125rem;width:2.5rem}header[_ngcontent-%COMP%]   .toolbar-title[_ngcontent-%COMP%]{font-size:1.75em}"]}),$e=(0,f.gn)([(0,ge.c)()],$e);const ly=["paginator"],cy=["searchBoxDescription"];function dy(n,i){if(1&n&&(e.TgZ(0,"b",55),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit,r=e.oxw();e.xp6(1),e.Oqu(r.getEventsCount(t))}}function py(n,i){if(1&n&&(e.TgZ(0,"b",56),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit,r=e.oxw();e.xp6(1),e.Oqu(r.getExternalEventsCount(t))}}function uy(n,i){if(1&n&&(e.TgZ(0,"b",57),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit,r=e.oxw();e.xp6(1),e.Oqu(r.getAutoStatusCount(t))}}function fy(n,i){1&n&&e._UZ(0,"span",58)}function my(n,i){1&n&&e._UZ(0,"span",59)}function hy(n,i){1&n&&e._UZ(0,"i",60)}function gy(n,i){1&n&&e._UZ(0,"i",61)}function vy(n,i){if(1&n){const t=e.EpF();e.YNc(0,dy,2,1,"b",46),e.YNc(1,py,2,1,"b",47),e.YNc(2,uy,2,1,"b",48),e.TgZ(3,"span"),e._uU(4),e.qZA(),e.YNc(5,fy,1,0,"span",49),e.YNc(6,my,1,0,"span",50),e.YNc(7,hy,1,0,"i",51),e.YNc(8,gy,1,0,"i",52),e.TgZ(9,"span",53,54),e.NdJ("mouseenter",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.monthHoveredOver(a))}),e.qZA()}if(2&n){const t=i.$implicit,r=e.MAs(10),o=e.oxw();e.Q6J("ngIf",o.getEventsCount(t)),e.xp6(1),e.Q6J("ngIf",o.getExternalEventsCount(t)),e.xp6(1),e.Q6J("ngIf",o.getAutoStatusCount(t)),e.xp6(2),e.Oqu(t.day),e.xp6(1),e.Q6J("ngIf",o.isDateFirst(t)),e.xp6(1),e.Q6J("ngIf",o.isDateLast(t)),e.xp6(1),e.Q6J("ngIf",o.datesNotEqual()&&o.isDateFirst(t)),e.xp6(1),e.Q6J("ngIf",o.datesNotEqual()&&o.isDateLast(t)),e.xp6(1),e.ekj("is-in-selected-mode",o.isSelectedInSelectedNode(t,r))}}function _y(n,i){1&n&&e.GkF(0)}function yy(n,i){1&n&&e.GkF(0)}function Cy(n,i){1&n&&(e.TgZ(0,"tr")(1,"th",62),e._uU(2,"#"),e.qZA(),e.TgZ(3,"th",63),e._uU(4,"Name"),e.qZA(),e.TgZ(5,"th",64),e._uU(6,"Description"),e.qZA(),e.TgZ(7,"th",65),e._uU(8,"Employee Name"),e.qZA(),e.TgZ(9,"th",65),e._uU(10,"Event Start"),e.qZA(),e.TgZ(11,"th",65),e._uU(12,"Event End"),e.qZA()())}function by(n,i){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" - ",t.sales_chain_status?t.sales_chain_status.name:"New"," ")}}function Ey(n,i){1&n&&(e.ynx(0),e._uU(1," Not Related "),e.BQk())}function Ty(n,i){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e._UZ(2,"br"),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.hij(" ",t.first_name+" "+t.last_name," ")}}function xy(n,i){if(1&n&&(e.ynx(0),e.YNc(1,Ty,3,1,"div",68),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",t.employee)}}function Ay(n,i){if(1&n&&(e.TgZ(0,"tr",66)(1,"td",62),e._uU(2),e.qZA(),e.TgZ(3,"td",63),e._uU(4),e.YNc(5,by,2,1,"span",67),e.qZA(),e.TgZ(6,"td",64),e._uU(7),e.qZA(),e.TgZ(8,"td",65),e.YNc(9,Ey,2,0,"ng-container",67),e.YNc(10,xy,2,1,"ng-container",67),e.qZA(),e.TgZ(11,"td",65),e._uU(12),e.ALo(13,"date"),e.qZA(),e.TgZ(14,"td",65),e._uU(15),e.ALo(16,"date"),e.qZA()()),2&n){const t=i.$implicit,r=i.rowIndex,o=e.oxw();e.ekj("show-colored",o.searchForm.get("enableColors").value)("is-inner",t.is_inner)("is-external",!t.is_inner)("chain-status",t.sales_chain),e.Q6J("pSelectableRow",t),e.xp6(2),e.Oqu(r+1),e.xp6(2),e.hij(" ",null==t.event_type?null:t.event_type.name," "),e.xp6(1),e.Q6J("ngIf",t.sales_chain),e.xp6(2),e.hij(" ",t.description," "),e.xp6(2),e.Q6J("ngIf",0===t.employee.length),e.xp6(1),e.Q6J("ngIf",t.employee.length>0),e.xp6(2),e.hij(" ",e.xi3(13,17,t.start,"dd/MM/yyyy, HH:mm")," "),e.xp6(3),e.hij(" ",e.xi3(16,20,t.end,"dd/MM/yyyy, HH:mm")," ")}}function Sy(n,i){1&n&&e._UZ(0,"i",71)}function wy(n,i){1&n&&(e.TgZ(0,"span"),e._uU(1,"No Records Found"),e.qZA())}function Dy(n,i){if(1&n&&(e.TgZ(0,"tr")(1,"td",69),e.YNc(2,Sy,1,0,"i",70),e.YNc(3,wy,2,0,"span",67),e.qZA()()),2&n){const t=e.oxw();e.xp6(1),e.uIk("colspan",12),e.xp6(1),e.Q6J("ngIf",t.isLoading),e.xp6(1),e.Q6J("ngIf",!t.isLoading)}}function ky(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",72),e.NdJ("click",function(){e.CHM(t),e.oxw();const o=e.MAs(69);return e.KtG(o.paginator=!1)}),e._uU(1,"All "),e.qZA()}}function Zy(n,i){1&n&&(e.TgZ(0,"div",73),e._UZ(1,"i",71),e.qZA())}function Ry(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",74)(1,"p-button",72),e.NdJ("click",function(){e.CHM(t),e.oxw();const o=e.MAs(69);return e.KtG(o.paginator=!0)}),e._uU(2," Return pagination "),e.qZA()()}}function My(n,i){if(1&n&&(e.TgZ(0,"div",75),e._UZ(1,"p-menubar",76),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.ekj("disabled",!t.selectedEventItem),e.Q6J("model",t.menuItems)}}let Iy=(()=>{class n{constructor(t,r,o,a,s,l){this.fb=t,this.crmEmployeesService=r,this.eventsListService=o,this.eventsService=a,this.adapterService=s,this.modalService=l,this.menuItems=[{label:"Selected Event",items:[{label:"Event Card",icon:"pi pi-calendar",command:()=>this.onGoEventCard()},{label:"Edit",icon:"pi pi-pencil",command:()=>this.onEditEvent()},{label:"Remove",icon:"pi pi-trash",command:()=>this.onRemoveEvent()}]}],this.isShowAll=!1,this.tableScrollHeight="29.625rem",this.isHideFilters=!1,this.searchForm=this.fb.group({employee:[[]],description:[null],start:[null],end:[null],events:[[]],externalEvent:[[]],salesChainStatuses:[[]],enableColors:[null]}),this.destroy$=new L.x,this.isLoading=!1,this.query=[],this.rangeCalendar=[new Date,new Date],this.minDateRange=null,this.eventsList=[],this.hideAutoEvents=!0,this.minDate=null,this.maxDate=null,this.internal={},this.external={},this.autoEvents={},this.isSelectingRangeMode=!1,this.enableColors=!1}ngOnInit(){this.getEventsDays()}ngAfterViewInit(){this.dSub=(0,Nn.R)(this.searchBoxDescription.nativeElement,"keyup").pipe((0,pe.b)(()=>this.selectedEventItem=null),(0,z.U)(()=>this.searchBoxDescription.nativeElement.value),(0,qe.b)(350)).subscribe(()=>{this.search()})}getEvents(){this.eventsListService.get(this.query).pipe((0,J.R)(this.destroy$)).subscribe(t=>{t.sort((r,o)=>(o.start=new Date(o.start),r.start=new Date(r.start),o.start.getTime()-r.start.getTime())),this.eventsList=t,this.isLoading=!1})}getEventsDays(){this.eventsListService.getByEventsDays().pipe((0,J.R)(this.destroy$)).subscribe(t=>{t.forEach(r=>{r.external_events>0&&(this.external[r.date]=r),r.internal_events>0&&(this.internal[r.date]=r),r.auto_events>0&&(this.autoEvents[r.date]=r)})})}onEventsRange(){this.rangeCalendar[0]&&this.rangeCalendar[1]?(this.searchForm.get("start").patchValue(this.rangeCalendar[0]),this.searchForm.get("end").patchValue(this.rangeCalendar[1]),this.search(),this.minDateRange=null,this.isSelectingRangeMode=!1,this.lastHoveredDate=null,this.startDate=null):this.rangeCalendar[0]&&(this.startDate=this.rangeCalendar[0],this.isSelectingRangeMode=!0,this.minDateRange=this.rangeCalendar[0],this.minDateRange.setHours(0,0,0,0))}search(){if(this.isLoading=!0,this.eventsList=[],this.query=[],this.selectedEventItem=null,this.destroy$.next(!0),this.searchForm.get("start").value&&this.query.push({name:"start_end_range_after",value:this.adapterService.dateAdapter(new Date(this.searchForm.get("start").value))}),this.searchForm.get("salesChainStatuses").value&&this.query.push({name:"sales_chain_statuses",value:this.searchForm.get("salesChainStatuses").value}),this.searchForm.get("end").value&&this.query.push({name:"start_end_range_before",value:this.adapterService.dateAdapter(new Date(this.searchForm.get("end").value))}),this.searchForm.get("employee").value.length>0&&this.query.push({name:"employee_ids",value:this.searchForm.value.employee.join(",")}),this.searchForm.get("description").value&&this.query.push({name:"description",value:this.searchForm.get("description").value}),this.searchForm.get("events").value){const t=[];this.searchForm.get("events").value.length>0&&this.searchForm.get("events").value.forEach(r=>t.push(r)),t.length>0&&this.query.push({name:"event_type_ids",value:t.join(",")})}if(this.searchForm.get("externalEvent").value){const t=[];this.searchForm.get("externalEvent").value.length>0&&this.searchForm.get("externalEvent").value.forEach(r=>t.push(r)),t.length>0&&this.query.push({name:"external_event_type_ids",value:t.join(",")})}this.hideAutoEvents&&this.query.push({name:"hide_auto_events",value:this.hideAutoEvents}),this.getEvents()}getEventsCount(t){const a=`${t.year}-`+(t.month<9?`0${t.month+1}`:t.month+1)+"-"+(t.day<10?`0${t.day}`:t.day);return!(!this.internal[a]||!this.internal[a].internal_events)&&this.internal[a].internal_events}getExternalEventsCount(t){const a=`${t.year}-`+(t.month<9?`0${t.month+1}`:t.month+1)+"-"+(t.day<10?`0${t.day}`:t.day);return!(!this.external[a]||!this.external[a].external_events)&&this.external[a].external_events}getAutoStatusCount(t){if(this.hideAutoEvents)return!1;const a=`${t.year}-`+(t.month<9?`0${t.month+1}`:t.month+1)+"-"+(t.day<10?`0${t.day}`:t.day);return!(!this.autoEvents[a]||!this.autoEvents[a].auto_events)&&this.autoEvents[a].auto_events}toggleAutoEvents(){this.hideAutoEvents=!this.hideAutoEvents,this.search()}setTableScrollHeight(){!this.isHideFilters||this.isShowAll?this.isHideFilters&&this.isShowAll?this.tableScrollHeight="18.75rem":this.isHideFilters||!this.isShowAll?this.isHideFilters||this.isShowAll||(this.tableScrollHeight="29.625rem"):this.tableScrollHeight="27.5rem":this.tableScrollHeight="20.875rem"}toggleFilterVisibility(){this.isHideFilters=!this.isHideFilters,this.setTableScrollHeight()}changeRangeEventStart(t){this.minDate=t,this.rangeCalendar=[this.minDate,this.searchForm.get("end").value],this.search()}changeRangeEventEnd(t){this.maxDate=t,this.rangeCalendar=[this.searchForm.get("start").value,this.searchForm.get("end").value],this.search()}ngOnDestroy(){this.dSub.unsubscribe(),this.destroy$.next(!0),this.destroy$.complete()}onSelectEmployees(t){t?this.searchForm.get("employee").patchValue(t):this.searchForm.get("employee").patchValue([]),this.search()}onSelectEventType(t){t?this.searchForm.get("events").patchValue(t):this.searchForm.get("events").patchValue([]),this.search()}onSelectExternalEventType(t){t?this.searchForm.get("externalEvent").patchValue(t):this.searchForm.get("externalEvent").patchValue([]),this.search()}onRemoveEvent(){this.modalService.confirm("danger").subscribe(t=>{t&&this.eventsListService.delete(this.selectedEventItem.id).subscribe(()=>{setTimeout(()=>{this.search(),this.getEventsDays()},5e3)})})}onGoEventCard(){window.open(`/crm/events/${this.selectedEventItem.id}`,"_blank")}onAddEvent(t){this.eventsListService.openCreateEventEventModal("create",t).subscribe(r=>{r&&this.search()})}onEditEvent(){this.eventsListService.openCreateEventEventModal("edit",this.selectedEventItem.employee&&this.selectedEventItem.employee.length>0?"withEmployee":"withoutEmployee",this.selectedEventItem).subscribe(r=>{r&&(this.searchForm.get("events").value.length>0&&!this.searchForm.get("events").value.some(s=>s===r.event_type.id)?this.search():this.getUpdatedEvent(r.id),this.selectedEventItem=null)})}getUpdatedEvent(t){this.eventsListService.get([{name:"id",value:t}]).pipe((0,J.R)(this.destroy$)).subscribe(o=>{if(1===o.length){const a=this.eventsList.findIndex(s=>s.id===t);a>=0&&(this.eventsList[a]=o[0],this.eventsList=[...this.eventsList])}})}monthHoveredOver(t){this.isSelectingRangeMode&&(this.lastHoveredDate=new Date,this.lastHoveredDate.setDate(t.day),this.lastHoveredDate.setMonth(t.month),this.lastHoveredDate.setFullYear(t.year),this.lastHoveredDate.setHours(0,0,0,0))}isSelectedInSelectedNode(t,r){if(this.isSelectingRangeMode&&this.lastHoveredDate&&this.startDate){const o=new Date;o.setDate(t.day),o.setMonth(t.month),o.setFullYear(t.year),o.setHours(0,0,0,0);const a=o.getTime()<=this.lastHoveredDate.getTime()&&o.getTime()>=this.startDate.getTime();return a&&!r.parentElement.classList.contains("p-disabled")?r.parentElement.classList.add("is-selected"):r.parentElement.classList.remove("is-selected"),a}}getDisplayDate(t){const r=new Date;return r.setDate(t.day),r.setMonth(t.month),r.setFullYear(t.year),r.setHours(0,0,0,0),r}isDateLast(t){return this.isSelectingRangeMode&&this.lastHoveredDate?this.getDisplayDate(t).getTime()==this.lastHoveredDate.getTime():this.rangeCalendar[0]&&this.rangeCalendar[1]?this.getDisplayDate(t).getTime()==this.rangeCalendar[1].setHours(0,0,0,0):void 0}isDateFirst(t){return this.isSelectingRangeMode&&this.startDate?this.getDisplayDate(t).getTime()==this.startDate.getTime():this.rangeCalendar[0]&&this.rangeCalendar[1]?this.getDisplayDate(t).getTime()==this.rangeCalendar[0].setHours(0,0,0,0):void 0}datesNotEqual(){return this.isSelectingRangeMode&&this.startDate&&this.lastHoveredDate?this.lastHoveredDate.getTime()!==this.startDate.getTime():this.rangeCalendar[0]&&this.rangeCalendar[1]?this.rangeCalendar[0].setHours(0,0,0,0)!==this.rangeCalendar[1].setHours(0,0,0,0):void 0}salesChainStatusesSelected(t){this.searchForm.get("salesChainStatuses").setValue(t),this.search()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(E.qu),e.Y36(Hn.R),e.Y36(Je.T),e.Y36(Hf),e.Y36(Jt.v),e.Y36(ne.Z))},n.\u0275cmp=e.Xpm({type:n,selectors:[["pek-crm-events"]],viewQuery:function(t,r){if(1&t&&(e.Gf(ly,5),e.Gf(cy,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.paginator=o.first),e.iGM(o=e.CRH())&&(r.searchBoxDescription=o.first)}},decls:80,vars:43,consts:[[1,"page"],[1,"page__header"],[1,"page__title"],[3,"module","isActive"],[1,"page__tools"],["pButton","","type","button",1,"mr-2","p-button-warning",3,"icon","label","click"],["pButton","","type","button","icon","pi pi-plus","label","New Event with Employee",1,"mr-2",3,"click"],["pButton","","type","button","icon","pi pi-plus","label","New Event without Employee",3,"click"],[1,"page__content","calendar-events-page"],[1,"page__card","calendar","mb-4"],[1,"main-calendar"],["selectionMode","range",1,"events-calendar",3,"firstDayOfWeek","numberOfMonths","inline","ngModel","minDate","onSelect","ngModelChange"],["pTemplate","date"],[1,"mb-4"],[1,"page__card"],[1,"filters-visibility"],[1,"filters-visibility__header"],[4,"ngTemplateOutlet"],["tooltipPosition","left",1,"icon","pi",3,"pTooltip","click"],[1,"form","mb-3",3,"formGroup"],[1,"row"],[1,"col-3"],[1,"form-group"],[3,"selectEmployees"],[3,"isInner","selectEventTypes"],["inputId","basic","dateFormat","dd/mm/yy","formControlName","start",3,"firstDayOfWeek","showButtonBar","readonlyInput","maxDate","onSelect"],["inputId","basic","formControlName","end","dateFormat","dd/mm/yy",3,"firstDayOfWeek","showButtonBar","readonlyInput","minDate","onSelect"],[3,"isExternal","selectEventTypes"],["formControlName","description","pInputText","",1,"form-control"],["searchBoxDescription",""],[1,"col-2"],[1,"capitalize"],[3,"selectNumericStatuses"],["name","group1","inputId","enableColors","formControlName","enableColors",1,"checkbox-big","mt-1",3,"binary"],[1,"table-pagination-preloader"],["selectionMode","single","dataKey","id",3,"scrollHeight","scrollable","paginator","rows","selection","value","selectionChange"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pTemplate","paginatorright"],["class","pagination-preloader pagination-preloader_bord",4,"ngIf"],["class","paginator-return-pagination",4,"ngIf"],[1,"event-full-calendar","mt-5"],[3,"hideAutoEvents","description","employee","eventsTypes","externalEvent"],["actionButtons",""],["class","event-count",4,"ngIf"],["class","external-event-count",4,"ngIf"],["class","event-count auto-event-count",4,"ngIf"],["class","range-border start-date",4,"ngIf"],["class","range-border end-date",4,"ngIf"],["class","pi pi-angle-double-right date-arrow forward-date-arrow",4,"ngIf"],["class","pi pi-angle-double-left date-arrow backward-date-arrow",4,"ngIf"],[1,"hover-register",3,"mouseenter"],["dateElement",""],[1,"event-count"],[1,"external-event-count"],[1,"event-count","auto-event-count"],[1,"range-border","start-date"],[1,"range-border","end-date"],[1,"pi","pi-angle-double-right","date-arrow","forward-date-arrow"],[1,"pi","pi-angle-double-left","date-arrow","backward-date-arrow"],[1,"text-center",2,"width","5%"],[2,"width","20%"],[2,"width","30%"],[1,"text-center",2,"width","15%"],[3,"pSelectableRow"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"text-center","p-4"],["class","pi pi-spin pi-spinner","style","font-size: 2.25rem",4,"ngIf"],[1,"pi","pi-spin","pi-spinner",2,"font-size","2.25rem"],["type","button","styleClass","p-button-text",3,"click"],[1,"pagination-preloader","pagination-preloader_bord"],[1,"paginator-return-pagination"],[1,"action-buttons"],[1,"ml-auto",3,"model"]],template:function(t,r){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"pek-module-icon",3),e.TgZ(4,"h1"),e._uU(5,"Events"),e.qZA()(),e.TgZ(6,"div",4)(7,"button",5),e.NdJ("click",function(){return r.toggleAutoEvents()}),e.qZA(),e.TgZ(8,"button",6),e.NdJ("click",function(){return r.onAddEvent("withEmployee")}),e.qZA(),e.TgZ(9,"button",7),e.NdJ("click",function(){return r.onAddEvent("withoutEmployee")}),e.qZA()()()(),e.TgZ(10,"div",8)(11,"div",9)(12,"div",10)(13,"p-calendar",11),e.NdJ("onSelect",function(){return r.onEventsRange()})("ngModelChange",function(a){return r.rangeCalendar=a}),e.YNc(14,vy,11,10,"ng-template",12),e.qZA()()(),e.TgZ(15,"h2",13),e._uU(16,"Filter Events"),e.qZA(),e.TgZ(17,"div",14)(18,"div",15)(19,"div",16),e.YNc(20,_y,1,0,"ng-container",17),e.qZA(),e.TgZ(21,"button",18),e.NdJ("click",function(){return r.toggleFilterVisibility()}),e.qZA(),e.TgZ(22,"form",19)(23,"div",20)(24,"div",21)(25,"div",22)(26,"label"),e._uU(27,"Employees"),e.qZA(),e.TgZ(28,"pek-crm-employee-picker",23),e.NdJ("selectEmployees",function(a){return r.onSelectEmployees(a)}),e.qZA()()(),e.TgZ(29,"div",21)(30,"div",22)(31,"label"),e._uU(32,"Event Types"),e.qZA(),e.TgZ(33,"pek-crm-multi-event-types-picker",24),e.NdJ("selectEventTypes",function(a){return r.onSelectEventType(a)}),e.qZA()()(),e.TgZ(34,"div",21)(35,"div",22)(36,"label"),e._uU(37,"Date From"),e.qZA(),e.TgZ(38,"p-calendar",25),e.NdJ("onSelect",function(a){return r.changeRangeEventStart(a)}),e.qZA()()(),e.TgZ(39,"div",21)(40,"div",22)(41,"label"),e._uU(42,"Date To"),e.qZA(),e.TgZ(43,"p-calendar",26),e.NdJ("onSelect",function(a){return r.changeRangeEventEnd(a)}),e.qZA()()(),e.TgZ(44,"div",21)(45,"div",22)(46,"label"),e._uU(47,"External Calendars"),e.qZA(),e.TgZ(48,"pek-crm-multi-event-types-picker",27),e.NdJ("selectEventTypes",function(a){return r.onSelectExternalEventType(a)}),e.qZA()()(),e.TgZ(49,"div",21)(50,"div",22)(51,"label"),e._uU(52,"Description"),e.qZA(),e._UZ(53,"input",28,29),e.qZA()(),e.TgZ(55,"div",30)(56,"div",22)(57,"label",31),e._uU(58,"sales chain statuses"),e.qZA(),e.TgZ(59,"pek-multi-sales-status-picker",32),e.NdJ("selectNumericStatuses",function(a){return r.salesChainStatusesSelected(a)}),e.qZA()()(),e.TgZ(60,"div",30)(61,"div",22)(62,"label",31),e._uU(63,"enable event type colors"),e.qZA(),e._UZ(64,"p-checkbox",33),e.qZA()(),e.TgZ(65,"div",30),e.YNc(66,yy,1,0,"ng-container",17),e.qZA()()()(),e.TgZ(67,"div",34)(68,"p-table",35,36),e.NdJ("selectionChange",function(a){return r.selectedEventItem=a}),e.YNc(70,Cy,13,0,"ng-template",37),e.YNc(71,Ay,17,23,"ng-template",38),e.YNc(72,Dy,4,3,"ng-template",39),e.YNc(73,ky,2,0,"ng-template",40),e.qZA(),e.YNc(74,Zy,2,0,"div",41),e.qZA(),e.YNc(75,Ry,3,0,"div",42),e.qZA(),e.TgZ(76,"div",43),e._UZ(77,"pek-crm-full-calendar",44),e.qZA()(),e.YNc(78,My,2,3,"ng-template",null,45,e.W1O)),2&t){const o=e.MAs(69),a=e.MAs(79);e.xp6(3),e.Q6J("module","contacts-events")("isActive",!0),e.xp6(4),e.Q6J("icon","pi "+(r.hideAutoEvents?"pi-eye":"pi-eye-slash"))("label",r.hideAutoEvents?"Show Sales Chain Status":"Hide Sales Chain Status"),e.xp6(6),e.Q6J("firstDayOfWeek",1)("numberOfMonths",3)("inline",!0)("ngModel",r.rangeCalendar)("minDate",r.minDateRange),e.xp6(5),e.ekj("filters-visibility_hide",r.isHideFilters),e.xp6(2),e.Q6J("ngTemplateOutlet",a),e.xp6(1),e.ekj("pi-angle-double-up",!r.isHideFilters)("pi-angle-double-down",r.isHideFilters),e.Q6J("pTooltip",r.isHideFilters?"Expand Filters":"Collapse Filters"),e.xp6(1),e.Q6J("formGroup",r.searchForm),e.xp6(11),e.Q6J("isInner",!0),e.xp6(5),e.Q6J("firstDayOfWeek",1)("showButtonBar",!0)("readonlyInput",!0)("maxDate",r.maxDate),e.xp6(5),e.Q6J("firstDayOfWeek",1)("showButtonBar",!0)("readonlyInput",!0)("minDate",r.minDate),e.xp6(5),e.Q6J("isExternal",!0),e.xp6(16),e.Q6J("binary",!0),e.xp6(2),e.Q6J("ngTemplateOutlet",a),e.xp6(2),e.Q6J("scrollHeight","calc(100vh - "+r.tableScrollHeight+")")("scrollable",!0)("paginator",r.eventsList.length>0)("rows",10)("selection",r.selectedEventItem)("value",r.eventsList),e.xp6(6),e.Q6J("ngIf",r.isLoading),e.xp6(1),e.Q6J("ngIf",!o.paginator&&!r.isLoading&&r.eventsList.length>0),e.xp6(2),e.Q6J("hideAutoEvents",r.hideAutoEvents)("description",r.searchForm.get("description").value)("employee",r.searchForm.get("employee").value)("eventsTypes",r.searchForm.get("events").value)("externalEvent",r.searchForm.get("externalEvent").value)}},dependencies:[w.sg,w.O5,w.tP,P.Hq,P.zx,He.o,K.jx,E._Y,E.Fj,E.JJ,E.JL,E.sg,E.u,re.nm,Fn.u,E.On,we.XZ,Y.iA,Y.Ei,oe.D,bt.f,br.s,tt.F,Tr,$e,w.uU],styles:["[_nghost-%COMP%]     .main-calendar .p-datepicker-group-container{width:100%}@media (max-width: 1150px){[_nghost-%COMP%]     .main-calendar .p-datepicker-group-container{flex-wrap:wrap}}[_nghost-%COMP%]     .main-calendar .p-datepicker:not(.p-disabled) table td>span:hover>span{background:transparent!important}[_nghost-%COMP%]     .main-calendar .p-calendar .p-datepicker{min-width:100%!important;border:0!important;padding-left:0;padding-right:0}[_nghost-%COMP%]     .main-calendar th{text-align:center}[_nghost-%COMP%]     .main-calendar .event-count{background:var(--theme-color-primary-hover);color:#fff;height:1.125rem;width:1.125rem;display:flex;align-items:center;justify-content:space-around;border-radius:50%;position:absolute;right:-.2rem;top:-.2rem;font-size:.8rem;padding-bottom:0}@media (max-width: 600px){[_nghost-%COMP%]     .main-calendar .event-count{width:13px;height:13px;font-size:9px;padding-bottom:0}}[_nghost-%COMP%]     .main-calendar .event-count.auto-event-count{right:unset;top:unset;left:-3px;bottom:0;background:var(--theme-color-warning);color:#fff}[_nghost-%COMP%]     .main-calendar .external-event-count{background:#55b157;color:#fff;height:1.125rem;width:1.125rem;display:flex;align-items:center;justify-content:space-around;border-radius:50%;position:absolute;top:-.2rem;left:-.2rem;font-size:.8rem;padding-bottom:0}@media (max-width: 600px){[_nghost-%COMP%]     .main-calendar .external-event-count{width:13px;height:13px;font-size:9px;padding-bottom:0}}[_nghost-%COMP%]     .main-calendar .p-datepicker table td>span{width:3rem;height:3rem;font-size:18px}@media (max-width: 600px){[_nghost-%COMP%]     .main-calendar .p-datepicker table td>span{width:2rem;height:2rem;font-size:15px}}[_nghost-%COMP%]     .main-calendar .p-datepicker td>span, [_nghost-%COMP%]     .main-calendar .p-monthpicker-month{overflow:visible}[_nghost-%COMP%]     .main-calendar .p-datepicker.p-datepicker-multiple-month .p-datepicker-group{width:100%}[_nghost-%COMP%]   .filters[_ngcontent-%COMP%]{background-color:#f8f9fa}[_nghost-%COMP%]   .card[_ngcontent-%COMP%]{overflow:visible}[_nghost-%COMP%]   label[_ngcontent-%COMP%]{color:#495057;font-weight:500}[_nghost-%COMP%]   .event-container[_ngcontent-%COMP%]{overflow:auto}[_nghost-%COMP%]   .event-container[_ngcontent-%COMP%]   .event-date[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;width:-moz-fit-content;width:fit-content}[_nghost-%COMP%]   .event-container[_ngcontent-%COMP%]   .event-date[_ngcontent-%COMP%]   .event-date-item[_ngcontent-%COMP%]{text-align:center;width:168px;border-left:1px solid black}[_nghost-%COMP%]   .event-container[_ngcontent-%COMP%]   .event-date[_ngcontent-%COMP%]   .event-date-item_weekday[_ngcontent-%COMP%]{font-weight:600}[_nghost-%COMP%]   .event-container[_ngcontent-%COMP%]   .event[_ngcontent-%COMP%]{display:flex;width:-moz-fit-content;width:fit-content;padding-top:7px}[_nghost-%COMP%]   .event-container[_ngcontent-%COMP%]   .range-item[_ngcontent-%COMP%]{height:100%;border-radius:8px;padding-left:20px;cursor:pointer;min-width:28px;max-height:20px;overflow:hidden}.calendar[_ngcontent-%COMP%]{padding:.75rem 1.75rem}h2[_ngcontent-%COMP%]{font-size:1.1875rem;font-weight:600}.form[_ngcontent-%COMP%]{margin-top:-.125rem}  .table-pagination-preloader p-table tr.show-colored.is-inner{background-color:var(--theme-color-primary-hover)}  .table-pagination-preloader p-table tr.show-colored.is-inner td{color:#fff}  .table-pagination-preloader p-table tr.show-colored.is-external{background-color:#55b157}  .table-pagination-preloader p-table tr.show-colored.is-external td{color:#fff}  .table-pagination-preloader p-table tr.show-colored.chain-status{background-color:var(--theme-color-warning)}  .table-pagination-preloader p-table tr.show-colored.chain-status td{color:#fff}  .table-pagination-preloader p-table tr.show-colored.chain-status td a{color:#fff}  .table-pagination-preloader p-table tr.show-colored:hover td{color:#495057}  .table-pagination-preloader p-table tr.show-colored:hover td a{color:#495057}b[_ngcontent-%COMP%], span[_ngcontent-%COMP%]{position:relative;z-index:3}span.hover-register[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;border-radius:50%;z-index:0}.date-arrow[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);font-size:1rem;color:var(--theme-color-primary-hover)}.date-arrow.forward-date-arrow[_ngcontent-%COMP%]{right:-20px}.date-arrow.backward-date-arrow[_ngcontent-%COMP%]{left:-20px}.range-border[_ngcontent-%COMP%]{position:absolute;width:15px;height:100%;border:2px solid var(--theme-color-primary-hover);top:50%;transform:translateY(-50%)}.range-border.start-date[_ngcontent-%COMP%]{border-right:none;left:-20px}.range-border.end-date[_ngcontent-%COMP%]{border-left:none;right:-20px}  .is-selected{background-color:#eff6ff}"]}),n})();var Se=x(5698);function Py(n,i){if(1&n&&e._UZ(0,"p-menubar",18),2&n){const t=e.oxw(2);e.ekj("disabled",!t.selected),e.Q6J("model",t.menuItemsPositions)}}function Ny(n,i){if(1&n&&e._UZ(0,"p-menubar",18),2&n){const t=e.oxw(2);e.ekj("disabled",!t.selected||9e7==(null==t.selected||null==t.selected.data||null==t.selected.data.department?null:t.selected.data.department.id)),e.Q6J("model",t.menuItemsDepartments)}}function Fy(n,i){if(1&n&&(e.TgZ(0,"div",16),e.YNc(1,Py,1,3,"p-menubar",17),e.YNc(2,Ny,1,3,"p-menubar",17),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.selected&&t.selected.data.position),e.xp6(1),e.Q6J("ngIf",t.selected&&t.selected.data.department)}}function Uy(n,i){1&n&&(e.TgZ(0,"tr")(1,"th",19),e._uU(2,"Name"),e.qZA()())}function Oy(n,i){if(1&n&&(e.TgZ(0,"tr",20)(1,"td",21),e._UZ(2,"p-treeTableToggler",22),e._uU(3),e.qZA()()),2&n){const t=i.$implicit,r=i.rowData;e.Q6J("ttRow",t)("ttSelectableRow",t),e.xp6(2),e.Q6J("rowNode",t),e.xp6(1),e.AsE(" ",null==r.department?null:r.department.title," ",null==r.position?null:r.position.title," ")}}let Ke=class{constructor(i,t,r){this.crmPositionService=i,this.crmDepartmentService=t,this.modalService=r,this.tree=[],this.expanseMapDepartments={},this.positions=[],this.departments=[],this.isLoading=!0,this.menuItemsPositions=[{label:"Selected Position",items:[{label:"Edit",icon:"pi pi-pencil",command:()=>this.editPosition()},{label:"Remove",icon:"pi pi-trash",command:()=>this.deletePosition()}]}],this.menuItemsDepartments=[{label:"Selected Department",items:[{label:"Edit",icon:"pi pi-pencil",command:()=>this.editDepartment()},{label:"Remove",icon:"pi pi-trash",command:()=>this.deleteDepartment()}]}]}ngOnInit(){this.prepareTree()}prepareTree(){(0,gr.D)({departments:this.crmDepartmentService.get(),positions:this.crmPositionService.get()}).pipe((0,ge.t)(this)).subscribe(({departments:i,positions:t})=>{this.departments=i,this.positions=t,this.createTree()})}createTree(){this.tree&&this.mapExpansion();const i=[];let t=!1;this.expanseMapDepartments&&(t=this.expanseMapDepartments[9e7]),i.push({data:{department:{title:"Without Department",id:9e7}},expanded:t,children:this.positions.filter(r=>!r.department).map(r=>({data:{position:r},expanded:!1,children:[]}))}),this.departments.forEach(r=>{let o=!1;this.expanseMapDepartments&&(o=this.expanseMapDepartments[r.id]),i.push({data:{department:r},expanded:o,children:this.positions.filter(a=>a.department).filter(a=>a.department.id===r.id).map(a=>({data:{position:a},expanded:!1,children:[]}))})}),this.tree=i.map(r=>r)}mapExpansion(){this.tree.forEach(i=>{this.createExpanseMap(i)})}createExpanseMap(i){i.expanded?i.data.department&&(this.expanseMapDepartments[i.data.department.id]=i.expanded):i.data.department&&(this.expanseMapDepartments[i.data.department.id]=!1),i.children&&i.children.forEach(t=>{this.createExpanseMap(t)})}addPosition(){this.crmPositionService.createEditCrmPositionModal("create").pipe((0,Se.q)(1)).subscribe(i=>{i&&this.prepareTree()})}editPosition(){this.crmPositionService.createEditCrmPositionModal("edit",this.selected.data.position).pipe((0,Se.q)(1)).subscribe(i=>{i&&this.prepareTree()})}deletePosition(){this.modalService.confirm("danger","Confirm").pipe((0,Se.q)(1)).subscribe(i=>{i&&this.crmPositionService.delete(this.selected.data.position).pipe((0,Se.q)(1)).subscribe(t=>{this.prepareTree()})})}addDepartment(){this.crmDepartmentService.createEditCrmDepartmentModal("create").pipe((0,Se.q)(1)).subscribe(i=>{i&&this.prepareTree()})}editDepartment(){this.crmDepartmentService.createEditCrmDepartmentModal("edit",this.selected.data.department).pipe((0,Se.q)(1)).subscribe(i=>{i&&this.prepareTree()})}deleteDepartment(){this.modalService.confirm("danger","Confirm").pipe((0,Se.q)(1)).subscribe(i=>{i&&this.crmDepartmentService.delete(this.selected.data.department).pipe((0,Se.q)(1)).subscribe(t=>{this.prepareTree()})})}expandCollapseRecursive(i,t){i.expanded=t,i.children&&i.children.forEach(r=>{this.expandCollapseRecursive(r,t)})}expandCollapse(i=!0){const t=vr(this.tree);t.forEach(r=>{this.expandCollapseRecursive(r,i)}),this.tree=t}};Ke.\u0275fac=function(i){return new(i||Ke)(e.Y36(_r.q),e.Y36(yr.e),e.Y36(ne.Z))},Ke.\u0275cmp=e.Xpm({type:Ke,selectors:[["pek-crm-positions"]],decls:18,vars:5,consts:[[1,"page"],[1,"page__header"],[1,"page__title"],[3,"module","isActive"],[1,"page__tools"],["pButton","","type","button","icon","pi pi-plus","label","New Department",3,"click"],["pButton","","type","button","icon","pi pi-plus","label","New Position",1,"ml-2","mr-4",3,"click"],["pButton","","type","button","icon","pi pi-angle-down","label","Expand All",1,"mr-2",3,"click"],["pButton","","type","button","icon","pi pi-angle-up","label","Collapse All",1,"mr-2",3,"click"],[1,"page__content"],[1,"page__card"],[1,"page__table"],["selectionMode","single","scrollHeight","calc(100vh - 19.2rem)",3,"value","selection","scrollable","selectionChange"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"action-buttons"],["class","ml-auto",3,"model","disabled",4,"ngIf"],[1,"ml-auto",3,"model"],[2,"padding-left","52px","width","60%"],[3,"ttRow","ttSelectableRow"],[2,"width","100%"],[3,"rowNode"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"pek-module-icon",3),e.TgZ(4,"h1"),e._uU(5,"Positions"),e.qZA()(),e.TgZ(6,"div",4)(7,"button",5),e.NdJ("click",function(){return t.addDepartment()}),e.qZA(),e.TgZ(8,"button",6),e.NdJ("click",function(){return t.addPosition()}),e.qZA(),e.TgZ(9,"button",7),e.NdJ("click",function(){return t.expandCollapse()}),e.qZA(),e.TgZ(10,"button",8),e.NdJ("click",function(){return t.expandCollapse(!1)}),e.qZA()()()(),e.TgZ(11,"div",9)(12,"div",10)(13,"div",11)(14,"p-treeTable",12),e.NdJ("selectionChange",function(o){return t.selected=o}),e.YNc(15,Fy,3,2,"ng-template",13),e.YNc(16,Uy,3,0,"ng-template",14),e.YNc(17,Oy,4,5,"ng-template",15),e.qZA()()()()),2&i&&(e.xp6(3),e.Q6J("module","business-trip")("isActive",!0),e.xp6(11),e.Q6J("value",t.tree)("selection",t.selected)("scrollable",!0))},dependencies:[w.O5,P.Hq,De.iw,K.jx,De.gc,De.V4,De.e2,re.nm,oe.D]}),Ke=(0,f.gn)([(0,ge.c)()],Ke);const qy=[{path:"",component:Ht,children:[{path:"",redirectTo:"business-partners",pathMatch:"full"},{path:"business-partners",children:[{path:"",title:"Business partners",component:ul},{path:"company-page/:id",title:"Company card",component:rf},{path:"contact-person/:id",title:"Contact Person Card",component:qf}]},{path:"events-reports",title:"Events Reports",component:Be},{path:"schedules",title:"Schedules",component:yc},{path:"company-categories",title:"Company categories",component:xl},{path:"event-types",title:"Event Types",component:Ul},{path:"employees",title:"Employees",component:Le},{path:"external-events",title:"External Event Types",component:jl},{path:"positions",title:"Positions",component:Ke},{path:"users-profiles",title:"Users Profiles",component:lc},{path:"events",children:[{path:"",title:"Events",component:Iy},{path:":id",title:"Event Card",component:Jp}]}]}];let Hy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[V.Bz.forChild(qy),V.Bz]}),n})();var Ly=x(6984),Jy=x(7175),By=x(7022),Yy=x(8739),fs=x(5369),Qy=x(4713),Vy=x(5518),zy=x(5104),Ft=x(666);function Gy(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"p-dropdown",3),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedContactPersonId=o)})("ngModelChange",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onSelectContactPerson())}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("options",t.contactPersons)("ngModel",t.selectedContactPersonId)("showClear",!0)}}function Wy(n,i){1&n&&(e.TgZ(0,"div",4),e._UZ(1,"i",5),e.qZA())}let ms=(()=>{class n{constructor(t){this.contactPersonService=t,this.selectContactPerson=new e.vpe,this.isLoading=!0,this.contactPersons=[],this.destroy$=new L.x}ngOnInit(){this.contactPersonService.get().pipe((0,J.R)(this.destroy$)).subscribe(t=>{this.contactPersons=t,this.currentContactPersonId&&(this.selectedContactPersonId=this.currentContactPersonId),this.isLoading=!1})}onSelectContactPerson(){this.selectContactPerson.emit(this.selectedContactPersonId)}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Qt._))},n.\u0275cmp=e.Xpm({type:n,selectors:[["pek-crm-contact-person-picker"]],inputs:{currentContactPersonId:"currentContactPersonId"},outputs:{selectContactPerson:"selectContactPerson"},decls:4,vars:2,consts:[[1,"crm-contact-person-picker"],["placeholder","Select Contact Person","optionLabel","fullName","optionValue","id",3,"options","ngModel","showClear","ngModelChange",4,"ngIf","ngIfElse"],["spinner",""],["placeholder","Select Contact Person","optionLabel","fullName","optionValue","id",3,"options","ngModel","showClear","ngModelChange"],[1,"spinner-input"],[1,"pi","pi-spin","pi-spinner",2,"font-size","1.25rem"]],template:function(t,r){if(1&t&&(e.TgZ(0,"div",0),e.YNc(1,Gy,1,3,"p-dropdown",1),e.qZA(),e.YNc(2,Wy,2,0,"ng-template",null,2,e.W1O)),2&t){const o=e.MAs(3);e.xp6(1),e.Q6J("ngIf",!r.isLoading)("ngIfElse",o)}},dependencies:[w.O5,E.JJ,Ft.Lt,E.On]}),n})();var jy=x(1304),$y=x(3774),mt=x(9592);const Ky=["sliderHandle"],Xy=["sliderHandleStart"],eC=["sliderHandleEnd"],tC=function(n,i){return{left:n,width:i}};function nC(n,i){if(1&n&&e._UZ(0,"span",4),2&n){const t=e.oxw();e.Q6J("ngStyle",e.WLB(1,tC,null!=t.offset?t.offset+"%":t.handleValues[0]+"%",t.diff?t.diff+"%":t.handleValues[1]-t.handleValues[0]+"%"))}}const iC=function(n,i){return{bottom:n,height:i}};function rC(n,i){if(1&n&&e._UZ(0,"span",4),2&n){const t=e.oxw();e.Q6J("ngStyle",e.WLB(1,iC,null!=t.offset?t.offset+"%":t.handleValues[0]+"%",t.diff?t.diff+"%":t.handleValues[1]-t.handleValues[0]+"%"))}}const oC=function(n){return{height:n}};function aC(n,i){if(1&n&&e._UZ(0,"span",4),2&n){const t=e.oxw();e.Q6J("ngStyle",e.VKq(1,oC,t.handleValue+"%"))}}const sC=function(n){return{width:n}};function lC(n,i){if(1&n&&e._UZ(0,"span",4),2&n){const t=e.oxw();e.Q6J("ngStyle",e.VKq(1,sC,t.handleValue+"%"))}}const er=function(n,i){return{left:n,bottom:i}};function cC(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"span",5,6),e.NdJ("keydown",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.onHandleKeydown(o))})("mousedown",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.onMouseDown(o))})("touchstart",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.onTouchStart(o))})("touchmove",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.onTouchMove(o))})("touchend",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.onTouchEnd(o))}),e.qZA()}if(2&n){const t=e.oxw();e.Udp("transition",t.dragging?"none":null),e.Q6J("ngStyle",e.WLB(8,er,"horizontal"==t.orientation?t.handleValue+"%":null,"vertical"==t.orientation?t.handleValue+"%":null)),e.uIk("tabindex",t.disabled?null:t.tabindex)("aria-valuemin",t.min)("aria-valuenow",t.value)("aria-valuemax",t.max)("aria-labelledby",t.ariaLabelledBy)}}const hs=function(n){return{"p-slider-handle-active":n}};function dC(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"span",7,8),e.NdJ("keydown",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.onHandleKeydown(o,0))})("mousedown",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.onMouseDown(o,0))})("touchstart",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.onTouchStart(o,0))})("touchmove",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.onTouchMove(o,0))})("touchend",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.onTouchEnd(o))}),e.qZA()}if(2&n){const t=e.oxw();e.Udp("transition",t.dragging?"none":null),e.Q6J("ngStyle",e.WLB(9,er,t.rangeStartLeft,t.rangeStartBottom))("ngClass",e.VKq(12,hs,0==t.handleIndex)),e.uIk("tabindex",t.disabled?null:t.tabindex)("aria-valuemin",t.min)("aria-valuenow",t.value?t.value[0]:null)("aria-valuemax",t.max)("aria-labelledby",t.ariaLabelledBy)}}function pC(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"span",7,9),e.NdJ("keydown",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.onHandleKeydown(o,1))})("mousedown",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.onMouseDown(o,1))})("touchstart",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.onTouchStart(o,1))})("touchmove",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.onTouchMove(o,1))})("touchend",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.onTouchEnd(o))}),e.qZA()}if(2&n){const t=e.oxw();e.Udp("transition",t.dragging?"none":null),e.Q6J("ngStyle",e.WLB(9,er,t.rangeEndLeft,t.rangeEndBottom))("ngClass",e.VKq(12,hs,1==t.handleIndex)),e.uIk("tabindex",t.disabled?null:t.tabindex)("aria-valuemin",t.min)("aria-valuenow",t.value?t.value[1]:null)("aria-valuemax",t.max)("aria-labelledby",t.ariaLabelledBy)}}const uC=function(n,i,t,r){return{"p-slider p-component":!0,"p-disabled":n,"p-slider-horizontal":i,"p-slider-vertical":t,"p-slider-animate":r}},fC={provide:E.JU,useExisting:(0,e.Gpc)(()=>tr),multi:!0};let tr=(()=>{class n{constructor(t,r,o,a){this.el=t,this.renderer=r,this.ngZone=o,this.cd=a,this.min=0,this.max=100,this.orientation="horizontal",this.tabindex=0,this.onChange=new e.vpe,this.onSlideEnd=new e.vpe,this.handleValues=[],this.onModelChange=()=>{},this.onModelTouched=()=>{},this.handleIndex=0}onMouseDown(t,r){this.disabled||(this.dragging=!0,this.updateDomData(),this.sliderHandleClick=!0,this.handleIndex=this.range&&this.handleValues&&this.handleValues[0]===this.max?0:r,this.bindDragListeners(),t.target.focus(),t.preventDefault(),this.animate&&mt.p.removeClass(this.el.nativeElement.children[0],"p-slider-animate"))}onTouchStart(t,r){if(!this.disabled){var o=t.changedTouches[0];this.startHandleValue=this.range?this.handleValues[r]:this.handleValue,this.dragging=!0,this.handleIndex=this.range&&this.handleValues&&this.handleValues[0]===this.max?0:r,"horizontal"===this.orientation?(this.startx=parseInt(o.clientX,10),this.barWidth=this.el.nativeElement.children[0].offsetWidth):(this.starty=parseInt(o.clientY,10),this.barHeight=this.el.nativeElement.children[0].offsetHeight),this.animate&&mt.p.removeClass(this.el.nativeElement.children[0],"p-slider-animate"),t.preventDefault()}}onTouchMove(t,r){if(!this.disabled){var a,o=t.changedTouches[0];a="horizontal"===this.orientation?Math.floor(100*(parseInt(o.clientX,10)-this.startx)/this.barWidth)+this.startHandleValue:Math.floor(100*(this.starty-parseInt(o.clientY,10))/this.barHeight)+this.startHandleValue,this.setValueFromHandle(t,a),t.preventDefault()}}onTouchEnd(t,r){this.disabled||(this.dragging=!1,this.onSlideEnd.emit(this.range?{originalEvent:t,values:this.values}:{originalEvent:t,value:this.value}),this.animate&&mt.p.addClass(this.el.nativeElement.children[0],"p-slider-animate"),t.preventDefault())}onBarClick(t){this.disabled||(this.sliderHandleClick||(this.updateDomData(),this.handleChange(t)),this.sliderHandleClick=!1)}onHandleKeydown(t,r){this.disabled||(38==t.which||39==t.which?this.spin(t,1,r):(37==t.which||40==t.which)&&this.spin(t,-1,r))}spin(t,r,o){let a=(this.step||1)*r;this.range?(this.handleIndex=o,this.updateValue(this.values[this.handleIndex]+a),this.updateHandleValue()):(this.updateValue(this.value+a),this.updateHandleValue()),t.preventDefault()}handleChange(t){let r=this.calculateHandleValue(t);this.setValueFromHandle(t,r)}bindDragListeners(){this.ngZone.runOutsideAngular(()=>{const t=this.el?this.el.nativeElement.ownerDocument:"document";this.dragListener||(this.dragListener=this.renderer.listen(t,"mousemove",r=>{this.dragging&&this.ngZone.run(()=>{this.handleChange(r)})})),this.mouseupListener||(this.mouseupListener=this.renderer.listen(t,"mouseup",r=>{this.dragging&&(this.dragging=!1,this.ngZone.run(()=>{this.onSlideEnd.emit(this.range?{originalEvent:r,values:this.values}:{originalEvent:r,value:this.value}),this.animate&&mt.p.addClass(this.el.nativeElement.children[0],"p-slider-animate")}))}))})}unbindDragListeners(){this.dragListener&&this.dragListener(),this.mouseupListener&&this.mouseupListener()}setValueFromHandle(t,r){this.sliderHandleClick=!1;let o=this.getValueFromHandle(r);this.range?this.step?this.handleStepChange(o,this.values[this.handleIndex]):(this.handleValues[this.handleIndex]=r,this.updateValue(o,t)):this.step?this.handleStepChange(o,this.value):(this.handleValue=r,this.updateValue(o,t)),this.cd.markForCheck()}handleStepChange(t,r){let o=t-r,a=r;o<0?a=r+Math.ceil(t/this.step-r/this.step)*this.step:o>0&&(a=r+Math.floor(t/this.step-r/this.step)*this.step),this.updateValue(a),this.updateHandleValue()}writeValue(t){this.range?this.values=t||[0,0]:this.value=t||0,this.updateHandleValue(),this.updateDiffAndOffset(),this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}get rangeStartLeft(){return this.isVertical()?null:this.handleValues[0]>100?"100%":this.handleValues[0]+"%"}get rangeStartBottom(){return this.isVertical()?this.handleValues[0]+"%":"auto"}get rangeEndLeft(){return this.isVertical()?null:this.handleValues[1]+"%"}get rangeEndBottom(){return this.isVertical()?this.handleValues[1]+"%":"auto"}isVertical(){return"vertical"===this.orientation}updateDomData(){let t=this.el.nativeElement.children[0].getBoundingClientRect();this.initX=t.left+mt.p.getWindowScrollLeft(),this.initY=t.top+mt.p.getWindowScrollTop(),this.barWidth=this.el.nativeElement.children[0].offsetWidth,this.barHeight=this.el.nativeElement.children[0].offsetHeight}calculateHandleValue(t){return"horizontal"===this.orientation?100*(t.pageX-this.initX)/this.barWidth:100*(this.initY+this.barHeight-t.pageY)/this.barHeight}updateHandleValue(){this.range?(this.handleValues[0]=100*(this.values[0]<this.min?0:this.values[0]-this.min)/(this.max-this.min),this.handleValues[1]=100*(this.values[1]>this.max?100:this.values[1]-this.min)/(this.max-this.min)):this.handleValue=this.value<this.min?0:this.value>this.max?100:100*(this.value-this.min)/(this.max-this.min),this.step&&this.updateDiffAndOffset()}updateDiffAndOffset(){this.diff=this.getDiff(),this.offset=this.getOffset()}getDiff(){return Math.abs(this.handleValues[0]-this.handleValues[1])}getOffset(){return Math.min(this.handleValues[0],this.handleValues[1])}updateValue(t,r){if(this.range){let o=t;0==this.handleIndex?(o<this.min?(o=this.min,this.handleValues[0]=0):o>this.values[1]&&o>this.max&&(o=this.max,this.handleValues[0]=100),this.sliderHandleStart.nativeElement.focus()):(o>this.max?(o=this.max,this.handleValues[1]=100,this.offset=this.handleValues[1]):o<this.min?(o=this.min,this.handleValues[1]=0):o<this.values[0]&&(this.offset=this.handleValues[1]),this.sliderHandleEnd.nativeElement.focus()),this.step?this.updateHandleValue():this.updateDiffAndOffset(),this.values[this.handleIndex]=this.getNormalizedValue(o),this.onModelChange([this.minVal,this.maxVal]),this.onChange.emit({event:r,values:this.values})}else t<this.min?(t=this.min,this.handleValue=0):t>this.max&&(t=this.max,this.handleValue=100),this.value=this.getNormalizedValue(t),this.onModelChange(this.value),this.onChange.emit({event:r,value:this.value}),this.sliderHandle.nativeElement.focus()}getValueFromHandle(t){return t/100*(this.max-this.min)+this.min}getDecimalsCount(t){return t&&Math.floor(t)!==t&&t.toString().split(".")[1].length||0}getNormalizedValue(t){let r=this.getDecimalsCount(this.step);return r>0?+parseFloat(t.toString()).toFixed(r):Math.floor(t)}ngOnDestroy(){this.unbindDragListeners()}get minVal(){return Math.min(this.values[1],this.values[0])}get maxVal(){return Math.max(this.values[1],this.values[0])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.R0b),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-slider"]],viewQuery:function(t,r){if(1&t&&(e.Gf(Ky,5),e.Gf(Xy,5),e.Gf(eC,5)),2&t){let o;e.iGM(o=e.CRH())&&(r.sliderHandle=o.first),e.iGM(o=e.CRH())&&(r.sliderHandleStart=o.first),e.iGM(o=e.CRH())&&(r.sliderHandleEnd=o.first)}},hostAttrs:[1,"p-element"],inputs:{animate:"animate",disabled:"disabled",min:"min",max:"max",orientation:"orientation",step:"step",range:"range",style:"style",styleClass:"styleClass",ariaLabelledBy:"ariaLabelledBy",tabindex:"tabindex"},outputs:{onChange:"onChange",onSlideEnd:"onSlideEnd"},features:[e._Bn([fC])],decls:8,vars:16,consts:[[3,"ngStyle","ngClass","click"],["class","p-slider-range",3,"ngStyle",4,"ngIf"],["class","p-slider-handle",3,"transition","ngStyle","keydown","mousedown","touchstart","touchmove","touchend",4,"ngIf"],["class","p-slider-handle",3,"transition","ngStyle","ngClass","keydown","mousedown","touchstart","touchmove","touchend",4,"ngIf"],[1,"p-slider-range",3,"ngStyle"],[1,"p-slider-handle",3,"ngStyle","keydown","mousedown","touchstart","touchmove","touchend"],["sliderHandle",""],[1,"p-slider-handle",3,"ngStyle","ngClass","keydown","mousedown","touchstart","touchmove","touchend"],["sliderHandleStart",""],["sliderHandleEnd",""]],template:function(t,r){1&t&&(e.TgZ(0,"div",0),e.NdJ("click",function(a){return r.onBarClick(a)}),e.YNc(1,nC,1,4,"span",1),e.YNc(2,rC,1,4,"span",1),e.YNc(3,aC,1,3,"span",1),e.YNc(4,lC,1,3,"span",1),e.YNc(5,cC,2,11,"span",2),e.YNc(6,dC,2,14,"span",3),e.YNc(7,pC,2,14,"span",3),e.qZA()),2&t&&(e.Tol(r.styleClass),e.Q6J("ngStyle",r.style)("ngClass",e.l5B(11,uC,r.disabled,"horizontal"==r.orientation,"vertical"==r.orientation,r.animate)),e.xp6(1),e.Q6J("ngIf",r.range&&"horizontal"==r.orientation),e.xp6(1),e.Q6J("ngIf",r.range&&"vertical"==r.orientation),e.xp6(1),e.Q6J("ngIf",!r.range&&"vertical"==r.orientation),e.xp6(1),e.Q6J("ngIf",!r.range&&"horizontal"==r.orientation),e.xp6(1),e.Q6J("ngIf",!r.range),e.xp6(1),e.Q6J("ngIf",r.range),e.xp6(1),e.Q6J("ngIf",r.range))},dependencies:[w.mk,w.O5,w.PC],styles:[".p-slider{position:relative}.p-slider .p-slider-handle{position:absolute;cursor:grab;touch-action:none;display:block}.p-slider-range{position:absolute;display:block}.p-slider-horizontal .p-slider-range{top:0;left:0;height:100%}.p-slider-horizontal .p-slider-handle{top:50%}.p-slider-vertical{height:100px}.p-slider-vertical .p-slider-handle{left:50%}.p-slider-vertical .p-slider-range{bottom:0;left:0;width:100%}\n"],encapsulation:2,changeDetection:0}),n})(),mC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[w.ez]}),n})();var hC=x(6505);function gC(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"p-multiSelect",3),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedContactPersons=o)})("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.onSelectEventTypes(o))}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("disabled",t.isDisabled||0===t.contactPersons.length)("options",t.contactPersons)("ngModel",t.selectedContactPersons)("showClear",!0)}}function vC(n,i){1&n&&(e.TgZ(0,"div",4),e._UZ(1,"i",5),e.qZA())}let gs=(()=>{class n{constructor(t){this.contactPersonService=t,this.currentContactPersonsIds=[],this.selectContactPersons=new e.vpe,this.isLoading=!0,this.contactPersons=[],this.selectedContactPersons=[],this.destroy$=new L.x}ngOnInit(){this.getContact()}ngOnChanges(t){"selectedCompaniesIds"in t&&this.getContact(!0),"currentContactPersonsIds"in t&&(this.selectedContactPersons=[],this.findContactPersons())}getContact(t=!1){let r;this.selectedCompaniesIds&&(r=[{name:"company_ids",value:this.selectedCompaniesIds}],this.contactPersonService.getForce(r).pipe((0,J.R)(this.destroy$)).subscribe(o=>{this.contactPersons=o,this.findContactPersons(),t&&this.updateRemainingSelectedPersons(),this.isLoading=!1}))}onSelectEventTypes(t){this.selectContactPersons.emit(t?t.map(r=>r.id):null)}findContactPersons(){this.currentContactPersonsIds.length>0&&this.currentContactPersonsIds.forEach(t=>{const r=this.contactPersons.find(o=>o.id===t);r&&(this.selectedContactPersons.some(a=>a.id===r.id)||this.selectedContactPersons.push(r))})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}updateRemainingSelectedPersons(){if(this.currentContactPersonsIds.length>0&&this.selectedCompaniesIds.length>0){const t=this.currentContactPersonsIds.filter(r=>this.contactPersons.findIndex(o=>o.id===r)>-1);this.selectContactPersons.emit(t)}else this.currentContactPersonsIds=[],this.selectContactPersons.emit(null)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Qt._))},n.\u0275cmp=e.Xpm({type:n,selectors:[["pek-crm-multi-contact-persons-picker"]],inputs:{currentContactPersonsIds:"currentContactPersonsIds",isDisabled:"isDisabled",selectedCompaniesIds:"selectedCompaniesIds"},outputs:{selectContactPersons:"selectContactPersons"},features:[e.TTD],decls:4,vars:2,consts:[[1,"crm-multi-contact-persons-picker"],["optionLabel","fullName","placeholder","Select Contact Persons",3,"disabled","options","ngModel","showClear","ngModelChange",4,"ngIf","ngIfElse"],["spinner",""],["optionLabel","fullName","placeholder","Select Contact Persons",3,"disabled","options","ngModel","showClear","ngModelChange"],[1,"spinner-input"],[1,"pi","pi-spin","pi-spinner",2,"font-size","1.25rem"]],template:function(t,r){if(1&t&&(e.TgZ(0,"div",0),e.YNc(1,gC,1,4,"p-multiSelect",1),e.YNc(2,vC,2,0,"ng-template",null,2,e.W1O),e.qZA()),2&t){const o=e.MAs(3);e.xp6(1),e.Q6J("ngIf",!r.isLoading)("ngIfElse",o)}},dependencies:[w.O5,E.JJ,E.On,et.NU]}),n})();var _C=function(n){function i(){var t=null!==n&&n.apply(this,arguments)||this;return t.headerElRef=W(),t}return(0,f.ZT)(i,n),i.prototype.renderSimpleLayout=function(t,r){var a=this.props,s=this.context,l=[],c=Dn(s.options);return t&&l.push({type:"header",key:"header",isSticky:c,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:t}}),l.push({type:"body",key:"body",liquid:!0,chunk:{content:r}}),g(ut,{viewSpec:s.viewSpec},function(d,p){return g("div",{ref:d,className:["fc-daygrid"].concat(p).join(" ")},g(Wi,{liquid:!a.isHeightAuto&&!a.forPrint,collapsibleWidth:a.forPrint,cols:[],sections:l}))})},i.prototype.renderHScrollLayout=function(t,r,o,a){var s=this.context.pluginHooks.scrollGridImpl;if(!s)throw new Error("No ScrollGrid implementation");var c=this.props,d=this.context,p=!c.forPrint&&Dn(d.options),u=!c.forPrint&&ts(d.options),m=[];return t&&m.push({type:"header",key:"header",isSticky:p,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:t}]}),m.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:r}]}),u&&m.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:Gi}]}),g(ut,{viewSpec:d.viewSpec},function(h,v){return g("div",{ref:h,className:["fc-daygrid"].concat(v).join(" ")},g(s,{liquid:!c.isHeightAuto&&!c.forPrint,collapsibleWidth:c.forPrint,colGroups:[{cols:[{span:o,minWidth:a}]}],sections:m}))})},i}(me);function Rn(n,i){for(var t=[],r=0;r<i;r+=1)t[r]=[];for(var o=0,a=n;o<a.length;o++){var s=a[o];t[s.row].push(s)}return t}function Mn(n,i){for(var t=[],r=0;r<i;r+=1)t[r]=[];for(var o=0,a=n;o<a.length;o++){var s=a[o];t[s.firstCol].push(s)}return t}function vs(n,i){var t=[];if(n){for(var r=0;r<i;r+=1)t[r]={affectedInstances:n.affectedInstances,isEvent:n.isEvent,segs:[]};for(var o=0,a=n.segs;o<a.length;o++){var s=a[o];t[s.row].segs.push(s)}}else for(r=0;r<i;r+=1)t[r]=null;return t}var yC=function(n){function i(){return null!==n&&n.apply(this,arguments)||this}return(0,f.ZT)(i,n),i.prototype.render=function(){var t=this.props,r=pt(this.context,t.date);return g($i,{date:t.date,dateProfile:t.dateProfile,todayRange:t.todayRange,showDayNumber:t.showDayNumber,extraHookProps:t.extraHookProps,defaultContent:CC},function(o,a){return(a||t.forceDayTop)&&g("div",{className:"fc-daygrid-day-top",ref:o},g("a",(0,f.pi)({id:t.dayNumberId,className:"fc-daygrid-day-number"},r),a||g(j,null,"\xa0")))})},i}(U);function CC(n){return n.dayNumberText}var _s=B({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function ys(n){var i=n.eventRange.ui.display;return"list-item"===i||"auto"===i&&!n.eventRange.def.allDay&&n.firstCol===n.lastCol&&n.isStart&&n.isEnd}var Cs=function(n){function i(){return null!==n&&n.apply(this,arguments)||this}return(0,f.ZT)(i,n),i.prototype.render=function(){var t=this.props;return g(ns,(0,f.pi)({},t,{extraClassNames:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:_s,defaultDisplayEventEnd:t.defaultDisplayEventEnd,disableResizing:!t.seg.eventRange.def.allDay}))},i}(U),bs=function(n){function i(){return null!==n&&n.apply(this,arguments)||this}return(0,f.ZT)(i,n),i.prototype.render=function(){var r=this.props,o=this.context,s=Rt(r.seg,o.options.eventTimeFormat||_s,o,!0,r.defaultDisplayEventEnd);return g(kn,{seg:r.seg,timeText:s,defaultContent:bC,isDragging:r.isDragging,isResizing:!1,isDateSelecting:!1,isSelected:r.isSelected,isPast:r.isPast,isFuture:r.isFuture,isToday:r.isToday},function(l,c,d,p){return g("a",(0,f.pi)({className:["fc-daygrid-event","fc-daygrid-dot-event"].concat(c).join(" "),ref:l},Ei(r.seg,o)),p)})},i}(U);function bC(n){return g(j,null,g("div",{className:"fc-daygrid-event-dot",style:{borderColor:n.borderColor||n.backgroundColor}}),n.timeText&&g("div",{className:"fc-event-time"},n.timeText),g("div",{className:"fc-event-title"},n.event.title||g(j,null,"\xa0")))}var EC=function(n){function i(){var t=null!==n&&n.apply(this,arguments)||this;return t.compileSegs=R(TC),t}return(0,f.ZT)(i,n),i.prototype.render=function(){var t=this.props,r=this.compileSegs(t.singlePlacements),o=r.allSegs;return g(ss,{dateProfile:t.dateProfile,todayRange:t.todayRange,allDayDate:t.allDayDate,moreCnt:t.moreCnt,allSegs:o,hiddenSegs:r.invisibleSegs,alignmentElRef:t.alignmentElRef,alignGridTop:t.alignGridTop,extraDateSpan:t.extraDateSpan,popoverContent:function(){var s=(t.eventDrag?t.eventDrag.affectedInstances:null)||(t.eventResize?t.eventResize.affectedInstances:null)||{};return g(j,null,o.map(function(l){var c=l.eventRange.instance.instanceId;return g("div",{className:"fc-daygrid-event-harness",key:c,style:{visibility:s[c]?"hidden":""}},ys(l)?g(bs,(0,f.pi)({seg:l,isDragging:!1,isSelected:c===t.eventSelection,defaultDisplayEventEnd:!1},Te(l,t.todayRange))):g(Cs,(0,f.pi)({seg:l,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:c===t.eventSelection,defaultDisplayEventEnd:!1},Te(l,t.todayRange))))}))}},function(s,l,c,d,p,u,m,h){return g("a",(0,f.pi)({ref:s,className:["fc-daygrid-more-link"].concat(l).join(" "),title:u,"aria-expanded":m,"aria-controls":h},Zo(p)),d)})},i}(U);function TC(n){for(var i=[],t=[],r=0,o=n;r<o.length;r++){var a=o[r];i.push(a.seg),a.isVisible||t.push(a.seg)}return{allSegs:i,invisibleSegs:t}}var xC=B({week:"narrow"}),AC=function(n){function i(){var t=null!==n&&n.apply(this,arguments)||this;return t.rootElRef=W(),t.state={dayNumberId:Me()},t.handleRootEl=function(r){fe(t.rootElRef,r),fe(t.props.elRef,r)},t}return(0,f.ZT)(i,n),i.prototype.render=function(){var t=this,o=t.props,a=t.state,s=t.rootElRef,l=o.date,c=o.dateProfile,d=pt(t.context,l,"week");return g(Ki,{date:l,dateProfile:c,todayRange:o.todayRange,showDayNumber:o.showDayNumber,extraHookProps:o.extraHookProps,elRef:this.handleRootEl},function(p,u,m,h){return g("td",(0,f.pi)({ref:p,role:"gridcell",className:["fc-daygrid-day"].concat(u,o.extraClassNames||[]).join(" ")},m,o.extraDataAttrs,o.showDayNumber?{"aria-labelledby":a.dayNumberId}:{}),g("div",{className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",ref:o.innerElRef},o.showWeekNumber&&g(as,{date:l,defaultFormat:xC},function(v,y,C,_){return g("a",(0,f.pi)({ref:v,className:["fc-daygrid-week-number"].concat(y).join(" ")},d),_)}),!h&&g(yC,{date:l,dateProfile:c,showDayNumber:o.showDayNumber,dayNumberId:a.dayNumberId,forceDayTop:o.forceDayTop,todayRange:o.todayRange,extraHookProps:o.extraHookProps}),g("div",{className:"fc-daygrid-day-events",ref:o.fgContentElRef},o.fgContent,g("div",{className:"fc-daygrid-day-bottom",style:{marginTop:o.moreMarginTop}},g(EC,{allDayDate:l,singlePlacements:o.singlePlacements,moreCnt:o.moreCnt,alignmentElRef:s,alignGridTop:!o.showDayNumber,extraDateSpan:o.extraDateSpan,dateProfile:o.dateProfile,eventSelection:o.eventSelection,eventDrag:o.eventDrag,eventResize:o.eventResize,todayRange:o.todayRange}))),g("div",{className:"fc-daygrid-day-bg"},o.bgContent)))})},i}(me);function ht(n,i,t,r){if(n.firstCol===i&&n.lastCol===t-1)return n;var o=n.eventRange,a=o.range,s=Ge(a,{start:r[i].date,end:$(r[t-1].date,1)});return(0,f.pi)((0,f.pi)({},n),{firstCol:i,lastCol:t-1,eventRange:{def:o.def,ui:(0,f.pi)((0,f.pi)({},o.ui),{durationEditable:!1}),instance:o.instance,range:s},isStart:n.isStart&&s.start.valueOf()===a.start.valueOf(),isEnd:n.isEnd&&s.end.valueOf()===a.end.valueOf()})}var kC=function(n){function i(){var t=null!==n&&n.apply(this,arguments)||this;return t.hiddenConsumes=!1,t.forceHidden={},t}return(0,f.ZT)(i,n),i.prototype.addSegs=function(t){for(var r=this,o=n.prototype.addSegs.call(this,t),a=this.entriesByLevel,s=function(c){return!r.forceHidden[je(c)]},l=0;l<a.length;l+=1)a[l]=a[l].filter(s);return o},i.prototype.handleInvalidInsertion=function(t,r,o){var s=this.entriesByLevel,l=this.forceHidden,c=t.touchingEntry,d=t.touchingLevel,p=t.touchingLateral;if(this.hiddenConsumes&&c){var u=je(c);if(!l[u])if(this.allowReslicing){var m=(0,f.pi)((0,f.pi)({},c),{span:Hi(c.span,r.span)});l[je(m)]=!0,s[d][p]=m,this.splitEntry(c,r,o)}else l[u]=!0,o.push(c)}return n.prototype.handleInvalidInsertion.call(this,t,r,o)},i}(La),Es=function(n){function i(){var t=null!==n&&n.apply(this,arguments)||this;return t.cellElRefs=new Ae,t.frameElRefs=new Ae,t.fgElRefs=new Ae,t.segHarnessRefs=new Ae,t.rootElRef=W(),t.state={framePositions:null,maxContentHeight:null,eventInstanceHeights:{}},t}return(0,f.ZT)(i,n),i.prototype.render=function(){var t=this,r=this,o=r.props,a=r.state,l=r.context.options,c=o.cells.length,d=Mn(o.businessHourSegs,c),p=Mn(o.bgEventSegs,c),u=Mn(this.getHighlightSegs(),c),m=Mn(this.getMirrorSegs(),c),h=function SC(n,i,t,r,o,a,s){var l=new kC;l.allowReslicing=!0,l.strictOrder=r,!0===i||!0===t?(l.maxCoord=a,l.hiddenConsumes=!0):"number"==typeof i?l.maxStackCnt=i:"number"==typeof t&&(l.maxStackCnt=t,l.hiddenConsumes=!0);for(var c=[],d=[],p=0;p<n.length;p+=1){var h=o[(u=n[p]).eventRange.instance.instanceId];null!=h?c.push({index:p,thickness:h,span:{start:u.firstCol,end:u.lastCol+1}}):d.push(u)}for(var v=l.addSegs(c),C=function wC(n,i,t){for(var r=function DC(n,i){for(var t=[],r=0;r<i;r+=1)t.push([]);for(var o=0,a=n;o<a.length;o++){var s=a[o];for(r=s.span.start;r<s.span.end;r+=1)t[r].push(s)}return t}(n,t.length),o=[],a=[],s=[],l=0;l<t.length;l+=1){for(var c=r[l],d=[],p=0,u=0,m=0,h=c;m<h.length;m++)d.push({seg:ht(y=i[(v=h[m]).index],l,l+1,t),isVisible:!0,isAbsolute:!1,absoluteTop:v.levelCoord,marginTop:v.levelCoord-p}),p=v.levelCoord+v.thickness;var C=[];p=0,u=0;for(var _=0,T=c;_<T.length;_++){var v,y=i[(v=T[_]).index],S=v.span.start===l;u+=v.levelCoord-p,p=v.levelCoord+v.thickness,v.span.end-v.span.start>1?(u+=v.thickness,S&&C.push({seg:ht(y,v.span.start,v.span.end,t),isVisible:!0,isAbsolute:!0,absoluteTop:v.levelCoord,marginTop:0})):S&&(C.push({seg:ht(y,v.span.start,v.span.end,t),isVisible:!0,isAbsolute:!1,absoluteTop:v.levelCoord,marginTop:u}),u=0)}o.push(d),a.push(C),s.push(u)}return{singleColPlacements:o,multiColPlacements:a,leftoverMargins:s}}(l.toRects(),n,s),_=C.singleColPlacements,T=C.multiColPlacements,A=C.leftoverMargins,S=[],I=[],M=0,F=d;M<F.length;M++){T[(u=F[M]).firstCol].push({seg:u,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(var D=u.firstCol;D<=u.lastCol;D+=1)_[D].push({seg:ht(u,D,D+1,s),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(D=0;D<s.length;D+=1)S.push(0);for(var H=0,O=v;H<O.length;H++){var u,le=O[H],te=le.span;for(T[te.start].push({seg:ht(u=n[le.index],te.start,te.end,s),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0}),D=te.start;D<te.end;D+=1)S[D]+=1,_[D].push({seg:ht(u,D,D+1,s),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(D=0;D<s.length;D+=1)I.push(A[D]);return{singleColPlacements:_,multiColPlacements:T,moreCnts:S,moreMarginTops:I}}(bi(o.fgEventSegs,l.eventOrder),o.dayMaxEvents,o.dayMaxEventRows,l.eventOrderStrict,a.eventInstanceHeights,a.maxContentHeight,o.cells),v=h.singleColPlacements,y=h.multiColPlacements,C=h.moreCnts,_=h.moreMarginTops,T=o.eventDrag&&o.eventDrag.affectedInstances||o.eventResize&&o.eventResize.affectedInstances||{};return g("tr",{ref:this.rootElRef,role:"row"},o.renderIntro&&o.renderIntro(),o.cells.map(function(A,S){var I=t.renderFgSegs(S,o.forPrint?v[S]:y[S],o.todayRange,T),M=t.renderFgSegs(S,function ZC(n,i){if(!n.length)return[];var t=function RC(n){for(var i={},t=0,r=n;t<r.length;t++)for(var a=0,s=r[t];a<s.length;a++){var l=s[a];i[l.seg.eventRange.instance.instanceId]=l.absoluteTop}return i}(i);return n.map(function(r){return{seg:r,isVisible:!0,isAbsolute:!0,absoluteTop:t[r.eventRange.instance.instanceId],marginTop:0}})}(m[S],y),o.todayRange,{},Boolean(o.eventDrag),Boolean(o.eventResize),!1);return g(AC,{key:A.key,elRef:t.cellElRefs.createRef(A.key),innerElRef:t.frameElRefs.createRef(A.key),dateProfile:o.dateProfile,date:A.date,showDayNumber:o.showDayNumbers,showWeekNumber:o.showWeekNumbers&&0===S,forceDayTop:o.showWeekNumbers,todayRange:o.todayRange,eventSelection:o.eventSelection,eventDrag:o.eventDrag,eventResize:o.eventResize,extraHookProps:A.extraHookProps,extraDataAttrs:A.extraDataAttrs,extraClassNames:A.extraClassNames,extraDateSpan:A.extraDateSpan,moreCnt:C[S],moreMarginTop:_[S],singlePlacements:v[S],fgContentElRef:t.fgElRefs.createRef(A.key),fgContent:g(j,null,g(j,null,I),g(j,null,M)),bgContent:g(j,null,t.renderFillSegs(u[S],"highlight"),t.renderFillSegs(d[S],"non-business"),t.renderFillSegs(p[S],"bg-event"))})}))},i.prototype.componentDidMount=function(){this.updateSizing(!0)},i.prototype.componentDidUpdate=function(t,r){this.updateSizing(!be(t,this.props))},i.prototype.getHighlightSegs=function(){var t=this.props;return t.eventDrag&&t.eventDrag.segs.length?t.eventDrag.segs:t.eventResize&&t.eventResize.segs.length?t.eventResize.segs:t.dateSelectionSegs},i.prototype.getMirrorSegs=function(){var t=this.props;return t.eventResize&&t.eventResize.segs.length?t.eventResize.segs:[]},i.prototype.renderFgSegs=function(t,r,o,a,s,l,c){var d=this.context,p=this.props.eventSelection,u=this.state.framePositions,m=1===this.props.cells.length,h=s||l||c,v=[];if(u)for(var y=0,C=r;y<C.length;y++){var _=C[y],T=_.seg,A=T.eventRange.instance.instanceId,S=A+":"+t,I=_.isVisible&&!a[A],M=_.isAbsolute,F="",D="";M&&(d.isRtl?(D=0,F=u.lefts[T.lastCol]-u.lefts[T.firstCol]):(F=0,D=u.rights[T.firstCol]-u.rights[T.lastCol])),v.push(g("div",{className:"fc-daygrid-event-harness"+(M?" fc-daygrid-event-harness-abs":""),key:S,ref:h?null:this.segHarnessRefs.createRef(S),style:{visibility:I?"":"hidden",marginTop:M?"":_.marginTop,top:M?_.absoluteTop:"",left:F,right:D}},ys(T)?g(bs,(0,f.pi)({seg:T,isDragging:s,isSelected:A===p,defaultDisplayEventEnd:m},Te(T,o))):g(Cs,(0,f.pi)({seg:T,isDragging:s,isResizing:l,isDateSelecting:c,isSelected:A===p,defaultDisplayEventEnd:m},Te(T,o)))))}return v},i.prototype.renderFillSegs=function(t,r){var o=this.context.isRtl,a=this.props.todayRange,s=this.state.framePositions,l=[];if(s)for(var c=0,d=t;c<d.length;c++){var p=d[c],u=o?{right:0,left:s.lefts[p.lastCol]-s.lefts[p.firstCol]}:{left:0,right:s.rights[p.firstCol]-s.rights[p.lastCol]};l.push(g("div",{key:na(p.eventRange),className:"fc-daygrid-bg-harness",style:u},"bg-event"===r?g(os,(0,f.pi)({seg:p},Te(p,a))):rs(r)))}return g.apply(void 0,(0,f.ev)([j,{}],l))},i.prototype.updateSizing=function(t){var o=this.props,a=this.frameElRefs;if(!o.forPrint&&null!==o.clientWidth){if(t){var s=o.cells.map(function(u){return a.currentMap[u.key]});s.length&&this.setState({framePositions:new It(this.rootElRef.current,s,!0,!1)})}var c=this.state.eventInstanceHeights,d=this.queryEventInstanceHeights(),p=!0===o.dayMaxEvents||!0===o.dayMaxEventRows;this.safeSetState({eventInstanceHeights:(0,f.pi)((0,f.pi)({},c),d),maxContentHeight:p?this.computeMaxContentHeight():null})}},i.prototype.queryEventInstanceHeights=function(){var t=this.segHarnessRefs.currentMap,r={};for(var o in t){var a=Math.round(t[o].getBoundingClientRect().height),s=o.split(":")[0];r[s]=Math.max(r[s]||0,a)}return r},i.prototype.computeMaxContentHeight=function(){var t=this.props.cells[0].key,o=this.fgElRefs.currentMap[t];return this.cellElRefs.currentMap[t].getBoundingClientRect().bottom-o.getBoundingClientRect().top},i.prototype.getCellEls=function(){var t=this.cellElRefs.currentMap;return this.props.cells.map(function(r){return t[r.key]})},i}(me);Es.addStateEquality({eventInstanceHeights:be});var MC=function(n){function i(){var t=null!==n&&n.apply(this,arguments)||this;return t.splitBusinessHourSegs=R(Rn),t.splitBgEventSegs=R(Rn),t.splitFgEventSegs=R(Rn),t.splitDateSelectionSegs=R(Rn),t.splitEventDrag=R(vs),t.splitEventResize=R(vs),t.rowRefs=new Ae,t.handleRootEl=function(r){t.rootEl=r,r?t.context.registerInteractiveComponent(t,{el:r,isHitComboAllowed:t.props.isHitComboAllowed}):t.context.unregisterInteractiveComponent(t)},t}return(0,f.ZT)(i,n),i.prototype.render=function(){var t=this,r=this.props,o=r.dateProfile,a=r.dayMaxEventRows,s=r.dayMaxEvents,l=r.expandRows,c=r.cells.length,d=this.splitBusinessHourSegs(r.businessHourSegs,c),p=this.splitBgEventSegs(r.bgEventSegs,c),u=this.splitFgEventSegs(r.fgEventSegs,c),m=this.splitDateSelectionSegs(r.dateSelectionSegs,c),h=this.splitEventDrag(r.eventDrag,c),v=this.splitEventResize(r.eventResize,c),y=!0===s||!0===a;return y&&!l&&(y=!1,a=null,s=null),g("div",{className:["fc-daygrid-body",y?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",l?"":"fc-daygrid-body-natural"].join(" "),ref:this.handleRootEl,style:{width:r.clientWidth,minWidth:r.tableMinWidth}},g(Nt,{unit:"day"},function(_,T){return g(j,null,g("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:r.clientWidth,minWidth:r.tableMinWidth,height:l?r.clientHeight:""}},r.colGroupNode,g("tbody",{role:"presentation"},r.cells.map(function(A,S){return g(Es,{ref:t.rowRefs.createRef(S),key:A.length?A[0].date.toISOString():S,showDayNumbers:c>1,showWeekNumbers:r.showWeekNumbers,todayRange:T,dateProfile:o,cells:A,renderIntro:r.renderRowIntro,businessHourSegs:d[S],eventSelection:r.eventSelection,bgEventSegs:p[S].filter(IC),fgEventSegs:u[S],dateSelectionSegs:m[S],eventDrag:h[S],eventResize:v[S],dayMaxEvents:s,dayMaxEventRows:a,clientWidth:r.clientWidth,clientHeight:r.clientHeight,forPrint:r.forPrint})}))))}))},i.prototype.prepareHits=function(){this.rowPositions=new It(this.rootEl,this.rowRefs.collect().map(function(t){return t.getCellEls()[0]}),!1,!0),this.colPositions=new It(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)},i.prototype.queryHit=function(t,r){var a=this.colPositions,s=this.rowPositions,l=a.leftToIndex(t),c=s.topToIndex(r);if(null!=c&&null!=l){var d=this.props.cells[c][l];return{dateProfile:this.props.dateProfile,dateSpan:(0,f.pi)({range:this.getCellRange(c,l),allDay:!0},d.extraDateSpan),dayEl:this.getCellEl(c,l),rect:{left:a.lefts[l],right:a.rights[l],top:s.tops[c],bottom:s.bottoms[c]},layer:0}}return null},i.prototype.getCellEl=function(t,r){return this.rowRefs.currentMap[t].getCellEls()[r]},i.prototype.getCellRange=function(t,r){var o=this.props.cells[t][r].date;return{start:o,end:$(o,1)}},i}(me);function IC(n){return n.eventRange.def.allDay}var PC=function(n){function i(){var t=null!==n&&n.apply(this,arguments)||this;return t.forceDayIfListItem=!0,t}return(0,f.ZT)(i,n),i.prototype.sliceRange=function(t,r){return r.sliceRange(t)},i}(ja),Ts=function(n){function i(){var t=null!==n&&n.apply(this,arguments)||this;return t.slicer=new PC,t.tableRef=W(),t}return(0,f.ZT)(i,n),i.prototype.render=function(){var r=this.props;return g(MC,(0,f.pi)({ref:this.tableRef},this.slicer.sliceProps(r,r.dateProfile,r.nextDayThreshold,this.context,r.dayTableModel),{dateProfile:r.dateProfile,cells:r.dayTableModel.cells,colGroupNode:r.colGroupNode,tableMinWidth:r.tableMinWidth,renderRowIntro:r.renderRowIntro,dayMaxEvents:r.dayMaxEvents,dayMaxEventRows:r.dayMaxEventRows,showWeekNumbers:r.showWeekNumbers,expandRows:r.expandRows,headerAlignElRef:r.headerAlignElRef,clientWidth:r.clientWidth,clientHeight:r.clientHeight,forPrint:r.forPrint}))},i}(me);function FC(n,i){var t=new Ga(n.renderRange,i);return new Wa(t,/year|month|week/.test(n.currentRangeUnit))}const qC=he({initialView:"dayGridMonth",views:{dayGrid:{component:function(n){function i(){var t=null!==n&&n.apply(this,arguments)||this;return t.buildDayTableModel=R(FC),t.headerRef=W(),t.tableRef=W(),t}return(0,f.ZT)(i,n),i.prototype.render=function(){var t=this,r=this.context,o=r.options,s=this.props,l=this.buildDayTableModel(s.dateProfile,r.dateProfileGenerator),c=o.dayHeaders&&g(za,{ref:this.headerRef,dateProfile:s.dateProfile,dates:l.headerDates,datesRepDistinctDays:1===l.rowCnt}),d=function(p){return g(Ts,{ref:t.tableRef,dateProfile:s.dateProfile,dayTableModel:l,businessHours:s.businessHours,dateSelection:s.dateSelection,eventStore:s.eventStore,eventUiBases:s.eventUiBases,eventSelection:s.eventSelection,eventDrag:s.eventDrag,eventResize:s.eventResize,nextDayThreshold:o.nextDayThreshold,colGroupNode:p.tableColGroupNode,tableMinWidth:p.tableMinWidth,dayMaxEvents:o.dayMaxEvents,dayMaxEventRows:o.dayMaxEventRows,showWeekNumbers:o.weekNumbers,expandRows:!s.isHeightAuto,headerAlignElRef:t.headerElRef,clientWidth:p.clientWidth,clientHeight:p.clientHeight,forPrint:s.forPrint})};return o.dayMinWidth?this.renderHScrollLayout(c,d,l.colCnt,o.dayMinWidth):this.renderSimpleLayout(c,d)},i}(_C),dateProfileGeneratorClass:function(n){function i(){return null!==n&&n.apply(this,arguments)||this}return(0,f.ZT)(i,n),i.prototype.buildRenderRange=function(t,r,o){var d,a=this.props.dateEnv,s=n.prototype.buildRenderRange.call(this,t,r,o),l=s.start,c=s.end;if(/^(year|month)$/.test(r)&&(l=a.startOfWeek(l),(d=a.startOfWeek(c)).valueOf()!==c.valueOf()&&(c=Po(d,1))),this.props.monthMode&&this.props.fixedWeekCount){var p=Math.ceil(function eh(n,i){return Ie(n,i)/7}(l,c));c=Po(c,6-p)}return{start:l,end:c}},i}(wa)},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},monthMode:!0,fixedWeekCount:!0}}});var HC=function(n){function i(){return null!==n&&n.apply(this,arguments)||this}return(0,f.ZT)(i,n),i.prototype.getKeyInfo=function(){return{allDay:{},timed:{}}},i.prototype.getKeysForDateSpan=function(t){return t.allDay?["allDay"]:["timed"]},i.prototype.getKeysForEventDef=function(t){return t.allDay?function Kh(n){return"background"===n.ui.display||"inverse-background"===n.ui.display}(t)?["timed","allDay"]:["allDay"]:["timed"]},i}(Fg),LC=B({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function xs(n){var i=["fc-timegrid-slot","fc-timegrid-slot-label",n.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return g(xe.Consumer,null,function(t){if(!n.isLabeled)return g("td",{className:i.join(" "),"data-time":n.isoTimeStr});var r=t.dateEnv,o=t.options,a=t.viewApi,s=null==o.slotLabelFormat?LC:Array.isArray(o.slotLabelFormat)?B(o.slotLabelFormat[0]):B(o.slotLabelFormat),l={level:0,time:n.time,date:r.toDate(n.date),view:a,text:r.format(n.date,s)};return g(se,{hookProps:l,classNames:o.slotLabelClassNames,content:o.slotLabelContent,defaultContent:JC,didMount:o.slotLabelDidMount,willUnmount:o.slotLabelWillUnmount},function(c,d,p,u){return g("td",{ref:c,className:i.concat(d).join(" "),"data-time":n.isoTimeStr},g("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},g("div",{className:"fc-timegrid-slot-label-cushion fc-scrollgrid-shrink-cushion",ref:p},u)))})})}function JC(n){return n.text}var BC=function(n){function i(){return null!==n&&n.apply(this,arguments)||this}return(0,f.ZT)(i,n),i.prototype.render=function(){return this.props.slatMetas.map(function(t){return g("tr",{key:t.key},g(xs,(0,f.pi)({},t)))})},i}(U),YC=B({week:"short"}),VC=function(n){function i(){var t=null!==n&&n.apply(this,arguments)||this;return t.allDaySplitter=new HC,t.headerElRef=W(),t.rootElRef=W(),t.scrollerElRef=W(),t.state={slatCoords:null},t.handleScrollTopRequest=function(r){var o=t.scrollerElRef.current;o&&(o.scrollTop=r)},t.renderHeadAxis=function(r,o){void 0===o&&(o="");var a=t.context.options,l=t.props.dateProfile.renderRange,d=1===Ie(l.start,l.end)?pt(t.context,l.start,"week"):{};return a.weekNumbers&&"day"===r?g(as,{date:l.start,defaultFormat:YC},function(p,u,m,h){return g("th",{ref:p,"aria-hidden":!0,className:["fc-timegrid-axis","fc-scrollgrid-shrink"].concat(u).join(" ")},g("div",{className:"fc-timegrid-axis-frame fc-scrollgrid-shrink-frame fc-timegrid-axis-frame-liquid",style:{height:o}},g("a",(0,f.pi)({ref:m,className:"fc-timegrid-axis-cushion fc-scrollgrid-shrink-cushion fc-scrollgrid-sync-inner"},d),h)))}):g("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},g("div",{className:"fc-timegrid-axis-frame",style:{height:o}}))},t.renderTableRowAxis=function(r){var o=t.context,a=o.options;return g(se,{hookProps:{text:a.allDayText,view:o.viewApi},classNames:a.allDayClassNames,content:a.allDayContent,defaultContent:zC,didMount:a.allDayDidMount,willUnmount:a.allDayWillUnmount},function(c,d,p,u){return g("td",{ref:c,"aria-hidden":!0,className:["fc-timegrid-axis","fc-scrollgrid-shrink"].concat(d).join(" ")},g("div",{className:"fc-timegrid-axis-frame fc-scrollgrid-shrink-frame"+(null==r?" fc-timegrid-axis-frame-liquid":""),style:{height:r}},g("span",{className:"fc-timegrid-axis-cushion fc-scrollgrid-shrink-cushion fc-scrollgrid-sync-inner",ref:p},u)))})},t.handleSlatCoords=function(r){t.setState({slatCoords:r})},t}return(0,f.ZT)(i,n),i.prototype.renderSimpleLayout=function(t,r,o){var s=this.context,l=this.props,c=[],d=Dn(s.options);return t&&c.push({type:"header",key:"header",isSticky:d,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:t}}),r&&(c.push({type:"body",key:"all-day",chunk:{content:r}}),c.push({type:"body",key:"all-day-divider",outerContent:g("tr",{role:"presentation",className:"fc-scrollgrid-section"},g("td",{className:"fc-timegrid-divider "+s.theme.getClass("tableCellShaded")}))})),c.push({type:"body",key:"body",liquid:!0,expandRows:Boolean(s.options.expandRows),chunk:{scrollerElRef:this.scrollerElRef,content:o}}),g(ut,{viewSpec:s.viewSpec,elRef:this.rootElRef},function(p,u){return g("div",{className:["fc-timegrid"].concat(u).join(" "),ref:p},g(Wi,{liquid:!l.isHeightAuto&&!l.forPrint,collapsibleWidth:l.forPrint,cols:[{width:"shrink"}],sections:c}))})},i.prototype.renderHScrollLayout=function(t,r,o,a,s,l,c){var d=this,p=this.context.pluginHooks.scrollGridImpl;if(!p)throw new Error("No ScrollGrid implementation");var m=this.context,h=this.props,v=!h.forPrint&&Dn(m.options),y=!h.forPrint&&ts(m.options),C=[];t&&C.push({type:"header",key:"header",isSticky:v,syncRowHeights:!0,chunks:[{key:"axis",rowContent:function(T){return g("tr",{role:"presentation"},d.renderHeadAxis("day",T.rowSyncHeights[0]))}},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:t}]}),r&&(C.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:function(T){return g("tr",{role:"presentation"},d.renderTableRowAxis(T.rowSyncHeights[0]))}},{key:"cols",content:r}]}),C.push({key:"all-day-divider",type:"body",outerContent:g("tr",{role:"presentation",className:"fc-scrollgrid-section"},g("td",{colSpan:2,className:"fc-timegrid-divider "+m.theme.getClass("tableCellShaded")}))}));var _=m.options.nowIndicator;return C.push({type:"body",key:"body",liquid:!0,expandRows:Boolean(m.options.expandRows),chunks:[{key:"axis",content:function(T){return g("div",{className:"fc-timegrid-axis-chunk"},g("table",{"aria-hidden":!0,style:{height:T.expandRows?T.clientHeight:""}},T.tableColGroupNode,g("tbody",null,g(BC,{slatMetas:l}))),g("div",{className:"fc-timegrid-now-indicator-container"},g(Nt,{unit:_?"minute":"day"},function(A){var S=_&&c&&c.safeComputeTop(A);return"number"==typeof S?g(ji,{isAxis:!0,date:A},function(I,M,F,D){return g("div",{ref:I,className:["fc-timegrid-now-indicator-arrow"].concat(M).join(" "),style:{top:S}},D)}):null})))}},{key:"cols",scrollerElRef:this.scrollerElRef,content:o}]}),y&&C.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:Gi},{key:"cols",content:Gi}]}),g(ut,{viewSpec:m.viewSpec,elRef:this.rootElRef},function(T,A){return g("div",{className:["fc-timegrid"].concat(A).join(" "),ref:T},g(p,{liquid:!h.isHeightAuto&&!h.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:a,minWidth:s}]}],sections:C}))})},i.prototype.getAllDayMaxEventProps=function(){var t=this.context.options,r=t.dayMaxEvents,o=t.dayMaxEventRows;return(!0===r||!0===o)&&(r=void 0,o=5),{dayMaxEvents:r,dayMaxEventRows:o}},i}(me);function zC(n){return n.text}var GC=function(){function n(i,t,r){this.positions=i,this.dateProfile=t,this.slotDuration=r}return n.prototype.safeComputeTop=function(i){var t=this.dateProfile;if(Ue(t.currentRange,i)){var r=q(i),o=i.valueOf()-r.valueOf();if(o>=ae(t.slotMinTime)&&o<ae(t.slotMaxTime))return this.computeTimeTop(N(o))}return null},n.prototype.computeDateTop=function(i,t){return t||(t=q(i)),this.computeTimeTop(N(i.valueOf()-t.valueOf()))},n.prototype.computeTimeTop=function(i){var l,c,r=this.positions,a=r.els.length,s=(i.milliseconds-ae(this.dateProfile.slotMinTime))/ae(this.slotDuration);return s=Math.max(0,s),s=Math.min(a,s),l=Math.floor(s),c=s-(l=Math.min(l,a-1)),r.tops[l]+r.getHeight(l)*c},n}(),WC=function(n){function i(){return null!==n&&n.apply(this,arguments)||this}return(0,f.ZT)(i,n),i.prototype.render=function(){var r=this.props,o=this.context,a=o.options,s=r.slatElRefs;return g("tbody",null,r.slatMetas.map(function(l,c){var d={time:l.time,date:o.dateEnv.toDate(l.date),view:o.viewApi},p=["fc-timegrid-slot","fc-timegrid-slot-lane",l.isLabeled?"":"fc-timegrid-slot-minor"];return g("tr",{key:l.key,ref:s.createRef(l.key)},r.axis&&g(xs,(0,f.pi)({},l)),g(se,{hookProps:d,classNames:a.slotLaneClassNames,content:a.slotLaneContent,didMount:a.slotLaneDidMount,willUnmount:a.slotLaneWillUnmount},function(u,m,h,v){return g("td",{ref:u,className:p.concat(m).join(" "),"data-time":l.isoTimeStr},v)}))}))},i}(U),jC=function(n){function i(){var t=null!==n&&n.apply(this,arguments)||this;return t.rootElRef=W(),t.slatElRefs=new Ae,t}return(0,f.ZT)(i,n),i.prototype.render=function(){var r=this.props;return g("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},g("table",{"aria-hidden":!0,className:this.context.theme.getClass("table"),style:{minWidth:r.tableMinWidth,width:r.clientWidth,height:r.minHeight}},r.tableColGroupNode,g(WC,{slatElRefs:this.slatElRefs,axis:r.axis,slatMetas:r.slatMetas})))},i.prototype.componentDidMount=function(){this.updateSizing()},i.prototype.componentDidUpdate=function(){this.updateSizing()},i.prototype.componentWillUnmount=function(){this.props.onCoords&&this.props.onCoords(null)},i.prototype.updateSizing=function(){var r=this.context,o=this.props;o.onCoords&&null!==o.clientWidth&&this.rootElRef.current.offsetHeight&&o.onCoords(new GC(new It(this.rootElRef.current,function $C(n,i){return i.map(function(t){return n[t.key]})}(this.slatElRefs.currentMap,o.slatMetas),!1,!0),this.props.dateProfile,r.options.slotDuration))},i}(U);function Ut(n,i){var r,t=[];for(r=0;r<i;r+=1)t.push([]);if(n)for(r=0;r<n.length;r+=1)t[n[r].col].push(n[r]);return t}function As(n,i){var t=[];if(n){for(var r=0;r<i;r+=1)t[r]={affectedInstances:n.affectedInstances,isEvent:n.isEvent,segs:[]};for(var o=0,a=n.segs;o<a.length;o++){var s=a[o];t[s.col].segs.push(s)}}else for(r=0;r<i;r+=1)t[r]=null;return t}var KC=function(n){function i(){var t=null!==n&&n.apply(this,arguments)||this;return t.rootElRef=W(),t}return(0,f.ZT)(i,n),i.prototype.render=function(){var t=this,r=this.props;return g(ss,{allDayDate:null,moreCnt:r.hiddenSegs.length,allSegs:r.hiddenSegs,hiddenSegs:r.hiddenSegs,alignmentElRef:this.rootElRef,defaultContent:XC,extraDateSpan:r.extraDateSpan,dateProfile:r.dateProfile,todayRange:r.todayRange,popoverContent:function(){return ks(r.hiddenSegs,r)}},function(o,a,s,l,c,d,p,u){return g("a",{ref:function(m){fe(o,m),fe(t.rootElRef,m)},className:["fc-timegrid-more-link"].concat(a).join(" "),style:{top:r.top,bottom:r.bottom},onClick:c,title:d,"aria-expanded":p,"aria-controls":u},g("div",{ref:s,className:"fc-timegrid-more-link-inner fc-sticky"},l))})},i}(U);function XC(n){return n.shortText}function Ss(n,i){if(!n)return[[],0];for(var t=n.level,o=n.lateralEnd,a=n.lateralStart,s=[];a<o;)s.push(i(t,a)),a+=1;return s.sort(n1),[s.map(i1),s[0][1]]}function n1(n,i){return i[1]-n[1]}function i1(n){return n[0]}function nr(n,i){var t={};return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var a=n.apply(void 0,r);return a in t?t[a]:t[a]=i.apply(void 0,r)}}function ws(n,i,t,r){void 0===t&&(t=null),void 0===r&&(r=0);var o=[];if(t)for(var a=0;a<n.length;a+=1){var s=n[a],l=t.computeDateTop(s.start,i),c=Math.max(l+(r||0),t.computeDateTop(s.end,i));o.push({start:Math.round(l),end:Math.round(c)})}return o}var l1=B({hour:"numeric",minute:"2-digit",meridiem:!1}),Ds=function(n){function i(){return null!==n&&n.apply(this,arguments)||this}return(0,f.ZT)(i,n),i.prototype.render=function(){var t=["fc-timegrid-event","fc-v-event"];return this.props.isShort&&t.push("fc-timegrid-event-short"),g(ns,(0,f.pi)({},this.props,{defaultTimeFormat:l1,extraClassNames:t}))},i}(U),c1=function(n){function i(){return null!==n&&n.apply(this,arguments)||this}return(0,f.ZT)(i,n),i.prototype.render=function(){var t=this.props;return g($i,{date:t.date,dateProfile:t.dateProfile,todayRange:t.todayRange,extraHookProps:t.extraHookProps},function(r,o){return o&&g("div",{className:"fc-timegrid-col-misc",ref:r},o)})},i}(U),d1=function(n){function i(){var t=null!==n&&n.apply(this,arguments)||this;return t.sortEventSegs=R(bi),t}return(0,f.ZT)(i,n),i.prototype.render=function(){var t=this,o=this.props,a=this.context,s=a.options.selectMirror,l=o.eventDrag&&o.eventDrag.segs||o.eventResize&&o.eventResize.segs||s&&o.dateSelectionSegs||[],c=o.eventDrag&&o.eventDrag.affectedInstances||o.eventResize&&o.eventResize.affectedInstances||{},d=this.sortEventSegs(o.fgEventSegs,a.options.eventOrder);return g(Ki,{elRef:o.elRef,date:o.date,dateProfile:o.dateProfile,todayRange:o.todayRange,extraHookProps:o.extraHookProps},function(p,u,m){return g("td",(0,f.pi)({ref:p,role:"gridcell",className:["fc-timegrid-col"].concat(u,o.extraClassNames||[]).join(" ")},m,o.extraDataAttrs),g("div",{className:"fc-timegrid-col-frame"},g("div",{className:"fc-timegrid-col-bg"},t.renderFillSegs(o.businessHourSegs,"non-business"),t.renderFillSegs(o.bgEventSegs,"bg-event"),t.renderFillSegs(o.dateSelectionSegs,"highlight")),g("div",{className:"fc-timegrid-col-events"},t.renderFgSegs(d,c,!1,!1,!1)),g("div",{className:"fc-timegrid-col-events"},t.renderFgSegs(l,{},Boolean(o.eventDrag),Boolean(o.eventResize),Boolean(s))),g("div",{className:"fc-timegrid-now-indicator-container"},t.renderNowIndicator(o.nowIndicatorSegs)),g(c1,{date:o.date,dateProfile:o.dateProfile,todayRange:o.todayRange,extraHookProps:o.extraHookProps})))})},i.prototype.renderFgSegs=function(t,r,o,a,s){var l=this.props;return l.forPrint?ks(t,l):this.renderPositionedFgSegs(t,r,o,a,s)},i.prototype.renderPositionedFgSegs=function(t,r,o,a,s){var l=this,c=this.context.options,d=c.eventMaxStack,p=c.eventShortHeight,u=c.eventOrderStrict,h=this.props,C=h.eventSelection,_=h.todayRange,T=h.nowDate,A=o||a||s,I=function s1(n,i,t,r){for(var o=[],a=[],s=0;s<n.length;s+=1){var l=i[s];l?o.push({index:s,thickness:1,span:l}):a.push(n[s])}for(var c=function e1(n,i,t){var r=new La;null!=i&&(r.strictOrder=i),null!=t&&(r.maxStackCnt=t);var a=function f_(n){for(var i=[],t=0,r=n;t<r.length;t++){for(var o=r[t],a=[],s={span:o.span,entries:[o]},l=0,c=i;l<c.length;l++){var d=c[l];Hi(d.span,s.span)?s={entries:d.entries.concat(s.entries),span:m_(d.span,s.span)}:a.push(d)}a.push(s),i=a}return i}(r.addSegs(n)),s=function t1(n){var i=n.entriesByLevel,t=nr(function(r,o){return r+":"+o},function(r,o){var a=function r1(n,i,t){for(var r=n.levelCoords,o=n.entriesByLevel,a=o[i][t],s=r[i]+a.thickness,l=r.length,c=i;c<l&&r[c]<s;c+=1);for(;c<l;c+=1){for(var d=o[c],p=void 0,u=Ji(d,a.span.start,qi),m=u[0]+u[1],h=m;(p=d[h])&&p.span.start<a.span.end;)h+=1;if(m<h)return{level:c,lateralStart:m,lateralEnd:h}}return null}(n,r,o),s=Ss(a,t),l=i[r][o];return[(0,f.pi)((0,f.pi)({},l),{nextLevelNodes:s[0]}),l.thickness+s[1]]});return Ss(i.length?{level:0,lateralStart:0,lateralEnd:i[0].length}:null,t)[0]}(r);s=function o1(n,i){var t=nr(function(r,o,a){return je(r)},function(r,o,a){var p,s=r.nextLevelNodes,l=r.thickness,c=l+a,d=l/c,u=[];if(s.length)for(var m=0,h=s;m<h.length;m++){var v=h[m];if(void 0===p)p=(y=t(v,o,c))[0],u.push(y[1]);else{var y=t(v,p,0);u.push(y[1])}}else p=i;var C=(p-o)*d;return[p-C,(0,f.pi)((0,f.pi)({},r),{thickness:C,nextLevelNodes:u})]});return n.map(function(r){return t(r,0,0)[1]})}(s,1);var l=function a1(n){var i=[],t=nr(function(o,a,s){return je(o)},function(o,a,s){var l=(0,f.pi)((0,f.pi)({},o),{levelCoord:a,stackDepth:s,stackForward:0});return i.push(l),l.stackForward=r(o.nextLevelNodes,a+o.thickness,s+1)+1});function r(o,a,s){for(var l=0,c=0,d=o;c<d.length;c++)l=Math.max(t(d[c],a,s),l);return l}return r(n,0,0),i}(s);return{segRects:l,hiddenGroups:a}}(o,t,r),p=c.hiddenGroups,u=[],m=0,h=c.segRects;m<h.length;m++){var v=h[m];u.push({seg:n[v.index],rect:v})}for(var y=0,C=a;y<C.length;y++)u.push({seg:C[y],rect:null});return{segPlacements:u,hiddenGroups:p}}(t,ws(t,h.date,h.slatCoords,c.eventMinHeight),u,d),M=I.segPlacements;return g(j,null,this.renderHiddenGroups(I.hiddenGroups,t),M.map(function(D){var H=D.seg,O=D.rect,le=H.eventRange.instance.instanceId,te=A||Boolean(!r[le]&&O),vt=ir(O&&O.span),_t=!A&&O?l.computeSegHStyle(O):{left:0,right:0},qt=Boolean(O)&&O.stackForward>0,Hb=Boolean(O)&&O.span.end-O.span.start<p;return g("div",{className:"fc-timegrid-event-harness"+(qt?" fc-timegrid-event-harness-inset":""),key:le,style:(0,f.pi)((0,f.pi)({visibility:te?"":"hidden"},vt),_t)},g(Ds,(0,f.pi)({seg:H,isDragging:o,isResizing:a,isDateSelecting:s,isSelected:le===C,isShort:Hb},Te(H,_,T))))}))},i.prototype.renderHiddenGroups=function(t,r){var o=this.props,a=o.extraDateSpan,s=o.dateProfile,l=o.todayRange,c=o.nowDate,d=o.eventSelection,p=o.eventDrag,u=o.eventResize;return g(j,null,t.map(function(m){var h=ir(m.span),v=function p1(n,i){return n.map(function(t){return i[t.index]})}(m.entries,r);return g(KC,{key:Jo(cs(v)),hiddenSegs:v,top:h.top,bottom:h.bottom,extraDateSpan:a,dateProfile:s,todayRange:l,nowDate:c,eventSelection:d,eventDrag:p,eventResize:u})}))},i.prototype.renderFillSegs=function(t,r){var a=this.props,c=ws(t,a.date,a.slatCoords,this.context.options.eventMinHeight).map(function(d,p){var u=t[p];return g("div",{key:na(u.eventRange),className:"fc-timegrid-bg-harness",style:ir(d)},"bg-event"===r?g(os,(0,f.pi)({seg:u},Te(u,a.todayRange,a.nowDate))):rs(r))});return g(j,null,c)},i.prototype.renderNowIndicator=function(t){var r=this.props,o=r.slatCoords,a=r.date;return o?t.map(function(s,l){return g(ji,{isAxis:!1,date:a,key:l},function(c,d,p,u){return g("div",{ref:c,className:["fc-timegrid-now-indicator-line"].concat(d).join(" "),style:{top:o.computeDateTop(s.start,a)}},u)})}):null},i.prototype.computeSegHStyle=function(t){var d,p,r=this.context,o=r.isRtl,s=r.options.slotEventOverlap,l=t.levelCoord,c=t.levelCoord+t.thickness;s&&(c=Math.min(1,l+2*(c-l))),o?(d=1-c,p=l):(d=l,p=1-c);var u={zIndex:t.stackDepth+1,left:100*d+"%",right:100*p+"%"};return s&&!t.stackForward&&(u[o?"marginLeft":"marginRight"]=20),u},i}(U);function ks(n,i){var t=i.todayRange,r=i.nowDate,o=i.eventSelection,a=i.eventDrag,s=i.eventResize,l=(a?a.affectedInstances:null)||(s?s.affectedInstances:null)||{};return g(j,null,n.map(function(c){var d=c.eventRange.instance.instanceId;return g("div",{key:d,style:{visibility:l[d]?"hidden":""}},g(Ds,(0,f.pi)({seg:c,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:d===o,isShort:!1},Te(c,t,r))))}))}function ir(n){return n?{top:n.start,bottom:-n.end}:{top:"",bottom:""}}var u1=function(n){function i(){var t=null!==n&&n.apply(this,arguments)||this;return t.splitFgEventSegs=R(Ut),t.splitBgEventSegs=R(Ut),t.splitBusinessHourSegs=R(Ut),t.splitNowIndicatorSegs=R(Ut),t.splitDateSelectionSegs=R(Ut),t.splitEventDrag=R(As),t.splitEventResize=R(As),t.rootElRef=W(),t.cellElRefs=new Ae,t}return(0,f.ZT)(i,n),i.prototype.render=function(){var t=this,o=this.props,s=this.context.options.nowIndicator&&o.slatCoords&&o.slatCoords.safeComputeTop(o.nowDate),l=o.cells.length,c=this.splitFgEventSegs(o.fgEventSegs,l),d=this.splitBgEventSegs(o.bgEventSegs,l),p=this.splitBusinessHourSegs(o.businessHourSegs,l),u=this.splitNowIndicatorSegs(o.nowIndicatorSegs,l),m=this.splitDateSelectionSegs(o.dateSelectionSegs,l),h=this.splitEventDrag(o.eventDrag,l),v=this.splitEventResize(o.eventResize,l);return g("div",{className:"fc-timegrid-cols",ref:this.rootElRef},g("table",{role:"presentation",style:{minWidth:o.tableMinWidth,width:o.clientWidth}},o.tableColGroupNode,g("tbody",{role:"presentation"},g("tr",{role:"row"},o.axis&&g("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},g("div",{className:"fc-timegrid-col-frame"},g("div",{className:"fc-timegrid-now-indicator-container"},"number"==typeof s&&g(ji,{isAxis:!0,date:o.nowDate},function(y,C,_,T){return g("div",{ref:y,className:["fc-timegrid-now-indicator-arrow"].concat(C).join(" "),style:{top:s}},T)})))),o.cells.map(function(y,C){return g(d1,{key:y.key,elRef:t.cellElRefs.createRef(y.key),dateProfile:o.dateProfile,date:y.date,nowDate:o.nowDate,todayRange:o.todayRange,extraHookProps:y.extraHookProps,extraDataAttrs:y.extraDataAttrs,extraClassNames:y.extraClassNames,extraDateSpan:y.extraDateSpan,fgEventSegs:c[C],bgEventSegs:d[C],businessHourSegs:p[C],nowIndicatorSegs:u[C],dateSelectionSegs:m[C],eventDrag:h[C],eventResize:v[C],slatCoords:o.slatCoords,eventSelection:o.eventSelection,forPrint:o.forPrint})})))))},i.prototype.componentDidMount=function(){this.updateCoords()},i.prototype.componentDidUpdate=function(){this.updateCoords()},i.prototype.updateCoords=function(){var t=this.props;t.onColCoords&&null!==t.clientWidth&&t.onColCoords(new It(this.rootElRef.current,function f1(n,i){return i.map(function(t){return n[t.key]})}(this.cellElRefs.currentMap,t.cells),!0,!1))},i}(U),m1=function(n){function i(){var t=null!==n&&n.apply(this,arguments)||this;return t.processSlotOptions=R(h1),t.state={slatCoords:null},t.handleRootEl=function(r){r?t.context.registerInteractiveComponent(t,{el:r,isHitComboAllowed:t.props.isHitComboAllowed}):t.context.unregisterInteractiveComponent(t)},t.handleScrollRequest=function(r){var o=t.props.onScrollTopRequest,a=t.state.slatCoords;if(o&&a){if(r.time){var s=a.computeTimeTop(r.time);(s=Math.ceil(s))&&(s+=1),o(s)}return!0}return!1},t.handleColCoords=function(r){t.colCoords=r},t.handleSlatCoords=function(r){t.setState({slatCoords:r}),t.props.onSlatCoords&&t.props.onSlatCoords(r)},t}return(0,f.ZT)(i,n),i.prototype.render=function(){var r=this.props,o=this.state;return g("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:r.clientWidth,minWidth:r.tableMinWidth}},g(jC,{axis:r.axis,dateProfile:r.dateProfile,slatMetas:r.slatMetas,clientWidth:r.clientWidth,minHeight:r.expandRows?r.clientHeight:"",tableMinWidth:r.tableMinWidth,tableColGroupNode:r.axis?r.tableColGroupNode:null,onCoords:this.handleSlatCoords}),g(u1,{cells:r.cells,axis:r.axis,dateProfile:r.dateProfile,businessHourSegs:r.businessHourSegs,bgEventSegs:r.bgEventSegs,fgEventSegs:r.fgEventSegs,dateSelectionSegs:r.dateSelectionSegs,eventSelection:r.eventSelection,eventDrag:r.eventDrag,eventResize:r.eventResize,todayRange:r.todayRange,nowDate:r.nowDate,nowIndicatorSegs:r.nowIndicatorSegs,clientWidth:r.clientWidth,tableMinWidth:r.tableMinWidth,tableColGroupNode:r.tableColGroupNode,slatCoords:o.slatCoords,onColCoords:this.handleColCoords,forPrint:r.forPrint}))},i.prototype.componentDidMount=function(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)},i.prototype.componentDidUpdate=function(t){this.scrollResponder.update(t.dateProfile!==this.props.dateProfile)},i.prototype.componentWillUnmount=function(){this.scrollResponder.detach()},i.prototype.queryHit=function(t,r){var o=this.context,a=o.dateEnv,l=this.colCoords,c=this.props.dateProfile,d=this.state.slatCoords,p=this.processSlotOptions(this.props.slotDuration,o.options.snapDuration),u=p.snapDuration,m=p.snapsPerSlot,h=l.leftToIndex(t),v=d.positions.topToIndex(r);if(null!=h&&null!=v){var y=this.props.cells[h],C=d.positions.tops[v],_=d.positions.getHeight(v),A=Math.floor((r-C)/_*m),I=this.props.cells[h].date,M=ci(c.slotMinTime,function yh(n,i){return{years:n.years*i,months:n.months*i,days:n.days*i,milliseconds:n.milliseconds*i}}(u,v*m+A)),F=a.add(I,M),D=a.add(F,u);return{dateProfile:c,dateSpan:(0,f.pi)({range:{start:F,end:D},allDay:!1},y.extraDateSpan),dayEl:l.els[h],rect:{left:l.lefts[h],right:l.rights[h],top:C,bottom:C+_},layer:0}}return null},i}(me);function h1(n,i){var t=i||n,r=di(n,t);return null===r&&(t=n,r=1),{snapDuration:t,snapsPerSlot:r}}var g1=function(n){function i(){return null!==n&&n.apply(this,arguments)||this}return(0,f.ZT)(i,n),i.prototype.sliceRange=function(t,r){for(var o=[],a=0;a<r.length;a+=1){var s=Ge(t,r[a]);s&&o.push({start:s.start,end:s.end,isStart:s.start.valueOf()===t.start.valueOf(),isEnd:s.end.valueOf()===t.end.valueOf(),col:a})}return o},i}(ja),v1=function(n){function i(){var t=null!==n&&n.apply(this,arguments)||this;return t.buildDayRanges=R(_1),t.slicer=new g1,t.timeColsRef=W(),t}return(0,f.ZT)(i,n),i.prototype.render=function(){var t=this,o=this.props,a=this.context,s=o.dateProfile,l=o.dayTableModel,c=a.options.nowIndicator,d=this.buildDayRanges(l,s,a.dateEnv);return g(Nt,{unit:c?"minute":"day"},function(p,u){return g(m1,(0,f.pi)({ref:t.timeColsRef},t.slicer.sliceProps(o,s,null,a,d),{forPrint:o.forPrint,axis:o.axis,dateProfile:s,slatMetas:o.slatMetas,slotDuration:o.slotDuration,cells:l.cells[0],tableColGroupNode:o.tableColGroupNode,tableMinWidth:o.tableMinWidth,clientWidth:o.clientWidth,clientHeight:o.clientHeight,expandRows:o.expandRows,nowDate:p,nowIndicatorSegs:c&&t.slicer.sliceNowDate(p,a,d),todayRange:u,onScrollTopRequest:o.onScrollTopRequest,onSlatCoords:o.onSlatCoords}))})},i}(me);function _1(n,i,t){for(var r=[],o=0,a=n.headerDates;o<a.length;o++){var s=a[o];r.push({start:t.add(s,i.slotMinTime),end:t.add(s,i.slotMaxTime)})}return r}var Zs=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function y1(n,i,t,r,o){for(var a=new Date(0),s=n,l=N(0),c=t||function C1(n){var i,t,r;for(i=Zs.length-1;i>=0;i-=1)if(null!==(r=di(t=N(Zs[i]),n))&&r>1)return t;return n}(r),d=[];ae(s)<ae(i);){var p=o.add(a,s),u=null!==di(l,c);d.push({date:p,time:s,key:p.toISOString(),isoTimeStr:Eh(p),isLabeled:u}),s=ci(s,r),l=ci(l,r)}return d}var b1=function(n){function i(){var t=null!==n&&n.apply(this,arguments)||this;return t.buildTimeColsModel=R(E1),t.buildSlatMetas=R(y1),t}return(0,f.ZT)(i,n),i.prototype.render=function(){var t=this,r=this.context,o=r.options,a=r.dateEnv,l=this.props,c=l.dateProfile,d=this.buildTimeColsModel(c,r.dateProfileGenerator),p=this.allDaySplitter.splitProps(l),u=this.buildSlatMetas(c.slotMinTime,c.slotMaxTime,o.slotLabelInterval,o.slotDuration,a),m=o.dayMinWidth,h=!m,v=m,y=o.dayHeaders&&g(za,{dates:d.headerDates,dateProfile:c,datesRepDistinctDays:!0,renderIntro:h?this.renderHeadAxis:null}),C=!1!==o.allDaySlot&&function(T){return g(Ts,(0,f.pi)({},p.allDay,{dateProfile:c,dayTableModel:d,nextDayThreshold:o.nextDayThreshold,tableMinWidth:T.tableMinWidth,colGroupNode:T.tableColGroupNode,renderRowIntro:h?t.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:t.headerElRef,clientWidth:T.clientWidth,clientHeight:T.clientHeight,forPrint:l.forPrint},t.getAllDayMaxEventProps()))},_=function(T){return g(v1,(0,f.pi)({},p.timed,{dayTableModel:d,dateProfile:c,axis:h,slotDuration:o.slotDuration,slatMetas:u,forPrint:l.forPrint,tableColGroupNode:T.tableColGroupNode,tableMinWidth:T.tableMinWidth,clientWidth:T.clientWidth,clientHeight:T.clientHeight,onSlatCoords:t.handleSlatCoords,expandRows:T.expandRows,onScrollTopRequest:t.handleScrollTopRequest}))};return v?this.renderHScrollLayout(y,C,_,d.colCnt,m,u,this.state.slatCoords):this.renderSimpleLayout(y,C,_)},i}(VC);function E1(n,i){var t=new Ga(n.renderRange,i);return new Wa(t,!1)}const A1=he({initialView:"timeGridWeek",optionRefiners:{allDaySlot:Boolean},views:{timeGrid:{component:b1,usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});Sn.touchMouseIgnoreWait=500;var rr=0,In=0,or=!1,ar=function(){function n(i){var t=this;this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=function(r){if(!t.shouldIgnoreMouse()&&function S1(n){return 0===n.button&&!n.ctrlKey}(r)&&t.tryStart(r)){var o=t.createEventFromMouse(r,!0);t.emitter.trigger("pointerdown",o),t.initScrollWatch(o),t.shouldIgnoreMove||document.addEventListener("mousemove",t.handleMouseMove),document.addEventListener("mouseup",t.handleMouseUp)}},this.handleMouseMove=function(r){var o=t.createEventFromMouse(r);t.recordCoords(o),t.emitter.trigger("pointermove",o)},this.handleMouseUp=function(r){document.removeEventListener("mousemove",t.handleMouseMove),document.removeEventListener("mouseup",t.handleMouseUp),t.emitter.trigger("pointerup",t.createEventFromMouse(r)),t.cleanup()},this.handleTouchStart=function(r){if(t.tryStart(r)){t.isTouchDragging=!0;var o=t.createEventFromTouch(r,!0);t.emitter.trigger("pointerdown",o),t.initScrollWatch(o);var a=r.target;t.shouldIgnoreMove||a.addEventListener("touchmove",t.handleTouchMove),a.addEventListener("touchend",t.handleTouchEnd),a.addEventListener("touchcancel",t.handleTouchEnd),window.addEventListener("scroll",t.handleTouchScroll,!0)}},this.handleTouchMove=function(r){var o=t.createEventFromTouch(r);t.recordCoords(o),t.emitter.trigger("pointermove",o)},this.handleTouchEnd=function(r){if(t.isDragging){var o=r.target;o.removeEventListener("touchmove",t.handleTouchMove),o.removeEventListener("touchend",t.handleTouchEnd),o.removeEventListener("touchcancel",t.handleTouchEnd),window.removeEventListener("scroll",t.handleTouchScroll,!0),t.emitter.trigger("pointerup",t.createEventFromTouch(r)),t.cleanup(),t.isTouchDragging=!1,function w1(){rr+=1,setTimeout(function(){rr-=1},Sn.touchMouseIgnoreWait)}()}},this.handleTouchScroll=function(){t.wasTouchScroll=!0},this.handleScroll=function(r){if(!t.shouldIgnoreMove){var o=window.pageXOffset-t.prevScrollX+t.prevPageX,a=window.pageYOffset-t.prevScrollY+t.prevPageY;t.emitter.trigger("pointermove",{origEvent:r,isTouch:t.isTouchDragging,subjectEl:t.subjectEl,pageX:o,pageY:a,deltaX:o-t.origPageX,deltaY:a-t.origPageY})}},this.containerEl=i,this.emitter=new Tn,i.addEventListener("mousedown",this.handleMouseDown),i.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),function D1(){1===(In+=1)&&window.addEventListener("touchmove",Rs,{passive:!1})}()}return n.prototype.destroy=function(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),function k1(){(In-=1)||window.removeEventListener("touchmove",Rs,{passive:!1})}()},n.prototype.tryStart=function(i){var t=this.querySubjectEl(i);return!(!t||this.handleSelector&&!X(i.target,this.handleSelector)||(this.subjectEl=t,this.isDragging=!0,this.wasTouchScroll=!1,0))},n.prototype.cleanup=function(){or=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()},n.prototype.querySubjectEl=function(i){return this.selector?X(i.target,this.selector):this.containerEl},n.prototype.shouldIgnoreMouse=function(){return rr||this.isTouchDragging},n.prototype.cancelTouchScroll=function(){this.isDragging&&(or=!0)},n.prototype.initScrollWatch=function(i){this.shouldWatchScroll&&(this.recordCoords(i),window.addEventListener("scroll",this.handleScroll,!0))},n.prototype.recordCoords=function(i){this.shouldWatchScroll&&(this.prevPageX=i.pageX,this.prevPageY=i.pageY,this.prevScrollX=window.pageXOffset,this.prevScrollY=window.pageYOffset)},n.prototype.destroyScrollWatch=function(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)},n.prototype.createEventFromMouse=function(i,t){var r=0,o=0;return t?(this.origPageX=i.pageX,this.origPageY=i.pageY):(r=i.pageX-this.origPageX,o=i.pageY-this.origPageY),{origEvent:i,isTouch:!1,subjectEl:this.subjectEl,pageX:i.pageX,pageY:i.pageY,deltaX:r,deltaY:o}},n.prototype.createEventFromTouch=function(i,t){var o,a,r=i.touches,s=0,l=0;return r&&r.length?(o=r[0].pageX,a=r[0].pageY):(o=i.pageX,a=i.pageY),t?(this.origPageX=o,this.origPageY=a):(s=o-this.origPageX,l=a-this.origPageY),{origEvent:i,isTouch:!0,subjectEl:this.subjectEl,pageX:o,pageY:a,deltaX:s,deltaY:l}},n}();function Rs(n){or&&n.preventDefault()}var Z1=function(){function n(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}return n.prototype.start=function(i,t,r){this.sourceEl=i,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=t-window.pageXOffset,this.origScreenY=r-window.pageYOffset,this.deltaX=0,this.deltaY=0,this.updateElPosition()},n.prototype.handleMove=function(i,t){this.deltaX=i-window.pageXOffset-this.origScreenX,this.deltaY=t-window.pageYOffset-this.origScreenY,this.updateElPosition()},n.prototype.setIsVisible=function(i){i?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=i,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=i)},n.prototype.stop=function(i,t){var r=this,o=function(){r.cleanup(),t()};i&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(o,this.revertDuration):setTimeout(o,0)},n.prototype.doRevertAnimation=function(i,t){var r=this.mirrorEl,o=this.sourceEl.getBoundingClientRect();r.style.transition="top "+t+"ms,left "+t+"ms",Dt(r,{left:o.left,top:o.top}),function Bm(n,i){var t=function(r){i(r),ko.forEach(function(o){n.removeEventListener(o,t)})};ko.forEach(function(r){n.addEventListener(r,t)})}(r,function(){r.style.transition="",i()})},n.prototype.cleanup=function(){this.mirrorEl&&(ii(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null},n.prototype.updateElPosition=function(){this.sourceEl&&this.isVisible&&Dt(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})},n.prototype.getMirrorEl=function(){var i=this.sourceElRect,t=this.mirrorEl;return t||((t=this.mirrorEl=this.sourceEl.cloneNode(!0)).classList.add("fc-unselectable"),t.classList.add("fc-event-dragging"),Dt(t,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:i.right-i.left,height:i.bottom-i.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(t)),t},n}(),Ms=function(n){function i(t,r){var o=n.call(this)||this;return o.handleScroll=function(){o.scrollTop=o.scrollController.getScrollTop(),o.scrollLeft=o.scrollController.getScrollLeft(),o.handleScrollChange()},o.scrollController=t,o.doesListening=r,o.scrollTop=o.origScrollTop=t.getScrollTop(),o.scrollLeft=o.origScrollLeft=t.getScrollLeft(),o.scrollWidth=t.getScrollWidth(),o.scrollHeight=t.getScrollHeight(),o.clientWidth=t.getClientWidth(),o.clientHeight=t.getClientHeight(),o.clientRect=o.computeClientRect(),o.doesListening&&o.getEventTarget().addEventListener("scroll",o.handleScroll),o}return(0,f.ZT)(i,n),i.prototype.destroy=function(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)},i.prototype.getScrollTop=function(){return this.scrollTop},i.prototype.getScrollLeft=function(){return this.scrollLeft},i.prototype.setScrollTop=function(t){this.scrollController.setScrollTop(t),this.doesListening||(this.scrollTop=Math.max(Math.min(t,this.getMaxScrollTop()),0),this.handleScrollChange())},i.prototype.setScrollLeft=function(t){this.scrollController.setScrollLeft(t),this.doesListening||(this.scrollLeft=Math.max(Math.min(t,this.getMaxScrollLeft()),0),this.handleScrollChange())},i.prototype.getClientWidth=function(){return this.clientWidth},i.prototype.getClientHeight=function(){return this.clientHeight},i.prototype.getScrollWidth=function(){return this.scrollWidth},i.prototype.getScrollHeight=function(){return this.scrollHeight},i.prototype.handleScrollChange=function(){},i}(Ii),Is=function(n){function i(t,r){return n.call(this,new $g(t),r)||this}return(0,f.ZT)(i,n),i.prototype.getEventTarget=function(){return this.scrollController.el},i.prototype.computeClientRect=function(){return Qg(this.scrollController.el)},i}(Ms),R1=function(n){function i(t){return n.call(this,new Kg,t)||this}return(0,f.ZT)(i,n),i.prototype.getEventTarget=function(){return window},i.prototype.computeClientRect=function(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}},i.prototype.handleScrollChange=function(){this.clientRect=this.computeClientRect()},i}(Ms),Ps="function"==typeof performance?performance.now:Date.now,M1=function(){function n(){var i=this;this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=function(){if(i.isAnimating){var t=i.computeBestEdge(i.pointerScreenX+window.pageXOffset,i.pointerScreenY+window.pageYOffset);if(t){var r=Ps();i.handleSide(t,(r-i.msSinceRequest)/1e3),i.requestAnimation(r)}else i.isAnimating=!1}}}return n.prototype.start=function(i,t,r){this.isEnabled&&(this.scrollCaches=this.buildCaches(r),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(i,t))},n.prototype.handleMove=function(i,t){if(this.isEnabled){var r=i-window.pageXOffset,o=t-window.pageYOffset,a=null===this.pointerScreenY?0:o-this.pointerScreenY,s=null===this.pointerScreenX?0:r-this.pointerScreenX;a<0?this.everMovedUp=!0:a>0&&(this.everMovedDown=!0),s<0?this.everMovedLeft=!0:s>0&&(this.everMovedRight=!0),this.pointerScreenX=r,this.pointerScreenY=o,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(Ps()))}},n.prototype.stop=function(){if(this.isEnabled){this.isAnimating=!1;for(var i=0,t=this.scrollCaches;i<t.length;i++)t[i].destroy();this.scrollCaches=null}},n.prototype.requestAnimation=function(i){this.msSinceRequest=i,requestAnimationFrame(this.animate)},n.prototype.handleSide=function(i,t){var r=i.scrollCache,o=this.edgeThreshold,a=o-i.distance,s=a*a/(o*o)*this.maxVelocity*t,l=1;switch(i.name){case"left":l=-1;case"right":r.setScrollLeft(r.getScrollLeft()+s*l);break;case"top":l=-1;case"bottom":r.setScrollTop(r.getScrollTop()+s*l)}},n.prototype.computeBestEdge=function(i,t){for(var r=this.edgeThreshold,o=null,s=0,l=this.scrollCaches||[];s<l.length;s++){var c=l[s],d=c.clientRect,p=i-d.left,u=d.right-i,m=t-d.top,h=d.bottom-t;p>=0&&u>=0&&m>=0&&h>=0&&(m<=r&&this.everMovedUp&&c.canScrollUp()&&(!o||o.distance>m)&&(o={scrollCache:c,name:"top",distance:m}),h<=r&&this.everMovedDown&&c.canScrollDown()&&(!o||o.distance>h)&&(o={scrollCache:c,name:"bottom",distance:h}),p<=r&&this.everMovedLeft&&c.canScrollLeft()&&(!o||o.distance>p)&&(o={scrollCache:c,name:"left",distance:p}),u<=r&&this.everMovedRight&&c.canScrollRight()&&(!o||o.distance>u)&&(o={scrollCache:c,name:"right",distance:u}))}return o},n.prototype.buildCaches=function(i){return this.queryScrollEls(i).map(function(t){return t===window?new R1(!1):new Is(t,!1)})},n.prototype.queryScrollEls=function(i){for(var t=[],r=0,o=this.scrollQuery;r<o.length;r++){var a=o[r];"object"==typeof a?t.push(a):t.push.apply(t,Array.prototype.slice.call(So(i).querySelectorAll(a)))}return t},n}(),gt=function(n){function i(t,r){var o=n.call(this,t)||this;o.containerEl=t,o.delay=null,o.minDistance=0,o.touchScrollAllowed=!0,o.mirrorNeedsRevert=!1,o.isInteracting=!1,o.isDragging=!1,o.isDelayEnded=!1,o.isDistanceSurpassed=!1,o.delayTimeoutId=null,o.onPointerDown=function(s){o.isDragging||(o.isInteracting=!0,o.isDelayEnded=!1,o.isDistanceSurpassed=!1,function Ym(n){n.classList.add("fc-unselectable"),n.addEventListener("selectstart",Xt)}(document.body),function Vm(n){n.addEventListener("contextmenu",Xt)}(document.body),s.isTouch||s.origEvent.preventDefault(),o.emitter.trigger("pointerdown",s),o.isInteracting&&!o.pointer.shouldIgnoreMove&&(o.mirror.setIsVisible(!1),o.mirror.start(s.subjectEl,s.pageX,s.pageY),o.startDelay(s),o.minDistance||o.handleDistanceSurpassed(s)))},o.onPointerMove=function(s){if(o.isInteracting){if(o.emitter.trigger("pointermove",s),!o.isDistanceSurpassed){var l=o.minDistance,d=s.deltaX,p=s.deltaY;d*d+p*p>=l*l&&o.handleDistanceSurpassed(s)}o.isDragging&&("scroll"!==s.origEvent.type&&(o.mirror.handleMove(s.pageX,s.pageY),o.autoScroller.handleMove(s.pageX,s.pageY)),o.emitter.trigger("dragmove",s))}},o.onPointerUp=function(s){o.isInteracting&&(o.isInteracting=!1,function Qm(n){n.classList.remove("fc-unselectable"),n.removeEventListener("selectstart",Xt)}(document.body),function zm(n){n.removeEventListener("contextmenu",Xt)}(document.body),o.emitter.trigger("pointerup",s),o.isDragging&&(o.autoScroller.stop(),o.tryStopDrag(s)),o.delayTimeoutId&&(clearTimeout(o.delayTimeoutId),o.delayTimeoutId=null))};var a=o.pointer=new ar(t);return a.emitter.on("pointerdown",o.onPointerDown),a.emitter.on("pointermove",o.onPointerMove),a.emitter.on("pointerup",o.onPointerUp),r&&(a.selector=r),o.mirror=new Z1,o.autoScroller=new M1,o}return(0,f.ZT)(i,n),i.prototype.destroy=function(){this.pointer.destroy(),this.onPointerUp({})},i.prototype.startDelay=function(t){var r=this;"number"==typeof this.delay?this.delayTimeoutId=setTimeout(function(){r.delayTimeoutId=null,r.handleDelayEnd(t)},this.delay):this.handleDelayEnd(t)},i.prototype.handleDelayEnd=function(t){this.isDelayEnded=!0,this.tryStartDrag(t)},i.prototype.handleDistanceSurpassed=function(t){this.isDistanceSurpassed=!0,this.tryStartDrag(t)},i.prototype.tryStartDrag=function(t){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(t.pageX,t.pageY,this.containerEl),this.emitter.trigger("dragstart",t),!1===this.touchScrollAllowed&&this.pointer.cancelTouchScroll())},i.prototype.tryStopDrag=function(t){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,t))},i.prototype.stopDrag=function(t){this.isDragging=!1,this.emitter.trigger("dragend",t)},i.prototype.setIgnoreMove=function(t){this.pointer.shouldIgnoreMove=t},i.prototype.setMirrorIsVisible=function(t){this.mirror.setIsVisible(t)},i.prototype.setMirrorNeedsRevert=function(t){this.mirrorNeedsRevert=t},i.prototype.setAutoScrollEnabled=function(t){this.autoScroller.isEnabled=t},i}(Ja),I1=function(){function n(i){this.origRect=Mi(i),this.scrollCaches=ya(i).map(function(t){return new Is(t,!0)})}return n.prototype.destroy=function(){for(var i=0,t=this.scrollCaches;i<t.length;i++)t[i].destroy()},n.prototype.computeLeft=function(){for(var i=this.origRect.left,t=0,r=this.scrollCaches;t<r.length;t++){var o=r[t];i+=o.origScrollLeft-o.getScrollLeft()}return i},n.prototype.computeTop=function(){for(var i=this.origRect.top,t=0,r=this.scrollCaches;t<r.length;t++){var o=r[t];i+=o.origScrollTop-o.getScrollTop()}return i},n.prototype.isWithinClipping=function(i,t){for(var r={left:i,top:t},o=0,a=this.scrollCaches;o<a.length;o++){var s=a[o];if(!P1(s.getEventTarget())&&!Rg(r,s.clientRect))return!1}return!0},n}();function P1(n){var i=n.tagName;return"HTML"===i||"BODY"===i}var Ot=function(){function n(i,t){var r=this;this.useSubjectCenter=!1,this.requireInitial=!0,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=function(o){var a=r.dragging;r.initialHit=null,r.movingHit=null,r.finalHit=null,r.prepareHits(),r.processFirstCoord(o),r.initialHit||!r.requireInitial?(a.setIgnoreMove(!1),r.emitter.trigger("pointerdown",o)):a.setIgnoreMove(!0)},this.handleDragStart=function(o){r.emitter.trigger("dragstart",o),r.handleMove(o,!0)},this.handleDragMove=function(o){r.emitter.trigger("dragmove",o),r.handleMove(o)},this.handlePointerUp=function(o){r.releaseHits(),r.emitter.trigger("pointerup",o)},this.handleDragEnd=function(o){r.movingHit&&r.emitter.trigger("hitupdate",null,!0,o),r.finalHit=r.movingHit,r.movingHit=null,r.emitter.trigger("dragend",o)},this.droppableStore=t,i.emitter.on("pointerdown",this.handlePointerDown),i.emitter.on("dragstart",this.handleDragStart),i.emitter.on("dragmove",this.handleDragMove),i.emitter.on("pointerup",this.handlePointerUp),i.emitter.on("dragend",this.handleDragEnd),this.dragging=i,this.emitter=new Tn}return n.prototype.processFirstCoord=function(i){var a,t={left:i.pageX,top:i.pageY},r=t,o=i.subjectEl;o instanceof HTMLElement&&(r=function Mg(n,i){return{left:Math.min(Math.max(n.left,i.left),i.right),top:Math.min(Math.max(n.top,i.top),i.bottom)}}(r,a=Mi(o)));var s=this.initialHit=this.queryHitForOffset(r.left,r.top);if(s){if(this.useSubjectCenter&&a){var l=ga(a,s.rect);l&&(r=function Ig(n){return{left:(n.left+n.right)/2,top:(n.top+n.bottom)/2}}(l))}this.coordAdjust=function Pg(n,i){return{left:n.left-i.left,top:n.top-i.top}}(r,t)}else this.coordAdjust={left:0,top:0}},n.prototype.handleMove=function(i,t){var r=this.queryHitForOffset(i.pageX+this.coordAdjust.left,i.pageY+this.coordAdjust.top);(t||!Pn(this.movingHit,r))&&(this.movingHit=r,this.emitter.trigger("hitupdate",r,!1,i))},n.prototype.prepareHits=function(){this.offsetTrackers=Ce(this.droppableStore,function(i){return i.component.prepareHits(),new I1(i.el)})},n.prototype.releaseHits=function(){var i=this.offsetTrackers;for(var t in i)i[t].destroy();this.offsetTrackers={}},n.prototype.queryHitForOffset=function(i,t){var o=this.droppableStore,a=this.offsetTrackers,s=null;for(var l in o){var c=o[l].component,d=a[l];if(d&&d.isWithinClipping(i,t)){var p=d.computeLeft(),u=d.computeTop(),m=i-p,h=t-u,v=d.origRect,y=v.right-v.left,C=v.bottom-v.top;if(m>=0&&m<y&&h>=0&&h<C){var _=c.queryHit(m,h,y,C);_&&yn(_.dateProfile.activeRange,_.dateSpan.range)&&(!s||_.layer>s.layer)&&(_.componentId=l,_.context=c.context,_.rect.left+=p,_.rect.right+=p,_.rect.top+=u,_.rect.bottom+=u,s=_)}}}return s},n}();function Pn(n,i){return!n&&!i||Boolean(n)===Boolean(i)&&function sg(n,i){return function jh(n,i){return(null===n.start?null:n.start.valueOf())===(null===i.start?null:i.start.valueOf())&&(null===n.end?null:n.end.valueOf())===(null===i.end?null:i.end.valueOf())}(n.range,i.range)&&n.allDay===i.allDay&&function lg(n,i){for(var t in i)if("range"!==t&&"allDay"!==t&&n[t]!==i[t])return!1;for(var t in n)if(!(t in i))return!1;return!0}(n,i)}(n.dateSpan,i.dateSpan)}function sr(n,i){for(var t={},r=0,o=i.pluginHooks.datePointTransforms;r<o.length;r++)(0,f.pi)(t,(0,o[r])(n,i));return(0,f.pi)(t,function N1(n,i){return{date:i.toDate(n.range.start),dateStr:i.formatIso(n.range.start,{omitTime:n.allDay}),allDay:n.allDay}}(n,i.dateEnv)),t}var F1=function(n){function i(t){var r=n.call(this,t)||this;r.handlePointerDown=function(a){r.dragging.setIgnoreMove(!r.component.isValidDateDownEl(a.origEvent.target))},r.handleDragEnd=function(a){var s=r.component;if(!r.dragging.pointer.wasTouchScroll){var c=r.hitDragging,d=c.initialHit,p=c.finalHit;if(d&&p&&Pn(d,p)){var u=s.context,m=(0,f.pi)((0,f.pi)({},sr(d.dateSpan,u)),{dayEl:d.dayEl,jsEvent:a.origEvent,view:u.viewApi||u.calendarApi.view});u.emitter.trigger("dateClick",m)}}},r.dragging=new gt(t.el),r.dragging.autoScroller.isEnabled=!1;var o=r.hitDragging=new Ot(r.dragging,Bi(t));return o.emitter.on("pointerdown",r.handlePointerDown),o.emitter.on("dragend",r.handleDragEnd),r}return(0,f.ZT)(i,n),i.prototype.destroy=function(){this.dragging.destroy()},i}(ft),U1=function(n){function i(t){var r=n.call(this,t)||this;r.dragSelection=null,r.handlePointerDown=function(c){var p=r.component,u=r.dragging,h=p.context.options.selectable&&p.isValidDateDownEl(c.origEvent.target);u.setIgnoreMove(!h),u.delay=c.isTouch?function O1(n){var i=n.context.options,t=i.selectLongPressDelay;return null==t&&(t=i.longPressDelay),t}(p):null},r.handleDragStart=function(c){r.component.context.calendarApi.unselect(c)},r.handleHitUpdate=function(c,d){var p=r.component.context,u=null,m=!1;if(c){var h=r.hitDragging.initialHit;c.componentId===h.componentId&&r.isHitComboAllowed&&!r.isHitComboAllowed(h,c)||(u=function q1(n,i,t){var r=n.dateSpan,o=i.dateSpan,a=[r.range.start,r.range.end,o.range.start,o.range.end];a.sort(Km);for(var s={},l=0,c=t;l<c.length;l++){var p=(0,c[l])(n,i);if(!1===p)return null;p&&(0,f.pi)(s,p)}return s.range={start:a[0],end:a[3]},s.allDay=r.allDay,s}(h,c,p.pluginHooks.dateSelectionTransformers)),(!u||!function Z_(n,i,t){return!!yn(i.validRange,n.range)&&$a({dateSelection:n},t)}(u,c.dateProfile,p))&&(m=!0,u=null)}u?p.dispatch({type:"SELECT_DATES",selection:u}):d||p.dispatch({type:"UNSELECT_DATES"}),m?en():tn(),d||(r.dragSelection=u)},r.handlePointerUp=function(c){r.dragSelection&&(oa(r.dragSelection,c,r.component.context),r.dragSelection=null)};var a=t.component.context.options,s=r.dragging=new gt(t.el);s.touchScrollAllowed=!1,s.minDistance=a.selectMinDistance||0,s.autoScroller.isEnabled=a.dragScroll;var l=r.hitDragging=new Ot(r.dragging,Bi(t));return l.emitter.on("pointerdown",r.handlePointerDown),l.emitter.on("dragstart",r.handleDragStart),l.emitter.on("hitupdate",r.handleHitUpdate),l.emitter.on("pointerup",r.handlePointerUp),r}return(0,f.ZT)(i,n),i.prototype.destroy=function(){this.dragging.destroy()},i}(ft),Ns=function(n){function i(t){var r=n.call(this,t)||this;r.subjectEl=null,r.subjectSeg=null,r.isDragging=!1,r.eventRange=null,r.relevantEvents=null,r.receivingContext=null,r.validMutation=null,r.mutatedRelevantEvents=null,r.handlePointerDown=function(c){var d=c.origEvent.target,u=r.component,m=r.dragging,h=m.mirror,v=u.context.options,y=u.context;r.subjectEl=c.subjectEl;var C=r.subjectSeg=dt(c.subjectEl),T=(r.eventRange=C.eventRange).instance.instanceId;r.relevantEvents=mi(y.getCurrentData().eventStore,T),m.minDistance=c.isTouch?0:v.eventDragMinDistance,m.delay=c.isTouch&&T!==u.props.eventSelection?function L1(n){var i=n.context.options,t=i.eventLongPressDelay;return null==t&&(t=i.longPressDelay),t}(u):null,h.parentNode=v.fixedMirrorParent?v.fixedMirrorParent:X(d,".fc"),h.revertDuration=v.dragRevertDuration;var A=u.isValidSegDownEl(d)&&!X(d,".fc-event-resizer");m.setIgnoreMove(!A),r.isDragging=A&&c.subjectEl.classList.contains("fc-event-draggable")},r.handleDragStart=function(c){var d=r.component.context,p=r.eventRange,u=p.instance.instanceId;c.isTouch?u!==r.component.props.eventSelection&&d.dispatch({type:"SELECT_EVENT",eventInstanceId:u}):d.dispatch({type:"UNSELECT_EVENT"}),r.isDragging&&(d.calendarApi.unselect(c),d.emitter.trigger("eventDragStart",{el:r.subjectEl,event:new G(d,p.def,p.instance),jsEvent:c.origEvent,view:d.viewApi}))},r.handleHitUpdate=function(c,d){if(r.isDragging){var p=r.relevantEvents,u=r.hitDragging.initialHit,m=r.component.context,h=null,v=null,y=null,C=!1,_={affectedEvents:p,mutatedEvents:{defs:{},instances:{}},isEvent:!0};if(c){var T=(h=c.context).options;m===h||T.editable&&T.droppable?(v=function H1(n,i,t){var r=n.dateSpan,o=i.dateSpan,a=r.range.start,s=o.range.start,l={};r.allDay!==o.allDay&&(l.allDay=o.allDay,l.hasEnd=i.context.options.allDayMaintainDuration,o.allDay&&(a=q(a)));var c=ct(a,s,n.context.dateEnv,n.componentId===i.componentId?n.largeUnit:null);c.milliseconds&&(l.allDay=!1);for(var d={datesDelta:c,standardProps:l},p=0,u=t;p<u.length;p++)(0,u[p])(d,n,i);return d}(u,c,h.getCurrentData().pluginHooks.eventDragMutationMassagers),v&&(y=Ai(p,h.getCurrentData().eventUiBases,v,h),_.mutatedEvents=y,Vi(_,c.dateProfile,h)||(C=!0,v=null,y=null,_.mutatedEvents={defs:{},instances:{}}))):h=null}r.displayDrag(h,_),C?en():tn(),d||(m===h&&Pn(u,c)&&(v=null),r.dragging.setMirrorNeedsRevert(!v),r.dragging.setMirrorIsVisible(!c||!So(r.subjectEl).querySelector(".fc-event-mirror")),r.receivingContext=h,r.validMutation=v,r.mutatedRelevantEvents=y)}},r.handlePointerUp=function(){r.isDragging||r.cleanup()},r.handleDragEnd=function(c){if(r.isDragging){var d=r.component.context,p=d.viewApi,m=r.receivingContext,h=r.validMutation,v=r.eventRange.def,y=r.eventRange.instance,C=new G(d,v,y),_=r.relevantEvents,T=r.mutatedRelevantEvents,A=r.hitDragging.finalHit;if(r.clearDrag(),d.emitter.trigger("eventDragStop",{el:r.subjectEl,event:C,jsEvent:c.origEvent,view:p}),h){if(m===d){var S=new G(d,T.defs[v.defId],y?T.instances[y.instanceId]:null);d.dispatch({type:"MERGE_EVENTS",eventStore:T});for(var I={oldEvent:C,event:S,relatedEvents:We(T,d,y),revert:function(){d.dispatch({type:"MERGE_EVENTS",eventStore:_})}},M={},F=0,D=d.getCurrentData().pluginHooks.eventDropTransformers;F<D.length;F++)(0,f.pi)(M,(0,D[F])(h,d));d.emitter.trigger("eventDrop",(0,f.pi)((0,f.pi)((0,f.pi)({},I),M),{el:c.subjectEl,delta:h.datesDelta,jsEvent:c.origEvent,view:p})),d.emitter.trigger("eventChange",I)}else if(m){var O={event:C,relatedEvents:We(_,d,y),revert:function(){d.dispatch({type:"MERGE_EVENTS",eventStore:_})}};d.emitter.trigger("eventLeave",(0,f.pi)((0,f.pi)({},O),{draggedEl:c.subjectEl,view:p})),d.dispatch({type:"REMOVE_EVENTS",eventStore:_}),d.emitter.trigger("eventRemove",O);var te=T.instances[y.instanceId],vt=new G(m,T.defs[v.defId],te);m.dispatch({type:"MERGE_EVENTS",eventStore:T});var _t={event:vt,relatedEvents:We(T,m,te),revert:function(){m.dispatch({type:"REMOVE_EVENTS",eventStore:T})}};m.emitter.trigger("eventAdd",_t),c.isTouch&&m.dispatch({type:"SELECT_EVENT",eventInstanceId:y.instanceId}),m.emitter.trigger("drop",(0,f.pi)((0,f.pi)({},sr(A.dateSpan,m)),{draggedEl:c.subjectEl,jsEvent:c.origEvent,view:A.context.viewApi})),m.emitter.trigger("eventReceive",(0,f.pi)((0,f.pi)({},_t),{draggedEl:c.subjectEl,view:A.context.viewApi}))}}else d.emitter.trigger("_noEventDrop")}r.cleanup()};var a=r.component.context.options,s=r.dragging=new gt(t.el);s.pointer.selector=i.SELECTOR,s.touchScrollAllowed=!1,s.autoScroller.isEnabled=a.dragScroll;var l=r.hitDragging=new Ot(r.dragging,An);return l.useSubjectCenter=t.useEventCenter,l.emitter.on("pointerdown",r.handlePointerDown),l.emitter.on("dragstart",r.handleDragStart),l.emitter.on("hitupdate",r.handleHitUpdate),l.emitter.on("pointerup",r.handlePointerUp),l.emitter.on("dragend",r.handleDragEnd),r}return(0,f.ZT)(i,n),i.prototype.destroy=function(){this.dragging.destroy()},i.prototype.displayDrag=function(t,r){var a=this.receivingContext;a&&a!==t&&a.dispatch(a===this.component.context?{type:"SET_EVENT_DRAG",state:{affectedEvents:r.affectedEvents,mutatedEvents:{defs:{},instances:{}},isEvent:!0}}:{type:"UNSET_EVENT_DRAG"}),t&&t.dispatch({type:"SET_EVENT_DRAG",state:r})},i.prototype.clearDrag=function(){var t=this.component.context,r=this.receivingContext;r&&r.dispatch({type:"UNSET_EVENT_DRAG"}),t!==r&&t.dispatch({type:"UNSET_EVENT_DRAG"})},i.prototype.cleanup=function(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null},i.SELECTOR=".fc-event-draggable, .fc-event-resizable",i}(ft),J1=function(n){function i(t){var r=n.call(this,t)||this;r.draggingSegEl=null,r.draggingSeg=null,r.eventRange=null,r.relevantEvents=null,r.validMutation=null,r.mutatedRelevantEvents=null,r.handlePointerDown=function(l){var c=r.component,p=dt(r.querySegEl(l)),u=r.eventRange=p.eventRange;r.dragging.minDistance=c.context.options.eventDragMinDistance,r.dragging.setIgnoreMove(!r.component.isValidSegDownEl(l.origEvent.target)||l.isTouch&&r.component.props.eventSelection!==u.instance.instanceId)},r.handleDragStart=function(l){var c=r.component.context,d=r.eventRange;r.relevantEvents=mi(c.getCurrentData().eventStore,r.eventRange.instance.instanceId);var p=r.querySegEl(l);r.draggingSegEl=p,r.draggingSeg=dt(p),c.calendarApi.unselect(),c.emitter.trigger("eventResizeStart",{el:p,event:new G(c,d.def,d.instance),jsEvent:l.origEvent,view:c.viewApi})},r.handleHitUpdate=function(l,c,d){var p=r.component.context,u=r.relevantEvents,m=r.hitDragging.initialHit,h=r.eventRange.instance,v=null,y=null,C=!1,_={affectedEvents:u,mutatedEvents:{defs:{},instances:{}},isEvent:!0};l&&(l.componentId===m.componentId&&r.isHitComboAllowed&&!r.isHitComboAllowed(m,l)||(v=function B1(n,i,t,r){var o=n.context.dateEnv,l=ct(n.dateSpan.range.start,i.dateSpan.range.start,o,n.largeUnit);if(t){if(o.add(r.start,l)<r.end)return{startDelta:l}}else if(o.add(r.end,l)>r.start)return{endDelta:l};return null}(m,l,d.subjectEl.classList.contains("fc-event-resizer-start"),h.range))),v&&(y=Ai(u,p.getCurrentData().eventUiBases,v,p),_.mutatedEvents=y,Vi(_,l.dateProfile,p)||(C=!0,v=null,y=null,_.mutatedEvents=null)),p.dispatch(y?{type:"SET_EVENT_RESIZE",state:_}:{type:"UNSET_EVENT_RESIZE"}),C?en():tn(),c||(v&&Pn(m,l)&&(v=null),r.validMutation=v,r.mutatedRelevantEvents=y)},r.handleDragEnd=function(l){var c=r.component.context,d=r.eventRange.def,p=r.eventRange.instance,u=new G(c,d,p),m=r.relevantEvents,h=r.mutatedRelevantEvents;if(c.emitter.trigger("eventResizeStop",{el:r.draggingSegEl,event:u,jsEvent:l.origEvent,view:c.viewApi}),r.validMutation){var v=new G(c,h.defs[d.defId],p?h.instances[p.instanceId]:null);c.dispatch({type:"MERGE_EVENTS",eventStore:h});var y={oldEvent:u,event:v,relatedEvents:We(h,c,p),revert:function(){c.dispatch({type:"MERGE_EVENTS",eventStore:m})}};c.emitter.trigger("eventResize",(0,f.pi)((0,f.pi)({},y),{el:r.draggingSegEl,startDelta:r.validMutation.startDelta||N(0),endDelta:r.validMutation.endDelta||N(0),jsEvent:l.origEvent,view:c.viewApi})),c.emitter.trigger("eventChange",y)}else c.emitter.trigger("_noEventResize");r.draggingSeg=null,r.relevantEvents=null,r.validMutation=null};var o=t.component,a=r.dragging=new gt(t.el);a.pointer.selector=".fc-event-resizer",a.touchScrollAllowed=!1,a.autoScroller.isEnabled=o.context.options.dragScroll;var s=r.hitDragging=new Ot(r.dragging,Bi(t));return s.emitter.on("pointerdown",r.handlePointerDown),s.emitter.on("dragstart",r.handleDragStart),s.emitter.on("hitupdate",r.handleHitUpdate),s.emitter.on("dragend",r.handleDragEnd),r}return(0,f.ZT)(i,n),i.prototype.destroy=function(){this.dragging.destroy()},i.prototype.querySegEl=function(t){return X(t.subjectEl,".fc-event")},i}(ft),Y1=function(){function n(i){var t=this;this.context=i,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=function(o){o.jsEvent&&(t.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=function(o){var a=t.context.options.unselectCancel,s=Ao(o.origEvent);t.matchesCancel=!!X(s,a),t.matchesEvent=!!X(s,Ns.SELECTOR)},this.onDocumentPointerUp=function(o){var a=t.context,s=t.documentPointer,l=a.getCurrentData();if(!s.wasTouchScroll){if(l.dateSelection&&!t.isRecentPointerDateSelect){var c=a.options.unselectAuto;c&&(!c||!t.matchesCancel)&&a.calendarApi.unselect(o)}l.eventSelection&&!t.matchesEvent&&a.dispatch({type:"UNSELECT_EVENT"})}t.isRecentPointerDateSelect=!1};var r=this.documentPointer=new ar(document);r.shouldIgnoreMove=!0,r.shouldWatchScroll=!1,r.emitter.on("pointerdown",this.onDocumentPointerDown),r.emitter.on("pointerup",this.onDocumentPointerUp),i.emitter.on("select",this.onSelect)}return n.prototype.destroy=function(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()},n}(),Q1={fixedMirrorParent:b},V1={dateClick:b,eventDragStart:b,eventDragStop:b,eventDrop:b,eventResizeStart:b,eventResizeStop:b,eventResize:b,drop:b,eventReceive:b,eventLeave:b};!function(){function n(i,t){var r=this;this.receivingContext=null,this.droppableEvent=null,this.suppliedDragMeta=null,this.dragMeta=null,this.handleDragStart=function(a){r.dragMeta=r.buildDragMeta(a.subjectEl)},this.handleHitUpdate=function(a,s,l){var c=r.hitDragging.dragging,d=null,p=null,u=!1,m={affectedEvents:{defs:{},instances:{}},mutatedEvents:{defs:{},instances:{}},isEvent:r.dragMeta.create};a&&r.canDropElOnCalendar(l.subjectEl,d=a.context)&&(p=function z1(n,i,t){for(var r=(0,f.pi)({},i.leftoverProps),o=0,a=t.pluginHooks.externalDefTransforms;o<a.length;o++)(0,f.pi)(r,(0,a[o])(n,i));var l=vi(r,t),p=_n(l.refined,l.extra,i.sourceId,n.allDay,t.options.forceEventDuration||Boolean(i.duration),t),u=n.range.start;n.allDay&&i.startTime&&(u=t.dateEnv.add(u,i.startTime));var m=i.duration?t.dateEnv.add(u,i.duration):xi(n.allDay,u,t);return{def:p,instance:on(p.defId,{start:u,end:m})}}(a.dateSpan,r.dragMeta,d),m.mutatedEvents=Zt(p),(u=!Vi(m,a.dateProfile,d))&&(m.mutatedEvents={defs:{},instances:{}},p=null)),r.displayDrag(d,m),c.setMirrorIsVisible(s||!p||!document.querySelector(".fc-event-mirror")),u?en():tn(),s||(c.setMirrorNeedsRevert(!p),r.receivingContext=d,r.droppableEvent=p)},this.handleDragEnd=function(a){var l=r.receivingContext,c=r.droppableEvent;if(r.clearDrag(),l&&c){var d=r.hitDragging.finalHit,p=d.context.viewApi,u=r.dragMeta;if(l.emitter.trigger("drop",(0,f.pi)((0,f.pi)({},sr(d.dateSpan,l)),{draggedEl:a.subjectEl,jsEvent:a.origEvent,view:p})),u.create){var m=Zt(c);l.dispatch({type:"MERGE_EVENTS",eventStore:m}),a.isTouch&&l.dispatch({type:"SELECT_EVENT",eventInstanceId:c.instance.instanceId}),l.emitter.trigger("eventReceive",{event:new G(l,c.def,c.instance),relatedEvents:[],revert:function(){l.dispatch({type:"REMOVE_EVENTS",eventStore:m})},draggedEl:a.subjectEl,view:p})}}r.receivingContext=null,r.droppableEvent=null};var o=this.hitDragging=new Ot(i,An);o.requireInitial=!1,o.emitter.on("dragstart",this.handleDragStart),o.emitter.on("hitupdate",this.handleHitUpdate),o.emitter.on("dragend",this.handleDragEnd),this.suppliedDragMeta=t}n.prototype.buildDragMeta=function(i){return"object"==typeof this.suppliedDragMeta?Yi(this.suppliedDragMeta):"function"==typeof this.suppliedDragMeta?Yi(this.suppliedDragMeta(i)):function G1(n){var i=function W1(n,i){var t=Sn.dataAttrPrefix;return n.getAttribute("data-"+(t?t+"-":"")+i)||""}(n,"event");return Yi(i?JSON.parse(i):{create:!1})}(i)},n.prototype.displayDrag=function(i,t){var r=this.receivingContext;r&&r!==i&&r.dispatch({type:"UNSET_EVENT_DRAG"}),i&&i.dispatch({type:"SET_EVENT_DRAG",state:t})},n.prototype.clearDrag=function(){this.receivingContext&&this.receivingContext.dispatch({type:"UNSET_EVENT_DRAG"})},n.prototype.canDropElOnCalendar=function(i,t){var r=t.options.dropAccept;return"function"==typeof r?r.call(t.calendarApi,i):"string"!=typeof r||!r||Boolean(ri(i,r))}}();Sn.dataAttrPrefix="";!function(n){function i(t){var r=n.call(this,t)||this;r.shouldIgnoreMove=!1,r.mirrorSelector="",r.currentMirrorEl=null,r.handlePointerDown=function(a){r.emitter.trigger("pointerdown",a),r.shouldIgnoreMove||r.emitter.trigger("dragstart",a)},r.handlePointerMove=function(a){r.shouldIgnoreMove||r.emitter.trigger("dragmove",a)},r.handlePointerUp=function(a){r.emitter.trigger("pointerup",a),r.shouldIgnoreMove||r.emitter.trigger("dragend",a)};var o=r.pointer=new ar(t);return o.emitter.on("pointerdown",r.handlePointerDown),o.emitter.on("pointermove",r.handlePointerMove),o.emitter.on("pointerup",r.handlePointerUp),r}(0,f.ZT)(i,n),i.prototype.destroy=function(){this.pointer.destroy()},i.prototype.setIgnoreMove=function(t){this.shouldIgnoreMove=t},i.prototype.setMirrorIsVisible=function(t){if(t)this.currentMirrorEl&&(this.currentMirrorEl.style.visibility="",this.currentMirrorEl=null);else{var r=this.mirrorSelector?document.querySelector(this.mirrorSelector):null;r&&(this.currentMirrorEl=r,r.style.visibility="hidden")}}}(Ja);const K1=he({componentInteractions:[F1,U1,Ns,J1],calendarInteractions:[Y1],elementDraggingImpl:gt,optionRefiners:Q1,listenerRefiners:V1});var X1=function(n){function i(){var t=null!==n&&n.apply(this,arguments)||this;return t.state={textId:Me()},t}return(0,f.ZT)(i,n),i.prototype.render=function(){var t=this.context,r=t.theme,o=t.dateEnv,a=t.options,s=t.viewApi,l=this.props,c=l.cellId,d=l.dayDate,u=this.state.textId,m=ki(d,l.todayRange),h=a.listDayFormat?o.format(d,a.listDayFormat):"",v=a.listDaySideFormat?o.format(d,a.listDaySideFormat):"",y=(0,f.pi)({date:o.toDate(d),view:s,textId:u,text:h,sideText:v,navLinkAttrs:pt(this.context,d),sideNavLinkAttrs:pt(this.context,d,"day",!1)},m),C=["fc-list-day"].concat(En(m,r));return g(se,{hookProps:y,classNames:a.dayHeaderClassNames,content:a.dayHeaderContent,defaultContent:eb,didMount:a.dayHeaderDidMount,willUnmount:a.dayHeaderWillUnmount},function(_,T,A,S){return g("tr",{ref:_,className:C.concat(T).join(" "),"data-date":sn(d)},g("th",{scope:"colgroup",colSpan:3,id:c,"aria-labelledby":u},g("div",{className:"fc-list-day-cushion "+r.getClass("tableCellShaded"),ref:A},S)))})},i}(U);function eb(n){return g(j,null,n.text&&g("a",(0,f.pi)({id:n.textId,className:"fc-list-day-text"},n.navLinkAttrs),n.text),n.sideText&&g("a",(0,f.pi)({"aria-hidden":!0,className:"fc-list-day-side-text"},n.sideNavLinkAttrs),n.sideText))}var tb=B({hour:"numeric",minute:"2-digit",meridiem:"short"}),nb=function(n){function i(){return null!==n&&n.apply(this,arguments)||this}return(0,f.ZT)(i,n),i.prototype.render=function(){var r=this.props,o=this.context,a=r.seg,s=r.timeHeaderId,l=r.eventHeaderId,c=r.dateHeaderId,d=o.options.eventTimeFormat||tb;return g(kn,{seg:a,timeText:"",disableDragging:!0,disableResizing:!0,defaultContent:function(){return function ib(n,i){var t=Ei(n,i);return g("a",(0,f.pi)({},t),n.eventRange.def.title)}(a,o)},isPast:r.isPast,isFuture:r.isFuture,isToday:r.isToday,isSelected:r.isSelected,isDragging:r.isDragging,isResizing:r.isResizing,isDateSelecting:r.isDateSelecting},function(p,u,m,h,v){return g("tr",{className:["fc-list-event",v.event.url?"fc-event-forced-url":""].concat(u).join(" "),ref:p},function rb(n,i,t,r,o){var a=t.options;if(!1!==a.displayEventTime){var l=n.eventRange.instance,c=!1,d=void 0;return n.eventRange.def.allDay?c=!0:function zh(n){var i=yi(n);return Ie(i.start,i.end)>1}(n.eventRange.range)?n.isStart?d=Rt(n,i,t,null,null,l.range.start,n.end):n.isEnd?d=Rt(n,i,t,null,null,n.start,l.range.end):c=!0:d=Rt(n,i,t),c?g(se,{hookProps:{text:t.options.allDayText,view:t.viewApi},classNames:a.allDayClassNames,content:a.allDayContent,defaultContent:ob,didMount:a.allDayDidMount,willUnmount:a.allDayWillUnmount},function(u,m,h,v){return g("td",{ref:u,headers:r+" "+o,className:["fc-list-event-time"].concat(m).join(" ")},v)}):g("td",{className:"fc-list-event-time"},d)}return null}(a,d,o,s,c),g("td",{"aria-hidden":!0,className:"fc-list-event-graphic"},g("span",{className:"fc-list-event-dot",style:{borderColor:v.borderColor||v.backgroundColor}})),g("td",{ref:m,headers:l+" "+c,className:"fc-list-event-title"},h))})},i}(U);function ob(n){return n.text}function sb(n){return n.text}function lb(n){for(var i=q(n.renderRange.start),t=n.renderRange.end,r=[],o=[];i<t;)r.push(i),o.push({start:i,end:$(i,1)}),i=$(i,1);return{dayDates:r,dayRanges:o}}function Us(n){return!1===n?null:B(n)}const ub=he({optionRefiners:{listDayFormat:Us,listDaySideFormat:Us,noEventsClassNames:b,noEventsContent:b,noEventsDidMount:b,noEventsWillUnmount:b},views:{list:{component:function(n){function i(){var t=null!==n&&n.apply(this,arguments)||this;return t.computeDateVars=R(lb),t.eventStoreToSegs=R(t._eventStoreToSegs),t.state={timeHeaderId:Me(),eventHeaderId:Me(),dateHeaderIdRoot:Me()},t.setRootEl=function(r){r?t.context.registerInteractiveComponent(t,{el:r}):t.context.unregisterInteractiveComponent(t)},t}return(0,f.ZT)(i,n),i.prototype.render=function(){var t=this,o=this.props,a=this.context,s=["fc-list",a.theme.getClass("table"),!1!==a.options.stickyHeaderDates?"fc-list-sticky":""],l=this.computeDateVars(o.dateProfile),c=l.dayDates,p=this.eventStoreToSegs(o.eventStore,o.eventUiBases,l.dayRanges);return g(ut,{viewSpec:a.viewSpec,elRef:this.setRootEl},function(u,m){return g("div",{ref:u,className:s.concat(m).join(" ")},g(Xa,{liquid:!o.isHeightAuto,overflowX:o.isHeightAuto?"visible":"hidden",overflowY:o.isHeightAuto?"visible":"auto"},p.length>0?t.renderSegList(p,c):t.renderEmptyMessage()))})},i.prototype.renderEmptyMessage=function(){var t=this.context,r=t.options;return g(se,{hookProps:{text:r.noEventsText,view:t.viewApi},classNames:r.noEventsClassNames,content:r.noEventsContent,defaultContent:sb,didMount:r.noEventsDidMount,willUnmount:r.noEventsWillUnmount},function(s,l,c,d){return g("div",{className:["fc-list-empty"].concat(l).join(" "),ref:s},g("div",{className:"fc-list-empty-cushion",ref:c},d))})},i.prototype.renderSegList=function(t,r){var o=this.context,a=o.theme,s=o.options,l=this.state,c=l.timeHeaderId,d=l.eventHeaderId,p=l.dateHeaderIdRoot,u=function cb(n){var t,r,i=[];for(t=0;t<n.length;t+=1)(i[(r=n[t]).dayIndex]||(i[r.dayIndex]=[])).push(r);return i}(t);return g(Nt,{unit:"day"},function(m,h){for(var v=[],y=0;y<u.length;y+=1){var C=u[y];if(C){var _=sn(r[y]),T=p+"-"+_;v.push(g(X1,{key:_,cellId:T,dayDate:r[y],todayRange:h}));for(var A=0,S=C=bi(C,s.eventOrder);A<S.length;A++){var I=S[A];v.push(g(nb,(0,f.pi)({key:_+":"+I.eventRange.instance.instanceId,seg:I,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,timeHeaderId:c,eventHeaderId:d,dateHeaderId:T},Te(I,h,m))))}}}return g("table",{className:"fc-list-table "+a.getClass("table")},g("thead",null,g("tr",null,g("th",{scope:"col",id:c},s.timeHint),g("th",{scope:"col","aria-hidden":!0}),g("th",{scope:"col",id:d},s.eventHint))),g("tbody",null,v))})},i.prototype._eventStoreToSegs=function(t,r,o){return this.eventRangesToSegs(Cn(t,r,this.props.dateProfile.activeRange,this.context.options.nextDayThreshold).fg,o)},i.prototype.eventRangesToSegs=function(t,r){for(var o=[],a=0,s=t;a<s.length;a++)o.push.apply(o,this.eventRangeToSegs(s[a],r));return o},i.prototype.eventRangeToSegs=function(t,r){var c,d,p,o=this.context.dateEnv,a=this.context.options.nextDayThreshold,s=t.range,l=t.def.allDay,u=[];for(c=0;c<r.length;c+=1)if((d=Ge(s,r[c]))&&(p={component:this,eventRange:t,start:d.start,end:d.end,isStart:t.isStart&&d.start.valueOf()===s.start.valueOf(),isEnd:t.isEnd&&d.end.valueOf()===s.end.valueOf(),dayIndex:c},u.push(p),!p.isEnd&&!l&&c+1<r.length&&s.end<o.add(r[c+1].start,a))){p.end=s.end,p.isEnd=!0;break}return u},i}(me),buttonTextKey:"list",listDayFormat:{month:"long",day:"numeric",year:"numeric"}},listDay:{type:"list",duration:{days:1},listDayFormat:{weekday:"long"}},listWeek:{type:"list",duration:{weeks:1},listDayFormat:{weekday:"long"},listDaySideFormat:{month:"long",day:"numeric",year:"numeric"}},listMonth:{type:"list",duration:{month:1},listDaySideFormat:{weekday:"long"}},listYear:{type:"list",duration:{year:1},listDaySideFormat:{weekday:"long"}}}});var fb=x(6805),Os=x(7913),mb=x(4361),hb=x(8226);function gb(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"p-multiSelect",3),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedModules=o)})("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.onSelectModule(o))}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("options",t.modules)("ngModel",t.selectedModules)}}function vb(n,i){1&n&&(e.TgZ(0,"div",4),e._UZ(1,"i",5),e.qZA())}let _b=(()=>{class n{constructor(t){this.companyCategoryService=t,this.currentModulesIds=[],this.selectModule=new e.vpe,this.isLoading=!0,this.modules=[],this.selectedModules=[],this.destroy$=new L.x}ngOnInit(){this.companyCategoryService.getModules().pipe((0,J.R)(this.destroy$)).subscribe(t=>{this.modules=t,this.findModules(),this.isLoading=!1})}ngOnChanges(t){"currentModulesIds"in t&&(this.selectedModules=[],this.findModules())}onSelectModule(t){this.selectModule.emit(t)}findModules(){this.currentModulesIds.length>0&&this.currentModulesIds.forEach(t=>{const r=this.modules.find(o=>o.id===t);console.log(this.modules),console.log(t),console.log(r),r&&this.selectedModules.push(r)})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(On.v))},n.\u0275cmp=e.Xpm({type:n,selectors:[["pek-company-category-module-picker"]],inputs:{currentModulesIds:"currentModulesIds"},outputs:{selectModule:"selectModule"},features:[e.TTD],decls:4,vars:2,consts:[[1,"company-category-module-picker"],["optionLabel","name","placeholder","Select Modules",3,"options","ngModel","ngModelChange",4,"ngIf","ngIfElse"],["spinner",""],["optionLabel","name","placeholder","Select Modules",3,"options","ngModel","ngModelChange"],[1,"spinner-input"],[1,"pi","pi-spin","pi-spinner",2,"font-size","1.25rem"]],template:function(t,r){if(1&t&&(e.TgZ(0,"div",0),e.YNc(1,gb,1,2,"p-multiSelect",1),e.YNc(2,vb,2,0,"ng-template",null,2,e.W1O),e.qZA()),2&t){const o=e.MAs(3);e.xp6(1),e.Q6J("ngIf",!r.isLoading)("ngIfElse",o)}},dependencies:[et.NU,w.O5,E.JJ,E.On]}),n})();function yb(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"p-dropdown",3),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedUserProfileId=o)})("ngModelChange",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onSelectCompany())}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("options",t.userProfiles)("ngModel",t.selectedUserProfileId)("showClear",!0)}}function Cb(n,i){1&n&&(e.TgZ(0,"div",4),e._UZ(1,"i",5),e.qZA())}let bb=(()=>{class n{constructor(t){this.userProfileService=t,this.selectUserProfile=new e.vpe,this.isLoading=!0,this.userProfiles=[],this.destroy$=new L.x}ngOnInit(){this.userProfileService.get().pipe((0,J.R)(this.destroy$)).subscribe(t=>{this.userProfiles=t,console.log(this.currentUserProfileId),this.currentUserProfileId&&(this.selectedUserProfileId=this.currentUserProfileId),this.isLoading=!1})}onSelectCompany(){this.selectUserProfile.emit(this.selectedUserProfileId)}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Ln))},n.\u0275cmp=e.Xpm({type:n,selectors:[["pek-user-profile-picker"]],inputs:{currentUserProfileId:"currentUserProfileId"},outputs:{selectUserProfile:"selectUserProfile"},decls:4,vars:2,consts:[[1,"user-profile-picker"],["placeholder","Select User Profile","optionLabel","fullName","optionValue","id",3,"options","ngModel","showClear","ngModelChange",4,"ngIf","ngIfElse"],["spinner",""],["placeholder","Select User Profile","optionLabel","fullName","optionValue","id",3,"options","ngModel","showClear","ngModelChange"],[1,"spinner-input"],[1,"pi","pi-spin","pi-spinner",2,"font-size","1.25rem"]],template:function(t,r){if(1&t&&(e.TgZ(0,"div",0),e.YNc(1,yb,1,3,"p-dropdown",1),e.qZA(),e.YNc(2,Cb,2,0,"ng-template",null,2,e.W1O)),2&t){const o=e.MAs(3);e.xp6(1),e.Q6J("ngIf",!r.isLoading)("ngIfElse",o)}},dependencies:[w.O5,E.JJ,Ft.Lt,E.On]}),n})();var Eb=x(2062),Tb=x(966),xb=x(7198);function Ab(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"p-dropdown",3),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedSubRegionId=o)})("ngModelChange",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onSelectRegion())}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("options",t.regions)("ngModel",t.selectedSubRegionId)("showClear",!0)("disabled",t.isDisabled)("filter",!0)}}function Sb(n,i){1&n&&(e.TgZ(0,"div",4),e._UZ(1,"i",5),e.qZA())}let wb=(()=>{class n{constructor(t){this.subRegionService=t,this.selectSubRegion=new e.vpe,this.selectSubRegionFull=new e.vpe,this.isLoading=!0,this.regions=[],this.destroy$=new L.x}ngOnInit(){this.getRegions()}getRegions(){let t;this.regions=[],this.regionSelected&&(t=[{name:"region",value:this.regionSelected}]),this.subRegionService.get(t).pipe((0,J.R)(this.destroy$)).subscribe(r=>{this.regions=r,this.isLoading=!1})}ngOnChanges(t){"regionSelected"in t&&this.getRegions()}onSelectRegion(){this.selectSubRegion.emit(this.selectedSubRegionId);const t=this.regions.find(r=>r.id===this.selectedSubRegionId);this.selectSubRegionFull.emit(t)}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(mr.q))},n.\u0275cmp=e.Xpm({type:n,selectors:[["pek-sub-region-picker"]],inputs:{regionSelected:"regionSelected",isDisabled:"isDisabled",selectedSubRegionId:"selectedSubRegionId"},outputs:{selectSubRegion:"selectSubRegion",selectSubRegionFull:"selectSubRegionFull"},features:[e.TTD],decls:4,vars:2,consts:[[1,"region-picker"],["placeholder","Select Region","optionLabel","name","optionValue","id",3,"options","ngModel","showClear","disabled","filter","ngModelChange",4,"ngIf","ngIfElse"],["spinner",""],["placeholder","Select Region","optionLabel","name","optionValue","id",3,"options","ngModel","showClear","disabled","filter","ngModelChange"],[1,"spinner-input"],[1,"pi","pi-spin","pi-spinner",2,"font-size","1.25rem"]],template:function(t,r){if(1&t&&(e.TgZ(0,"div",0),e.YNc(1,Ab,1,5,"p-dropdown",1),e.qZA(),e.YNc(2,Sb,2,0,"ng-template",null,2,e.W1O)),2&t){const o=e.MAs(3);e.xp6(1),e.Q6J("ngIf",!r.isLoading)("ngIfElse",o)}},dependencies:[w.O5,E.JJ,Ft.Lt,E.On]}),n})();var qs=x(1424);function Db(n,i){1&n&&e._uU(0," Select Company ")}function kb(n,i){1&n&&(e.TgZ(0,"span"),e._uU(1,","),e.qZA())}function Zb(n,i){if(1&n&&(e._uU(0),e.YNc(1,kb,2,0,"span",8)),2&n){const t=e.oxw(),o=t.last;e.hij(" ",t.$implicit.data.company.name," "),e.xp6(1),e.Q6J("ngIf",!o)}}function Rb(n,i){1&n&&e.YNc(0,Zb,2,2,"ng-template",6),2&n&&e.Q6J("ngIf","company"===i.$implicit.data.type)}function Mb(n,i){if(1&n&&(e.YNc(0,Db,1,0,"ng-template",6),e.YNc(1,Rb,1,1,"ng-template",7)),2&n){const t=i.$implicit,r=e.oxw(2);e.Q6J("ngIf",0===r.selectedNode.length),e.xp6(1),e.Q6J("ngForOf",t)}}function Ib(n,i){1&n&&e._uU(0," Empty ")}function Pb(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"p-treeSelect",3),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedNode=o)})("ngModelChange",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.selectionChanged())}),e.YNc(1,Mb,2,2,"ng-template",4),e.YNc(2,Ib,1,0,"ng-template",5),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("metaKeySelection",!0)("filter",!0)("ngModel",t.selectedNode)("options",t.nodes)}}function Nb(n,i){1&n&&(e.TgZ(0,"div",9),e._UZ(1,"i",10),e.qZA())}let Fb=(()=>{class n{constructor(t,r){this.companyService=t,this.companyCategoryService=r,this.companyCategories=[],this.companies=[],this.currentCompaniesIds=[],this.selectCompanies=new e.vpe,this.groupedCategories=[],this.selectedNode=[],this.selectedUniqueNodes=[],this.isLoading=!0,this.destroy$=new L.x,this.dataCollected=new L.x}ngOnInit(){this.getCategories()}formTree(){this.companyCategories.forEach(t=>{const r=this.companies.filter(a=>a.categories.findIndex(s=>s===t.id)>-1),o={label:t.name,data:{category:t,type:"category"},key:"category"+t.id,expandedIcon:"pi pi-folder-open",collapsedIcon:"pi pi-folder",children:[]};r.length>0&&r.sort((a,s)=>a.name.localeCompare(s.name)).forEach(a=>{o.children.push({label:a.name,data:{company:a,type:"company"},key:"company"+a.id,children:[]})}),this.groupedCategories.push(o)}),this.nodes=this.groupedCategories,this.setSelectedNode(),this.isLoading=!1}setSelectedNode(){const t=this.currentCompaniesIds.flatMap(r=>"company"+r?.toString());this.selectedNode=this.nodes.flatMap(r=>r.children).filter(r=>void 0!==r?.key&&t.includes(r.key)&&this.selectedNode.findIndex(o=>o.key===r.key)<0),this.nodes.forEach(r=>{const o=r.children.length;let a=0;r.children.forEach(s=>{t.findIndex(c=>c===s.key)>-1&&a++}),o>0&&o===a&&this.selectedNode.push(r),o>0&&a>0&&o>a&&(r.partialSelected=!0)}),this.selectedNode=[...this.selectedNode.filter(this.onlyUniqueByKey)]}getCategories(){return this.companyCategoryService.get().pipe((0,pe.b)(t=>{this.companyCategories=t,this.dataCollected.next(!0)}),(0,J.R)(this.destroy$)).subscribe(()=>{this.getCompanies()})}getCompanies(){return this.companyService.getShorts().pipe((0,pe.b)(t=>{this.companies=t,this.dataCollected.next(!0),this.formTree()}),(0,J.R)(this.destroy$)).subscribe()}selectionChanged(){const t=this.selectedNode.filter(r=>"company"===r.data.type).map(r=>r.data.company).filter(this.onlyUnique);this.selectCompanies.emit(0===t?.length?null:t.map(r=>r.id).join(","))}onlyUnique(t,r,o){return o.indexOf(t)===r}onlyUniqueByKey(t,r,o){return o.findIndex(a=>a.key===t.key)===r}ngOnDestroy(){console.log("Destroy"),this.destroy$.next(!0),this.destroy$.complete()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Lt.J),e.Y36(On.v))},n.\u0275cmp=e.Xpm({type:n,selectors:[["pek-company-categorized-multi-picker"]],inputs:{currentCompaniesIds:"currentCompaniesIds"},outputs:{selectCompanies:"selectCompanies"},decls:4,vars:2,consts:[[1,"company-categorized-multi-picker"],["selectionMode","checkbox","placeholder","Select Company",3,"metaKeySelection","filter","ngModel","options","ngModelChange",4,"ngIf","ngIfElse"],["spinner",""],["selectionMode","checkbox","placeholder","Select Company",3,"metaKeySelection","filter","ngModel","options","ngModelChange"],["pTemplate","value"],["pTemplate","empty"],[3,"ngIf"],["ngFor","",3,"ngForOf"],[4,"ngIf"],[1,"spinner-input"],[1,"pi","pi-spin","pi-spinner",2,"font-size","1.25rem"]],template:function(t,r){if(1&t&&(e.TgZ(0,"div",0),e.YNc(1,Pb,3,4,"p-treeSelect",1),e.YNc(2,Nb,2,0,"ng-template",null,2,e.W1O),e.qZA()),2&t){const o=e.MAs(3);e.xp6(1),e.Q6J("ngIf",!r.isLoading)("ngIfElse",o)}},dependencies:[K.jx,w.sg,w.O5,E.JJ,E.On,Un.mP]}),n})();var Ub=x(1745);let Ob=(()=>{class n{constructor(t){this.salesStatusService=t,this.valueChange=new e.vpe,this.isDisabled=!1,this.isLoading=!0}ngOnInit(){this.getAll()}getAll(){this.salesStatusService.get().pipe((0,Se.q)(1)).subscribe(t=>{this.statuses=t,this.isLoading=!1})}onChange(t){this.setValue(t)}registerOnChange(t){this.valueChange.subscribe(t)}registerOnTouched(t){}setValue(t){this.status=t,this.valueChange.emit(this.status)}writeValue(t){this.status=t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Ub.N))},n.\u0275cmp=e.Xpm({type:n,selectors:[["pek-sales-status-picker"]],inputs:{status:"status",isDisabled:"isDisabled"},outputs:{valueChange:"valueChange"},features:[e._Bn([{provide:E.JU,useExisting:(0,e.Gpc)(()=>n),multi:!0}])],decls:1,vars:5,consts:[["optionValue","id","optionLabel","name","placeholder","Choose Sale Status",3,"filter","showClear","ngModel","options","disabled","ngModelChange"]],template:function(t,r){1&t&&(e.TgZ(0,"p-dropdown",0),e.NdJ("ngModelChange",function(a){return r.status=a})("ngModelChange",function(a){return r.onChange(a)}),e.qZA()),2&t&&e.Q6J("filter",!0)("showClear",!0)("ngModel",r.status)("options",r.statuses)("disabled",r.isLoading||r.isDisabled)},dependencies:[E.JJ,Ft.Lt,E.On]}),n})();us.registerPlugins([qC,A1,ub,K1]);let qb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[w.ez,Hy,Ly.m,Jy.x,fs.e4,mC,us,Os.Iu,hb.BusinessTripsModule]}),n})();e.B6R(By.S,[P.Hq,He.o,E._Y,E.Fj,E.JJ,E.JL,E.sg,E.u,Z.ZT,Z.xY,Z.H8,_b],[]),e.B6R(Yy.g,[w.sg,P.Hq,He.o,E._Y,E.Fj,E.JJ,E.JL,E.sg,E.u,E.x0,E.CE,Z.ZT,Z.xY,Z.H8,ke.g,bb,fs.zH,tt.F],[]),e.B6R(Qy.S,[P.Hq,He.o,E._Y,E.Fj,E.JJ,E.JL,E.sg,E.u,Z.ZT,Z.xY,Z.H8,Eb.n],[]),e.B6R(Vy.d,[P.Hq,E._Y,E.Fj,E.JJ,E.JL,E.sg,E.u,Z.ZT,Z.xY,Z.H8,ke.g,Bt.i],[]),e.B6R(zy.x,[P.Hq,E._Y,E.Fj,E.JJ,E.JL,E.sg,E.u,Z.ZT,Z.xY,Z.H8,ke.g,Bt.i,ms],[]),e.B6R(jy.L,[P.Hq,He.o,E._Y,E.Fj,E.JJ,E.JL,E.sg,E.u,Z.ZT,Z.xY,Z.H8,ke.g,we.XZ,Er.P,Tb.m,xb.p,wb],[]),e.B6R($y.B,[w.O5,P.Hq,E._Y,E.JJ,E.JL,E.sg,E.u,Z.ZT,Z.xY,Z.H8,Ft.Lt,Bt.i,tr],[]),e.B6R(hC.C,[w.O5,P.Hq,E._Y,E.Fj,E.JJ,E.JL,E.sg,E.u,Z.ZT,Z.xY,Z.H8,ke.g,bt.f,qs.J,tt.F,Jn.O,gs],[]),e.B6R(fb.u,[w.O5,P.Hq,E._Y,E.Fj,E.JJ,E.JL,E.sg,E.u,Z.ZT,Z.xY,Z.H8,ke.g,we.XZ,bt.f,qs.J,Fb,et.NU,Ob,Os.Ql,tt.F,Jn.O,gs],[]),e.B6R(mb.Q,[w.O5,P.Hq,E._Y,E.JJ,E.JL,E.sg,E.u,Z.ZT,Z.xY,Z.H8,tr,ms],[])},2559:lr=>{lr.exports=function yt(x,w){if(x===w)return!0;if(x&&w&&"object"==typeof x&&"object"==typeof w){if(x.constructor!==w.constructor)return!1;var V,e,Xe;if(Array.isArray(x)){if((V=x.length)!=w.length)return!1;for(e=V;0!=e--;)if(!yt(x[e],w[e]))return!1;return!0}if(x.constructor===RegExp)return x.source===w.source&&x.flags===w.flags;if(x.valueOf!==Object.prototype.valueOf)return x.valueOf()===w.valueOf();if(x.toString!==Object.prototype.toString)return x.toString()===w.toString();if((V=(Xe=Object.keys(x)).length)!==Object.keys(w).length)return!1;for(e=V;0!=e--;)if(!Object.prototype.hasOwnProperty.call(w,Xe[e]))return!1;for(e=V;0!=e--;){var Ht=Xe[e];if(!yt(x[Ht],w[Ht]))return!1}return!0}return x!=x&&w!=w}}}]);