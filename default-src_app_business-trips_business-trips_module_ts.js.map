{"version":3,"file":"default-src_app_business-trips_business-trips_module_ts.js","mappings":"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","sources":["./src/app/business-trips/business-trips-routing.module.ts","./src/app/business-trips/business-trips.module.ts","./src/app/business-trips/components/business-trips/business-trips.component.ts","./src/app/business-trips/components/business-trips/business-trips.component.html","./src/app/business-trips/components/edit-business-trip/edit-business-trip.component.ts","./src/app/business-trips/components/edit-business-trip/edit-business-trip.component.html","./src/app/business-trips/components/layouts/business-trips-layout/business-trips-layout.component.ts","./src/app/business-trips/components/layouts/business-trips-layout/business-trips-layout.component.html","./src/app/business-trips/components/layouts/expanses/expanses.component.ts","./src/app/business-trips/components/layouts/expanses/expanses.component.html","./src/app/business-trips/components/layouts/vehicles/vehicles.component.ts","./src/app/business-trips/components/layouts/vehicles/vehicles.component.html","./src/app/business-trips/components/pickers/business-trip-country-picker/business-trip-country-picker.component.ts","./src/app/business-trips/components/pickers/business-trip-country-picker/business-trip-country-picker.component.html","./src/app/business-trips/components/pickers/business-trips-multi-employee-with-custom/business-trips-multi-employee-with-custom.component.ts","./src/app/business-trips/components/pickers/business-trips-multi-employee-with-custom/business-trips-multi-employee-with-custom.component.html","./src/app/business-trips/components/pickers/business-trips-multi-status-picker/business-trips-multi-status-picker.component.ts","./src/app/business-trips/components/pickers/business-trips-multi-status-picker/business-trips-multi-status-picker.component.html","./src/app/business-trips/components/pickers/vehicle-picker/vehicle-picker.component.ts","./src/app/business-trips/components/pickers/vehicle-picker/vehicle-picker.component.html","./src/app/business-trips/components/pickers/vehicle-type-picker/vehicle-type-picker.component.ts","./src/app/business-trips/components/pickers/vehicle-type-picker/vehicle-type-picker.component.html","./src/app/business-trips/components/shared/location-input/location-input.component.ts","./src/app/business-trips/components/shared/location-input/location-input.component.html","./src/app/business-trips/components/trip-expenses-table/trip-expenses-table.component.ts","./src/app/business-trips/components/trip-expenses-table/trip-expenses-table.component.html","./src/app/business-trips/enums/business-trip-expense-status.enum.ts","./src/app/business-trips/modals/create-edit-expense/create-edit-expense.component.ts","./src/app/business-trips/modals/create-edit-expense/create-edit-expense.component.html","./src/app/business-trips/modals/create-edit-expense/expense-picker/expense-picker.component.ts","./src/app/business-trips/modals/create-edit-expense/expense-picker/expense-picker.component.html","./src/app/business-trips/modals/create-update-expense/create-update-expense.component.ts","./src/app/business-trips/modals/create-update-expense/create-update-expense.component.html","./src/app/business-trips/modals/create-update-vehicle/create-update-vehicle.component.ts","./src/app/business-trips/modals/create-update-vehicle/create-update-vehicle.component.html","./src/app/business-trips/models/business-trip-status.enum.ts","./src/app/business-trips/models/custom-employees.service.ts","./src/app/business-trips/services/business-location.service.ts","./src/app/business-trips/services/business-trip-country.service.ts","./src/app/business-trips/services/business-trip-hotel-files.service.ts","./src/app/business-trips/services/business-trips-expenses.service.ts","./src/app/business-trips/services/expense.service.ts","./src/app/business-trips/services/location-meeting.service.ts","./src/app/business-trips/services/vehicle.service.ts","./node_modules/deep-copy-ts/dist/cloneArrayBuffer.js","./node_modules/deep-copy-ts/dist/cloneDataView.js","./node_modules/deep-copy-ts/dist/cloneDate.js","./node_modules/deep-copy-ts/dist/cloneMap.js","./node_modules/deep-copy-ts/dist/cloneRegexp.js","./node_modules/deep-copy-ts/dist/cloneTypedArray.js","./node_modules/deep-copy-ts/dist/deepCopy.js","./node_modules/deep-copy-ts/dist/index.js"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport {BusinessTripsLayoutComponent} from './components/layouts/business-trips-layout/business-trips-layout.component';\r\nimport {BusinessTripsComponent} from './components/business-trips/business-trips.component';\r\nimport {EditBusinessTripComponent} from './components/edit-business-trip/edit-business-trip.component';\r\nimport {VehiclesComponent} from './components/layouts/vehicles/vehicles.component';\r\nimport {ExpansesComponent} from './components/layouts/expanses/expanses.component';\r\n\r\nconst routes: Routes = [{\r\n  path: '', component: BusinessTripsLayoutComponent, children: [\r\n    {\r\n      path: 'trips',\r\n      title: 'Business Trips',\r\n      component: BusinessTripsComponent\r\n    },\r\n    {\r\n      path: 'trip/edit/:tripId',\r\n      data: {isVerify: false},\r\n      title: 'Edit Business Trip',\r\n      component: EditBusinessTripComponent\r\n    },\r\n    {\r\n      path: 'trip/verify/:tripId',\r\n      data: {isVerify: true},\r\n      title: 'Verify Business Trip',\r\n      component: EditBusinessTripComponent\r\n    },\r\n    {\r\n      path: 'vehicles',\r\n      title: 'Business Trip Vehicles',\r\n      component: VehiclesComponent\r\n    },\r\n    {\r\n      title: 'Business Trip Expenses',\r\n      path: 'expenses',\r\n      component: ExpansesComponent\r\n    },\r\n    {\r\n      path: '**',\r\n      redirectTo: 'trips'\r\n    },\r\n  ]\r\n}];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class BusinessTripsRoutingModule { }\r\n","import {NgModule} from '@angular/core';\r\nimport {CommonModule, DatePipe} from '@angular/common';\r\n\r\nimport {BusinessTripsRoutingModule} from './business-trips-routing.module';\r\nimport {BusinessTripsLayoutComponent} from './components/layouts/business-trips-layout/business-trips-layout.component';\r\nimport {LayoutModule} from '../layout/layout.module';\r\nimport {SharedModule} from '@shared/shared.module';\r\nimport {BusinessTripsComponent} from './components/business-trips/business-trips.component';\r\nimport { EditBusinessTripComponent } from './components/edit-business-trip/edit-business-trip.component';\r\nimport {CrmPositionPickerComponent} from '../shared/pickers/crm-position-picker/crm-position-picker.component';\r\nimport { LocationInputComponent } from './components/shared/location-input/location-input.component';\r\nimport { BusinessTripCountryPickerComponent } from './components/pickers/business-trip-country-picker/business-trip-country-picker.component';\r\nimport {TripExpensesTableComponent} from './components/trip-expenses-table/trip-expenses-table.component';\r\nimport {VehicleTypePickerComponent} from './components/pickers/vehicle-type-picker/vehicle-type-picker.component';\r\nimport { VehiclePickerComponent } from './components/pickers/vehicle-picker/vehicle-picker.component';\r\nimport { CreateEditExpenseComponent } from './modals/create-edit-expense/create-edit-expense.component';\r\nimport { UploadedDataViewerComponent } from './modals/uploaded-data-viewer/uploaded-data-viewer.component';\r\nimport {ExpensePickerComponent} from './modals/create-edit-expense/expense-picker/expense-picker.component';\r\nimport {PdfViewerModule} from 'ng2-pdf-viewer';\r\nimport { VehiclesComponent } from './components/layouts/vehicles/vehicles.component';\r\nimport {CreateUpdateVehicleComponent} from './modals/create-update-vehicle/create-update-vehicle.component';\r\nimport { ExpansesComponent } from './components/layouts/expanses/expanses.component';\r\nimport { CreateUpdateExpenseComponent } from './modals/create-update-expense/create-update-expense.component';\r\nimport { CreateBusinessTripComponent } from './modals/create-business-trip/create-business-trip.component';\r\nimport { BusinessTripsMultiStatusPickerComponent } from './components/pickers/business-trips-multi-status-picker/business-trips-multi-status-picker.component';\r\nimport { BusinessTripsMultiEmployeeWithCustomComponent } from './components/pickers/business-trips-multi-employee-with-custom/business-trips-multi-employee-with-custom.component';\r\nimport {MultiSelectModule} from 'primeng/multiselect';\r\nimport { TakePhotoModalComponent } from './modals/take-photo-modal/take-photo-modal.component';\r\nimport {WebcamModule} from 'ngx-webcam';\r\n\r\n\r\n@NgModule({\r\n    declarations: [\r\n        BusinessTripsLayoutComponent,\r\n        BusinessTripsComponent,\r\n        EditBusinessTripComponent,\r\n        CrmPositionPickerComponent,\r\n        LocationInputComponent,\r\n        BusinessTripCountryPickerComponent,\r\n        TripExpensesTableComponent,\r\n        VehicleTypePickerComponent,\r\n        VehiclePickerComponent,\r\n        CreateEditExpenseComponent,\r\n        UploadedDataViewerComponent,\r\n        ExpensePickerComponent,\r\n        VehiclesComponent,\r\n        CreateUpdateVehicleComponent,\r\n        ExpansesComponent,\r\n        CreateUpdateExpenseComponent,\r\n        CreateBusinessTripComponent,\r\n        BusinessTripsMultiStatusPickerComponent,\r\n        BusinessTripsMultiEmployeeWithCustomComponent,\r\n        TakePhotoModalComponent,\r\n    ],\r\n    imports: [\r\n        CommonModule,\r\n        BusinessTripsRoutingModule,\r\n        SharedModule,\r\n        LayoutModule,\r\n        PdfViewerModule,\r\n        MultiSelectModule,\r\n        WebcamModule,\r\n    ],\r\n    exports: [\r\n        CrmPositionPickerComponent\r\n    ],\r\n    providers: [DatePipe]\r\n})\r\nexport class BusinessTripsModule {\r\n}\r\n","import {Component, OnDestroy, OnInit, ViewChild} from '@angular/core';\r\nimport {FormBuilder, FormGroup} from '@angular/forms';\r\nimport {QuerySearch} from '@shared/models/other';\r\nimport {AdapterService} from '@shared/services/adapter.service';\r\nimport {ModalService} from '@shared/services/modal.service';\r\nimport {Router} from '@angular/router';\r\nimport {debounceTime, take} from 'rxjs/operators';\r\nimport {BusinessTripStatus} from '../../models/business-trip-status.enum';\r\nimport {BusinessTrip} from '../../models/business-trip';\r\nimport {BusinessTripService} from '../../services/business-trip.service';\r\nimport {MenuItem} from 'primeng/api';\r\nimport {Paginator} from 'primeng/paginator';\r\nimport {AuthService} from '../../../auth/auth.service';\r\nimport {Subject, takeUntil} from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'pek-business-trips',\r\n  templateUrl: './business-trips.component.html',\r\n  styleUrls: ['./business-trips.component.scss']\r\n})\r\nexport class BusinessTripsComponent implements OnInit, OnDestroy {\r\n  @ViewChild('paginator') paginator: Paginator;\r\n  isLoading: boolean;\r\n  businessTrips: BusinessTrip[];\r\n  selectedBusinessTrip: BusinessTrip;\r\n  tripStatus = BusinessTripStatus;\r\n\r\n  count = 0;\r\n  isShowAll = false;\r\n  isStartOnePage = false;\r\n  destroy$ = new Subject();\r\n  searchForm: FormGroup = this.fb.group({\r\n    employees: [],\r\n    trip_started: [],\r\n    trip_ended: [],\r\n    trip_created: [],\r\n    statuses: [],\r\n    page: [1],\r\n  });\r\n\r\n  query: QuerySearch[] = [\r\n    {name: 'paginated', value: true},\r\n    {name: 'page', value: this.searchForm.get('page').value}\r\n  ];\r\n  statusFilter = [\r\n    {\r\n      value: BusinessTripStatus.VERIFIED,\r\n      title: 'Verified'\r\n    },\r\n    {\r\n      value: BusinessTripStatus.NEED_VERIFICATION,\r\n      title: 'Need Verification'\r\n    },\r\n    {\r\n      value: BusinessTripStatus.NEW,\r\n      title: 'New'\r\n    }\r\n  ];\r\n\r\n  menuItems: MenuItem[] = [{\r\n    label: 'Selected Business Trip',\r\n    items: [\r\n      {\r\n        label: 'Edit',\r\n        icon: 'pi pi-pencil',\r\n        command: () => this.editExpenseBusinessTrip()\r\n      },\r\n      {\r\n        label: 'Remove',\r\n        icon: 'pi pi-trash',\r\n        command: () => this.deleteBusinessTrip()\r\n      }\r\n    ]\r\n  }];\r\n  tableScrollHeight = '29.625rem';\r\n  constructor(\r\n    private router: Router,\r\n    private fb: FormBuilder,\r\n    private businessTripService: BusinessTripService,\r\n    private modalService: ModalService,\r\n    private adapterService: AdapterService,\r\n    public auth: AuthService\r\n  ) {\r\n    if (auth.user.can_verify_expenses) {\r\n    this.menuItems[0].items.splice(1, 0, {\r\n      label: 'Verify BT',\r\n      icon: 'pi pi-check',\r\n      command: () => this.verifyBt()\r\n    })\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.destroy$.next(true);\r\n    this.destroy$.complete();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.searchForm.valueChanges.pipe(\r\n      debounceTime(1000),\r\n      takeUntil(this.destroy$)\r\n    ).subscribe(res => {\r\n      this.searchBusinessTrips();\r\n    });\r\n\r\n    this.searchBusinessTrips();\r\n  }\r\n\r\n\r\n  prepareQuery(): void {\r\n    this.query = [];\r\n\r\n    this.query = [\r\n      {name: 'page', value: this.searchForm.get('page').value},\r\n      {name: 'paginated', value: true},\r\n      {name: 'by_user_trip_permissions', value: true},\r\n    ];\r\n\r\n    if (this.searchForm.get('employees').value) {\r\n      const employees = this.searchForm.get('employees').value\r\n        .filter(employee => employee.employee).map(employee => employee.employee);\r\n      if (employees) {\r\n        this.query.push({\r\n          name: 'employees_ids',\r\n          value: employees.map(employee => employee.id)\r\n        });\r\n      }\r\n    }\r\n\r\n    if (this.searchForm.get('employees').value) {\r\n      const customUsers = this.searchForm.get('employees').value\r\n        .filter(employee => employee.customEmployee).map(employee => employee.customEmployee);\r\n      if (customUsers) {\r\n        this.query.push({\r\n          name: 'custom_employee_first_names',\r\n          value: customUsers.map(employee => employee.first_name)\r\n        });\r\n        this.query.push({\r\n          name: 'custom_employee_last_names',\r\n          value: customUsers.map(employee => employee.last_name)\r\n        });\r\n      }\r\n    }\r\n\r\n    if (this.searchForm.get('statuses').value) {\r\n      this.query.push({\r\n        name: 'statuses',\r\n        value: this.searchForm.get('statuses').value\r\n      });\r\n    }\r\n\r\n    if (this.searchForm.get('trip_started').value) {\r\n      this.query.push({\r\n        name: 'trip_start',\r\n        value: this.adapterService.dateAdapter(this.searchForm.get('trip_started').value)\r\n      });\r\n    }\r\n\r\n    if (this.searchForm.get('trip_ended').value) {\r\n      this.query.push({\r\n        name: 'trip_end',\r\n        value: this.adapterService.dateAdapter(this.searchForm.get('trip_ended').value)\r\n      });\r\n    }\r\n\r\n    if (this.searchForm.get('trip_created').value) {\r\n      this.query.push({\r\n        name: 'created_at',\r\n        value: this.adapterService.dateAdapter(this.searchForm.get('trip_created').value)\r\n      });\r\n    }\r\n  }\r\n\r\n  searchBusinessTrips() {\r\n    this.prepareQuery();\r\n\r\n    if (!this.isShowAll) {\r\n      this.getPaginated();\r\n    } else {\r\n      this.searchForm.get('page').patchValue(1);\r\n      this.getAll();\r\n    }\r\n  }\r\n\r\n  getPaginated() {\r\n    this.businessTripService\r\n      .get(this.query)\r\n      .pipe(take(1), takeUntil(this.destroy$))\r\n      .subscribe((res) => {\r\n        this.count = res.count;\r\n        this.businessTrips = res.results;\r\n        this.selectedBusinessTrip = null;\r\n      });\r\n  }\r\n\r\n  getAll() {\r\n    this.businessTripService\r\n      .getAll(this.query)\r\n      .pipe(take(1), takeUntil(this.destroy$))\r\n      .subscribe((res) => {\r\n        this.businessTrips = res;\r\n        this.selectedBusinessTrip = null;\r\n        if (this.isStartOnePage) {\r\n          this.paginator?.changePage(0);\r\n          this.isLoading = false;\r\n        }\r\n      });\r\n  }\r\n\r\n  createBusinessTrip() {\r\n    this.businessTripService\r\n      .createChangeBusinessTrip()\r\n      .pipe(take(1), takeUntil(this.destroy$))\r\n      .subscribe((res) => {\r\n        if (res) {\r\n          this.searchBusinessTrips();\r\n        }\r\n      });\r\n  }\r\n\r\n  editExpenseBusinessTrip() {\r\n    this.router.navigate(['/business-trips/trip/edit/', this.selectedBusinessTrip.id]);\r\n  }\r\n\r\n  verifyBt() {\r\n    this.router.navigate(['/business-trips/trip/verify/', this.selectedBusinessTrip.id]);\r\n  }\r\n\r\n  deleteBusinessTrip() {\r\n    this.modalService\r\n      .confirm('danger', 'Confirm')\r\n      .pipe(take(1), takeUntil(this.destroy$))\r\n      .subscribe((confirm) => {\r\n        if (confirm) {\r\n          this.businessTripService\r\n            .delete(this.selectedBusinessTrip)\r\n            .pipe(take(1), takeUntil(this.destroy$))\r\n            .subscribe((del) => {\r\n              this.searchBusinessTrips();\r\n            });\r\n        }\r\n      });\r\n  }\r\n\r\n  paginate(evt: any) {\r\n    if (!this.isStartOnePage) {\r\n      this.searchForm.get('page').patchValue(evt.page + 1);\r\n      this.searchBusinessTrips();\r\n    }\r\n  }\r\n\r\n  onShowAll() {\r\n    this.isShowAll = true;\r\n    this.searchBusinessTrips();\r\n  }\r\n\r\n  onShowPartial() {\r\n    this.isShowAll = false;\r\n    this.searchBusinessTrips();\r\n  }\r\n\r\n  isHideFilters = false;\r\n  toggleFilterVisibility() {\r\n    this.isHideFilters = !this.isHideFilters;\r\n    this.setTableScrollHeight();\r\n  }\r\n\r\n  setTableScrollHeight() {\r\n    if (this.isHideFilters && !this.isShowAll) {\r\n      this.tableScrollHeight = '20.9125rem';\r\n      return;\r\n    }\r\n\r\n    if (this.isHideFilters && this.isShowAll) {\r\n      this.tableScrollHeight = '18.75rem';\r\n      return;\r\n    }\r\n\r\n    if (!this.isHideFilters && this.isShowAll) {\r\n      this.tableScrollHeight = '27.5rem';\r\n      return;\r\n    }\r\n\r\n    if (!this.isHideFilters && !this.isShowAll) {\r\n      this.tableScrollHeight = '29.625rem';\r\n      return;\r\n    }\r\n  }\r\n\r\n\r\n}\r\n","<div class=\"page\">\r\n  <div class=\"page__header\">\r\n    <div class=\"page__title\">\r\n      <pek-module-icon [module]=\"'business-trip'\" [isActive]=\"true\"></pek-module-icon>\r\n      <h1>Business Trips</h1>\r\n    </div>\r\n    <div class=\"page__tools\">\r\n      <button\r\n        pButton\r\n        type=\"button\"\r\n        icon=\"pi pi-plus\"\r\n        label=\"Create Business Trip\"\r\n        (click)=\"createBusinessTrip()\">\r\n      </button>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"page__content\">\r\n  <div class=\"page__card\">\r\n    <div class=\"filters-visibility\" [class.filters-visibility_hide]=\"isHideFilters\">\r\n      <div class=\"filters-visibility__header\">\r\n        <ng-container *ngTemplateOutlet=\"actionButtons\"></ng-container>\r\n      </div>\r\n\r\n      <button\r\n        class=\"icon pi\"\r\n        [class.pi-angle-double-up]=\"!isHideFilters\"\r\n        [class.pi-angle-double-down]=\"isHideFilters\"\r\n        (click)=\"toggleFilterVisibility()\"\r\n      ></button>\r\n\r\n      <form\r\n        [formGroup]=\"searchForm\"\r\n        class=\"form mb-3\"\r\n      >\r\n        <div class=\"row\">\r\n          <div class=\"col-3\">\r\n            <div class=\"form-group\">\r\n              <label >Statuses</label>\r\n              <pek-business-trips-multi-status-picker (valueChange)=\"searchForm.get('statuses').setValue($event);\">\r\n              </pek-business-trips-multi-status-picker>\r\n            </div>\r\n          </div>\r\n          <div class=\"col-3\">\r\n            <div class=\"form-group\">\r\n              <label>Employees</label>\r\n              <pek-business-trips-multi-employee-with-custom (valueChange)=\"searchForm.get('employees').setValue($event);\">\r\n              </pek-business-trips-multi-employee-with-custom>\r\n            </div>\r\n          </div>\r\n          <div class=\"col-2\">\r\n            <div class=\"form-group\">\r\n              <label>Date Trip Start</label>\r\n              <p-calendar\r\n                [showButtonBar]=\"true\" formControlName=\"trip_started\" dataType=\"date\" dateFormat=\"dd/mm/yy\"\r\n                [readonlyInput]=\"true\"\r\n              ></p-calendar>\r\n            </div>\r\n          </div>\r\n          <div class=\"col-2\">\r\n            <div class=\"form-group\">\r\n              <label>Date Trip End</label>\r\n              <p-calendar\r\n                [showButtonBar]=\"true\" formControlName=\"trip_ended\" dataType=\"date\" dateFormat=\"dd/mm/yy\"\r\n                [readonlyInput]=\"true\"\r\n              ></p-calendar>\r\n            </div>\r\n          </div>\r\n          <div class=\"col-2\">\r\n            <div class=\"form-group\">\r\n              <label>Date Trip Created</label>\r\n              <p-calendar\r\n                [showButtonBar]=\"true\" formControlName=\"trip_created\" dataType=\"date\" dateFormat=\"dd/mm/yy\"\r\n                [readonlyInput]=\"true\"\r\n              ></p-calendar>\r\n            </div>\r\n          </div>\r\n          <div class=\"col-10\">\r\n          </div>\r\n          <div class=\"col-2\">\r\n            <ng-container *ngTemplateOutlet=\"actionButtons\"></ng-container>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </div>\r\n    <div class=\"page__table\">\r\n      <p-table\r\n        #dt\r\n        selectionMode=\"single\"\r\n        scrollHeight=\"calc(100vh - 335px)\"\r\n        [scrollable]=\"true\"\r\n        [rows]=\"10\"\r\n        [(selection)]=\"selectedBusinessTrip\"\r\n        [value]=\"businessTrips\"\r\n      >\r\n        <ng-template pTemplate=\"colgroup\">\r\n          <colgroup>\r\n            <col class=\"index-header\"/>\r\n          </colgroup>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"header\">\r\n          <tr>\r\n            <th class=\"index-header\">#</th>\r\n            <th>Employee</th>\r\n            <th>Created</th>\r\n            <th>Trip Start</th>\r\n            <th>Trip End</th>\r\n            <th>Status</th>\r\n          </tr>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"body\" let-expense let-i=\"rowIndex\">\r\n          <tr [pSelectableRow]=\"expense\">\r\n            <td>{{ i + 1 }}</td>\r\n            <td>{{\r\n              expense.employee ?\r\n                expense.employee.first_name + ' ' + expense.employee.last_name :\r\n                expense.custom_employee.first_name + ' ' + expense.custom_employee.last_name}}</td>\r\n            <td>{{ expense.created_at | date: 'dd/MM/yyyy'}}</td>\r\n            <td>{{ expense.trip_start  | date: 'dd/MM/yyyy HH:mm'}}</td>\r\n            <td>{{ expense.trip_end  | date: 'dd/MM/yyyy HH:mm'}}</td>\r\n            <td>\r\n              <span *ngIf=\"expense.status === tripStatus.VERIFIED\">\r\n                Verified\r\n              </span>\r\n              <span *ngIf=\"expense.status === tripStatus.NEED_VERIFICATION\">\r\n                Need To Be Verified\r\n              </span>\r\n              <span *ngIf=\"expense.status === tripStatus.NEW\">\r\n                In Progress\r\n              </span>\r\n            </td>\r\n          </tr>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"emptymessage\" let-columns>\r\n          <tr>\r\n            <td class=\"text-center p-5\" [attr.colspan]=\"6\">\r\n              <span>No Records Found</span>\r\n            </td>\r\n          </tr>\r\n        </ng-template>\r\n      </p-table>\r\n    </div>\r\n    <div *ngIf=\"!isShowAll\" [class.paginator-wrap]=\"isLoading\" class=\"paginator-wrapper\">\r\n      <p-paginator\r\n        #paginator\r\n        [rows]=\"10\"\r\n        [totalRecords]=\"count\"\r\n        (onPageChange)=\"paginate($event)\">\r\n      </p-paginator>\r\n      <p-button\r\n        class=\"paginator-all\"\r\n        type=\"button\"\r\n        styleClass=\"p-button-text\"\r\n        (click)=\"onShowAll()\"\r\n      >\r\n        All\r\n      </p-button>\r\n    </div>\r\n    <div *ngIf=\"isShowAll\" class=\"paginator-return-pagination\">\r\n      <p-button\r\n        type=\"button\"\r\n        (click)=\"onShowPartial()\"\r\n        styleClass=\"p-button-text\"\r\n      >\r\n        Return pagination\r\n      </p-button>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<ng-template #actionButtons>\r\n  <div class=\"action-buttons\">\r\n    <p-menubar class=\"ml-auto\" [model]=\"menuItems\" [class.disabled]=\"!selectedBusinessTrip\"></p-menubar>\r\n  </div>\r\n</ng-template>\r\n","import {Component, OnDestroy, OnInit, ViewChild} from '@angular/core';\r\nimport {CRMEmployee} from '../../../crm/models/crm-employee';\r\nimport {CrmPosition} from '../../models/crm-position';\r\nimport {Vehicle} from '../../models/vehicle';\r\nimport {BusinessTripExpense} from '../../models/business-trip-expense';\r\nimport {BusinessTripHotel} from '../../models/business-trip-hotel';\r\nimport {BusinessTripLocation} from '../../models/business-trip-location';\r\nimport {BusinessTripStatus} from '../../models/business-trip-status.enum';\r\nimport {BusinessTrip} from '../../models/business-trip';\r\nimport {FormArray, FormBuilder, FormControl, FormGroup} from '@angular/forms';\r\nimport {BusinessTripLocationTypes} from '../../enums/business-trip-location-status.enum';\r\nimport {HotelFiles} from '../../models/hotel-files';\r\nimport {QuerySearch} from '@shared/models/other';\r\nimport {ExpensesSum} from '../../models/expenses-sum';\r\nimport {Company} from '../../../crm/models/company';\r\nimport {CrmEmployeeService} from '../../../crm/services/crm-employee.service';\r\nimport {BusinessTripService} from '../../services/business-trip.service';\r\nimport {ModalService} from '@shared/services/modal.service';\r\nimport {AdapterService} from '@shared/services/adapter.service';\r\nimport {ActivatedRoute} from '@angular/router';\r\nimport {MenuItem, MessageService} from 'primeng/api';\r\nimport {CrmPositionsService} from '../../../crm/services/crm-positions.service';\r\nimport {VehicleService} from '../../services/vehicle.service';\r\nimport {CompanyService} from '../../../crm/services/company.service';\r\nimport {debounceTime, map, switchMap, take} from 'rxjs/operators';\r\nimport {BusinessTripEmployee} from '../../models/business-trip-employee';\r\nimport {Expense} from '../../models/expense';\r\nimport {Currency} from '@shared/models/currency';\r\nimport {of, Subject, takeUntil} from 'rxjs';\r\nimport {BusinessTripLocationMeeting} from '../../models/business-trip-location-meeting';\r\nimport {ExpenseService} from '../../services/expense.service';\r\nimport {deepCopy} from 'deep-copy-ts';\r\nimport {BusinessLocationService} from '../../services/business-location.service';\r\nimport {Hotel} from '../../models/hotel';\r\nimport {BusinessTripHotelFilesService} from '../../services/business-trip-hotel-files.service';\r\nimport {UploadFilePickerComponent} from '@shared/components/upload-file-picker/upload-file-picker.component';\r\nimport {environment} from '@env/environment';\r\n\r\nexport class DataToSend {\r\n  readonly id?: number;\r\n  employee?: number;\r\n  custom_employee?: CRMEmployee;\r\n  full_employee?: CRMEmployee;\r\n  fullPosition?: CrmPosition;\r\n  fullVehicle?: Vehicle;\r\n  fullInitiator?: CRMEmployee;\r\n  initiator?: number;\r\n  expenses?: BusinessTripExpense[];\r\n  hotel?: BusinessTripHotel;\r\n  vehicle?: Vehicle;\r\n  custom_vehicle?: Vehicle;\r\n  locations?: BusinessTripLocation[];\r\n  purpose_full?: string;\r\n  purpose_short?: string;\r\n  vehicle_type?: string;\r\n  trip_end?: string;\r\n  trip_start?: string;\r\n  status?: BusinessTripStatus;\r\n  delete_hotel_files_ids?: number [];\r\n  delete_location_ids?: number [];\r\n  delete_expenses_ids?: number [];\r\n  start_mileage?: number;\r\n  end_mileage?: number;\r\n}\r\n\r\n@Component({\r\n  selector: 'pek-edit-business-trip',\r\n  templateUrl: './edit-business-trip.component.html',\r\n  styleUrls: ['./edit-business-trip.component.scss']\r\n})\r\nexport class EditBusinessTripComponent implements OnInit, OnDestroy {\r\n  @ViewChild('filePicker') filePicker: UploadFilePickerComponent;\r\n\r\n  tripExpenses: BusinessTripExpense[] = [];\r\n  businessTrip: BusinessTrip;\r\n  tripStatuses = BusinessTripStatus;\r\n  form: FormGroup;\r\n\r\n  endDate = null;\r\n  startDate = null;\r\n  locationStatus = BusinessTripLocationTypes;\r\n\r\n  hotelEndDate = null;\r\n  hotelStartDate = null;\r\n  isExpensesRefreshing = false;\r\n\r\n  formData = new FormData();\r\n  tripId: number;\r\n\r\n  isDataPrepared = false;\r\n\r\n  selectedHotelFile: HotelFiles;\r\n  preparedFiles: HotelFiles[];\r\n  hotelFilesToDeleteIds: number[] = [];\r\n  pointsToDeleteIds: number[] = [];\r\n  expensesToDeleteIds: number[] = [];\r\n  employeeFilter: [QuerySearch] = [{name: 'by_user_trip_permissions', value: true}];\r\n  isVerify = false;\r\n  isExportView = false;\r\n  expensesSum: ExpensesSum[];\r\n\r\n  companiesFilters: Company[];\r\n\r\n  menuItems: MenuItem[] = [{\r\n    label: 'Selected Hotel Files',\r\n    items: [\r\n      {\r\n        label: 'Remove',\r\n        icon: 'pi pi-trash',\r\n        command: () => this.deleteFile()\r\n      }\r\n    ]\r\n  }];\r\n\r\n  locationChanged: Subject<{ type: BusinessTripLocationTypes, locationIndex?: number }> = new Subject<{ type: BusinessTripLocationTypes, locationIndex?: number }>();\r\n  employeeChangedEmit: Subject<void> = new Subject<void>();\r\n  infoChangedEmit: Subject<boolean> = new Subject<boolean>();\r\n  hotelChanged: Subject<void> = new Subject<void>();\r\n  vehicleChangedEmit: Subject<void> = new Subject<void>();\r\n  showFilePicker = true;\r\n  private destroy$ = new Subject();\r\n  link = environment.image_path;\r\n  constructor(\r\n    private crmEmployeeService: CrmEmployeeService,\r\n    private fb: FormBuilder,\r\n    private businessService: BusinessTripService,\r\n    private modalService: ModalService,\r\n    private adapterService: AdapterService,\r\n    private route: ActivatedRoute,\r\n    private messageService: MessageService,\r\n    private employeePositionService: CrmPositionsService,\r\n    private vehicleService: VehicleService,\r\n    private companiesService: CompanyService,\r\n    private expenseService: ExpenseService,\r\n    private businessLocationService: BusinessLocationService,\r\n    private businessTripHotelFilesService: BusinessTripHotelFilesService,\r\n  ) {\r\n    this.route.data.subscribe(res => {\r\n      this.isVerify = res['isVerify'];\r\n    });\r\n    this.route.paramMap.pipe(map(params => Number(params.get('tripId')))).pipe(takeUntil(this.destroy$)).subscribe(tripId => {\r\n      this.tripId = tripId;\r\n      this.getBusinessTrip(this.tripId);\r\n    });\r\n    this.employeeChangedEmit.pipe(debounceTime(400), takeUntil(this.destroy$)).subscribe(() => {\r\n      this.employeeUpdate();\r\n      this.infoChangedEmit.next(false);\r\n    });\r\n    this.infoChangedEmit.pipe(debounceTime(400), takeUntil(this.destroy$)).subscribe(res => {\r\n      if (this.isDataPrepared) {\r\n        this.infoChanged(res);\r\n      }\r\n    });\r\n\r\n    this.hotelChanged.pipe(debounceTime(1000), takeUntil(this.destroy$)).subscribe(() => {\r\n      this.updateHotelInfo();\r\n      this.infoChangedEmit.next(false);\r\n    });\r\n\r\n    this.vehicleChangedEmit.pipe(debounceTime(1000), takeUntil(this.destroy$)).subscribe(() => {\r\n      this.vehicleUpdate();\r\n      this.infoChangedEmit.next(false);\r\n    });\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.loadCompanies();\r\n\r\n    this.locationChanged.pipe(debounceTime(1000), takeUntil(this.destroy$)).subscribe(type => {\r\n      if (this.isDataPrepared) {\r\n        this.updateLocationDefault(type.type, type.locationIndex);\r\n      }\r\n    });\r\n  }\r\n\r\n  loadCompanies() {\r\n    this.companiesService.get([{name: 'by_user', value: true}]).pipe(takeUntil(this.destroy$)).subscribe(companies => {\r\n        this.companiesFilters = companies;\r\n    });\r\n  }\r\n\r\n\r\n  prepareForm() {\r\n    return this.fb.group({\r\n      isOtherEmployee: [false],\r\n      employee: this.fb.group({\r\n        id: [null],\r\n        first_name: [null],\r\n        last_name: [null],\r\n        position: [null]\r\n      }),\r\n      employee_first_name: [''],\r\n      employee_last_name: [''],\r\n      employee_position: [null],\r\n      employee_id: [null],\r\n      initiator: [null],\r\n      trip_start: [null],\r\n      trip_end: [null],\r\n      start_location_id: [null],\r\n      start_location_country: [null],\r\n      start_location_address: [null],\r\n      last_location_id: [null],\r\n      vehicle_type: ['0'],\r\n      last_location_country: [null],\r\n      last_location_address: [null],\r\n      last_location_meetings: this.fb.array([]),\r\n      intermediatePoints: this.fb.array([]),\r\n      purpose_short: [''],\r\n      purpose_full: [''],\r\n      isOtherVehicle: [false],\r\n      vehicle: this.fb.group({\r\n        id: [null],\r\n        model: [null],\r\n        number: [null]\r\n      }),\r\n      vehicle_model: [''],\r\n      vehicle_number: [''],\r\n      start_mileage: [0],\r\n      end_mileage: [0],\r\n      vehicle_id: [null],\r\n      showHotel: [false],\r\n      expenses: this.fb.array([]),\r\n      hotel: this.fb.group({\r\n        id: [null],\r\n        residence_start: [null],\r\n        residence_end: [null],\r\n        files: [null],\r\n        hotel_name: [null],\r\n        hotel_country: [null],\r\n        hotel_address: [null],\r\n        base64Files: this.fb.array([])\r\n      })\r\n    });\r\n  }\r\n\r\n  getBusinessTrip(id: number): void {\r\n    this.form = this.prepareForm();\r\n    this.businessService.getDetailed(id).pipe(takeUntil(this.destroy$)).subscribe(trip => {\r\n      this.businessTrip = trip;\r\n      if (this.businessTrip.custom_employee) {\r\n        const employee = this.businessTrip.custom_employee as BusinessTripEmployee;\r\n        this.form.get('isOtherEmployee').setValue(true);\r\n        this.form.get('employee_first_name').setValue(employee.first_name);\r\n        this.form.get('employee_last_name').setValue(employee.last_name);\r\n        if (employee.position) {\r\n          this.form.get('employee_position').setValue(employee.position.id);\r\n        }\r\n        this.form.get('employee_id').setValue(employee.id);\r\n      }\r\n      if (this.businessTrip.employee) {\r\n        const employee = this.businessTrip.employee as BusinessTripEmployee;\r\n        this.form.get('employee').setValue(employee);\r\n      }\r\n\r\n      if (this.businessTrip.trip_end) {\r\n        this.form.get('trip_end').setValue(new Date(this.businessTrip.trip_end));\r\n      }\r\n      if (this.businessTrip.trip_start) {\r\n        this.form.get('trip_start').setValue(new Date(this.businessTrip.trip_start));\r\n      }\r\n      this.form.get('vehicle_type').setValue(this.businessTrip.vehicle_type);\r\n      this.form.get('purpose_full').setValue(this.businessTrip.purpose_full);\r\n      this.form.get('purpose_short').setValue(this.businessTrip.purpose_short);\r\n      this.form.get('start_mileage').setValue(this.businessTrip.start_mileage);\r\n      this.form.get('end_mileage').setValue(this.businessTrip.end_mileage);\r\n\r\n      if (this.businessTrip.custom_vehicle) {\r\n        const vehicle = this.businessTrip.custom_vehicle as Vehicle;\r\n        this.form.get('isOtherVehicle').setValue(true);\r\n        this.form.get('vehicle_model').setValue(vehicle.model);\r\n        this.form.get('vehicle_number').setValue(vehicle.number);\r\n        this.form.get('vehicle_id').setValue(vehicle.id);\r\n      }\r\n\r\n      if (this.businessTrip.vehicle) {\r\n        this.form.get('isOtherVehicle').setValue(false);\r\n        this.form.get('vehicle').setValue(this.businessTrip.vehicle);\r\n      }\r\n      if (this.businessTrip.hotel) {\r\n        const hotel = this.businessTrip.hotel as BusinessTripHotel;\r\n        this.form.get('showHotel').setValue(true);\r\n        this.form.get('hotel').setValue({\r\n          id: hotel.id,\r\n          residence_start: hotel.residence_start ? new Date(hotel.residence_start) : null,\r\n          residence_end: hotel.residence_end ? new Date(hotel.residence_end) : null,\r\n          hotel_name: hotel.name,\r\n          hotel_country: hotel.country,\r\n          hotel_address: hotel.address,\r\n          files: [],\r\n          base64Files: [],\r\n        });\r\n        this.loadHotelFiles(hotel.id);\r\n      }\r\n      // Locations\r\n      this.businessTrip.locations.forEach(location => {\r\n        if (location.type === BusinessTripLocationTypes.FIRST) {\r\n          this.form.get('start_location_country').setValue(location.country);\r\n          this.form.get('start_location_address').setValue(location.address);\r\n          this.form.get('start_location_id').setValue(location.id);\r\n        }\r\n        if (location.type === BusinessTripLocationTypes.LAST) {\r\n          this.form.get('last_location_country').setValue(location.country);\r\n          this.form.get('last_location_address').setValue(location.address);\r\n          this.form.get('last_location_id').setValue(location.id);\r\n          location.location_meetings.forEach(meeting => {\r\n            (this.form.get('last_location_meetings') as FormArray).push(this.fb.group({\r\n              id: meeting.id,\r\n              location_id: meeting.location_id,\r\n              company: meeting.company,\r\n              contacts: this.fb.array(meeting.contacts)\r\n            }));\r\n          }, {emitEvent: false});\r\n        }\r\n        if (location.type === BusinessTripLocationTypes.INTERMEDIATE) {\r\n          (this.form.get('intermediatePoints') as FormArray).push(this.fb.group({\r\n            id: location.id,\r\n            country: location.country,\r\n            address: location.address,\r\n            location_meetings: this.fb.array(location.location_meetings),\r\n          }));\r\n        }\r\n      });\r\n      // Expenses\r\n      const expenses = this.businessTrip.expenses as BusinessTripExpense[];\r\n      this.updateExpenses(expenses);\r\n\r\n      this.form.get('initiator').setValue(this.businessTrip.initiator);\r\n\r\n      this.isDataPrepared = true;\r\n    });\r\n  }\r\n\r\n  updateExpenses(expenses: BusinessTripExpense[]) {\r\n    if (expenses.length > 0) {\r\n      this.form.removeControl('expenses');\r\n      this.form.addControl('expenses', this.fb.array([]));\r\n      expenses.forEach(expense => {\r\n        let expensePrepared: Expense = {\r\n          id: null,\r\n          name: null,\r\n          description: null,\r\n        };\r\n        let customExpensePrepared: Expense = {\r\n          id: null,\r\n          name: null,\r\n          description: null,\r\n        };\r\n\r\n        if (expense.expense) {\r\n          expensePrepared = expense.expense as Expense;\r\n        }\r\n\r\n        if (expense.custom_expense) {\r\n          customExpensePrepared = expense.custom_expense as Expense;\r\n        }\r\n\r\n        (this.form.get('expenses') as FormArray).push(this.fb.group({\r\n          base64File: null,\r\n          currency: expense.currency,\r\n          custom_expense: customExpensePrepared,\r\n          expense: expensePrepared,\r\n          id: expense.id,\r\n          sum: expense.sum,\r\n          isOther: !!customExpensePrepared.id,\r\n          is_verified: expense.is_verified,\r\n          file: expense.file,\r\n          uploaded_file: null,\r\n          clear_file: false,\r\n        }));\r\n      });\r\n      this.tripExpenses = [];\r\n      (this.form.get('expenses') as FormArray).controls.forEach(group => {\r\n        this.tripExpenses.push(group.value);\r\n      });\r\n\r\n      console.log(this.form.get('expenses').value);\r\n    }\r\n  }\r\n\r\n  setStartValue(start) {\r\n    if (start) {\r\n      this.form.get('trip_start').patchValue(start);\r\n      this.startDate = start;\r\n      if (this.form.get('trip_end').value && this.form.get('trip_end').value < this.form.get('trip_start').value) {\r\n        this.setEndValue(this.form.get('trip_end').value);\r\n      }\r\n    }\r\n  }\r\n\r\n  setEndValue(end) {\r\n    if (end) {\r\n      this.form.get('trip_end').patchValue(end);\r\n      this.endDate = end;\r\n    }\r\n  }\r\n\r\n  public addIntermediatePoint(): void {\r\n    (this.form.get('intermediatePoints') as FormArray).push(this.fb.group({\r\n      id: [],\r\n      country: [],\r\n      address: [],\r\n      location_meetings: this.fb.array([]),\r\n    }));\r\n  }\r\n\r\n  get _intermediatePoints(): FormGroup[] {\r\n    return (this.form.get('intermediatePoints') as FormArray).controls as FormGroup[];\r\n  }\r\n\r\n  removePoint(point: FormGroup, index: number) {\r\n    if (point.value.id) {\r\n      this.businessLocationService.delete(point.value).pipe(takeUntil(this.destroy$)).subscribe(() => {\r\n        (this.form.get('intermediatePoints') as FormArray).removeAt(index);\r\n      });\r\n    } else {\r\n      (this.form.get('intermediatePoints') as FormArray).removeAt(index);\r\n    }\r\n  }\r\n\r\n  get _hotel(): FormGroup {\r\n    return (this.form.get('hotel') as FormGroup) as FormGroup;\r\n  }\r\n\r\n  editTripExpense(index: number) {\r\n    const element = (this.form.get('expenses') as FormArray).controls[index].value;\r\n    this.expenseService\r\n      .createChangeExpanseItem(element, this.isVerify)\r\n      .pipe(take(1), takeUntil(this.destroy$))\r\n      .subscribe((res) => {\r\n        if (res) {\r\n          (this.form.get('expenses') as FormArray).controls[index].setValue(res.value);\r\n          this.tripExpenses = [];\r\n          (this.form.get('expenses') as FormArray).controls.forEach(group => {\r\n            this.tripExpenses.push(group.value);\r\n          });\r\n        }\r\n      });\r\n  }\r\n\r\n  changedValue($event: any) {\r\n  }\r\n\r\n  clickHotelOutside(type) {\r\n    if (this._hotel.value.residence_end?.getTime() !== this.hotelStartDate?.getTime()) {\r\n      this._hotel.get('residence_end').patchValue(this.hotelStartDate);\r\n    }\r\n    if (this._hotel.value.residence_end?.getTime() !== this.hotelEndDate?.getTime()) {\r\n      this._hotel.get('residence_end').patchValue(this.hotelEndDate);\r\n    }\r\n  }\r\n\r\n  setHotelStartValue(start) {\r\n    if (start) {\r\n      this.hotelStartDate = start;\r\n      if (this._hotel.get('residence_end').value &&\r\n        this._hotel.get('residence_end').value < this._hotel.get('residence_start').value) {\r\n        this.setHotelEndValue(this._hotel.get('residence_end').value);\r\n      }\r\n    }\r\n  }\r\n\r\n  setHotelEndValue(end) {\r\n    if (end) {\r\n      this._hotel.get('residence_end').patchValue(end);\r\n      this.hotelEndDate = end;\r\n    }\r\n  }\r\n\r\n  get _employee(): FormGroup {\r\n    return (this.form.get('employee') as FormGroup) as FormGroup;\r\n  }\r\n\r\n  get _vehicle(): FormGroup {\r\n    return (this.form.get('vehicle') as FormGroup) as FormGroup;\r\n  }\r\n\r\n  editBusinessTrip(status: BusinessTripStatus) {\r\n    if (!this.form.valid) {\r\n      this.messageService.add({severity: 'error', summary: 'Validation Error', detail: `Fill all required field`});\r\n      return;\r\n    }\r\n\r\n    if (this.form.valid) {\r\n      const dataToSend = this.prepareDataToSend(status);\r\n      const result = this.obj2FormData(dataToSend);\r\n      this.businessService\r\n        .update(this.tripId, result)\r\n        .pipe(take(1), takeUntil(this.destroy$))\r\n        .subscribe((res) => {\r\n          this.isDataPrepared = false;\r\n\r\n          this.form.reset();\r\n          this.hotelFilesToDeleteIds = [];\r\n          this.preparedFiles = [];\r\n          this.selectedHotelFile = null;\r\n          this.businessTrip = null;\r\n          this.tripExpenses = [];\r\n          this.getBusinessTrip(this.tripId);\r\n        });\r\n    }\r\n  }\r\n\r\n  prepareDataToSend(status: BusinessTripStatus, prepareToExport = false): DataToSend {\r\n    const preparedLocations = [];\r\n    let tempFormValue;\r\n    if (prepareToExport) {\r\n      tempFormValue = deepCopy(this.form.value);\r\n    } else {\r\n      tempFormValue = this.form.value;\r\n    }\r\n\r\n    if (tempFormValue.start_location_country) {\r\n      const startLocation: BusinessTripLocation = {\r\n        id: tempFormValue.start_location_id,\r\n        type: BusinessTripLocationTypes.FIRST,\r\n        address: tempFormValue.start_location_address,\r\n        fullCountry: tempFormValue.start_location_country,\r\n        country: tempFormValue.start_location_country?.code,\r\n      };\r\n      preparedLocations.push(startLocation);\r\n    }\r\n    if (tempFormValue.last_location_country) {\r\n      const lastLocation: BusinessTripLocation = {\r\n        id: tempFormValue.last_location_id,\r\n        type: BusinessTripLocationTypes.LAST,\r\n        address: tempFormValue.last_location_address,\r\n        fullCountry: tempFormValue.last_location_country,\r\n        country: tempFormValue.last_location_country?.code,\r\n        location_meetings: tempFormValue.last_location_meetings\r\n      };\r\n      preparedLocations.push(lastLocation);\r\n    }\r\n\r\n    const locations = tempFormValue.intermediatePoints;\r\n    locations.forEach(location => {\r\n      location.type = BusinessTripLocationTypes.INTERMEDIATE;\r\n      location.fullCountry = location.country;\r\n      location.country = location.country?.code;\r\n    });\r\n\r\n    preparedLocations.push(...locations);\r\n\r\n    preparedLocations.forEach(location => {\r\n      if (location.location_meetings) {\r\n        location.location_meetings.forEach(meeting => {\r\n          meeting.fullCompany = meeting.company;\r\n          meeting.fullContacts = meeting.contacts;\r\n          meeting.company = meeting.company?.id;\r\n          meeting.contacts = meeting.contacts.map(contact => contact.id);\r\n        });\r\n      }\r\n    });\r\n    const tripStart = tempFormValue.trip_start ?\r\n      this.adapterService.dateTimeAdapter(new Date(tempFormValue.trip_start)) : null;\r\n    const tripEnd = tempFormValue.trip_end ?\r\n      this.adapterService.dateTimeAdapter(new Date(tempFormValue.trip_end)) : null;\r\n    const dataToSend: DataToSend = {\r\n      initiator: tempFormValue.initiator,\r\n      locations: preparedLocations,\r\n      purpose_full: tempFormValue.purpose_full ? tempFormValue.purpose_full : null,\r\n      purpose_short: tempFormValue.purpose_short ? tempFormValue.purpose_short : null,\r\n      vehicle_type: tempFormValue.vehicle_type,\r\n      trip_end: tripEnd ? tripEnd : null,\r\n      trip_start: tripStart ? tripStart : null,\r\n      expenses: [],\r\n      start_mileage: tempFormValue.start_mileage,\r\n      end_mileage: tempFormValue.end_mileage,\r\n      status,\r\n    };\r\n\r\n    if (tempFormValue.hotel.hotel_name && tempFormValue.showHotel) {\r\n      const hotelStartDate = tempFormValue.hotel.residence_start ?\r\n        this.adapterService.dateAdapter(new Date(tempFormValue.hotel.residence_start)) : null;\r\n      const hotelEndDate = tempFormValue.hotel.residence_end ?\r\n        this.adapterService.dateAdapter(new Date(tempFormValue.hotel.residence_end)) : null;\r\n      dataToSend.hotel = {\r\n        residence_start: hotelStartDate ? hotelStartDate : null,\r\n        residence_end: hotelEndDate ? hotelEndDate : null,\r\n        address: tempFormValue.hotel.hotel_address,\r\n        country: tempFormValue.hotel.hotel_country.code,\r\n        fullCountry: tempFormValue.hotel.hotel_country,\r\n        name: tempFormValue.hotel.hotel_name,\r\n        id: tempFormValue.hotel.id,\r\n        files: tempFormValue.hotel.files,\r\n      };\r\n\r\n      if (!dataToSend.hotel.residence_start ||\r\n        !dataToSend.hotel.residence_end ||\r\n        !dataToSend.hotel.address ||\r\n        !dataToSend.hotel.country ||\r\n        !dataToSend.hotel.name) {\r\n        this.messageService.add({severity: 'error', summary: 'Validation Error', detail: `Fill Hotel Data`});\r\n      }\r\n    }\r\n\r\n    if (tempFormValue.employee.id) {\r\n      dataToSend.employee = tempFormValue.employee.id;\r\n      dataToSend.full_employee = tempFormValue.employee;\r\n    } else {\r\n      dataToSend.custom_employee = {\r\n        id: tempFormValue.employee_id,\r\n        first_name: tempFormValue.employee_first_name,\r\n        last_name: tempFormValue.employee_last_name,\r\n        position: tempFormValue.employee_position,\r\n      };\r\n      dataToSend.full_employee = dataToSend.custom_employee;\r\n    }\r\n\r\n    if (tempFormValue.vehicle_type !== '0') {\r\n      if (tempFormValue.vehicle.id && tempFormValue.vehicle_type === '3') {\r\n        dataToSend.vehicle = tempFormValue.vehicle.id;\r\n      } else if ((tempFormValue.vehicle_type === '1' || tempFormValue.vehicle_type === '2') && tempFormValue.vehicle_model) {\r\n        dataToSend.custom_vehicle = {\r\n          id: tempFormValue.vehicle_id,\r\n          model: tempFormValue.vehicle_model,\r\n          number: tempFormValue.vehicle_number,\r\n        };\r\n      } else {\r\n        dataToSend.vehicle = null;\r\n        dataToSend.custom_vehicle = null;\r\n      }\r\n    } else {\r\n      dataToSend.vehicle = null;\r\n      dataToSend.custom_vehicle = null;\r\n    }\r\n\r\n\r\n    if (tempFormValue.expenses) {\r\n      tempFormValue.expenses.forEach((tripExpense) => {\r\n        const businessExpense: BusinessTripExpense = {\r\n          currency: tripExpense.currency,\r\n          id: tripExpense.id,\r\n          sum: tripExpense.sum,\r\n          is_verified: tripExpense.is_verified,\r\n          clear_file: tripExpense.clear_file,\r\n        };\r\n        if ((tripExpense.expense as Expense).name) {\r\n          businessExpense.expense = (tripExpense.expense as Expense).id;\r\n          businessExpense.currency = (tripExpense.currency as Currency).code as string;\r\n          businessExpense.fullExpense = (tripExpense.expense as Expense);\r\n        }\r\n        if (tripExpense.custom_expense.name) {\r\n          businessExpense.custom_expense = tripExpense.custom_expense;\r\n          businessExpense.currency = (tripExpense.currency as Currency).code as string;\r\n          businessExpense.fullExpense = tripExpense.custom_expense;\r\n        }\r\n        if (tripExpense.base64File) {\r\n          businessExpense.file = tripExpense.uploaded_file;\r\n        }\r\n        dataToSend.expenses.push(businessExpense);\r\n      });\r\n    }\r\n\r\n    dataToSend.delete_hotel_files_ids = this.hotelFilesToDeleteIds;\r\n    dataToSend.delete_location_ids = this.pointsToDeleteIds;\r\n    dataToSend.delete_expenses_ids = this.expensesToDeleteIds;\r\n    return dataToSend;\r\n  }\r\n\r\n  employeeUpdate() {\r\n    const employeeUpdate: DataToSend = {};\r\n    if (this.form.value.employee.id) {\r\n      employeeUpdate.employee = this.form.value.employee.id;\r\n      employeeUpdate.custom_employee = null;\r\n    } else {\r\n      const position = this.form.value.employee_position;\r\n      const firstName = this.form.value.employee_first_name;\r\n      const lastNameName = this.form.value.employee_last_name;\r\n      if (!firstName || !lastNameName) {\r\n        return;\r\n      }\r\n      employeeUpdate.custom_employee = {\r\n        id: this.form.value.employee_id,\r\n        first_name: this.form.value.employee_first_name,\r\n        last_name: this.form.value.employee_last_name,\r\n        position: position ? position : null,\r\n      };\r\n      employeeUpdate.employee = null;\r\n    }\r\n\r\n    this.businessService\r\n      .updateBusinessTripEmployee(this.tripId, employeeUpdate)\r\n      .pipe(take(1), takeUntil(this.destroy$))\r\n      .subscribe((trip) => {\r\n        if (trip.custom_employee) {\r\n          const employee = trip.custom_employee as BusinessTripEmployee;\r\n          if (employee.position) {\r\n            this.form.get('employee_position').setValue(employee.position.id);\r\n          }\r\n          this.form.get('employee_id').setValue(employee.id);\r\n        }\r\n        if (trip.employee) {\r\n          const employee = trip.employee as BusinessTripEmployee;\r\n          this.form.get('employee').setValue(employee);\r\n        }\r\n      });\r\n  }\r\n\r\n  vehicleUpdate() {\r\n    const vehicleData: DataToSend = {};\r\n    const formData = this.form.value;\r\n    vehicleData.vehicle_type = formData.vehicle_type;\r\n    if (formData.vehicle_type !== '0') {\r\n      if (formData.vehicle.id && formData.vehicle_type === '3') {\r\n        vehicleData.vehicle = formData.vehicle.id;\r\n        vehicleData.custom_vehicle = null;\r\n      } else if ((formData.vehicle_type === '1' || formData.vehicle_type === '2') && formData.vehicle_model) {\r\n        const model = formData.vehicle_model;\r\n        const number = formData.vehicle_number;\r\n        if (!model || !number) {\r\n          return;\r\n        }\r\n        vehicleData.custom_vehicle = {\r\n          id: formData.vehicle_id,\r\n          model: model,\r\n          number: number,\r\n        };\r\n        vehicleData.vehicle = null;\r\n      } else {\r\n        vehicleData.vehicle = null;\r\n        vehicleData.custom_vehicle = null;\r\n      }\r\n    } else {\r\n      vehicleData.vehicle = null;\r\n      vehicleData.custom_vehicle = null;\r\n    }\r\n    this.businessService\r\n      .updateBusinessTripVehicle(this.tripId, vehicleData)\r\n      .pipe(take(1), takeUntil(this.destroy$))\r\n      .subscribe((trip) => {\r\n        if (trip.custom_vehicle) {\r\n          const vehicle = trip.custom_vehicle as Vehicle;\r\n          this.form.get('vehicle_id').setValue(vehicle.id);\r\n        }\r\n      });\r\n  }\r\n\r\n  obj2FormData(obj, formData = new FormData()) {\r\n    this.formData = formData;\r\n    this.createFormData(obj);\r\n    return this.formData;\r\n  }\r\n\r\n  createFormData(obj, subKeyStr = '') {\r\n    for (const i in obj) {\r\n      const value = obj[i];\r\n      const subKeyStrTrans = subKeyStr ? subKeyStr + '[' + i + ']' : i;\r\n\r\n      if (typeof (value) === 'string' || typeof (value) === 'number' || typeof (value) === 'boolean') {\r\n        // @ts-ignore\r\n        this.formData.append(subKeyStrTrans, value);\r\n\r\n      } else if (typeof (value) === 'object') {\r\n        if (value instanceof File) {\r\n          this.formData.append(subKeyStrTrans, value);\r\n        } else {\r\n          this.createFormData(value, subKeyStrTrans);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  employeeChanged() {\r\n    this.form.get('employee').reset();\r\n    this.form.get('employee_first_name').reset();\r\n    this.form.get('employee_last_name').reset();\r\n    this.form.get('employee_position').reset();\r\n  }\r\n\r\n  vehicleChanged() {\r\n    this.form.get('vehicle').reset();\r\n    this.form.get('vehicle_model').reset();\r\n    this.form.get('vehicle_number').reset();\r\n  }\r\n\r\n  filesChanged(files: File[]) {\r\n    if (files.length > 0) {\r\n      this._hotel.get('files').setValue(files);\r\n      setTimeout(() => {\r\n        this.updateFiles();\r\n      }, 1000);\r\n    }\r\n  }\r\n\r\n\r\n  fileToBase64(file: File): void {\r\n    const fileReader = new FileReader();\r\n    fileReader.onload = event => {\r\n      const base64 = event.target.result;\r\n      (this._hotel.get('base64Files') as FormArray).push(this.fb.group({\r\n        file: base64\r\n      }));\r\n    };\r\n    fileReader.readAsDataURL(file);\r\n  }\r\n\r\n  deleteFile() {\r\n    this.modalService.confirm('danger', 'Confirm').pipe(takeUntil(this.destroy$)).subscribe(confirm => {\r\n      if (confirm) {\r\n        this.businessTripHotelFilesService.delete(this.selectedHotelFile).pipe(takeUntil(this.destroy$)).subscribe(() => {\r\n          this.selectedHotelFile = null;\r\n          this.loadHotelFiles(this._hotel.get('id').value);\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  downloadHotelFile(file: any): void {\r\n    this.businessService.download_hotel_file(file.id).pipe(takeUntil(this.destroy$)).subscribe(response => {\r\n      const filename = this.getName(file.file);\r\n      this.adapterService.downloadFile(filename, response);\r\n    });\r\n  }\r\n\r\n  getName(name) {\r\n    const nameArr = name.split('/');\r\n    return nameArr[nameArr.length - 1];\r\n  }\r\n\r\n  deleteExpense(expense: BusinessTripExpense) {\r\n    const foundExpenseIndex = this.tripExpenses.findIndex(innerExpense => innerExpense === expense);\r\n    if (foundExpenseIndex > -1) {\r\n      if (this.tripExpenses[foundExpenseIndex].id) {\r\n        this.expensesToDeleteIds.push(this.tripExpenses[foundExpenseIndex].id);\r\n      }\r\n      this.tripExpenses.splice(foundExpenseIndex, 1);\r\n      (this.form.get('expenses') as FormArray).removeAt(foundExpenseIndex);\r\n    }\r\n  }\r\n\r\n  loadEmployeePositionData(preparedData: DataToSend) {\r\n    if (preparedData.custom_employee) {\r\n      let positionId;\r\n      positionId = preparedData.custom_employee.position;\r\n      if (positionId) {\r\n        return this.employeePositionService.getById(positionId).pipe(map(res => {\r\n          preparedData.fullPosition = res;\r\n          return preparedData;\r\n        }));\r\n      } else {\r\n        return of(preparedData);\r\n      }\r\n    } else if (preparedData.full_employee.position) {\r\n      preparedData.fullPosition = preparedData.full_employee.position;\r\n    }\r\n\r\n    return of(preparedData);\r\n  }\r\n\r\n  loadInitiatorData(preparedData: DataToSend) {\r\n    const position = preparedData.initiator as number;\r\n    if (position) {\r\n      return this.crmEmployeeService.getById(position).pipe(map(res => {\r\n        preparedData.fullInitiator = res;\r\n        return preparedData;\r\n      }));\r\n    }\r\n    return of(preparedData);\r\n  }\r\n\r\n  loadVehicleData(preparedData: DataToSend) {\r\n\r\n    if (preparedData.vehicle) {\r\n      const vehicleId = preparedData.vehicle;\r\n      return this.vehicleService.getById(vehicleId).pipe(map(res => {\r\n        preparedData.fullVehicle = res;\r\n        return preparedData;\r\n      }));\r\n    } else if (preparedData.custom_vehicle) {\r\n      preparedData.fullVehicle = preparedData.custom_vehicle;\r\n    }\r\n    return of(preparedData);\r\n  }\r\n\r\n  export() {\r\n    const preparedData = this.prepareDataToSend(this.businessTrip.status, true);\r\n    this.loadEmployeePositionData(preparedData).pipe(switchMap(res => {\r\n        return this.loadInitiatorData(res);\r\n      }),\r\n      switchMap(res => {\r\n        return this.loadVehicleData(res);\r\n      })).pipe(takeUntil(this.destroy$)).subscribe(res => {\r\n      this.businessService.exportToExcel(res, this.expensesSum).then();\r\n    });\r\n  }\r\n\r\n  meetingChanged(point: FormGroup, meetings: BusinessTripLocationMeeting[]) {\r\n  }\r\n\r\n  lastPointMeetingChanged($event: BusinessTripLocationMeeting[]) {\r\n  }\r\n\r\n  changedVechicleType($event: string) {\r\n    this.form.get('vehicle_type').setValue($event);\r\n  }\r\n\r\n  viewHotelFiles() {\r\n    const files = this.form.get('hotel').value;\r\n    const data: { links: any, files: any } = {links: this.preparedFiles, files: files.base64Files};\r\n    this.businessService.viewBusinessTripFiles(data);\r\n  }\r\n\r\n  updateLocationDefault(type: BusinessTripLocationTypes, locationIndex: number) {\r\n    let country;\r\n    let address;\r\n    let id;\r\n    let data: BusinessTripLocation;\r\n    if (type === BusinessTripLocationTypes.FIRST) {\r\n      country = this.form.get('start_location_country').value?.code;\r\n      address = this.form.get('start_location_address').value;\r\n      if (!country || !address) {\r\n        return;\r\n      }\r\n      id = this.form.get('start_location_id').value;\r\n      data = {\r\n        id,\r\n        country,\r\n        address,\r\n        type: type,\r\n        business_trip_id: this.businessTrip.id\r\n      };\r\n    } else if (type === BusinessTripLocationTypes.LAST) {\r\n      country = this.form.get('last_location_country').value.code;\r\n      address = this.form.get('last_location_address').value;\r\n      id = this.form.get('last_location_id').value;\r\n      if (!country || !address) {\r\n        return;\r\n      }\r\n      data = {\r\n        id,\r\n        country,\r\n        address,\r\n        business_trip_id: this.businessTrip.id,\r\n        type: type,\r\n      };\r\n    } else {\r\n      const point = this.form.get('intermediatePoints').value.at(locationIndex);\r\n      country = point.country?.code;\r\n      address = point.address;\r\n      id = point.id;\r\n      if (!country || !address) {\r\n        return;\r\n      }\r\n      data = {\r\n        id,\r\n        country,\r\n        address,\r\n        business_trip_id: this.businessTrip.id,\r\n        type: type,\r\n      };\r\n    }\r\n\r\n    if (data.id) {\r\n      this.businessLocationService.update(data.id, data).subscribe((res: {data: BusinessTripLocation}) => {\r\n        if (type === BusinessTripLocationTypes.FIRST) {\r\n          this.form.get('start_location_country').setValue(res.data.country);\r\n          this.form.get('start_location_address').setValue(res.data.address);\r\n          this.form.get('start_location_id').setValue(res.data.id);\r\n        }\r\n        if (type === BusinessTripLocationTypes.LAST) {\r\n          this.form.get('last_location_country').setValue(res.data.country);\r\n          this.form.get('last_location_address').setValue(res.data.address);\r\n          this.form.get('last_location_id').setValue(res.data.id);\r\n        }\r\n        if (type === BusinessTripLocationTypes.INTERMEDIATE) {\r\n          this.form.get('intermediatePoints').value.at(locationIndex).patchValue(res.data);\r\n        }\r\n      });\r\n    } else {\r\n      this.businessLocationService.create(data).subscribe(res => {\r\n        if (type === BusinessTripLocationTypes.FIRST) {\r\n          this.form.get('start_location_country').setValue(res.country);\r\n          this.form.get('start_location_address').setValue(res.address);\r\n          this.form.get('start_location_id').setValue(res.id);\r\n        }\r\n        if (type === BusinessTripLocationTypes.LAST) {\r\n          this.form.get('last_location_country').setValue(res.country);\r\n          this.form.get('last_location_address').setValue(res.address);\r\n          this.form.get('last_location_id').setValue(res.id);\r\n        }\r\n        if (type === BusinessTripLocationTypes.INTERMEDIATE) {\r\n          (this.form.get('intermediatePoints') as FormArray).at(locationIndex).patchValue(res);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  private infoChanged(validateTrip: boolean = false) {\r\n    const tripStart = this.form.get('trip_start').value ?\r\n      this.adapterService.dateTimeAdapter(new Date(this.form.get('trip_start').value)) : null;\r\n    const tripEnd = this.form.get('trip_end').value ?\r\n      this.adapterService.dateTimeAdapter(new Date(this.form.get('trip_end').value)) : null;\r\n\r\n    const employeeUpdate: DataToSend = {\r\n      trip_end: tripEnd ? tripEnd : null,\r\n      trip_start: tripStart ? tripStart : null,\r\n      initiator: this.form.get('initiator').value,\r\n      purpose_full: this.form.get('purpose_full').value ? this.form.get('purpose_full').value : '',\r\n      purpose_short: this.form.get('purpose_short').value ? this.form.get('purpose_short').value : '',\r\n      start_mileage: this.form.get('start_mileage').value,\r\n      end_mileage: this.form.get('end_mileage').value,\r\n      status: validateTrip ? BusinessTripStatus.VERIFIED : BusinessTripStatus.NEED_VERIFICATION,\r\n    };\r\n\r\n    this.businessService\r\n      .update(this.tripId, employeeUpdate)\r\n      .pipe(take(1), takeUntil(this.destroy$))\r\n      .subscribe();\r\n  }\r\n\r\n  updateHotelInfo() {\r\n    const tempFormValue = deepCopy(this.form.value);\r\n    if (tempFormValue.hotel.hotel_name && tempFormValue.showHotel) {\r\n      const hotelStartDate = tempFormValue.hotel.residence_start ?\r\n        this.adapterService.dateAdapter(new Date(tempFormValue.hotel.residence_start)) : null;\r\n      const hotelEndDate = tempFormValue.hotel.residence_end ?\r\n        this.adapterService.dateAdapter(new Date(tempFormValue.hotel.residence_end)) : null;\r\n\r\n      const hotelData = {\r\n        residence_start: hotelStartDate ? hotelStartDate : null,\r\n        residence_end: hotelEndDate ? hotelEndDate : null,\r\n        address: tempFormValue.hotel.hotel_address,\r\n        country: tempFormValue.hotel.hotel_country?.code,\r\n        name: tempFormValue.hotel.hotel_name,\r\n        id: tempFormValue.hotel.id,\r\n      };\r\n\r\n      if (!hotelData.residence_start ||\r\n        !hotelData.residence_end ||\r\n        !hotelData.address ||\r\n        !hotelData.country ||\r\n        !hotelData.name) {\r\n        return;\r\n      }\r\n\r\n      this.businessService.updateHotelInfo(this.tripId, hotelData).pipe(takeUntil(this.destroy$)).subscribe(res => {\r\n        this._hotel.get('id').setValue((res.hotel as Hotel).id);\r\n      });\r\n    }\r\n  }\r\n\r\n  loadHotelFiles(hotelId: number) {\r\n    this.businessTripHotelFilesService.get([{name: 'business_trip_hotel_id', value: hotelId}]).pipe(takeUntil(this.destroy$)).subscribe(response => {\r\n      this.preparedFiles = response;\r\n    });\r\n  }\r\n\r\n\r\n  updateFiles() {\r\n    this.showFilePicker = false;\r\n    const data = [];\r\n    this._hotel.get('files').value.forEach(file => {\r\n      data.push({\r\n        file: file,\r\n        business_trip_id: this._hotel.get('id').value\r\n      })\r\n    });\r\n\r\n    const send = {\r\n      files: this._hotel.get('files').value,\r\n      id: this._hotel.get('id').value\r\n    }\r\n    const result = this.obj2FormData(send);\r\n    this.businessService.add_hotel_files(result).pipe(takeUntil(this.destroy$)).subscribe(res => {\r\n      this.loadHotelFiles(this._hotel.get('id').value);\r\n      this.filePicker.clearFiles();\r\n    })\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.destroy$.next(true);\r\n    this.destroy$.complete();\r\n  }\r\n\r\n  fileAdded(file: File) {\r\n      this._hotel.get('files').setValue([file]);\r\n      setTimeout(() => {\r\n        this.updateFiles();\r\n      }, 1000);\r\n  }\r\n}\r\n","<div class=\"page\">\r\n  <div class=\"page__header\">\r\n    <div class=\"page__title\">\r\n      <pek-module-icon [module]=\"'business-trip'\" [isActive]=\"true\"></pek-module-icon>\r\n      <h1>Edit Business Trip</h1>\r\n    </div>\r\n    <div class=\"page__tools\">\r\n      <button\r\n        pButton\r\n        type=\"button\"\r\n        icon=\"pi pi-file-excel\"\r\n        label=\"Export to xls\"\r\n        class=\"p-button-secondary mr-2\"\r\n        (click)=\"export()\">\r\n      </button>\r\n      <button\r\n        pButton\r\n        *ngIf=\"isVerify\"\r\n        type=\"button\"\r\n        icon=\"pi pi-check\"\r\n        label=\"Verify BT\"\r\n        class=\"mr-2\"\r\n        (click)=\"infoChangedEmit.next(true)\">\r\n      </button>\r\n      <button\r\n        pButton\r\n        type=\"button\"\r\n        icon=\"pi pi-plus\"\r\n        label=\"Save\"\r\n        (click)=\"editBusinessTrip(tripStatuses.NEED_VERIFICATION)\">\r\n      </button>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<form  [formGroup]=\"form\">\r\n  <div class=\"page__content\">\r\n    <h2 class=\"mb-4\">Employee</h2>\r\n    <div class=\"page__card\">\r\n      <div *ngIf=\"isDataPrepared else infoLoading\">\r\n        <div class=\"row\">\r\n          <div class=\"col-12\">\r\n            <div class=\"form-group\">\r\n              <label for=\"other\">Not Listed Employee</label>\r\n              <p-checkbox\r\n                id=\"other\"\r\n                formControlName=\"isOtherEmployee\"\r\n                [binary]=\"true\"\r\n                (onChange)=\"employeeChanged()\"\r\n              ></p-checkbox>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div *ngIf=\"form.get('isOtherEmployee').value else predefinedEmployee\">\r\n          <div class=\"row\">\r\n            <div class=\"col-4\">\r\n              <div class=\"form-group\">\r\n                <label>First Name</label>\r\n                <input pInputText\r\n                       formControlName=\"employee_first_name\"\r\n                       (ngModelChange)=\"employeeChangedEmit.next()\"\r\n                       class=\"form-control\">\r\n              </div>\r\n            </div>\r\n            <div class=\"col-4\">\r\n              <div class=\"form-group\">\r\n                <label>Last Name</label>\r\n                <input pInputText\r\n                       (ngModelChange)=\"employeeChangedEmit.next()\"\r\n                       formControlName=\"employee_last_name\"\r\n                       class=\"form-control\">\r\n              </div>\r\n            </div>\r\n            <div class=\"col-4\">\r\n              <div class=\"form-group\">\r\n                <label>Position</label>\r\n                <app-crm-position-picker\r\n                  [position]=\"this.form.get('employee_position').value\"\r\n                  (valueChange)=\"form.get('employee_position').setValue($event); employeeChangedEmit.next()\"\r\n                ></app-crm-position-picker>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <ng-template #predefinedEmployee>\r\n          <div formGroupName=\"employee\">\r\n            <div class=\"row\">\r\n              <div class=\"col-4\">\r\n                <div class=\"form-group\">\r\n                  <label>First Name</label>\r\n                  <pek-crm-single-employee-picker\r\n                    [filters]=\"employeeFilter\"\r\n                    [showProfession]=\"true\"\r\n                    [employee]=\"_employee.get('id').value\"\r\n                    (valueChange)=\"_employee.setValue($event);  employeeChangedEmit.next()\"\r\n                  ></pek-crm-single-employee-picker>\r\n                </div>\r\n              </div>\r\n              <div class=\"col-4\">\r\n                <div class=\"form-group\">\r\n                  <label>Last Name</label>\r\n                  <input pInputText\r\n                         [disabled]=\"true\"\r\n                         formControlName=\"last_name\"\r\n                         class=\"form-control\">\r\n                </div>\r\n              </div>\r\n              <div class=\"col-4\">\r\n                <div class=\"form-group\">\r\n                  <label>Position</label>\r\n                  <input\r\n                    pInputText\r\n                    disabled\r\n                    [ngModel]=\"_employee.get('position').value ? _employee.get('position').value.title : null\"\r\n                    [ngModelOptions]=\"{standalone: true}\"\r\n                    class=\"form-control\">\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </ng-template>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"page__content\">\r\n    <h2 class=\"mb-4\">Date Trip Start/End</h2>\r\n    <div class=\"page__card\">\r\n      <div *ngIf=\"isDataPrepared else infoLoading\">\r\n      <div class=\"row\">\r\n        <div class=\"col-6\">\r\n          <div class=\"form-group\">\r\n            <label>Start Date an time</label>\r\n            <pek-date-time-picker\r\n              [maxDate]=\"form.get('trip_end')?.value\"\r\n              [date]=\"form.get('trip_start')?.value\"\r\n              (setDate)=\"setStartValue($event); infoChangedEmit.next(false)\"\r\n              placeholder=\"Choice Start Date and Time\"\r\n            ></pek-date-time-picker>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-6\">\r\n          <div class=\"form-group\">\r\n            <label>End Date</label>\r\n            <pek-date-time-picker\r\n              [minDate]=\"form.get('trip_start')?.value\"\r\n              [date]=\"form.get('trip_end')?.value\"\r\n              (setDate)=\"setEndValue($event); infoChangedEmit.next(false)\"\r\n              placeholder=\"Choice End Date and Time\"\r\n            ></pek-date-time-picker>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"page__content\">\r\n    <h2 class=\"mb-4\">Points Start/Arrival</h2>\r\n    <div class=\"page__card\">\r\n      <div *ngIf=\"isDataPrepared else infoLoading\">\r\n      <div class=\"row\">\r\n        <div class=\"col-12\">\r\n          <div class=\"form-group\">\r\n            <h2><b>Starting Point</b></h2>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <pek-location-input\r\n        [country]=\"this.form.get('start_location_country').value\"\r\n        [address]=\"this.form.get('start_location_address').value\"\r\n        [locationId]=\"this.form.get('start_location_id').value\"\r\n        [type]=\"locationStatus.FIRST\"\r\n        [showHr]=\"false\"\r\n        (countryChanged)=\"form.get('start_location_country').setValue($event);\r\n         locationChanged.next({type: locationStatus.FIRST, locationIndex: null});\"\r\n        (addressChanged)=\"form.get('start_location_address').setValue($event);\r\n         locationChanged.next({type: locationStatus.FIRST, locationIndex: null});\"\r\n      ></pek-location-input>\r\n      <div class=\"row\">\r\n        <div class=\"col-12\">\r\n          <div class=\"form-group\">\r\n            <h2><b>Arrival Point</b></h2>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n<!--    [locationMeetings]=\"this.form.get('last_location_meetings').value\"    -->\r\n      <pek-location-input\r\n        [country]=\"this.form.get('last_location_country').value\"\r\n        [address]=\"this.form.get('last_location_address').value\"\r\n        [locationId]=\"this.form.get('last_location_id').value\"\r\n        [type]=\"locationStatus.LAST\"\r\n        [showHr]=\"false\"\r\n        [companiesFilters]=\"companiesFilters\"\r\n        (meetingsChanged)=\"lastPointMeetingChanged($event);\"\r\n        (countryChanged)=\"form.get('last_location_country').setValue($event); locationChanged.next({type: locationStatus.LAST, locationIndex: null});\"\r\n        (addressChanged)=\"form.get('last_location_address').setValue($event); locationChanged.next({type: locationStatus.LAST, locationIndex: null});\"\r\n        [showAddMeetings]=\"true\"\r\n      ></pek-location-input>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"page__content\">\r\n    <h2 class=\"mb-4 d-flex justify-content-between\">Intermediate Points\r\n      <button pButton type=\"button\" icon=\"pi pi-plus\" label=\"Add Intermediate Point\" (click)=\"addIntermediatePoint()\"></button>\r\n    </h2>\r\n    <div class=\"page__card\">\r\n      <div *ngIf=\"isDataPrepared else infoLoading\">\r\n<!--        [locationMeetings]=\"point.get('location_meetings').value\"  -->\r\n            <pek-location-input\r\n              *ngFor=\"let point of _intermediatePoints; let index=index; let last=last\"\r\n              [country]=\"point.get('country').value\"\r\n              [address]=\"point.get('address').value\"\r\n              [locationId]=\"point.get('id').value\"\r\n              [showHr]=\"!last\"\r\n              class=\"location\"\r\n              [class.last]=\"last\"\r\n              [showDelete]=\"true\"\r\n              [companiesFilters]=\"companiesFilters\"\r\n              (emitDeletePoint)=\"removePoint(point, index)\"\r\n              (meetingsChanged)=\"meetingChanged(point, $event);\"\r\n              [type]=\"locationStatus.INTERMEDIATE\"\r\n              (countryChanged)=\"point.get('country').setValue($event);  locationChanged.next({type: locationStatus.INTERMEDIATE, locationIndex: index});\"\r\n              (addressChanged)=\"point.get('address').setValue($event);  locationChanged.next({type: locationStatus.INTERMEDIATE, locationIndex: index});\"\r\n              [showAddMeetings]=\"true\"\r\n            ></pek-location-input>\r\n        <div class=\"d-flex justify-content-center\" *ngIf=\"_intermediatePoints.length === 0\">\r\n          <h2>\r\n            No Intermediate Points\r\n          </h2>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"page__content\">\r\n    <h2 class=\"mb-4\">Purpose</h2>\r\n    <div class=\"page__card\">\r\n      <div *ngIf=\"isDataPrepared else infoLoading\">\r\n            <div class=\"row\">\r\n              <div class=\"col-12\">\r\n                <div class=\"form-group\">\r\n                  <label>Purpose short</label>\r\n                  <input pInputText (ngModelChange)=\"infoChangedEmit.next(false)\" formControlName=\"purpose_short\" class=\"form-control\">\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"row\">\r\n              <div class=\"col-12\">\r\n                <div class=\"form-group\">\r\n                  <label>Purpose Description</label>\r\n                  <textarea pInputTextarea (ngModelChange)=\"infoChangedEmit.next(false)\" formControlName=\"purpose_full\" class=\"form-control\" id=\"comment\"></textarea>\r\n                </div>\r\n              </div>\r\n            </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"page__content\" pekPasteScreenImage (imageAdded)=\"fileAdded($event)\">\r\n    <h2 class=\"mb-4\">Hotel</h2>\r\n    <div class=\"page__card\">\r\n      <div *ngIf=\"isDataPrepared else infoLoading\">\r\n            <div class=\"row\">\r\n              <div class=\"col-1\">\r\n                <div class=\"form-group\">\r\n                  <label>Include Hotel</label>\r\n                  <p-checkbox\r\n                    formControlName=\"showHotel\"\r\n                    (ngModelChange)=\"changedValue($event)\"\r\n                    [binary]=\"true\"\r\n                  ></p-checkbox>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <ng-template [ngIf]=\"this.form.get('showHotel').value\">\r\n              <div formGroupName=\"hotel\">\r\n                <div class=\"row\">\r\n                  <div class=\"col-4\">\r\n                    <div class=\"form-group\">\r\n                      <label>Name</label>\r\n                      <input pInputText (ngModelChange)=\"hotelChanged.next()\" formControlName=\"hotel_name\" class=\"form-control\">\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col-4\">\r\n                    <div class=\"form-group\">\r\n                      <label>Country</label>\r\n                      <pek-business-trip-country-picker [country]=\"_hotel.get('hotel_country').value?.code\"\r\n                                                        (valueChangeFull)=\"_hotel.get('hotel_country').setValue($event); hotelChanged.next()\"></pek-business-trip-country-picker>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col-4\">\r\n                    <div class=\"form-group\">\r\n                      <label>Address</label>\r\n                      <input pInputText (ngModelChange)=\"hotelChanged.next()\" formControlName=\"hotel_address\" class=\"form-control\">\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"row\">\r\n                  <div class=\"col-6\">\r\n                    <div class=\"form-group\">\r\n                      <label>Residence Start Date</label>\r\n                      <p-calendar\r\n                        [firstDayOfWeek]=\"1\"\r\n                        (onClickOutside)=\"clickHotelOutside('start')\"\r\n                        #startHotel\r\n                        [hideOnDateTimeSelect]=\"false\"\r\n                        hourFormat=\"24\"\r\n                        [showButtonBar]=\"true\"\r\n                        formControlName=\"residence_start\"\r\n                        dataType=\"date\"\r\n                        dateFormat=\"dd/mm/yy\"\r\n                        [readonlyInput]=\"true\"\r\n                      >\r\n                        <p-footer\r\n                          class=\"d-flex justify-content-center align-items-center\"\r\n                          *ngIf=\"startHotel.value\"\r\n                        >\r\n                          <button\r\n                            class=\"btn btn-primary position-absolute mb-5\"\r\n                            (click)=\"setHotelStartValue(startHotel.value); hotelChanged.next(); startHotel.toggle()\"\r\n                          >\r\n                            Set Date\r\n                          </button>\r\n                        </p-footer>\r\n                      </p-calendar>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col-6\">\r\n                    <div class=\"form-group\">\r\n                      <label>Residence End Date</label>\r\n                      <p-calendar\r\n                        [firstDayOfWeek]=\"1\"\r\n                        (onClickOutside)=\"clickHotelOutside('end')\"\r\n                        #endHotel\r\n                        [minDate]=\"_hotel.controls['residence_start']?.value\"\r\n                        [disabled]=\"!_hotel.get('residence_start').value\"\r\n                        [hideOnDateTimeSelect]=\"false\"\r\n                        [showButtonBar]=\"true\"\r\n                        hourFormat=\"24\"\r\n                        formControlName=\"residence_end\"\r\n                        dataType=\"date\"\r\n                        dateFormat=\"dd/mm/yy\"\r\n                        [readonlyInput]=\"true\"\r\n                      >\r\n                        <p-footer\r\n                          class=\"d-flex justify-content-center align-items-center\"\r\n                          *ngIf=\"endHotel.value\"\r\n                        >\r\n                          <button\r\n                            class=\"btn btn-primary position-absolute mb-5\"\r\n                            (click)=\"setHotelEndValue(endHotel.value); hotelChanged.next(); endHotel.toggle()\"\r\n                          >\r\n                            Set Date\r\n                          </button>\r\n                        </p-footer>\r\n                      </p-calendar>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"row\">\r\n                  <div class=\"col-12\">\r\n                    <div class=\"form-group\">\r\n                      <pek-upload-file-picker #filePicker  (fileChanged)=\"filesChanged($event)\"></pek-upload-file-picker>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"row\">\r\n                  <div class=\"col-11\">\r\n                    <div class=\"form-group\">\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col-1\">\r\n                    <div class=\"form-group\">\r\n                      <button pButton type=\"button\" icon=\"fa fa-eye\" label=\"View files\" (click)=\"viewHotelFiles()\"></button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <p-table\r\n                  [paginator]=\"true\"\r\n                  [rows]=\"10\"\r\n                  [value]=\"preparedFiles\"\r\n                  selectionMode=\"single\"\r\n                  [scrollable]=\"true\"\r\n                  [(selection)]=\"selectedHotelFile\"\r\n                >\r\n                  <ng-template pTemplate=\"caption\">\r\n                    <div class=\"d-flex align-items-center\">\r\n                      <p class=\"subtitle ml-1 mr-2\" *ngIf=\"!selectedHotelFile\">Choose the Hotel Files to edit</p>\r\n                      <p-menubar class=\"ml-auto mr-2\" [model]=\"menuItems\" [class.disabled]=\"!selectedHotelFile\"></p-menubar>\r\n                    </div>\r\n                  </ng-template>\r\n                  <ng-template pTemplate=\"header\">\r\n                    <tr>\r\n                      <th class=\"index-header\">#</th>\r\n                      <th>File</th>\r\n                    </tr>\r\n                  </ng-template>\r\n                  <ng-template pTemplate=\"body\" let-file let-i=\"rowIndex\">\r\n                    <tr [pSelectableRow]=\"file\">\r\n                      <td>{{ i + 1 }}</td>\r\n                      <td>\r\n                        <a [href]=\"file.file\">\r\n                          {{ getName(file.file) }}\r\n                        </a>\r\n                      </td>\r\n                    </tr>\r\n                  </ng-template>\r\n                </p-table>\r\n              </div>\r\n            </ng-template>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"page__content\">\r\n    <h2 class=\"mb-4\">Vehicle</h2>\r\n    <div class=\"page__card\">\r\n      <div *ngIf=\"isDataPrepared else infoLoading\">\r\n            <div class=\"row\">\r\n              <div class=\"col-4\">\r\n                <div class=\"form-group\">\r\n                  <label>Vehicle Type</label>\r\n                  <pek-vehicle-type-picker [type]=\"form.get('vehicle_type').value\"\r\n                                           (valueChange)=\"changedVechicleType($event); vehicleChangedEmit.next()\"></pek-vehicle-type-picker>\r\n                </div>\r\n              </div>\r\n              <ng-template [ngIf]=\"form.get('vehicle_type').value === '1' ||  form.get('vehicle_type').value === '2'\">\r\n                <div class=\"col-4\">\r\n                  <div class=\"form-group\">\r\n                    <label>Vehicle Model</label>\r\n                    <input pInputText (ngModelChange)=\"vehicleChangedEmit.next()\" formControlName=\"vehicle_model\" class=\"form-control\">\r\n                  </div>\r\n                </div>\r\n                <div class=\"col-4\">\r\n                  <div class=\"form-group\">\r\n                    <label>Vehicle Registration Plate</label>\r\n                    <input pInputText (ngModelChange)=\"vehicleChangedEmit.next()\" formControlName=\"vehicle_number\" class=\"form-control\">\r\n                  </div>\r\n                </div>\r\n              </ng-template>\r\n              <ng-template [ngIf]=\"form.get('vehicle_type').value === '3'\">\r\n                <div formGroupName=\"vehicle\"  class=\"col-4\">\r\n                  <div class=\"form-group\">\r\n                    <label>Vehicle</label>\r\n                    <pek-vehicle-picker\r\n                      [placeholder]=\"'Vehicle Model'\"\r\n                      [vehicle]=\"_vehicle.get('id').value\"\r\n                      (valueChange)=\"_vehicle.setValue($event); vehicleChangedEmit.next()\"\r\n                    ></pek-vehicle-picker>\r\n                  </div>\r\n                </div>\r\n                <div formGroupName=\"vehicle\"  class=\"col-4\">\r\n                  <div class=\"form-group\">\r\n                    <label>Vehicle Registration Plate</label>\r\n                    <input pInputText [disabled]=\"true\" formControlName=\"number\" class=\"form-control\">\r\n                  </div>\r\n                </div>\r\n              </ng-template>\r\n\r\n              <div *ngIf=\"form.get('vehicle_type').value !== '0'\" class=\"row\">\r\n                <div class=\"col-6\">\r\n                  <div class=\"form-group\">\r\n                    <label>Start Mileage</label>\r\n                    <input pInputText (ngModelChange)=\"infoChangedEmit.next(false)\" formControlName=\"start_mileage\" class=\"form-control\">\r\n                  </div>\r\n                </div>\r\n                <div class=\"col-6\">\r\n                  <div class=\"form-group\">\r\n                    <label>End Mileage</label>\r\n                    <input pInputText (ngModelChange)=\"infoChangedEmit.next(false)\" formControlName=\"end_mileage\" class=\"form-control\">\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"page__content\">\r\n    <h2 class=\"mb-4\">Initiator</h2>\r\n    <div class=\"page__card\">\r\n      <div *ngIf=\"isDataPrepared else infoLoading\">\r\n            <div class=\"row\">\r\n              <div class=\"col-12\">\r\n                <div class=\"form-group\">\r\n                  <label>Initiator</label>\r\n                  <pek-crm-single-employee-picker\r\n                    [employee]=\"this.form.get('initiator').value\"\r\n                    (valueChange)=\"form.get('initiator').setValue($event.id); infoChangedEmit.next(false)\"\r\n                  ></pek-crm-single-employee-picker>\r\n                </div>\r\n              </div>\r\n            </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"page__content\">\r\n            <pek-trip-expenses-table\r\n              [businessTripId]=\"tripId\"\r\n              [isVerify]=\"isVerify\"\r\n              (currentBusinessTripExpenses)=\"updateExpenses($event);\"\r\n              (deleteExpense)=\"deleteExpense($event)\"\r\n              (editExpense)=\"editTripExpense($event)\"\r\n              (unverifyTrip)=\"infoChangedEmit.next(false)\"\r\n              (expenseSumEmit)=\"expensesSum = $event\"\r\n            ></pek-trip-expenses-table>\r\n      <div class=\"d-flex justify-content-center\" *ngIf=\"tripExpenses.length === 0\">\r\n        <h2>\r\n          No Expenses\r\n        </h2>\r\n      </div>\r\n    </div>\r\n</form>\r\n\r\n\r\n<ng-template #infoLoading>\r\n  <div class=\"info-loading\">\r\n    <i class=\"pi pi-spin pi-spinner\" style=\"font-size: 2.25rem\"></i>\r\n  </div>\r\n</ng-template>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport {NavigationLink} from '../../../../layout/navigation-route';\r\n\r\n@Component({\r\n  selector: 'pek-business-trips-layout',\r\n  templateUrl: './business-trips-layout.component.html',\r\n  styleUrls: ['./business-trips-layout.component.scss']\r\n})\r\nexport class BusinessTripsLayoutComponent implements OnInit {\r\n  routes: NavigationLink[] = [\r\n    {label: 'Business Trips', commands: ['trips']},\r\n  ];\r\n\r\n  settingsRoutes: NavigationLink[] = [\r\n    {label: 'Vehicles', commands: ['vehicles']},\r\n    {label: 'Expenses', commands: ['expenses']},\r\n  ]\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<pek-header\r\n  [module]=\"'Business Trips'\"\r\n  [routes]=\"routes\"\r\n  [settingsRoutes]=\"settingsRoutes\"\r\n></pek-header>\r\n<router-outlet></router-outlet>\r\n","import {Component, OnInit, ViewChild} from '@angular/core';\r\nimport {Expense} from '../../../models/expense';\r\nimport {ExpenseService} from '../../../services/expense.service';\r\nimport {ModalService} from '@shared/services/modal.service';\r\nimport {take} from 'rxjs/operators';\r\nimport {MenuItem} from 'primeng/api';\r\nimport {FormBuilder, FormGroup} from '@angular/forms';\r\nimport {QuerySearch} from '@shared/models/other';\r\nimport {Paginator} from 'primeng/paginator';\r\n\r\n@Component({\r\n  selector: 'pek-expanses',\r\n  templateUrl: './expanses.component.html',\r\n  styleUrls: ['./expanses.component.scss']\r\n})\r\nexport class ExpansesComponent implements OnInit {\r\n  @ViewChild('paginator') paginator: Paginator;\r\n  isLoading: boolean;\r\n  expenses: Expense[];\r\n  selectedExpense: Expense;\r\n  menuItems: MenuItem[] = [{\r\n    label: 'Selected Expense',\r\n    items: [\r\n      {\r\n        label: 'Edit',\r\n        icon: 'pi pi-pencil',\r\n        command: () => this.editExpense()\r\n      },\r\n      {\r\n        label: 'Remove',\r\n        icon: 'pi pi-trash',\r\n        command: () => this.deleteExpense()\r\n      }\r\n    ]\r\n  }];\r\n  count = 0;\r\n  isShowAll = false;\r\n  isStartOnePage = false;\r\n\r\n  searchForm: FormGroup = this.fb.group({\r\n    page: [1],\r\n  });\r\n\r\n  query: QuerySearch[] = [\r\n    {name: 'paginated', value: true},\r\n    {name: 'page', value: this.searchForm.get('page').value}\r\n  ];\r\n\r\n  tableScrollHeight = '24.125rem';\r\n  isHideFilters = false;\r\n  constructor(\r\n    private expenseService: ExpenseService,\r\n    private modalService: ModalService,\r\n    private fb: FormBuilder,\r\n  ) {\r\n    this.getPaginated();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  toggleFilterVisibility() {\r\n    this.isHideFilters = !this.isHideFilters;\r\n    this.setTableScrollHeight();\r\n  }\r\n\r\n  setTableScrollHeight() {\r\n    if (this.isHideFilters && !this.isShowAll) {\r\n      this.tableScrollHeight = '20.875rem';\r\n      return;\r\n    }\r\n\r\n    if (this.isHideFilters && this.isShowAll) {\r\n      this.tableScrollHeight = '18.75rem';\r\n      return;\r\n    }\r\n\r\n    if (!this.isHideFilters && this.isShowAll) {\r\n      this.tableScrollHeight = '21.875rem';\r\n      return;\r\n    }\r\n\r\n    if (!this.isHideFilters && !this.isShowAll) {\r\n      this.tableScrollHeight = '24.125rem';\r\n      return;\r\n    }\r\n  }\r\n\r\n  prepareQuery(): void {\r\n    this.query = [];\r\n\r\n    if (!this.isShowAll) {\r\n      this.query = [\r\n        {name: 'paginated', value: 'true'},\r\n        {name: 'page', value: this.searchForm.get('page').value},\r\n      ];\r\n    }\r\n  }\r\n\r\n  searchExpenses() {\r\n    this.prepareQuery();\r\n    if (!this.isShowAll) {\r\n      this.getPaginated();\r\n    } else {\r\n      this.searchForm.get('page').patchValue(1);\r\n      this.getAll();\r\n    }\r\n  }\r\n\r\n  getPaginated() {\r\n    this.expenseService\r\n      .getPaginated(this.query)\r\n      .pipe(take(1))\r\n      .subscribe((res) => {\r\n        this.expenses = res.results;\r\n        this.count = res.count;\r\n        this.selectedExpense = null;\r\n      });\r\n  }\r\n\r\n  getAll() {\r\n    this.expenseService\r\n      .get()\r\n      .pipe(take(1))\r\n      .subscribe((res) => {\r\n        this.expenses = res;\r\n        this.selectedExpense = null;\r\n        if (this.isStartOnePage) {\r\n          this.paginator?.changePage(0);\r\n          this.isLoading = false;\r\n        }\r\n      });\r\n  }\r\n\r\n  addExpanse() {\r\n    this.expenseService\r\n      .createChangeExpense()\r\n      .pipe(take(1))\r\n      .subscribe((res) => {\r\n        if (res) {\r\n          this.getAll();\r\n        }\r\n      });\r\n  }\r\n\r\n  editExpense() {\r\n    this.expenseService\r\n      .createChangeExpense(this.selectedExpense)\r\n      .pipe(take(1))\r\n      .subscribe((res) => {\r\n        if (res) {\r\n          this.getAll();\r\n        }\r\n      });\r\n  }\r\n\r\n  deleteExpense() {\r\n    this.modalService\r\n      .confirm('danger', 'Confirm')\r\n      .pipe(take(1))\r\n      .subscribe((confirm) => {\r\n        if (confirm) {\r\n          this.expenseService\r\n            .delete(this.selectedExpense)\r\n            .pipe(take(1))\r\n            .subscribe((del) => {\r\n              this.getAll();\r\n            });\r\n        }\r\n      });\r\n  }\r\n\r\n  paginate(evt: any) {\r\n    if (!this.isStartOnePage) {\r\n      this.searchForm.get('page').patchValue(evt.page + 1);\r\n      this.searchExpenses();\r\n    }\r\n  }\r\n\r\n  onShowAll() {\r\n    this.isShowAll = true;\r\n    this.searchExpenses();\r\n  }\r\n\r\n  onShowPartial() {\r\n    this.isShowAll = false;\r\n    this.searchExpenses();\r\n  }\r\n}\r\n","<div class=\"page\">\r\n  <div class=\"page__header\">\r\n    <div class=\"page__title\">\r\n      <pek-module-icon [module]=\"'business-trip'\" [isActive]=\"true\"></pek-module-icon>\r\n      <h1>Expanses</h1>\r\n    </div>\r\n    <div class=\"page__tools\">\r\n      <button\r\n        pButton\r\n        type=\"button\"\r\n        icon=\"pi pi-plus\"\r\n        label=\"Add Expense\"\r\n        (click)=\"addExpanse()\">\r\n      </button>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"page__content\">\r\n  <div class=\"page__card\">\r\n    <div class=\"filters-visibility\">\r\n        <div class=\"action-buttons\">\r\n          <p-menubar class=\"ml-auto\" [model]=\"menuItems\" [class.disabled]=\"!selectedExpense\"></p-menubar>\r\n        </div>\r\n    </div>\r\n      <div class=\"table-pagination-preloader\">\r\n        <p-table\r\n          #dt\r\n          selectionMode=\"single\"\r\n          scrollHeight=\"calc(100vh - 335px)\"\r\n          [scrollable]=\"true\"\r\n          [rows]=\"10\"\r\n          [(selection)]=\"selectedExpense\"\r\n          [value]=\"expenses\"\r\n        >\r\n          <ng-template pTemplate=\"header\">\r\n            <tr>\r\n              <th style=\"width: 5%\"  class=\"text-center\">#</th>\r\n              <th style=\"width: 50%\" class=\"text-center\">Name</th>\r\n              <th style=\"width: 45%\" class=\"text-center\">Description</th>\r\n            </tr>\r\n          </ng-template>\r\n          <ng-template pTemplate=\"body\" let-expense let-i=\"rowIndex\">\r\n            <tr [pSelectableRow]=\"expense\" class=\"table-row\">\r\n              <td style=\"width: 5%\" class=\"text-center\">{{(this.searchForm.get('page').value - 1) * 10 + i + 1 }}</td>\r\n              <td style=\"width: 50%\" class=\"text-center\">{{ expense.name }}</td>\r\n              <td style=\"width: 45%\" class=\"text-center\">{{ expense.description }}</td>\r\n            </tr>\r\n          </ng-template>\r\n          <ng-template pTemplate=\"emptymessage\">\r\n            <tr>\r\n              <td class=\"text-center p-4\" [attr.colspan]=\"6\">\r\n                <i *ngIf=\"isLoading\" class=\"pi pi-spin pi-spinner\" style=\"font-size: 2.25rem\"></i>\r\n                <span *ngIf=\"!isLoading\">No Records Found</span>\r\n              </td>\r\n            </tr>\r\n          </ng-template>\r\n        </p-table>\r\n        <div class=\"pagination-preloader pagination-preloader_bord\" *ngIf=\"isLoading\">\r\n          <i class=\"pi pi-spin pi-spinner\" style=\"font-size: 2.25rem\"></i>\r\n        </div>\r\n      </div>\r\n      <div\r\n        class=\"paginator-wrapper\"\r\n        *ngIf=\"!isShowAll\"\r\n        [class.paginator-wrapper_hide]=\"expenses.length === 0\"\r\n      >\r\n        <p-paginator\r\n          #paginator\r\n          [rows]=\"10\"\r\n          [totalRecords]=\"count\"\r\n          (onPageChange)=\"paginate($event)\">\r\n        </p-paginator>\r\n        <p-button\r\n          class=\"paginator-all\"\r\n          type=\"button\"\r\n          styleClass=\"p-button-text\"\r\n          (click)=\"onShowAll()\"\r\n        >\r\n          All\r\n        </p-button>\r\n      </div>\r\n      <div *ngIf=\"isShowAll\" class=\"paginator-return-pagination\">\r\n        <p-button\r\n          type=\"button\"\r\n          (click)=\"onShowPartial()\"\r\n          styleClass=\"p-button-text\"\r\n        >\r\n          Return pagination\r\n        </p-button>\r\n      </div>\r\n  </div>\r\n</div>\r\n\r\n<ng-template #actionButtons>\r\n  <div class=\"action-buttons\">\r\n    <p-menubar class=\"ml-auto\" [model]=\"menuItems\" [class.disabled]=\"!selectedExpense\"></p-menubar>\r\n  </div>\r\n</ng-template>\r\n","import {Component, OnInit, ViewChild} from '@angular/core';\r\nimport {Vehicle} from '../../../models/vehicle';\r\nimport {take} from 'rxjs/operators';\r\nimport {ModalService} from '@shared/services/modal.service';\r\nimport {VehicleService} from '../../../services/vehicle.service';\r\nimport {MenuItem} from 'primeng/api';\r\nimport {QuerySearch} from '@shared/models/other';\r\nimport {FormBuilder, FormGroup} from '@angular/forms';\r\nimport {Paginator} from 'primeng/paginator';\r\n\r\n@Component({\r\n  selector: 'pek-vehicles',\r\n  templateUrl: './vehicles.component.html',\r\n  styleUrls: ['./vehicles.component.scss']\r\n})\r\nexport class VehiclesComponent implements OnInit {\r\n  @ViewChild('paginator') paginator: Paginator;\r\n  isLoading: boolean;\r\n  vehicles: Vehicle[];\r\n  selectedVehicle: Vehicle;\r\n\r\n  searchForm: FormGroup = this.fb.group({\r\n    page: [1],\r\n  });\r\n\r\n  query: QuerySearch[] = [\r\n    {name: 'paginated', value: true},\r\n    {name: 'page', value: this.searchForm.get('page').value}\r\n  ];\r\n\r\n  menuItems: MenuItem[] = [{\r\n    label: 'Selected Vehicle',\r\n    items: [\r\n      {\r\n        label: 'Edit',\r\n        icon: 'pi pi-pencil',\r\n        command: () => this.editVehicle()\r\n      },\r\n      {\r\n        label: 'Remove',\r\n        icon: 'pi pi-trash',\r\n        command: () => this.deleteVehicle()\r\n      }\r\n    ]\r\n  }];\r\n\r\n  count = 0;\r\n  isShowAll = false;\r\n  isStartOnePage = false;\r\n\r\n  constructor(\r\n    private vehicleService: VehicleService,\r\n    private modalService: ModalService,\r\n    private fb: FormBuilder,\r\n  ) {\r\n    this.searchVehicles();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  prepareQuery(): void {\r\n    this.query = [];\r\n\r\n    if (!this.isShowAll) {\r\n      this.query = [\r\n        {name: 'paginated', value: 'true'},\r\n        {name: 'page', value: this.searchForm.get('page').value},\r\n      ];\r\n    }\r\n  }\r\n\r\n  searchVehicles() {\r\n    this.prepareQuery();\r\n    if (!this.isShowAll) {\r\n      this.getPaginated();\r\n    } else {\r\n      this.searchForm.get('page').patchValue(1);\r\n      this.getAll();\r\n    }\r\n  }\r\n\r\n  getPaginated() {\r\n    this.vehicleService\r\n      .getPaginated(this.query)\r\n      .pipe(take(1))\r\n      .subscribe((res) => {\r\n        this.vehicles = res.results;\r\n        this.count = res.count;\r\n        this.selectedVehicle = null;\r\n      });\r\n  }\r\n\r\n  getAll() {\r\n    this.vehicleService\r\n      .get()\r\n      .pipe(take(1))\r\n      .subscribe((res) => {\r\n        this.vehicles = res;\r\n        this.selectedVehicle = null;\r\n        if (this.isStartOnePage) {\r\n          this.paginator?.changePage(0);\r\n          this.isLoading = false;\r\n        }\r\n      });\r\n  }\r\n\r\n  addVehicle() {\r\n    this.vehicleService\r\n      .createChangeVehicle()\r\n      .pipe(take(1))\r\n      .subscribe((res) => {\r\n        if (res) {\r\n          this.getAll();\r\n        }\r\n      });\r\n  }\r\n\r\n  editVehicle() {\r\n    this.vehicleService\r\n      .createChangeVehicle(this.selectedVehicle)\r\n      .pipe(take(1))\r\n      .subscribe((res) => {\r\n        if (res) {\r\n          this.getAll();\r\n        }\r\n      });\r\n  }\r\n\r\n  deleteVehicle() {\r\n    this.modalService\r\n      .confirm('danger', 'Confirm')\r\n      .pipe(take(1))\r\n      .subscribe((confirm) => {\r\n        if (confirm) {\r\n          this.vehicleService\r\n            .delete(this.selectedVehicle)\r\n            .pipe(take(1))\r\n            .subscribe((del) => {\r\n              this.getAll();\r\n            });\r\n        }\r\n      });\r\n  }\r\n\r\n  paginate(evt: any) {\r\n    if (!this.isStartOnePage) {\r\n      this.searchForm.get('page').patchValue(evt.page + 1);\r\n      this.searchVehicles();\r\n    }\r\n  }\r\n\r\n  onShowAll() {\r\n    this.isShowAll = true;\r\n    this.searchVehicles();\r\n  }\r\n\r\n  onShowPartial() {\r\n    this.isShowAll = false;\r\n    this.searchVehicles();\r\n  }\r\n}\r\n","<div class=\"page\">\r\n  <div class=\"page__header\">\r\n    <div class=\"page__title\">\r\n      <pek-module-icon [module]=\"'business-trip'\" [isActive]=\"true\"></pek-module-icon>\r\n      <h1>Vehicles</h1>\r\n    </div>\r\n    <div class=\"page__tools\">\r\n      <button\r\n        pButton\r\n        type=\"button\"\r\n        icon=\"pi pi-plus\"\r\n        label=\"Add Vehicle\"\r\n        (click)=\"addVehicle()\">\r\n      </button>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"page__content\">\r\n  <div class=\"page__card\">\r\n    <div class=\"page__table\">\r\n      <div class=\"table-pagination-preloader\">\r\n        <p-table\r\n          #dt\r\n          selectionMode=\"single\"\r\n          scrollHeight=\"calc(100vh - 335px)\"\r\n          [rows]=\"10\"\r\n          [(selection)]=\"selectedVehicle\"\r\n          [scrollable]=\"true\"\r\n          [value]=\"vehicles\"\r\n        >\r\n          <ng-template pTemplate=\"caption\">\r\n            <div class=\"d-flex align-items-center\">\r\n              <p class=\"subtitle ml-1 mr-2\" *ngIf=\"!selectedVehicle\">Choose the Vehicle to edit</p>\r\n              <p-menubar class=\"ml-auto mr-2\" [model]=\"menuItems\" [class.disabled]=\"!selectedVehicle\"></p-menubar>\r\n            </div>\r\n          </ng-template>\r\n          <ng-template pTemplate=\"colgroup\">\r\n            <colgroup>\r\n              <col class=\"index-header\"/>\r\n            </colgroup>\r\n          </ng-template>\r\n          <ng-template pTemplate=\"header\">\r\n            <tr>\r\n              <th class=\"index-header\">#</th>\r\n              <th>Model</th>\r\n              <th>Vehicle Registration Plate</th>\r\n            </tr>\r\n          </ng-template>\r\n          <ng-template pTemplate=\"body\" let-vehicle let-i=\"rowIndex\">\r\n            <tr [pSelectableRow]=\"vehicle\">\r\n              <td>{{ (this.searchForm.get('page').value - 1) * 10 + i + 1 }}</td>\r\n              <td>{{ vehicle.model }}</td>\r\n              <td>{{ vehicle.number }}</td>\r\n            </tr>\r\n          </ng-template>\r\n          <ng-template pTemplate=\"emptymessage\" let-columns>\r\n            <tr>\r\n              <td class=\"text-center p-5\" [attr.colspan]=\"3\">\r\n                <span>No Records Found</span>\r\n              </td>\r\n            </tr>\r\n          </ng-template>\r\n        </p-table>\r\n        <div class=\"pagination-preloader pagination-preloader_bord\" *ngIf=\"isLoading\">\r\n          <i class=\"pi pi-spin pi-spinner\" style=\"font-size: 2.25rem\"></i>\r\n        </div>\r\n      </div>\r\n      <div *ngIf=\"!isShowAll\"\r\n           [class.paginator-wrapper_hide]=\"vehicles.length === 0\"\r\n           class=\"paginator-wrapper\">\r\n        <p-paginator\r\n          #paginator\r\n          [rows]=\"10\"\r\n          [totalRecords]=\"count\"\r\n          (onPageChange)=\"paginate($event)\">\r\n        </p-paginator>\r\n        <p-button\r\n          class=\"paginator-all\"\r\n          type=\"button\"\r\n          styleClass=\"p-button-text\"\r\n          (click)=\"onShowAll()\"\r\n        >\r\n          All\r\n        </p-button>\r\n      </div>\r\n      <div *ngIf=\"isShowAll\" class=\"paginator-return-pagination\">\r\n        <p-button\r\n          type=\"button\"\r\n          (click)=\"onShowPartial()\"\r\n          styleClass=\"p-button-text\"\r\n        >\r\n          Return pagination\r\n        </p-button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import {Component, EventEmitter, forwardRef, Input, OnInit, Output} from '@angular/core';\r\nimport {BusinessTripCountry} from '../../../models/business-trip-country';\r\nimport {ControlValueAccessor, NG_VALUE_ACCESSOR} from '@angular/forms';\r\nimport {BusinessTripCountryService} from '../../../services/business-trip-country.service';\r\n\r\n@Component({\r\n  selector: 'pek-business-trip-country-picker',\r\n  templateUrl: './business-trip-country-picker.component.html',\r\n  styleUrls: ['./business-trip-country-picker.component.scss'],\r\n  providers: [{\r\n    provide: NG_VALUE_ACCESSOR,\r\n    useExisting: forwardRef(() => BusinessTripCountryPickerComponent),\r\n    multi: false\r\n  }]\r\n})\r\nexport class BusinessTripCountryPickerComponent implements OnInit, ControlValueAccessor {\r\n  @Input() countries: BusinessTripCountry[];\r\n  @Input() country: string;\r\n  @Input() countrySelected: BusinessTripCountry;\r\n  @Input() preloadedCountries: boolean;\r\n  @Output() valueChange: EventEmitter<string> = new EventEmitter<string>();\r\n  @Output() valueChangeFull: EventEmitter<BusinessTripCountry> = new EventEmitter<BusinessTripCountry>();\r\n\r\n  constructor(\r\n    private businessCountryService: BusinessTripCountryService,\r\n  ) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.getCompaniesFilters();\r\n  }\r\n\r\n  getCompaniesFilters() {\r\n    if (!this.preloadedCountries) {\r\n      this.businessCountryService.get().subscribe(companies => {\r\n        this.countries = companies;\r\n      });\r\n    }\r\n  }\r\n\r\n  onChange(country: string) {\r\n    this.setValue(country);\r\n  }\r\n\r\n  registerOnChange(fn: any): void {\r\n    this.valueChange.subscribe(fn);\r\n  }\r\n\r\n  registerOnTouched(fn: any): void {\r\n    // okay\r\n  }\r\n\r\n  private setValue(country: string) {\r\n    this.country = country;\r\n    this.valueChange.emit(this.country);\r\n    this.countrySelected = this.countries.find(country => country.code === this.country);\r\n    this.valueChangeFull.emit(this.countrySelected);\r\n  }\r\n\r\n  writeValue(obj: any): void {\r\n    this.country = obj;\r\n  }\r\n}\r\n","<p-dropdown\r\n  [filter]=\"true\"\r\n  [options]=\"countries\"\r\n  [(ngModel)]=\"country\"\r\n  optionValue=\"code\"\r\n  optionLabel=\"name\"\r\n  placeholder=\"No Country Selected\"\r\n  (ngModelChange)=\"onChange($event)\"\r\n></p-dropdown>\r\n","import {Component, EventEmitter, forwardRef, OnInit, Output} from '@angular/core';\r\nimport {ControlValueAccessor, NG_VALUE_ACCESSOR} from '@angular/forms';\r\nimport {CustomEmployeesService} from '../../../models/custom-employees.service';\r\nimport {map} from 'rxjs/operators';\r\nimport {CRMEmployee} from '../../../../crm/models/crm-employee';\r\nimport {CrmEmployeeService} from '../../../../crm/services/crm-employee.service';\r\nimport {merge} from 'rxjs';\r\nexport class EmployeeWithCustom {\r\n  employee?: CRMEmployee;\r\n  customEmployee?: CRMEmployee;\r\n  order: number;\r\n  id: string;\r\n}\r\n\r\n@Component({\r\n  selector: 'pek-business-trips-multi-employee-with-custom',\r\n  templateUrl: './business-trips-multi-employee-with-custom.component.html',\r\n  styleUrls: ['./business-trips-multi-employee-with-custom.component.scss'],\r\n  providers: [\r\n    {provide: NG_VALUE_ACCESSOR,\r\n    useExisting: forwardRef(() => BusinessTripsMultiEmployeeWithCustomComponent), multi: true}\r\n  ]\r\n})\r\nexport class BusinessTripsMultiEmployeeWithCustomComponent implements OnInit, ControlValueAccessor {\r\n\r\n  @Output() valueChange = new EventEmitter<EmployeeWithCustom[]>();\r\n  employees: CRMEmployee[];\r\n  customEmployees: EmployeeWithCustom[] = [];\r\n  selectedEmployees: string[];\r\n\r\n  constructor(\r\n    private crmEmployeeService: CrmEmployeeService,\r\n    private customEmployeesService: CustomEmployeesService,\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.getEmployees();\r\n  }\r\n\r\n  getContactPersons() {\r\n    return this.crmEmployeeService.get().pipe(map(employees => {\r\n      return employees.map(employee =>  {\r\n        return {\r\n          employee, order: 1, id: 'e' + employee.id\r\n        };\r\n      });\r\n    }));\r\n  }\r\n\r\n  getCustomEmployees() {\r\n    return this.customEmployeesService.get().pipe(map(employees => {\r\n      return employees.map(employee =>  {\r\n        return {\r\n          customEmployee: employee, order: 2, id: 'c' + employee.id\r\n        };\r\n      });\r\n    }));\r\n  }\r\n\r\n  getEmployees() {\r\n    merge(\r\n      this.getContactPersons(),\r\n      this.getCustomEmployees()\r\n    ).subscribe(res => {\r\n      this.customEmployees.push(...res);\r\n      this.customEmployees.sort((a, b) => a.order - b.order);\r\n    });\r\n  }\r\n\r\n  onChange(employees: string[]) {\r\n    this.setValue(employees);\r\n  }\r\n\r\n  registerOnChange(fn: any): void {\r\n    this.valueChange.subscribe(fn);\r\n  }\r\n\r\n  registerOnTouched(fn: any): void {\r\n    // okay\r\n  }\r\n\r\n  private setValue(employees: string[]) {\r\n    this.selectedEmployees = employees;\r\n    const selectedEmployees = this.customEmployees.filter(filterEmployee => {\r\n      return this.selectedEmployees.findIndex(employee => filterEmployee.id === employee) > -1;\r\n    });\r\n    this.valueChange.emit(selectedEmployees);\r\n  }\r\n\r\n  writeValue(obj: any): void {\r\n    this.selectedEmployees = obj;\r\n  }\r\n}\r\n","<p-multiSelect\r\n  optionValue=\"id\"\r\n  optionLabel=\"first_name\"\r\n  [options]=\"customEmployees\"\r\n  [(ngModel)]=\"selectedEmployees\"\r\n  (ngModelChange)=\"onChange($event)\"\r\n>\r\n  <ng-template let-employee pTemplate=\"item\">\r\n    <div class=\"contact-item\">\r\n      <div *ngIf=\"employee.employee\">{{employee.employee.first_name}} {{employee.employee.last_name}}</div>\r\n      <div *ngIf=\"employee.customEmployee\">{{employee.customEmployee.first_name}} {{employee.customEmployee.last_name}} (C) </div>\r\n    </div>\r\n  </ng-template>\r\n</p-multiSelect>\r\n","import {Component, EventEmitter, forwardRef, OnInit, Output} from '@angular/core';\r\nimport {BusinessTripStatus} from '../../../models/business-trip-status.enum';\r\nimport {ControlValueAccessor, NG_VALUE_ACCESSOR} from '@angular/forms';\r\n\r\n@Component({\r\n  selector: 'pek-business-trips-multi-status-picker',\r\n  templateUrl: './business-trips-multi-status-picker.component.html',\r\n  styleUrls: ['./business-trips-multi-status-picker.component.scss'],\r\n  providers: [{provide: NG_VALUE_ACCESSOR, useExisting: forwardRef(() => BusinessTripsMultiStatusPickerComponent), multi: true}]\r\n})\r\nexport class BusinessTripsMultiStatusPickerComponent implements OnInit, ControlValueAccessor {\r\n\r\n  @Output() valueChange = new EventEmitter<string[]>();\r\n  selectedStatuses: string[];\r\n\r\n  statuses = [\r\n    {\r\n      value: BusinessTripStatus.VERIFIED,\r\n      title: 'Verified'\r\n    },\r\n    {\r\n      value: BusinessTripStatus.NEED_VERIFICATION,\r\n      title: 'Need Verified'\r\n    },\r\n    {\r\n      value: BusinessTripStatus.NEW,\r\n      title: 'In Progress'\r\n    },\r\n  ];\r\n\r\n  constructor(\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  onChange(employees: string[]) {\r\n    this.setValue(employees);\r\n  }\r\n\r\n  registerOnChange(fn: any): void {\r\n    this.valueChange.subscribe(fn);\r\n  }\r\n\r\n  registerOnTouched(fn: any): void {\r\n    // okay\r\n  }\r\n\r\n  private setValue(employees: string[]) {\r\n    this.selectedStatuses = employees;\r\n    this.valueChange.emit(this.selectedStatuses);\r\n  }\r\n\r\n  writeValue(obj: any): void {\r\n    this.selectedStatuses = obj;\r\n  }\r\n}\r\n","<p-multiSelect\r\n  optionValue=\"value\"\r\n  optionLabel=\"title\"\r\n  [options]=\"statuses\"\r\n  [(ngModel)]=\"selectedStatuses\"\r\n  (ngModelChange)=\"onChange($event)\"\r\n></p-multiSelect>\r\n","import {Component, EventEmitter, forwardRef, Input, OnInit, Output} from '@angular/core';\r\nimport {ControlValueAccessor, NG_VALUE_ACCESSOR} from '@angular/forms';\r\nimport {Vehicle} from '../../../models/vehicle';\r\nimport {take} from 'rxjs/operators';\r\nimport {VehicleService} from '../../../services/vehicle.service';\r\n\r\n@Component({\r\n  selector: 'pek-vehicle-picker',\r\n  templateUrl: './vehicle-picker.component.html',\r\n  styleUrls: ['./vehicle-picker.component.scss'],\r\n  providers: [{provide: NG_VALUE_ACCESSOR, useExisting: forwardRef(() => VehiclePickerComponent), multi: true}]\r\n})\r\nexport class VehiclePickerComponent implements OnInit, ControlValueAccessor {\r\n  @Output() valueChange  = new EventEmitter<Vehicle>();\r\n  @Input() vehicle: number;\r\n  @Input() selectedVehicle: Vehicle;\r\n  @Input() placeholder = 'Vehicle';\r\n  @Input() showClear: boolean;\r\n\r\n  vehicles: Vehicle[];\r\n  isLoading = true;\r\n\r\n  constructor(\r\n    private vehicleService: VehicleService,\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.getAll();\r\n  }\r\n\r\n  getAll() {\r\n    this.vehicleService\r\n      .get()\r\n      .pipe(take(1))\r\n      .subscribe((res) => {\r\n        this.vehicles = res;\r\n        if (this.vehicle) {\r\n          this.selectedVehicle = this.vehicles.find(currency => currency.id === this.vehicle);\r\n        }\r\n        this.isLoading = false;\r\n      });\r\n  }\r\n\r\n  onChange(vehicle: number) {\r\n    this.setValue(vehicle);\r\n  }\r\n\r\n  registerOnChange(fn: any): void {\r\n    this.valueChange.subscribe(fn);\r\n  }\r\n\r\n  registerOnTouched(fn: any): void {\r\n    // okay\r\n  }\r\n\r\n  private setValue(vehicle: number) {\r\n    this.vehicle = vehicle;\r\n    this.selectedVehicle = this.vehicles.find(currency => currency.id === this.vehicle);\r\n    this.valueChange.emit(this.selectedVehicle);\r\n  }\r\n\r\n  writeValue(obj: any): void {\r\n    this.vehicle = obj;\r\n  }\r\n}\r\n","<p-dropdown\r\n  [filter]=\"true\"\r\n  [showClear]=\"showClear\"\r\n  [(ngModel)]=\"vehicle\"\r\n  [options]=\"vehicles\"\r\n  [disabled]=\"isLoading\"\r\n  (ngModelChange)=\"onChange($event)\"\r\n  optionValue=\"id\"\r\n  optionLabel=\"model\"\r\n  placeholder=\"Choose Vehicle\">\r\n  <ng-template pTemplate=\"selectedItem\">\r\n    <div class=\"country-item country-item-value\" *ngIf=\"vehicle\">\r\n      <div>{{selectedVehicle.model}}</div>\r\n    </div>\r\n  </ng-template>\r\n\r\n  <ng-template let-vehicle pTemplate=\"item\">\r\n    <div class=\"country-item\">\r\n      <div>{{vehicle.model}} ({{vehicle.number}})</div>\r\n    </div>\r\n  </ng-template>\r\n</p-dropdown>\r\n","import {Component, EventEmitter, forwardRef, Input, OnInit, Output} from '@angular/core';\r\nimport {ControlValueAccessor, NG_VALUE_ACCESSOR} from '@angular/forms';\r\n\r\n@Component({\r\n  selector: 'pek-vehicle-type-picker',\r\n  templateUrl: './vehicle-type-picker.component.html',\r\n  styleUrls: ['./vehicle-type-picker.component.scss'],\r\n  providers: [{\r\n    provide: NG_VALUE_ACCESSOR,\r\n    useExisting: forwardRef(() => VehicleTypePickerComponent),\r\n    multi: false\r\n  }]\r\n})\r\nexport class VehicleTypePickerComponent implements OnInit, ControlValueAccessor {\r\n  @Input() type: string;\r\n  @Output() valueChange = new EventEmitter<string>();\r\n  types = [\r\n    {\r\n      id: '0',\r\n      value: 'Without'\r\n    },\r\n    {\r\n      id: '1',\r\n      value: 'Private'\r\n    },\r\n    {\r\n      id: '2',\r\n      value: 'Rent'\r\n    },\r\n    {\r\n      id: '3',\r\n      value: 'Company Car'\r\n    }\r\n  ];\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n\r\n  onChange(position: string) {\r\n    this.setValue(position);\r\n  }\r\n\r\n  registerOnChange(fn: any): void {\r\n    this.valueChange.subscribe(fn);\r\n  }\r\n\r\n  registerOnTouched(fn: any): void {\r\n    // okay\r\n  }\r\n\r\n  private setValue(type: string) {\r\n    this.type = type;\r\n    this.valueChange.emit(this.type);\r\n  }\r\n\r\n  writeValue(obj: any): void {\r\n    this.type = obj;\r\n  }\r\n}\r\n","<p-dropdown\r\n  [filter]=\"true\"\r\n  [(ngModel)]=\"type\"\r\n  [options]=\"types\"\r\n  (ngModelChange)=\"onChange($event)\"\r\n  optionValue=\"id\"\r\n  optionLabel=\"value\"\r\n  placeholder=\"Choose Vehicle Type\">\r\n</p-dropdown>\r\n","import {Component, EventEmitter, Input, OnChanges, OnDestroy, OnInit, Output, SimpleChanges} from '@angular/core';\r\nimport {Company} from '../../../../crm/models/company';\r\nimport {BusinessTripLocationTypes} from '../../../enums/business-trip-location-status.enum';\r\nimport {ModalService} from '@shared/services/modal.service';\r\nimport {BusinessTripLocationMeeting} from '../../../models/business-trip-location-meeting';\r\nimport {Country} from '@shared/models/country';\r\nimport {BusinessTripCountry} from '../../../models/business-trip-country';\r\nimport {LocationMeetingService} from '../../../services/location-meeting.service';\r\nimport {ContactPerson} from '@shared/models/contact-person';\r\nimport {Subject, takeUntil} from 'rxjs';\r\nimport {debounceTime} from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'pek-location-input',\r\n  templateUrl: './location-input.component.html',\r\n  styleUrls: ['./location-input.component.scss']\r\n})\r\nexport class LocationInputComponent implements OnInit, OnChanges, OnDestroy {\r\n\r\n\r\n  @Input() country: BusinessTripCountry;\r\n  @Input() locationId: number;\r\n  @Input() address: string;\r\n  @Input() showDelete: boolean;\r\n  @Input() showAddMeetings: boolean;\r\n  @Input() companiesFilters: Company[];\r\n  locationMeetings: BusinessTripLocationMeeting[] = [];\r\n  @Input() showHr = false;\r\n  @Input() type: BusinessTripLocationTypes;\r\n  @Output() countryChanged: EventEmitter<BusinessTripCountry> = new EventEmitter<BusinessTripCountry>();\r\n  @Output() addressChanged: EventEmitter<string> = new EventEmitter<string>();\r\n  @Output() meetingsChanged: EventEmitter<BusinessTripLocationMeeting[]> = new EventEmitter<BusinessTripLocationMeeting[]>();\r\n  @Output() emitDeletePoint: EventEmitter<BusinessTripLocationTypes> = new EventEmitter<BusinessTripLocationTypes>();\r\n  employeeChanged: Subject<{meeting: any, contacts: ContactPerson[] }> = new Subject<{meeting: any, contacts: ContactPerson[] }>();\r\n  locationLoaded = false;\r\n  companyId: number;\r\n  private destroy$ = new Subject();\r\n  constructor(\r\n    private modalService: ModalService,\r\n    private locationMeetingService: LocationMeetingService,\r\n  ) {\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    if ('locationId' in changes) {\r\n      if (this.locationId) {\r\n        this.getMeetings();\r\n      }\r\n    }\r\n  }\r\n\r\n  getMeetings() {\r\n    this.locationLoaded = false;\r\n    this.locationMeetingService.get([{name: 'location_id', value: this.locationId}]).pipe(takeUntil(this.destroy$)).subscribe(res => {\r\n      this.locationMeetings = res;\r\n      this.meetingsChanged.emit(this.locationMeetings);\r\n    });\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.employeeChanged.pipe(debounceTime(500)).pipe(takeUntil(this.destroy$)).subscribe((res) => {\r\n      this.updateMeetingPerson(res.meeting, res.contacts);\r\n    });\r\n  }\r\n\r\n  delete() {\r\n    this.modalService.confirm('danger', 'Confirm').pipe(takeUntil(this.destroy$)).subscribe(confirm => {\r\n      if (confirm) {\r\n        this.emitDeletePoint.emit(this.type);\r\n      }\r\n    });\r\n  }\r\n\r\n  addMeeting() {\r\n    if (this.locationId) {\r\n      this.locationMeetings.push({\r\n        company: null,\r\n        id: null,\r\n        location_id: this.locationId,\r\n        contacts: []\r\n      });\r\n    }\r\n  }\r\n\r\n  updateMeeting(locationMeeting: BusinessTripLocationMeeting, $event: Partial<Company>) {\r\n    if (!locationMeeting.company || locationMeeting.company.id !== $event) {\r\n      locationMeeting.company = $event;\r\n      this.createUpdateMeeting(locationMeeting);\r\n    }\r\n  }\r\n\r\n\r\n  deleteMeeting(meetingToDelete: BusinessTripLocationMeeting, index: number) {\r\n    this.modalService.confirm('danger', 'Confirm').pipe(takeUntil(this.destroy$)).subscribe(confirm => {\r\n      if (confirm) {\r\n        if (meetingToDelete.id) {\r\n          this.locationMeetingService.delete(meetingToDelete).pipe(takeUntil(this.destroy$)).subscribe(res => {\r\n            this.getMeetings();\r\n          });\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  createUpdateMeeting(locationMeeting: BusinessTripLocationMeeting) {\r\n    if (this.locationId) {\r\n      if (locationMeeting.id) {\r\n        const locationData = {\r\n          company: locationMeeting.company.id,\r\n          location_id: this.locationId,\r\n          contacts: locationMeeting.contacts.map(contact => contact.id)\r\n        };\r\n        this.locationMeetingService.update(locationMeeting.id, locationData).pipe(takeUntil(this.destroy$)).subscribe(res => {\r\n          this.getMeetings();\r\n        });\r\n      } else {\r\n        const locationData = {\r\n          company: locationMeeting.company.id,\r\n          location_id: this.locationId,\r\n          contacts: locationMeeting.contacts.map(contact => contact.id)\r\n        };\r\n        this.locationMeetingService.create(locationData).pipe(takeUntil(this.destroy$)).subscribe(res => {\r\n          this.getMeetings();\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  getContactsIds(meeting: BusinessTripLocationMeeting) {\r\n    return meeting.contacts.map(contact => contact.id);\r\n  }\r\n\r\n  updateMeetingPerson(meeting: BusinessTripLocationMeeting, $event: ContactPerson[]) {\r\n    const inter = meeting.contacts.map(contact => contact.id).filter(contact => !$event.map(contact => contact.id).includes(contact));\r\n    const inter2 = $event.map(contact => contact.id).filter(contact => !meeting.contacts.map(contact => contact.id).includes(contact));\r\n    if (inter.length > 0 || inter2.length > 0) {\r\n      meeting.contacts = $event;\r\n      this.createUpdateMeeting(meeting);\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.destroy$.next(true);\r\n    this.destroy$.complete();\r\n  }\r\n}\r\n","<div class=\"row\">\r\n  <div class=\"col-5\">\r\n    <div class=\"form-group\">\r\n      <label>Country</label>\r\n      <pek-business-trip-country-picker [country]=\"country?.code\"\r\n                                        (valueChangeFull)=\"countryChanged.emit($event)\"></pek-business-trip-country-picker>\r\n    </div>\r\n  </div>\r\n  <div class=\"col-5\">\r\n    <div class=\"form-group\">\r\n      <label for=\"address\">Address</label>\r\n      <input pInputText\r\n             [(ngModel)]=\"address\"\r\n             (ngModelChange)=\"addressChanged.emit($event)\"\r\n             class=\"form-control\" type=\"text\"\r\n             id=\"address\">\r\n    </div>\r\n  </div>\r\n  <div class=\"col-2\">\r\n    <div class=\"form-group\">\r\n      <label>&nbsp; </label>\r\n      <button\r\n        pButton\r\n        type=\"button\"\r\n        icon=\"pi pi-trash\"\r\n        *ngIf=\"showDelete\"\r\n        class=\"p-button-danger p-button-rounded p-button-outlined p-button-rounded_small mr-2 mt-1\"\r\n        (click)=\"delete()\"\r\n      ></button>\r\n    </div>\r\n  </div>\r\n\r\n  <ng-template [ngIf]=\"locationMeetings.length > 0\">\r\n    <div class=\"col-5\">\r\n      <div class=\"form-group\">\r\n        <label>Company</label>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-5\">\r\n      <div class=\"form-group\">\r\n        <label>Contacts</label>\r\n      </div>\r\n    </div>\r\n  </ng-template>\r\n\r\n  <ng-template ngFor [ngForOf]=\"locationMeetings\" let-meeting let-index=index>\r\n    <div class=\"col-5\">\r\n      <div class=\"form-group\">\r\n        <pek-company-picker\r\n          [currentCompanyId]=\"meeting.company?.id\"\r\n          (selectCompanyFull)=\"updateMeeting(meeting, $event)\"></pek-company-picker>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-5\">\r\n      <div class=\"form-group\">\r\n        <pek-multi-contacts-picker [contactsListFull]=\"meeting.contacts\"\r\n                                   (valueChangeFull)=\"employeeChanged.next({meeting: meeting, contacts: $event})\" [searchByCompany]=\"true\"\r\n                                   [companyId]=\"meeting.company?.id\"></pek-multi-contacts-picker>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-2\">\r\n      <div class=\"form-group\">\r\n        <button\r\n          pButton\r\n          type=\"button\"\r\n          icon=\"pi pi-trash\"\r\n          class=\"p-button-danger p-button-rounded p-button-outlined p-button-rounded_small mr-2 mt-1\"\r\n          (click)=\"deleteMeeting(meeting, index)\"\r\n        ></button>\r\n      </div>\r\n    </div>\r\n  </ng-template>\r\n</div>\r\n<button pButton *ngIf=\"showAddMeetings\"\r\n        icon=\"pi pi-plus\"\r\n        label=\"Add Meeting\"\r\n        (click)=\"addMeeting()\"></button>\r\n","import {Component, EventEmitter, Input, OnChanges, OnDestroy, OnInit, Output, SimpleChanges} from '@angular/core';\r\nimport {AdapterService} from '@shared/services/adapter.service';\r\nimport {FormArray, FormBuilder} from '@angular/forms';\r\nimport {Currency} from '@shared/models/currency';\r\nimport {ExpensesSum} from '../../models/expenses-sum';\r\nimport {ModalService} from '@shared/services/modal.service';\r\nimport {BusinessTripExpenseStatus} from '../../enums/business-trip-expense-status.enum';\r\nimport {BusinessTripExpense} from '../../models/business-trip-expense';\r\nimport {BusinessTripService} from '../../services/business-trip.service';\r\nimport {MenuItem} from 'primeng/api';\r\nimport {BusinessTripsExpensesService} from '../../services/business-trips-expenses.service';\r\nimport {take} from 'rxjs/operators';\r\nimport {ExpenseService} from '../../services/expense.service';\r\nimport {Expense} from '../../models/expense';\r\nimport {Subject, takeUntil} from 'rxjs';\r\nimport {environment} from '@env/environment';\r\n@Component({\r\n  selector: 'pek-trip-expenses-table',\r\n  templateUrl: './trip-expenses-table.component.html',\r\n  styleUrls: ['./trip-expenses-table.component.scss']\r\n})\r\nexport class TripExpensesTableComponent implements OnInit, OnChanges, OnDestroy {\r\n\r\n  tripExpenses: BusinessTripExpense[] = [];\r\n  selectedTripExpense: BusinessTripExpense;\r\n  @Input() businessTripId: number;\r\n  @Input() isVerify: boolean;\r\n  @Output() editExpense: EventEmitter<number> = new EventEmitter<number>();\r\n  @Output() currentBusinessTripExpenses: EventEmitter<BusinessTripExpense[]> = new EventEmitter<BusinessTripExpense[]>();\r\n  @Output() deleteExpense: EventEmitter<BusinessTripExpense> = new EventEmitter<BusinessTripExpense>();\r\n  @Output() expenseSumEmit: EventEmitter<ExpensesSum[]> = new EventEmitter<ExpensesSum[]>();\r\n  @Output() unverifyTrip: Subject<void> = new Subject<void>();\r\n\r\n  statuses = BusinessTripExpenseStatus;\r\n\r\n  sumOfVerifiedExpenses: ExpensesSum[] = [];\r\n\r\n\r\n\r\n  menuItems: MenuItem[] = [{\r\n    label: 'Selected Expense',\r\n    items: [\r\n      {\r\n        label: 'Edit',\r\n        icon: 'pi pi-pencil',\r\n        command: () => this.editTripExpense()\r\n      },\r\n      {\r\n        label: 'Remove',\r\n        icon: 'pi pi-trash',\r\n        command: () => this.deleteTripExpense()\r\n      }\r\n    ]\r\n  }];\r\n  formData = new FormData();\r\n  private destroy$ = new Subject();\r\n  constructor(\r\n    private fb: FormBuilder,\r\n    private modalService: ModalService,\r\n    private businessService: BusinessTripService,\r\n    private businessTripsExpensesService: BusinessTripsExpensesService,\r\n    private expenseService: ExpenseService,\r\n  ) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.getBusinessTrips();\r\n  }\r\n\r\n  getBusinessTrips() {\r\n    this.businessTripsExpensesService.get([{name: 'business_trip_id', value: this.businessTripId}]).pipe(takeUntil(this.destroy$)).subscribe(res => {\r\n      this.tripExpenses = res;\r\n      this.currentBusinessTripExpenses.emit(this.tripExpenses);\r\n      this.recalculateExpenses();\r\n    });\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    this.recalculateExpenses();\r\n  }\r\n\r\n  recalculateExpenses() {\r\n    this.sumOfVerifiedExpenses = [];\r\n    this.tripExpenses.forEach(tripExpense => {\r\n      if (tripExpense.is_verified) {\r\n        const addedExpense = this.sumOfVerifiedExpenses.find(expense => expense.currencyCode === (tripExpense.currency as Currency).code);\r\n        if (addedExpense) {\r\n          addedExpense.sum = +addedExpense.sum + +tripExpense.sum;\r\n        } else {\r\n          this.sumOfVerifiedExpenses.push({\r\n            currency: tripExpense.currency as Currency,\r\n            sum: tripExpense.sum,\r\n            currencyCode: (tripExpense.currency as Currency).code\r\n          });\r\n        }\r\n      }\r\n    });\r\n    this.expenseSumEmit.emit(this.sumOfVerifiedExpenses);\r\n  }\r\n\r\n  link = environment.image_path;\r\n\r\n  getName(name) {\r\n    const nameArr = name.split('/');\r\n    return nameArr[nameArr.length - 1];\r\n  }\r\n\r\n  deleteTripExpense() {\r\n    this.modalService.confirm('danger', 'Confirm').pipe(takeUntil(this.destroy$)).subscribe(confirm => {\r\n      if (confirm) {\r\n        this.businessTripsExpensesService.delete(this.selectedTripExpense).pipe(takeUntil(this.destroy$)).subscribe(res => {\r\n          this.getBusinessTrips();\r\n          this.selectedTripExpense = null;\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  public addTripExpanses(): void {\r\n    const isVerify = false;\r\n    this.expenseService\r\n      .createChangeExpanseItem(null, isVerify)\r\n      .pipe(take(1), takeUntil(this.destroy$))\r\n      .subscribe((tripExpense: BusinessTripExpense) => {\r\n        const preparedData = this.prepareExpense(tripExpense)\r\n        this.businessTripsExpensesService.create(preparedData).pipe(takeUntil(this.destroy$)).subscribe(response => {\r\n            if (tripExpense.base64File) {\r\n              const data = {\r\n                id: response.id,\r\n                file: tripExpense.uploaded_file\r\n              }\r\n              this.businessTripsExpensesService.uploadImage(data, response.id).pipe(takeUntil(this.destroy$)).subscribe(res => {\r\n                this.getBusinessTrips();\r\n                this.unverifyTrip.next();\r\n              });\r\n            } else {\r\n              this.getBusinessTrips();\r\n              this.unverifyTrip.next();\r\n            }\r\n        });\r\n      });\r\n  }\r\n\r\n  prepareExpense(tripExpense: BusinessTripExpense) {\r\n    tripExpense.business_trip = this.businessTripId;\r\n    const businessExpense: BusinessTripExpense = {\r\n      currency: tripExpense.currency,\r\n      id: tripExpense.id,\r\n      sum: tripExpense.sum,\r\n      business_trip: this.businessTripId,\r\n      is_verified: tripExpense.is_verified,\r\n      clear_file: tripExpense.clear_file,\r\n    };\r\n    if ((tripExpense.expense as Expense).name) {\r\n      businessExpense.expense = (tripExpense.expense as Expense).id;\r\n      businessExpense.currency = (tripExpense.currency as Currency).code as string;\r\n      businessExpense.fullExpense = (tripExpense.expense as Expense);\r\n    }\r\n    if (tripExpense.custom_expense.name) {\r\n      businessExpense.custom_expense = tripExpense.custom_expense;\r\n      businessExpense.currency = (tripExpense.currency as Currency).code as string;\r\n      businessExpense.fullExpense = tripExpense.custom_expense;\r\n    }\r\n    return businessExpense;\r\n  }\r\n\r\n  viewFile(selectedExpense: BusinessTripExpense, file: any) {\r\n    const preparedFiles = [];\r\n    const files = [];\r\n    if (selectedExpense.base64File) {\r\n      files.push({file: selectedExpense.base64File});\r\n    }\r\n    if (typeof selectedExpense.file === 'string' && !selectedExpense.base64File) {\r\n      preparedFiles.push({file});\r\n    }\r\n    const data: { links: any, files: any } = {links: preparedFiles, files};\r\n    this.businessService.viewBusinessTripFiles(data);\r\n  }\r\n\r\n  editTripExpense() {\r\n    this.expenseService\r\n      .createChangeExpanseItem(this.selectedTripExpense, this.isVerify)\r\n      .pipe(take(1), takeUntil(this.destroy$))\r\n      .subscribe((tripExpense) => {\r\n        const preparedData = this.prepareExpense(tripExpense.value);\r\n        this.businessTripsExpensesService.update(tripExpense.value.id, preparedData).pipe(takeUntil(this.destroy$)).subscribe(response => {\r\n          if (tripExpense.value.base64File) {\r\n            const data = {\r\n              id: response.data.id,\r\n              file: tripExpense.value.uploaded_file\r\n            }\r\n            this.businessTripsExpensesService.uploadImage(data, response.data.id).pipe(takeUntil(this.destroy$)).subscribe(res => {\r\n              this.getBusinessTrips();\r\n              this.unverifyTrip.next();\r\n            });\r\n          } else {\r\n            this.getBusinessTrips();\r\n            this.unverifyTrip.next();\r\n          }\r\n        });\r\n      });\r\n  }\r\n  ngOnDestroy() {\r\n    this.destroy$.next(true);\r\n    this.destroy$.complete();\r\n  }\r\n}\r\n","<h2 class=\"mb-4 d-flex justify-content-between\">\r\n  Expenses\r\n  <button pButton type=\"button\" icon=\"pi pi-plus\" label=\"Add Expense\" (click)=\"addTripExpanses()\"></button>\r\n</h2>\r\n<div class=\"page__card\">\r\n<div class=\"content\">\r\n  <div class=\"card\">\r\n    <div class=\"card-body\">\r\n      <p-table\r\n        [paginator]=\"true\"\r\n        [rows]=\"10\"\r\n        [value]=\"tripExpenses\"\r\n        [scrollable]=\"true\"\r\n        selectionMode=\"single\"\r\n        [(selection)]=\"selectedTripExpense\"\r\n      >\r\n        <ng-template pTemplate=\"caption\">\r\n          <div class=\"d-flex align-items-center\">\r\n            <p class=\"subtitle ml-1 mr-2\" *ngIf=\"!selectedTripExpense\">Choose the Expenses to edit</p>\r\n            <p-menubar class=\"ml-auto mr-2\" [model]=\"menuItems\" [class.disabled]=\"!selectedTripExpense || selectedTripExpense && selectedTripExpense.is_verified\"></p-menubar>\r\n          </div>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"header\">\r\n          <tr>\r\n            <th class=\"index-header\">#</th>\r\n            <th>Name</th>\r\n            <th>Description</th>\r\n            <th>Sum</th>\r\n            <th>Currency</th>\r\n            <th>File</th>\r\n            <th>Status</th>\r\n          </tr>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"body\" let-tripExpense let-i=\"rowIndex\">\r\n          <tr [pSelectableRow]=\"tripExpense\">\r\n            <td>{{ i + 1 }}</td>\r\n            <td>{{ tripExpense.expense && tripExpense.expense.name ? tripExpense.expense.name : tripExpense.custom_expense.name }}</td>\r\n            <td>{{ tripExpense.expense && tripExpense.expense.name ? tripExpense.expense.description : tripExpense.custom_expense.description }}</td>\r\n            <td>{{ tripExpense.sum | moneyFormat }}</td>\r\n            <td>{{ tripExpense.currency.name }}</td>\r\n            <td>\r\n              <a *ngIf=\"tripExpense.id && tripExpense.file && !tripExpense.uploaded_file\" [href]=\"link + tripExpense.file\">\r\n                {{ getName(tripExpense.file) }}\r\n              </a>\r\n              <a  *ngIf=\"tripExpense.uploaded_file\" href=\"javascript:void(0)\" (click)=\"viewFile(tripExpense, tripExpense.uploaded_file)\">\r\n                {{ tripExpense.uploaded_file.name }}\r\n              </a>\r\n            </td>\r\n            <td>\r\n              <span *ngIf=\"!tripExpense.is_verified\">\r\n                Need To Be Verified\r\n              </span>\r\n              <span *ngIf=\"tripExpense.is_verified\">\r\n                Verified\r\n              </span>\r\n            </td>\r\n          </tr>\r\n        </ng-template>\r\n      </p-table>\r\n    </div>\r\n  </div>\r\n</div>\r\n<h3>Sum</h3>\r\n<div class=\"content\">\r\n  <div class=\"card\">\r\n    <div class=\"card-body\">\r\n      <div class=\"pt-2 pl-2 card-body\">\r\n        <div *ngIf=\"sumOfVerifiedExpenses.length > 0\">\r\n          <div *ngFor=\"let expense of sumOfVerifiedExpenses\">\r\n            <p>\r\n              <span class=\"currency-name\">{{expense.currency.name}}:</span> <span\r\n              class=\"currency-value\">{{expense.sum}}{{expense.currency.symbol}}</span>\r\n            </p>\r\n          </div>\r\n        </div>\r\n\r\n        <div *ngIf=\"sumOfVerifiedExpenses.length === 0\">\r\n          <h3>\r\n            No Verified Expenses\r\n          </h3>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n</div>\r\n","export enum BusinessTripExpenseStatus {\r\n  NON_VERIFIED = '0',\r\n  VERIFIED = '1'\r\n}\r\n","import {Component, Inject, OnDestroy, OnInit} from '@angular/core';\r\nimport {AdapterService} from '@shared/services/adapter.service';\r\nimport {FormBuilder, FormGroup, Validators} from '@angular/forms';\r\nimport {CrmPositionsService} from '../../../crm/services/crm-positions.service';\r\nimport {BusinessTripService} from '../../services/business-trip.service';\r\nimport {MessageService} from 'primeng/api';\r\nimport {MAT_DIALOG_DATA, MatDialogRef} from '@angular/material/dialog';\r\nimport {Expense} from '../../models/expense';\r\nimport {AuthService} from '../../../auth/auth.service';\r\nimport {Currency} from '@shared/models/currency';\r\nimport {ExpenseService} from '../../services/expense.service';\r\nimport {ModalService} from '@shared/services/modal.service';\r\nimport {Subject, takeUntil} from 'rxjs';\r\nimport {environment} from '@env/environment';\r\n\r\n@Component({\r\n  selector: 'pek-create-edit-expense',\r\n  templateUrl: './create-edit-expense.component.html',\r\n  styleUrls: ['./create-edit-expense.component.scss']\r\n})\r\nexport class CreateEditExpenseComponent implements OnInit, OnDestroy {\r\n  selectedExpense: Expense;\r\n  file: File;\r\n  form: FormGroup = this.fb.group({\r\n    id: [null],\r\n    is_verified: [false],\r\n    isOther: [false],\r\n    expense: this.fb.group({\r\n      id: [null],\r\n      name: [null],\r\n      description: [null],\r\n    }),\r\n    custom_expense: this.fb.group({\r\n      id: [null],\r\n      name: [null],\r\n      description: [null]\r\n    }),\r\n    currency: this.fb.group({\r\n      code: [null, [Validators.required]],\r\n      name: [null],\r\n      symbol: [null],\r\n      is_active: [null],\r\n    }),\r\n    sum: [0, [Validators.required]],\r\n    file: [null],\r\n    uploaded_file: [null],\r\n    clear_file: [false],\r\n    base64File: [null]\r\n  });\r\n\r\n  isEditDisabled = false;\r\n  canVerify = false;\r\n  private destroy$ = new Subject();\r\n  link = environment.image_path;\r\n\r\n  constructor(\r\n    private dialogRef: MatDialogRef<CreateEditExpenseComponent>,\r\n    private fb: FormBuilder,\r\n    private crmPositionService: CrmPositionsService,\r\n    @Inject(MAT_DIALOG_DATA) public data: {type: 'edit' | 'add', entity, canVerify: boolean},\r\n    private expensesService: ExpenseService,\r\n    private adapterService: AdapterService,\r\n    private businessService: BusinessTripService,\r\n    public auth: AuthService,\r\n    private messageService: MessageService,\r\n    private businessTripService: BusinessTripService,\r\n    private modalService: ModalService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    if (this.data.type === 'edit') {\r\n      this.form.patchValue(this.data.entity);\r\n      if (this.data.entity.expense?.id) {\r\n        this.form.get('isOther').setValue(false);\r\n      } else {\r\n        this.form.get('isOther').setValue(true);\r\n      }\r\n    }\r\n    // @ts-ignore\r\n    this.canVerify = this.data.canVerify;\r\n  }\r\n\r\n\r\n  addExpanse() {\r\n    if (this.form.get('isOther').value) {\r\n      const isCustomNameFilled = this.form.get('custom_expense').value.name;\r\n      const isCustomDescriptionFilled = this.form.get('custom_expense').value.description;\r\n      if (!isCustomNameFilled || !isCustomDescriptionFilled) {\r\n        this.messageService.add({severity: 'error', summary: 'Validation Error', detail: `Fill Expense Info`});\r\n        return;\r\n      }\r\n    } else {\r\n      const isEmployeeFilled = this.form.get('expense').value.id;\r\n      if (!isEmployeeFilled) {\r\n        this.messageService.add({severity: 'error', summary: 'Validation Error', detail: `Select Expense`});\r\n        return;\r\n      }\r\n    }\r\n    if (!this.form.get('currency').value.code) {\r\n      this.messageService.add({severity: 'error', summary: 'Validation Error', detail: `Select Currency`});\r\n      return;\r\n    }\r\n\r\n    if (this.form.valid) {\r\n      this.dialogRef.close(this.form.value);\r\n    }\r\n  }\r\n\r\n  editExpanse() {\r\n    if (this.form.get('isOther').value) {\r\n      this.form.get('expense').reset();\r\n      const isCustomNameFilled = this.form.get('custom_expense').value.name;\r\n      const isCustomDescriptionFilled = this.form.get('custom_expense').value.description;\r\n      if (!isCustomNameFilled || !isCustomDescriptionFilled) {\r\n        this.messageService.add({severity: 'error', summary: 'Validation Error', detail: `Fill Expense Info`});\r\n        return;\r\n      }\r\n    } else {\r\n      this.form.get('custom_expense').reset();\r\n      const isEmployeeFilled = this.form.get('expense').value.id;\r\n      if (!isEmployeeFilled) {\r\n        this.messageService.add({severity: 'error', summary: 'Validation Error', detail: `Select Expense`});\r\n        return;\r\n      }\r\n    }\r\n    if (!this.form.get('currency').value.code) {\r\n      this.messageService.add({severity: 'error', summary: 'Validation Error', detail: `Select Currency`});\r\n      return;\r\n    }\r\n    if (this.form.valid) {\r\n      this.dialogRef.close((this.form as FormGroup) as FormGroup);\r\n    }\r\n  }\r\n\r\n  get _expense(): FormGroup {\r\n    return (this.form.get('expense') as FormGroup) as FormGroup;\r\n  }\r\n\r\n  get _currency(): FormGroup {\r\n    return (this.form.get('currency') as FormGroup) as FormGroup;\r\n  }\r\n\r\n  test() {\r\n  }\r\n\r\n  expenseChanged($event: Expense) {\r\n    this.form.get('expense').setValue($event);\r\n  }\r\n\r\n  getById(id: number): void {\r\n    this.expensesService.getById(id).pipe(takeUntil(this.destroy$)).subscribe(expense => {\r\n      this.selectedExpense = expense;\r\n    });\r\n  }\r\n\r\n  changed() {\r\n    if (this.form.get('expense').value) {\r\n      this.form.get('expense').reset();\r\n    }\r\n\r\n    if (this.form.get('custom_expense').value) {\r\n      this.form.get('custom_expense').reset();\r\n    }\r\n  }\r\n\r\n  currencyChanged($event: Currency) {\r\n    this.form.get('currency').setValue($event);\r\n  }\r\n\r\n  imageManipulation($event: Event, files: EventTarget) {\r\n    // @ts-ignore\r\n    const newFiles: File = Array.from(files.files);\r\n    const file = newFiles[0];\r\n    this.form.get('uploaded_file').reset();\r\n    this.form.get('base64File').reset();\r\n    this.form.get('uploaded_file').setValue(file);\r\n    this.fileToBase64(file);\r\n    this.form.get('clear_file').setValue(false);\r\n    this.changedField();\r\n  }\r\n\r\n  fileToBase64(file: File): void {\r\n    const fileReader = new FileReader();\r\n    fileReader.onload = event => {\r\n      const base64 = event.target.result;\r\n      this.form.get('base64File').setValue(base64);\r\n    };\r\n    fileReader.readAsDataURL(file);\r\n  }\r\n\r\n  getName(name) {\r\n    const nameArr = name.split('/');\r\n    return nameArr[nameArr.length - 1];\r\n  }\r\n\r\n  changedField() {\r\n    if (!this.auth.user.can_verify_expenses) {\r\n      this.form.get('is_verified').patchValue(false);\r\n    }\r\n  }\r\n\r\n  clearFile() {\r\n    this.modalService.confirm('danger', 'Confirm').pipe(takeUntil(this.destroy$)).subscribe((res) => {\r\n      if (res) {\r\n        this.file = null;\r\n        if (this.form.get('file').value) {\r\n          this.form.get('clear_file').setValue(true);\r\n        }\r\n        this.form.get('file').setValue(null);\r\n        this.form.get('uploaded_file').setValue(null);\r\n        this.form.get('base64File').setValue(null);\r\n      }\r\n    });\r\n  }\r\n\r\n  viewFile() {\r\n    const preparedFiles = [];\r\n    const files = [];\r\n    if (this.form.get('base64File').value) {\r\n      files.push({file: this.form.get('base64File').value});\r\n    }\r\n    if (typeof this.form.get('file').value === 'string' && !this.form.get('base64File').value) {\r\n      preparedFiles.push({file: this.form.get('file').value});\r\n    }\r\n    const data: { links: any, files: any } = {links: preparedFiles, files};\r\n    this.businessTripService.viewBusinessTripFiles(data);\r\n  }\r\n\r\n  takePhoto() {\r\n    this.businessService.takePhotoModal().pipe(takeUntil(this.destroy$)).subscribe(file => {\r\n      if (file) {\r\n        this.form.get('uploaded_file').reset();\r\n        this.form.get('base64File').reset();\r\n        this.form.get('uploaded_file').setValue(file);\r\n        this.fileToBase64(file);\r\n        this.form.get('clear_file').setValue(false);\r\n        this.changedField();\r\n      }\r\n    });\r\n  }\r\n  ngOnDestroy() {\r\n    this.destroy$.next(true);\r\n    this.destroy$.complete();\r\n  }\r\n}\r\n","<div class=\"modal-header\">\r\n  <h2 class=\"modal-header__title\">\r\n    <span *ngIf=\"data.type === 'add'\">Add Expense</span>\r\n    <span *ngIf=\"data.type === 'edit'\">Edit Expense</span>\r\n  </h2>\r\n</div>\r\n\r\n<mat-dialog-content>\r\n  <form [formGroup]=\"form\">\r\n    <div class=\"row\">\r\n      <div class=\"col-3\">\r\n        <div class=\"form-group\">\r\n          <label style=\"display: block\" for=\"other\">Not Listed Expenses</label>\r\n          <p-checkbox\r\n            id=\"other\"\r\n            [disabled]=\"isEditDisabled\"\r\n            formControlName=\"isOther\"\r\n            (onChange)=\"changed()\"\r\n            [binary]=\"true\"\r\n          ></p-checkbox>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <ng-template [ngIf]=\"form.get('isOther').value\">\r\n      <div class=\"row\" formGroupName=\"custom_expense\">\r\n        <div class=\"col-6\">\r\n          <div class=\"form-group\">\r\n            <label for=\"name\"> Expanse Title </label>\r\n            <input\r\n              pInputText\r\n              formControlName=\"name\"\r\n              [attr.disabled]=\"isEditDisabled ? '' : null\"\r\n              (ngModelChange)=\"changedField()\"\r\n              class=\"form-control\"\r\n              type=\"text\"\r\n              id=\"name\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div class=\"col-6\">\r\n          <div class=\"form-group\">\r\n            <label for=\"custom_description\"> Expanse Description </label>\r\n            <input\r\n              pInputText\r\n              formControlName=\"description\"\r\n              [attr.disabled]=\"isEditDisabled ? '' : null\"\r\n              (ngModelChange)=\"changedField()\"\r\n              class=\"form-control\"\r\n              type=\"text\"\r\n              id=\"custom_description\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </ng-template>\r\n\r\n    <ng-template [ngIf]=\"!form.get('isOther').value\">\r\n      <div class=\"row\" formGroupName=\"expense\">\r\n        <div class=\"col-6\">\r\n          <div class=\"form-group\">\r\n            <label>Expense Title</label>\r\n            <pek-expense-picker\r\n              [isDisabled]=\"isEditDisabled\"\r\n              [expense]=\"_expense.get('id').value\"\r\n              (valueChange)=\"expenseChanged($event); changedField()\"\r\n            ></pek-expense-picker>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-6\">\r\n          <div class=\"form-group\">\r\n            <label for=\"description\"> Expanse Description </label>\r\n            <input\r\n              [disabled]=\"true\"\r\n              pInputText\r\n              formControlName=\"description\"\r\n              class=\"form-control\"\r\n              type=\"text\"\r\n              id=\"description\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </ng-template>\r\n    <div class=\"row\">\r\n      <div class=\"col-6\">\r\n        <div class=\"form-group\" formGroupName=\"expense\">\r\n          <label>Currency</label>\r\n          <pek-currency-picker\r\n            [isDisabled]=\"isEditDisabled\"\r\n            [currency]=\"_currency.get('code').value\"\r\n            (valueChange)=\"currencyChanged($event); changedField()\"\r\n          >\r\n          </pek-currency-picker>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-6\">\r\n        <div class=\"form-group\">\r\n          <label for=\"price\"> Sum </label>\r\n          <input\r\n            pInputText\r\n            id=\"price\"\r\n            formControlName=\"sum\"\r\n            [attr.disabled]=\"isEditDisabled ? '' : null\"\r\n            (ngModelChange)=\"changedField()\"\r\n            type=\"number\"\r\n            step=\"0.01\"\r\n            min=\"0\"\r\n            class=\"form-control\">\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"row\">\r\n      <div  *ngIf=\"auth.user.can_verify_expenses && canVerify\" class=\"col-2\">\r\n        <div class=\"form-group \">\r\n          <label for=\"is_verified\">Is Verified</label>\r\n          <p-checkbox\r\n            id=\"is_verified\"\r\n            formControlName=\"is_verified\"\r\n            [binary]=\"true\"\r\n          ></p-checkbox>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"row\">\r\n      <div class=\"col-6\">\r\n        <div class=\"form-group \">\r\n          <label for=\"file\" class=\"input-file d-flex align-items-center\">\r\n            <input [disabled]=\"isEditDisabled\" type=\"file\" id=\"file\" #inputFile\r\n                   (input)=\"imageManipulation($event, $event.target)\">\r\n            <span><i class=\"fa fa-download\"></i>Choose File</span>\r\n\r\n            <button\r\n              pButton\r\n              type=\"button\"\r\n              icon=\"pi pi-camera\"\r\n              class=\"p-button-primary p-button-rounded p-button-outlined p-button-rounded_small ml-3 mt-1\"\r\n              (click)=\"takePhoto()\"\r\n            ></button>\r\n          </label>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-6 \">\r\n        <div class=\"form-group pt-2 d-flex justify-content-end justify-content-center\">\r\n                  <span>\r\n          <a *ngIf=\"form.get('file').value && !form.get('uploaded_file').value\"\r\n             [href]=\"link + form.get('file').value\">\r\n                {{ getName(form.get('file').value) }}\r\n          </a>\r\n          <a *ngIf=\"form.get('uploaded_file').value\" href=\"javascript:void(0)\" (click)=\"viewFile()\">\r\n            {{ form.get('uploaded_file').value.name }}\r\n          </a>\r\n              <button *ngIf=\"file || this.form.get('file').value || this.form.get('uploaded_file').value || this.form.get('base64File').value\" class=\"remove\" (click)=\"clearFile()\">\r\n      <i class=\"pi pi-times\"></i>\r\n      Remove File\r\n    </button>\r\n        </span>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  </form>\r\n</mat-dialog-content>\r\n<mat-dialog-actions class=\"justify-content-between\">\r\n  <button pButton label=\"Cancel\" type=\"button\" class=\"p-button-danger\" [mat-dialog-close]=\"false\"></button>\r\n  <button\r\n    pButton\r\n    [label]=\"'Add'\"\r\n    *ngIf=\"data.type === 'add'\"\r\n    type=\"button\"\r\n    class=\"p-button-success\"\r\n    (click)=\"addExpanse()\"\r\n  ></button>\r\n  <button\r\n    pButton\r\n    [label]=\"'Edit'\"\r\n    *ngIf=\"data.type === 'edit'\"\r\n    type=\"button\"\r\n    class=\"p-button-success\"\r\n    (click)=\"editExpanse()\"\r\n  ></button>\r\n</mat-dialog-actions>\r\n","import {Component, EventEmitter, forwardRef, Input, OnInit, Output} from '@angular/core';\r\nimport {ExpenseService} from '../../../services/expense.service';\r\nimport {take} from 'rxjs/operators';\r\nimport {Expense} from '../../../models/expense';\r\nimport {ControlValueAccessor, NG_VALUE_ACCESSOR} from '@angular/forms';\r\n\r\n@Component({\r\n  selector: 'pek-expense-picker',\r\n  templateUrl: './expense-picker.component.html',\r\n  styleUrls: ['./expense-picker.component.scss'],\r\n  providers: [{provide: NG_VALUE_ACCESSOR, useExisting: forwardRef(() => ExpensePickerComponent), multi: true}]\r\n})\r\nexport class ExpensePickerComponent implements OnInit, ControlValueAccessor {\r\n  @Output() valueChange = new EventEmitter<Expense>();\r\n  @Input() expense: number;\r\n  @Input() showClear: boolean;\r\n  @Input() isDisabled: boolean;\r\n\r\n  expenses: Expense[];\r\n  isLoading = true;\r\n\r\n  constructor(\r\n    private expensesService: ExpenseService,\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.getAll();\r\n  }\r\n\r\n  getAll() {\r\n    this.expensesService\r\n      .get()\r\n      .pipe(take(1))\r\n      .subscribe((res) => {\r\n        this.expenses = res;\r\n        this.isLoading = false;\r\n      });\r\n  }\r\n\r\n  onChange(expanse: number) {\r\n    this.setValue(expanse);\r\n  }\r\n\r\n  registerOnChange(fn: any): void {\r\n    this.valueChange.subscribe(fn);\r\n  }\r\n\r\n  registerOnTouched(fn: any): void {\r\n    // okay\r\n  }\r\n\r\n  private setValue(value: number) {\r\n    this.expense = value;\r\n    this.valueChange.emit(this.expenses.find(expense => expense.id === this.expense));\r\n  }\r\n\r\n  writeValue(obj: any): void {\r\n    this.expense = obj;\r\n  }\r\n}\r\n","<p-dropdown\r\n  [filter]=\"true\"\r\n  [showClear]=\"showClear\"\r\n  [(ngModel)]=\"expense\"\r\n  [options]=\"expenses\"\r\n  [disabled]=\"isLoading || isDisabled\"\r\n  (ngModelChange)=\"onChange($event)\"\r\n  optionValue=\"id\"\r\n  optionLabel=\"name\"\r\n  placeholder=\"Choose Expanse\">\r\n</p-dropdown>\r\n","import {Component, Inject, OnInit} from '@angular/core';\r\nimport {MAT_DIALOG_DATA, MatDialogRef} from '@angular/material/dialog';\r\nimport {FormBuilder, FormGroup, Validators} from '@angular/forms';\r\nimport {take} from 'rxjs/operators';\r\nimport {ExpenseService} from '../../services/expense.service';\r\n\r\n@Component({\r\n  selector: 'pek-create-update-expense',\r\n  templateUrl: './create-update-expense.component.html',\r\n  styleUrls: ['./create-update-expense.component.scss']\r\n})\r\nexport class CreateUpdateExpenseComponent implements OnInit {\r\n  form: FormGroup;\r\n  constructor(\r\n    private dialogRef: MatDialogRef<CreateUpdateExpenseComponent>,\r\n    fb: FormBuilder,\r\n    private expensesService: ExpenseService,\r\n    @Inject(MAT_DIALOG_DATA) public data: {type: 'edit' | 'add', entity}\r\n  ) {\r\n    this.form = fb.group({\r\n      name: [null , [Validators.required]],\r\n      description: ['']\r\n    });\r\n\r\n    if (this.data.type === 'edit') {\r\n      this.form.patchValue(this.data.entity);\r\n    }\r\n  }\r\n\r\n  ngOnInit(): void {}\r\n\r\n\r\n  addExpense() {\r\n    if (this.form.valid) {\r\n      this.expensesService\r\n        .create(this.form.value)\r\n        .pipe(take(1))\r\n        .subscribe((res) => {\r\n          this.dialogRef.close(res);\r\n        });\r\n    }\r\n  }\r\n\r\n  editExpense() {\r\n    if (this.form.valid) {\r\n      this.form.value.id = this.data.entity.id;\r\n      this.expensesService\r\n        .update( this.form.value.id, this.form.value)\r\n        .pipe(take(1))\r\n        .subscribe((res) => {\r\n          this.dialogRef.close(res);\r\n        });\r\n    }\r\n  }\r\n}\r\n","<div class=\"modal-header\">\r\n  <h2 class=\"modal-header__title\">\r\n    <span *ngIf=\"data.type === 'add'\">Add Expense</span>\r\n    <span *ngIf=\"data.type === 'edit'\">Edit Expense</span>\r\n  </h2>\r\n</div>\r\n\r\n<mat-dialog-content>\r\n  <form [formGroup]=\"form\">\r\n    <div class=\"form-group\">\r\n      <label for=\"name\"> Name </label>\r\n      <input\r\n        pInputText\r\n        formControlName=\"name\"\r\n        class=\"form-control\"\r\n        type=\"text\"\r\n        id=\"name\"\r\n      />\r\n    </div>\r\n    <div class=\"form-group\">\r\n      <label for=\"description\"> Description </label>\r\n      <input\r\n        pInputText\r\n        formControlName=\"description\"\r\n        class=\"form-control\"\r\n        type=\"text\"\r\n        id=\"description\"\r\n      />\r\n    </div>\r\n  </form>\r\n</mat-dialog-content>\r\n\r\n<mat-dialog-actions class=\"justify-content-between\">\r\n  <button pButton label=\"Cancel\" type=\"button\" class=\"p-button-danger\" [mat-dialog-close]=\"false\"></button>\r\n  <button\r\n    pButton\r\n    [label]=\"'Add'\"\r\n    *ngIf=\"data.type === 'add'\"\r\n    type=\"button\"\r\n    class=\"p-button-success\"\r\n    (click)=\"addExpense()\"\r\n  ></button>\r\n  <button\r\n    pButton\r\n    [label]=\"'Edit'\"\r\n    *ngIf=\"data.type === 'edit'\"\r\n    type=\"button\"\r\n    class=\"p-button-success\"\r\n    (click)=\"editExpense()\"\r\n  ></button>\r\n</mat-dialog-actions>\r\n","import {Component, Inject, OnInit} from '@angular/core';\r\nimport {MAT_DIALOG_DATA, MatDialogRef} from '@angular/material/dialog';\r\nimport {FormBuilder, FormGroup, Validators} from '@angular/forms';\r\nimport {take} from 'rxjs/operators';\r\nimport {VehicleService} from '../../services/vehicle.service';\r\n\r\n@Component({\r\n  selector: 'pek-create-update-vehicle',\r\n  templateUrl: './create-update-vehicle.component.html',\r\n  styleUrls: ['./create-update-vehicle.component.scss']\r\n})\r\nexport class CreateUpdateVehicleComponent implements OnInit {\r\n  form: FormGroup;\r\n  constructor(\r\n    private dialogRef: MatDialogRef<CreateUpdateVehicleComponent>,\r\n    fb: FormBuilder,\r\n    private vehiclesService: VehicleService,\r\n    @Inject(MAT_DIALOG_DATA) public data: {type: 'edit' | 'add', entity}\r\n  ) {\r\n    this.form = fb.group({\r\n      model: [null , [Validators.required]],\r\n      number: [null , [Validators.required]]\r\n    });\r\n\r\n    if (this.data.type === 'edit') {\r\n      this.form.patchValue(this.data.entity);\r\n    }\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n\r\n  addVehicle() {\r\n    if (this.form.valid) {\r\n      this.vehiclesService\r\n        .create(this.form.value)\r\n        .pipe(take(1))\r\n        .subscribe((res) => {\r\n          this.dialogRef.close(res);\r\n        });\r\n    }\r\n  }\r\n\r\n  editVehicle() {\r\n    if (this.form.valid) {\r\n      this.form.value.id = this.data.entity.id;\r\n      this.vehiclesService\r\n        .update( this.form.value.id, this.form.value)\r\n        .pipe(take(1))\r\n        .subscribe((res) => {\r\n          this.dialogRef.close(res);\r\n        });\r\n    }\r\n  }\r\n}\r\n","<div class=\"modal-header\">\r\n  <h2 class=\"modal-header__title\">\r\n    <span *ngIf=\"data.type === 'add'\">Add Vehicle</span>\r\n    <span *ngIf=\"data.type === 'edit'\">Edit Vehicle</span>\r\n  </h2>\r\n</div>\r\n\r\n<mat-dialog-content>\r\n  <form [formGroup]=\"form\">\r\n    <div class=\"form-group\">\r\n      <label for=\"model\"> Model </label>\r\n      <input\r\n        pInputText\r\n        formControlName=\"model\"\r\n        class=\"form-control\"\r\n        type=\"text\"\r\n        id=\"model\"\r\n      />\r\n    </div>\r\n    <div class=\"form-group\">\r\n      <label for=\"number\">Vehicle Registration Plate </label>\r\n      <input\r\n        pInputText\r\n        formControlName=\"number\"\r\n        class=\"form-control\"\r\n        type=\"text\"\r\n        id=\"number\"\r\n      />\r\n    </div>\r\n  </form>\r\n</mat-dialog-content>\r\n\r\n<mat-dialog-actions class=\"justify-content-between\">\r\n  <button pButton label=\"Cancel\" type=\"button\" class=\"p-button-danger\" [mat-dialog-close]=\"false\"></button>\r\n  <button\r\n    pButton\r\n    [label]=\"'Add'\"\r\n    *ngIf=\"data.type === 'add'\"\r\n    type=\"button\"\r\n    class=\"p-button-success\"\r\n    (click)=\"addVehicle()\"\r\n  ></button>\r\n  <button\r\n    pButton\r\n    [label]=\"'Edit'\"\r\n    *ngIf=\"data.type === 'edit'\"\r\n    type=\"button\"\r\n    class=\"p-button-success\"\r\n    (click)=\"editVehicle()\"\r\n  ></button>\r\n</mat-dialog-actions>\r\n","export enum BusinessTripStatus {\r\n  NEW = '0',\r\n  VERIFIED = '1',\r\n  NEED_VERIFICATION = '2',\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport {environment} from '@env/environment';\r\nimport {HttpClient} from '@angular/common/http';\r\nimport {MatDialog} from '@angular/material/dialog';\r\nimport {Observable} from 'rxjs';\r\nimport {map} from 'rxjs/operators';\r\nimport {BusinessTripEmployee} from './business-trip-employee';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class CustomEmployeesService {\r\n  API_URL = environment.base_url + environment.business_trips_url;\r\n  readonly url = 'custom-employees/';\r\n\r\n  constructor(\r\n    private httpClient: HttpClient,\r\n    public dialog: MatDialog) {\r\n  }\r\n\r\n  get(query?: [{ name: string; value: any }]): Observable<BusinessTripEmployee[]> {\r\n    let qString = '';\r\n    if (query) {\r\n      query.forEach((element, index) => {\r\n        if (index > 0) {\r\n          qString += '&' + element.name + '=' + element.value;\r\n        } else {\r\n          qString += '?' + element.name + '=' + element.value;\r\n        }\r\n      });\r\n    }\r\n    return this.httpClient\r\n      .get<{ data: BusinessTripEmployee[] }>(this.API_URL + this.url + qString)\r\n      .pipe(\r\n        map((response) => {\r\n          return response.data;\r\n        })\r\n      );\r\n  }\r\n}\r\n","import {Injectable} from '@angular/core';\r\nimport {environment} from '@env/environment';\r\nimport {HttpClient} from '@angular/common/http';\r\nimport {MatDialog} from '@angular/material/dialog';\r\nimport {map} from 'rxjs/operators';\r\nimport {Observable} from 'rxjs';\r\nimport {BusinessTripLocation} from '../models/business-trip-location';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class BusinessLocationService {\r\n  API_URL = environment.base_url + environment.business_trips_url;\r\n  readonly url = 'business-trips-locations/';\r\n  constructor(\r\n    private httpClient: HttpClient, public dialog: MatDialog,\r\n  ) { }\r\n\r\n  create(entity): Observable<BusinessTripLocation> {\r\n    return this.httpClient\r\n      .post<{ data: BusinessTripLocation }>(this.API_URL + this.url, entity)\r\n      .pipe(\r\n        map((response) => {\r\n          return response.data;\r\n        })\r\n      );\r\n  }\r\n\r\n  update(id, entity) {\r\n    return this.httpClient.patch<{ data: BusinessTripLocation }>(this.API_URL + this.url + id + '/', entity);\r\n  }\r\n\r\n  delete(entity: BusinessTripLocation) {\r\n    return this.httpClient.delete(this.API_URL + this.url + entity.id + '/');\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport {Observable, ReplaySubject} from 'rxjs';\r\nimport {map} from 'rxjs/operators';\r\nimport {HttpClient} from '@angular/common/http';\r\nimport {BusinessTripCountry} from '../models/business-trip-country';\r\nimport {QuerySearch} from '@shared/models/other';\r\nimport {environment} from '@env/environment';\r\nimport {Company} from '../../crm/models/company';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class BusinessTripCountryService {\r\n  API_URL = environment.base_url + environment.business_trips_url;\r\n  readonly url = 'business-trips-countries/';\r\n  countriesResult: ReplaySubject<BusinessTripCountry[]> = new ReplaySubject<BusinessTripCountry[]>();\r\n  isLoadingCountries = false;\r\n  constructor(private httpClient: HttpClient) { }\r\n\r\n  get(query?: QuerySearch[]): Observable<BusinessTripCountry[]> {\r\n    if (this.isLoadingCountries) {\r\n      return this.countriesResult;\r\n    } else {\r\n      this.isLoadingCountries = true;\r\n      return this.load(query);\r\n    }\r\n  }\r\n\r\n  load(query?: QuerySearch[]) {\r\n    let qString = '';\r\n    if (query) {\r\n      query.forEach((element, index) => {\r\n        if (index > 0) {\r\n          qString += '&' + element.name + '=' + element.value;\r\n        } else {\r\n          qString += '?' + element.name + '=' + element.value;\r\n        }\r\n      });\r\n    }\r\n    return this.httpClient\r\n      .get<{ data: BusinessTripCountry[] }>(this.API_URL + this.url + qString)\r\n      .pipe(\r\n        map((response) => {\r\n          this.countriesResult.next(response.data);\r\n          return response.data;\r\n        })\r\n      );\r\n  }\r\n}\r\n","import {Injectable} from '@angular/core';\r\nimport {QuerySearch} from '@shared/models/other';\r\nimport {Observable} from 'rxjs';\r\nimport {map} from 'rxjs/operators';\r\nimport {HttpClient} from '@angular/common/http';\r\nimport {environment} from '@env/environment';\r\nimport {HotelFiles} from '../models/hotel-files';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class BusinessTripHotelFilesService {\r\n  API_URL = environment.base_url + environment.business_trips_url;\r\n  readonly url = 'business-trips-hotel-files/';\r\n  constructor(\r\n    private httpClient: HttpClient,\r\n  ) { }\r\n\r\n  get(query?: QuerySearch[]): Observable<HotelFiles[]> {\r\n    let qString = '';\r\n    if (query) {\r\n      query.forEach((element, index) => {\r\n        if (index > 0) {\r\n          qString += '&' + element.name + '=' + element.value;\r\n        } else {\r\n          qString += '?' + element.name + '=' + element.value;\r\n        }\r\n      });\r\n    }\r\n    return this.httpClient\r\n      .get<{ data: HotelFiles[] }>(this.API_URL + this.url + qString)\r\n      .pipe(\r\n        map((response) => {\r\n          return response.data;\r\n        })\r\n      );\r\n  }\r\n\r\n\r\n  delete(entity: HotelFiles) {\r\n    return this.httpClient.delete(this.API_URL + this.url + entity.id + '/');\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport {Observable} from 'rxjs';\r\nimport {BusinessTripLocation} from '../models/business-trip-location';\r\nimport {map} from 'rxjs/operators';\r\nimport {HttpClient} from '@angular/common/http';\r\nimport {MatDialog} from '@angular/material/dialog';\r\nimport {environment} from '@env/environment';\r\nimport {BusinessTripExpense} from '../models/business-trip-expense';\r\nimport {QuerySearch} from '@shared/models/other';\r\nimport {BusinessTripLocationMeeting} from '../models/business-trip-location-meeting';\r\nimport {NomenclatureImage} from '@shared/models/nomenclature';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class BusinessTripsExpensesService {\r\n  API_URL = environment.base_url + environment.business_trips_url;\r\n  readonly url = 'business-trips-expenses/';\r\n  constructor(\r\n    private httpClient: HttpClient, public dialog: MatDialog,\r\n  ) { }\r\n\r\n  get(query?: QuerySearch[]): Observable<BusinessTripExpense[]> {\r\n    let qString = '';\r\n    if (query) {\r\n      query.forEach((element, index) => {\r\n        if (index > 0) {\r\n          qString += '&' + element.name + '=' + element.value;\r\n        } else {\r\n          qString += '?' + element.name + '=' + element.value;\r\n        }\r\n      });\r\n    }\r\n    return this.httpClient\r\n      .get<{ data: BusinessTripExpense[] }>(this.API_URL + this.url + qString)\r\n      .pipe(\r\n        map((response) => {\r\n          return response.data;\r\n        })\r\n      );\r\n  }\r\n\r\n  create(entity): Observable<BusinessTripExpense> {\r\n    return this.httpClient\r\n      .post<{ data: BusinessTripExpense }>(this.API_URL + this.url, entity)\r\n      .pipe(\r\n        map((response) => {\r\n          return response.data;\r\n        })\r\n      );\r\n  }\r\n\r\n  update(id, entity) {\r\n    return this.httpClient.patch<{ data: BusinessTripExpense }>(this.API_URL + this.url + id + '/', entity);\r\n  }\r\n\r\n  delete(entity: BusinessTripExpense) {\r\n    return this.httpClient.delete(this.API_URL + this.url + entity.id + '/');\r\n  }\r\n\r\n  uploadImage(send: any, expenseId: number) {\r\n    const formData = new FormData();\r\n\r\n    for (const key in send) {\r\n      if (send[key] !== null) {\r\n        formData.append(key, send[key]);\r\n      }\r\n    }\r\n\r\n    return this.httpClient.post(this.API_URL + this.url + expenseId + '/add_file_to_expense/', formData).pipe();\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport {environment} from '@env/environment';\r\nimport {HttpClient} from '@angular/common/http';\r\nimport {MatDialog} from '@angular/material/dialog';\r\nimport {Observable} from 'rxjs';\r\nimport {map} from 'rxjs/operators';\r\nimport {QuerySearch} from '@shared/models/other';\r\nimport {Expense, ExpensePaginated} from '../models/expense';\r\nimport {CreateEditExpenseComponent} from '../modals/create-edit-expense/create-edit-expense.component';\r\nimport {CreateUpdateExpenseComponent} from '../modals/create-update-expense/create-update-expense.component';\r\nimport {VehiclePaginated} from '../models/vehicle';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ExpenseService {\r\n  API_URL = environment.base_url + environment.business_trips_url;\r\n  readonly url = 'expenses/';\r\n\r\n  constructor(private httpClient: HttpClient, public dialog: MatDialog) {}\r\n\r\n  get(query?: QuerySearch[]): Observable<Expense[]> {\r\n    let qString = '';\r\n    if (query) {\r\n      query.forEach((element, index) => {\r\n        if (index > 0) {\r\n          qString += '&' + element.name + '=' + element.value;\r\n        } else {\r\n          qString += '?' + element.name + '=' + element.value;\r\n        }\r\n      });\r\n    }\r\n    return this.httpClient\r\n      .get<{ data: Expense[] }>(this.API_URL + this.url + qString)\r\n      .pipe(\r\n        map((response) => {\r\n          return response.data;\r\n        })\r\n      );\r\n  }\r\n\r\n  getPaginated(query?: QuerySearch[]): Observable<ExpensePaginated> {\r\n    let qString = '';\r\n    if (query) {\r\n      query.forEach((element, index) => {\r\n        if (index > 0) {\r\n          qString += '&' + element.name + '=' + element.value;\r\n        } else {\r\n          qString += '?' + element.name + '=' + element.value;\r\n        }\r\n      });\r\n    }\r\n    return this.httpClient\r\n      .get<{ data: ExpensePaginated }>(this.API_URL + this.url + qString)\r\n      .pipe(\r\n        map((response) => {\r\n          return response.data;\r\n        })\r\n      );\r\n  }\r\n\r\n  getById(id): Observable<Expense> {\r\n    return this.httpClient\r\n      .get<{ data: Expense }>(this.API_URL + this.url + id + '/')\r\n      .pipe(\r\n        map((response) => {\r\n          return response.data;\r\n        })\r\n      );\r\n  }\r\n\r\n  create(entity) {\r\n    return this.httpClient\r\n      .post<{ data: Expense }>(this.API_URL + this.url, entity)\r\n      .pipe(\r\n        map((response) => {\r\n          return response.data;\r\n        })\r\n      );\r\n  }\r\n\r\n  update(id, entity: Expense) {\r\n    return this.httpClient.patch(this.API_URL + this.url + id + '/', entity);\r\n  }\r\n\r\n  delete(entity: Expense) {\r\n    return this.httpClient.delete(this.API_URL + this.url + entity.id + '/');\r\n  }\r\n\r\n  createChangeExpanseItem(entity = null, canVerify = false) {\r\n    return this.dialog\r\n      .open<CreateEditExpenseComponent>(CreateEditExpenseComponent, {\r\n        width: '800px',\r\n        data: {type: entity ? 'edit' : 'add', entity, canVerify },\r\n        disableClose: true,\r\n        panelClass: 'modal-overflow-visible',\r\n      })\r\n      .afterClosed()\r\n      .pipe();\r\n  }\r\n\r\n  createChangeExpense(entity: Expense = null) {\r\n    return this.dialog\r\n      .open<CreateUpdateExpenseComponent>(CreateUpdateExpenseComponent, {\r\n        width: '800px',\r\n        data: {type: entity ? 'edit' : 'add', entity},\r\n        disableClose: true,\r\n      })\r\n      .afterClosed()\r\n      .pipe();\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport {environment} from '@env/environment';\r\nimport {HttpClient} from '@angular/common/http';\r\nimport {MatDialog} from '@angular/material/dialog';\r\nimport {Observable} from 'rxjs';\r\nimport {BusinessTripLocation} from '../models/business-trip-location';\r\nimport {map} from 'rxjs/operators';\r\nimport {BusinessTripLocationMeeting} from '../models/business-trip-location-meeting';\r\nimport {Vehicle} from '../models/vehicle';\r\nimport {QuerySearch} from '@shared/models/other';\r\nimport {BusinessTripPaginated} from '../models/business-trip';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class LocationMeetingService {\r\n  API_URL = environment.base_url + environment.business_trips_url;\r\n  readonly url = 'business-trips-locations-meetings/';\r\n  constructor(\r\n    private httpClient: HttpClient, public dialog: MatDialog,\r\n  ) { }\r\n\r\n  get(query?: QuerySearch[]): Observable<BusinessTripLocationMeeting[]> {\r\n    let qString = '';\r\n    if (query) {\r\n      query.forEach((element, index) => {\r\n        if (index > 0) {\r\n          qString += '&' + element.name + '=' + element.value;\r\n        } else {\r\n          qString += '?' + element.name + '=' + element.value;\r\n        }\r\n      });\r\n    }\r\n    return this.httpClient\r\n      .get<{ data: BusinessTripLocationMeeting[] }>(this.API_URL + this.url + qString)\r\n      .pipe(\r\n        map((response) => {\r\n          return response.data;\r\n        })\r\n      );\r\n  }\r\n\r\n  create(entity): Observable<BusinessTripLocationMeeting> {\r\n    return this.httpClient\r\n      .post<{ data: BusinessTripLocationMeeting }>(this.API_URL + this.url, entity)\r\n      .pipe(\r\n        map((response) => {\r\n          return response.data;\r\n        })\r\n      );\r\n  }\r\n\r\n  update(id, entity) {\r\n    return this.httpClient.patch<{ data: BusinessTripLocationMeeting }>(this.API_URL + this.url + id + '/', entity);\r\n  }\r\n\r\n  delete(entity: BusinessTripLocationMeeting) {\r\n    return this.httpClient.delete(this.API_URL + this.url + entity.id + '/');\r\n  }\r\n}\r\n","import {Injectable} from '@angular/core';\r\nimport {environment} from '@env/environment';\r\nimport {HttpClient} from '@angular/common/http';\r\nimport {MatDialog} from '@angular/material/dialog';\r\nimport {Observable} from 'rxjs';\r\nimport {map} from 'rxjs/operators';\r\nimport {Vehicle, VehiclePaginated} from '../models/vehicle';\r\nimport {QuerySearch} from '@shared/models/other';\r\nimport {CreateUpdateVehicleComponent} from '../modals/create-update-vehicle/create-update-vehicle.component';\r\nimport {BusinessTripPaginated} from '../models/business-trip';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class VehicleService {\r\n  API_URL = environment.base_url + environment.business_trips_url;\r\n  readonly url = 'vehicles/';\r\n\r\n  constructor(private httpClient: HttpClient, public dialog: MatDialog) {}\r\n\r\n  get(query?: QuerySearch[]): Observable<Vehicle[]> {\r\n    let qString = '';\r\n    if (query) {\r\n      query.forEach((element, index) => {\r\n        if (index > 0) {\r\n          qString += '&' + element.name + '=' + element.value;\r\n        } else {\r\n          qString += '?' + element.name + '=' + element.value;\r\n        }\r\n      });\r\n    }\r\n    return this.httpClient\r\n      .get<{ data: Vehicle[] }>(this.API_URL + this.url + qString)\r\n      .pipe(\r\n        map((response) => {\r\n          return response.data;\r\n        })\r\n      );\r\n  }\r\n\r\n  getPaginated(query?: QuerySearch[]): Observable<VehiclePaginated> {\r\n    let qString = '';\r\n    if (query) {\r\n      query.forEach((element, index) => {\r\n        if (index > 0) {\r\n          qString += '&' + element.name + '=' + element.value;\r\n        } else {\r\n          qString += '?' + element.name + '=' + element.value;\r\n        }\r\n      });\r\n    }\r\n    return this.httpClient\r\n      .get<{ data: VehiclePaginated }>(this.API_URL + this.url + qString)\r\n      .pipe(\r\n        map((response) => {\r\n          return response.data;\r\n        })\r\n      );\r\n  }\r\n\r\n  getById(id): Observable<Vehicle> {\r\n    return this.httpClient.get<{ data: Vehicle }>(this.API_URL + this.url + id + '/').pipe(map(response => {\r\n      return response.data;\r\n    }));\r\n  }\r\n\r\n  create(entity) {\r\n    return this.httpClient\r\n      .post<{ data: Vehicle }>(this.API_URL + this.url, entity)\r\n      .pipe(\r\n        map((response) => {\r\n          return response.data;\r\n        })\r\n      );\r\n  }\r\n\r\n  update(id, entity: Vehicle) {\r\n    return this.httpClient.patch(this.API_URL + this.url + id + '/', entity);\r\n  }\r\n\r\n  delete(entity: Vehicle) {\r\n    return this.httpClient.delete(this.API_URL + this.url + entity.id + '/');\r\n  }\r\n\r\n  createChangeVehicle(entity: Vehicle = null) {\r\n    return this.dialog\r\n      .open<CreateUpdateVehicleComponent>(CreateUpdateVehicleComponent, {\r\n        width: '800px',\r\n        data: {type: entity ? 'edit' : 'add', entity},\r\n        disableClose: false,\r\n      })\r\n      .afterClosed()\r\n      .pipe();\r\n  }\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.cloneArrayBuffer = void 0;\r\n/**\r\n * Creates a clone of `arrayBuffer`.\r\n *\r\n * @private\r\n * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\r\n * @returns {ArrayBuffer} Returns the cloned array buffer.\r\n */\r\nfunction cloneArrayBuffer(arrayBuffer) {\r\n    var result = new ArrayBuffer(arrayBuffer.byteLength);\r\n    new Uint8Array(result).set(new Uint8Array(arrayBuffer));\r\n    return result;\r\n}\r\nexports.cloneArrayBuffer = cloneArrayBuffer;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.cloneDataView = void 0;\r\nvar cloneArrayBuffer_1 = require(\"./cloneArrayBuffer\");\r\n/**\r\n * Creates a clone of `dataView`.\r\n *\r\n * @private\r\n * @param {Object} dataView The data view to clone.\r\n * @returns {Object} Returns the cloned data view.\r\n */\r\nfunction cloneDataView(dataView) {\r\n    var buffer = (0, cloneArrayBuffer_1.cloneArrayBuffer)(dataView.buffer);\r\n    return new DataView(buffer, dataView.byteOffset, dataView.byteLength);\r\n}\r\nexports.cloneDataView = cloneDataView;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.cloneDate = void 0;\r\n/**\r\n * Creates a clone of `date`.\r\n *\r\n * @private\r\n * @param {Date} typedDate The date to clone.\r\n * @returns {Object} Returns the cloned date.\r\n */\r\nfunction cloneDate(targetDate) {\r\n    return new Date(targetDate.getTime());\r\n}\r\nexports.cloneDate = cloneDate;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.cloneMap = void 0;\r\nvar deepCopy_1 = require(\"./deepCopy\");\r\n/**\r\n * Creates a clone of `map`.\r\n *\r\n * @private\r\n * @param {Date} typedDate The map to clone.\r\n * @returns {Object} Returns the cloned map.\r\n */\r\nfunction cloneMap(targetMap) {\r\n    var map = new Map();\r\n    targetMap.forEach(function (value, key) { return map.set((0, deepCopy_1.deepCopy)(key), (0, deepCopy_1.deepCopy)(value)); });\r\n    return map;\r\n}\r\nexports.cloneMap = cloneMap;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.cloneRegExp = void 0;\r\n/**\r\n * Creates a clone of `regexp`.\r\n *\r\n * @private\r\n * @param {Object} targetRegexp The regexp to clone.\r\n * @returns {Object} Returns the cloned regexp.\r\n */\r\nfunction cloneRegExp(targetRegexp) {\r\n    var result = new RegExp(targetRegexp.source, targetRegexp.flags);\r\n    result.lastIndex = targetRegexp.lastIndex;\r\n    return result;\r\n}\r\nexports.cloneRegExp = cloneRegExp;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.cloneTypedArray = void 0;\r\nvar cloneArrayBuffer_1 = require(\"./cloneArrayBuffer\");\r\nvar TypedArrayMap = {\r\n    \"[object Float32Array]\": Float32Array,\r\n    \"[object Float64Array]\": Float64Array,\r\n    \"[object Int8Array]\": Int8Array,\r\n    \"[object Int16Array]\": Int16Array,\r\n    \"[object Int32Array]\": Int32Array,\r\n    \"[object Uint8Array]\": Uint8Array,\r\n    \"[object Uint16Array]\": Uint16Array,\r\n    \"[object Uint32Array]\": Uint32Array,\r\n    \"[object Uint8ClampedArray]\": Uint8ClampedArray\r\n};\r\n/**\r\n * Creates a clone of `typedArray`.\r\n *\r\n * @private\r\n * @param {Object} typedArray The typed array to clone.\r\n * @returns {Object} Returns the cloned typed array.\r\n */\r\nfunction cloneTypedArray(typedArray) {\r\n    try {\r\n        TypedArrayMap[\"[object BigInt64Array]\"] = BigInt64Array;\r\n        TypedArrayMap[\"[object BigUint64Array]\"] = BigUint64Array;\r\n    }\r\n    catch (e) { }\r\n    var buffer = (0, cloneArrayBuffer_1.cloneArrayBuffer)(typedArray.buffer);\r\n    return new TypedArrayMap[Object.prototype.toString.call(typedArray)](buffer, typedArray.byteOffset, typedArray.length);\r\n}\r\nexports.cloneTypedArray = cloneTypedArray;\r\n","\"use strict\";\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.deepCopy = void 0;\r\nvar cloneArrayBuffer_1 = require(\"./cloneArrayBuffer\");\r\nvar cloneDataView_1 = require(\"./cloneDataView\");\r\nvar cloneDate_1 = require(\"./cloneDate\");\r\nvar cloneMap_1 = require(\"./cloneMap\");\r\nvar cloneRegexp_1 = require(\"./cloneRegexp\");\r\nvar cloneTypedArray_1 = require(\"./cloneTypedArray\");\r\nvar TypedArrayMap = {\r\n    \"[object Date]\": cloneDate_1.cloneDate,\r\n    \"[object ArrayBuffer]\": cloneArrayBuffer_1.cloneArrayBuffer,\r\n    \"[object DataView]\": cloneDataView_1.cloneDataView,\r\n    \"[object Float32Array]\": cloneTypedArray_1.cloneTypedArray,\r\n    \"[object Float64Array]\": cloneTypedArray_1.cloneTypedArray,\r\n    \"[object Int8Array]\": cloneTypedArray_1.cloneTypedArray,\r\n    \"[object Int16Array]\": cloneTypedArray_1.cloneTypedArray,\r\n    \"[object Int32Array]\": cloneTypedArray_1.cloneTypedArray,\r\n    \"[object Uint8Array]\": cloneTypedArray_1.cloneTypedArray,\r\n    \"[object Uint8ClampedArray]\": cloneTypedArray_1.cloneTypedArray,\r\n    \"[object Uint16Array]\": cloneTypedArray_1.cloneTypedArray,\r\n    \"[object Uint32Array]\": cloneTypedArray_1.cloneTypedArray,\r\n    \"[object BigInt64Array]\": cloneTypedArray_1.cloneTypedArray,\r\n    \"[object BigUint64Array]\": cloneTypedArray_1.cloneTypedArray,\r\n    \"[object RegExp]\": cloneRegexp_1.cloneRegExp,\r\n    \"[object Map]\": cloneMap_1.cloneMap,\r\n};\r\n/**\r\n * Deep copy function for TypeScript.\r\n * @param T Generic type of target/copied value.\r\n * @param target Target value to be copied.\r\n * @see Original source: ts-deepcopy https://github.com/ykdr2017/ts-deepcopy\r\n * @see Code pen https://codepen.io/erikvullings/pen/ejyBYg\r\n */\r\nfunction deepCopy(target) {\r\n    var tag = Object.prototype.toString.call(target);\r\n    if (TypedArrayMap[tag]) {\r\n        return TypedArrayMap[tag](target);\r\n    }\r\n    if (target === null) {\r\n        return target;\r\n    }\r\n    if (target instanceof Array) {\r\n        var cp_1 = [];\r\n        target.forEach(function (v) {\r\n            cp_1.push(v);\r\n        });\r\n        return cp_1.map(function (n) { return deepCopy(n); });\r\n    }\r\n    if (typeof target === \"object\") {\r\n        var cp_2 = __assign({}, target);\r\n        Object.keys(cp_2).forEach(function (k) {\r\n            cp_2[k] = deepCopy(cp_2[k]);\r\n        });\r\n        return cp_2;\r\n    }\r\n    return target;\r\n}\r\nexports.deepCopy = deepCopy;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.deepCopy = exports.cloneTypedArray = exports.cloneRegExp = exports.cloneDate = exports.cloneDataView = exports.cloneArrayBuffer = void 0;\r\nvar cloneArrayBuffer_1 = require(\"./cloneArrayBuffer\");\r\nObject.defineProperty(exports, \"cloneArrayBuffer\", { enumerable: true, get: function () { return cloneArrayBuffer_1.cloneArrayBuffer; } });\r\nvar cloneDataView_1 = require(\"./cloneDataView\");\r\nObject.defineProperty(exports, \"cloneDataView\", { enumerable: true, get: function () { return cloneDataView_1.cloneDataView; } });\r\nvar cloneDate_1 = require(\"./cloneDate\");\r\nObject.defineProperty(exports, \"cloneDate\", { enumerable: true, get: function () { return cloneDate_1.cloneDate; } });\r\nvar cloneRegexp_1 = require(\"./cloneRegexp\");\r\nObject.defineProperty(exports, \"cloneRegExp\", { enumerable: true, get: function () { return cloneRegexp_1.cloneRegExp; } });\r\nvar cloneTypedArray_1 = require(\"./cloneTypedArray\");\r\nObject.defineProperty(exports, \"cloneTypedArray\", { enumerable: true, get: function () { return cloneTypedArray_1.cloneTypedArray; } });\r\nvar deepCopy_1 = require(\"./deepCopy\");\r\nObject.defineProperty(exports, \"deepCopy\", { enumerable: true, get: function () { return deepCopy_1.deepCopy; } });\r\n"],"names":["Object","defineProperty","exports","value","cloneArrayBuffer","arrayBuffer","result","ArrayBuffer","byteLength","Uint8Array","set","cloneDataView","cloneArrayBuffer_1","require","dataView","buffer","DataView","byteOffset","cloneDate","targetDate","Date","getTime","cloneMap","deepCopy_1","targetMap","map","Map","forEach","key","deepCopy","cloneRegExp","targetRegexp","RegExp","source","flags","lastIndex","cloneTypedArray","TypedArrayMap","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint16Array","Uint32Array","Uint8ClampedArray","typedArray","BigInt64Array","BigUint64Array","e","prototype","toString","call","length","__assign","assign","t","s","i","n","arguments","p","hasOwnProperty","apply","cloneDataView_1","cloneDate_1","cloneMap_1","cloneRegexp_1","cloneTypedArray_1","target","tag","Array","cp_1","v","push","cp_2","keys","k","enumerable","get"],"sourceRoot":"webpack:///","x_google_ignoreList":[44,45,46,47,48,49,50,51]}