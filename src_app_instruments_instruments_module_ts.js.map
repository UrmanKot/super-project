{"version":3,"file":"src_app_instruments_instruments_module_ts.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAGoC;AACI;;;;;;;;;;;;;;;;ICmBhC,mEAA+D;;;IAqB3D,mEAA+D;;;IAgBjE,2EAAU;IACR,qEAA2B;IAC7B,4DAAW;;;IAGX,qEAAI;IACyC,4DAAC;IAAA,4DAAK;IACjD,yEAAuB;IAAA,+DAAI;IAAA,4DAAK;IAChC,yEAAuB;IAAA,sEAAW;IAAA,4DAAK;;;IAIzC,yEAA4B;IACJ,uDAAW;IAAA,4DAAK;IACtC,yEAAuB;IAAA,uDAAa;IAAA,4DAAK;IACzC,yEAAuB;IAAA,uDAAoB;IAAA,4DAAK;;;;IAH9C,oFAAuB;IACH,0DAAW;IAAX,0EAAW;IACV,0DAAa;IAAb,8EAAa;IACb,0DAAoB;IAApB,qFAAoB;;;IAMzC,mEAAkF;;;IAClF,uEAAyB;IAAA,2EAAgB;IAAA,4DAAO;;;IAHpD,qEAAI;IAEA,yHAAkF;IAClF,+HAAgD;IAClD,4DAAK;;;IAHuB,0DAAkB;IAAlB,uEAAkB;IACxC,0DAAe;IAAf,kFAAe;IACZ,0DAAgB;IAAhB,mFAAgB;;;;IAMjC,0EAAqF;IAKjF,2TAAgB,kFAAgB,KAAC;IACnC,4DAAc;IACd,+EAKC;IADC,oSAAS,6EAAW,KAAC;IAErB,gEACF;IAAA,4DAAW;;;IAdW,6FAAkC;IAGtD,0DAAW;IAAX,oEAAW;;;;IAaf,0EAA2D;IAGvD,oSAAS,iFAAe,KAAC;IAGzB,8EACF;IAAA,4DAAW;;;IAMf,0EAA4B;IAC1B,2EAA4F;IAC9F,4DAAM;;;IAD2C,0DAAgC;IAAhC,4FAAgC;IAApD,oFAAmB;;ADpG3C,MAAM,iBAAiB;IAsC5B,YACU,YAA0B,EAC1B,yBAA0D,EAC1D,EAAe,EACf,YAA0B,EAC1B,MAAc,EACd,cAA8B;QAL9B,iBAAY,GAAZ,YAAY,CAAc;QAC1B,8BAAyB,GAAzB,yBAAyB,CAAiC;QAC1D,OAAE,GAAF,EAAE,CAAa;QACf,iBAAY,GAAZ,YAAY,CAAc;QAC1B,WAAM,GAAN,MAAM,CAAQ;QACd,mBAAc,GAAd,cAAc,CAAgB;QAxCxC,cAAS,GAAG,IAAI,CAAC;QACT,aAAQ,GAAG,IAAI,yCAAO,EAAE,CAAC;QAEjC,mBAAc,GAAG,KAAK,CAAC;QAEvB,eAAU,GAAc,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC;YACpC,IAAI,EAAE,CAAC,CAAC,CAAC;SACV,CAAC,CAAC;QAEH,cAAS,GAAe,CAAC;gBACvB,KAAK,EAAE,kBAAkB;gBACzB,KAAK,EAAE;oBACL;wBACE,KAAK,EAAE,UAAU;wBACjB,IAAI,EAAE,YAAY;wBAClB,OAAO,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,YAAY,EAAE;qBACnC;oBACD;wBACE,KAAK,EAAE,MAAM;wBACb,IAAI,EAAE,cAAc;wBACpB,OAAO,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,QAAQ,EAAE;qBAC/B;oBACD;wBACE,KAAK,EAAE,QAAQ;wBACf,IAAI,EAAE,aAAa;wBACnB,OAAO,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,UAAU,EAAE;qBACjC;iBACF;aACF,CAAC,CAAC;QAEH,UAAK,GAAkB;YACrB,EAAC,IAAI,EAAE,WAAW,EAAE,KAAK,EAAE,IAAI,EAAC;YAChC,EAAC,IAAI,EAAE,MAAM,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,KAAK,EAAC;SACzD,CAAC;IAQE,CAAC;IAEL,QAAQ;QACN,IAAI,CAAC,MAAM,EAAE,CAAC;IAChB,CAAC;IAED,QAAQ;QACN,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;QACzB,IAAI,CAAC,YAAY,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,oDAAI,CAAC,CAAC,CAAC,EAAE,+CAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE;YAC9E,IAAI,CAAC,KAAK,GAAG,GAAG,CAAC;YACjB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;QACzB,CAAC,CAAC,CAAC;IACL,CAAC;IAED,YAAY;QACV,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;QAEhB,IAAI,CAAC,KAAK,GAAG;YACX,EAAC,IAAI,EAAE,MAAM,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,KAAK,EAAC;YACxD,EAAC,IAAI,EAAE,WAAW,EAAE,KAAK,EAAE,IAAI,EAAC;SACjC,CAAC;IACJ,CAAC;IAID,WAAW;QACT,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACzB,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC;IAC3B,CAAC;IAED,MAAM;QACJ,IAAI,CAAC,YAAY,EAAE,CAAC;QACpB,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE;YACnB,IAAI,CAAC,YAAY,EAAE,CAAC;SACrB;aAAM;YACL,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;YAC1C,IAAI,CAAC,MAAM,EAAE,CAAC;SACf;IACH,CAAC;IAED,MAAM;QACJ,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;QACzB,IAAI,CAAC,YAAY,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,oDAAI,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,+CAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE;YACnF,IAAI,CAAC,KAAK,GAAG,GAAG,CAAC;YACjB,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;YACzB,IAAI,IAAI,CAAC,cAAc,EAAE;gBACvB,IAAI,CAAC,SAAS,EAAE,UAAU,CAAC,CAAC,CAAC,CAAC;gBAC9B,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;aACxB;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,YAAY;QACV,IAAI,CAAC,YAAY;aACd,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC;aACzB,IAAI,CAAC,oDAAI,CAAC,CAAC,CAAC,EAAE,+CAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;aACvC,SAAS,CAAC,CAAC,GAAG,EAAE,EAAE;YACjB,IAAI,CAAC,KAAK,GAAG,GAAG,CAAC,KAAK,CAAC;YACvB,IAAI,CAAC,KAAK,GAAG,GAAG,CAAC,OAAO,CAAC;YACzB,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;QAC3B,CAAC,CAAC,CAAC;IACP,CAAC;IAED,QAAQ,CAAC,GAAQ;QACf,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE;YACxB,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,UAAU,CAAC,GAAG,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC;YACrD,IAAI,CAAC,MAAM,EAAE,CAAC;SACf;IACH,CAAC;IAED,SAAS;QACP,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;QACtB,IAAI,CAAC,MAAM,EAAE,CAAC;IAChB,CAAC;IAED,aAAa;QACX,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;QACvB,IAAI,CAAC,MAAM,EAAE,CAAC;IAChB,CAAC;IAEO,QAAQ;QACd,IAAI,CAAC,yBAAyB,CAAC,mBAAmB,CAAC,MAAM,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC,IAAI,CAAC,+CAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE;YAC3H,IAAI,CAAC,MAAM,EAAE,CAAC;QAChB,CAAC,CAAC,CAAC;IACL,CAAC;IAEO,UAAU;QAChB,IAAI,CAAC,YAAY;aACd,OAAO,CAAC,QAAQ,EAAE,SAAS,CAAC;aAC5B,IAAI,CAAC,oDAAI,CAAC,CAAC,CAAC,EAAE,+CAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;aACvC,SAAS,CAAC,CAAC,OAAO,EAAE,EAAE;YACrB,IAAI,OAAO,EAAE;gBACX,IAAI,CAAC,YAAY;qBACd,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC;qBACzB,IAAI,CAAC,oDAAI,CAAC,CAAC,CAAC,EAAE,+CAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;qBACvC,SAAS,CAAC,CAAC,GAAG,EAAE,EAAE;oBACjB,IAAI,CAAC,MAAM,EAAE,CAAC;gBAChB,CAAC,CAAC,CAAC;aACN;QACH,CAAC,CAAC,CAAC;IACP,CAAC;IAED,UAAU;QACR,IAAI,CAAC,yBAAyB,CAAC,mBAAmB,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,+CAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE;YAC1G,IAAI,CAAC,MAAM,EAAE,CAAC;QAChB,CAAC,CAAC,CAAC;IACL,CAAC;IAEO,YAAY;QAClB,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,UAAU,EAAE,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,EAAE,EAAC,UAAU,EAAE,IAAI,CAAC,cAAc,EAAC,CAAC;IAC7F,CAAC;;kFA3JU,iBAAiB;+GAAjB,iBAAiB;;;;;;QClB9B,yEAAkB;QAGZ,gFAA8E;QAC9E,qEAAI;QAAA,gEAAK;QAAA,4DAAK;QAEhB,yEAAyB;QAMrB,yIAAS,gBAAY,IAAC;QACxB,4DAAS;QAMf,yEAA2B;QAInB,kIAA+D;QACjE,4DAAM;QAEN,4EAGC;QAEG,sEACM;QAWN,2EAAmB;QACjB,kIAA+D;QACjE,4DAAM;QAIZ,2EAAyB;QAOrB,kMAA4B;QAG5B,gIAIc;QACd,gIAMc;QACd,gIAMc;QACd,gIAOc;QAChB,4DAAU;QAEZ,gHAeM;QACN,gHAQM;QACR,4DAAM;QAGR,4MAIc;;;QArHS,0DAAwB;QAAxB,iFAAwB;QAoBxB,0DAA+B;QAA/B,iFAA+B;QAI9C,0DAAwB;QAAxB,qFAAwB;QAiBL,0DAA+B;QAA/B,iFAA+B;QAUlD,0DAAmB;QAAnB,4EAAmB;QAkCjB,0DAAgB;QAAhB,gFAAgB;QAgBhB,0DAAe;QAAf,+EAAe;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnGgB;AACD;;;;;;;;;;;;;;ICFb,wEAAiC;IAAA,uDAAmB;IAAA,qEAAe;;;IAAlC,0DAAmB;IAAnB,uFAAmB;;;IAmBvE,mEAA+D;;;IAoB3D,mEAA+D;;;IAiBjE,2EAAU;IACR,qEAA2B;IAC7B,4DAAW;;;IAGX,qEAAI;IACyC,4DAAC;IAAA,4DAAK;IACjD,yEAAuB;IAAA,+DAAI;IAAA,4DAAK;IAChC,yEAAuB;IAAA,sEAAW;IAAA,4DAAK;;;IAIzC,yEAA+B;IACP,uDAAW;IAAA,4DAAK;IACtC,yEAAuB;IAAA,uDAAgB;IAAA,4DAAK;IAC5C,yEAAuB;IAAA,uDAAuB;IAAA,4DAAK;;;;IAHjD,uFAA0B;IACN,0DAAW;IAAX,0EAAW;IACV,0DAAgB;IAAhB,iFAAgB;IAChB,0DAAuB;IAAvB,wFAAuB;;;IAIhD,qEAAI;IAEM,2EAAgB;IAAA,4DAAO;;IADH,0DAAkB;IAAlB,uEAAkB;;;IAmBxD,0EAA4B;IAC1B,2EAA4F;IAC9F,4DAAM;;;IAD2C,0DAAgC;IAAhC,2FAAgC;IAApD,mFAAmB;;ADpF3C,MAAM,qBAAqB;IAuBhC,YACU,KAAqB,EACrB,cAAmC,EACnC,YAA0B,EAC1B,YAA0B,EAC1B,yBAA0D;QAJ1D,UAAK,GAAL,KAAK,CAAgB;QACrB,mBAAc,GAAd,cAAc,CAAqB;QACnC,iBAAY,GAAZ,YAAY,CAAc;QAC1B,iBAAY,GAAZ,YAAY,CAAc;QAC1B,8BAAyB,GAAzB,yBAAyB,CAAiC;QAxBpE,YAAO,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,QAAQ,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;QAC7C,aAAQ,GAAG,IAAI,yCAAO,EAAE,CAAC;QAGjC,cAAS,GAAe,CAAC;gBACvB,KAAK,EAAE,uBAAuB;gBAC9B,KAAK,EAAE;oBACL;wBACE,KAAK,EAAE,MAAM;wBACb,IAAI,EAAE,cAAc;wBACpB,OAAO,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,IAAI,EAAE;qBAC3B;oBACD;wBACE,KAAK,EAAE,QAAQ;wBACf,IAAI,EAAE,aAAa;wBACnB,OAAO,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,MAAM,EAAE;qBAC7B;iBACF;aACF,CAAC,CAAC;QAQD,IAAI,CAAC,MAAM,EAAE,CAAC;QACd,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,oDAAI,CAAC,CAAC,CAAC,EAAE,mDAAG,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,UAAU,GAAG,GAAG,CAAC,EAAE,+CAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,SAAS,EAAE,CAAC;IACjI,CAAC;IAED,QAAQ;IACR,CAAC;IAED,MAAM;QACJ,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;QACzB,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,KAAK,EAAE,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,oDAAI,CAAC,CAAC,CAAC,EAAE,+CAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE;YACvH,IAAI,CAAC,QAAQ,GAAG,GAAG,CAAC;QACtB,CAAC,CAAC,CAAC;IACL,CAAC;IAED,MAAM;QACJ,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC,IAAI,CAAC,oDAAI,CAAC,CAAC,CAAC,EAAE,+CAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,SAAS,CAAC,OAAO,CAAC,EAAE;YACzG,IAAI,OAAO,EAAE;gBACX,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,IAAI,CAAC,oDAAI,CAAC,CAAC,CAAC,EAAE,+CAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE;oBACpG,IAAI,CAAC,MAAM,EAAE,CAAC;gBAChB,CAAC,CAAC;aACH;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,IAAI;QACF,IAAI,CAAC,yBAAyB,CAAC,0BAA0B,CAAC,MAAM,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC,IAAI,CAAC,+CAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,SAAS,CAAC,GAAG,EAAE;YACjI,IAAI,CAAC,MAAM,EAAE,CAAC;QAChB,CAAC,CAAC,CAAC;IACL,CAAC;IAED,WAAW;QACT,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACzB,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC;IAC3B,CAAC;IAED,iBAAiB;QACf,IAAI,CAAC,yBAAyB,CAAC,0BAA0B,CAAC,QAAQ,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,+CAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,SAAS,CAAC,GAAG,EAAE;YAC1I,IAAI,CAAC,MAAM,EAAE,CAAC;QAChB,CAAC,CAAC,CAAC;IACL,CAAC;;0FArEU,qBAAqB;mHAArB,qBAAqB;QChBlC,yEAAkB;QAGZ,gFAA8E;QAC9E,qEAAI;QAAA,2EAAiB;QAAA,mIAAmE;QAAA,4DAAC;QAAA,4DAAK;QAEhG,yEAAyB;QAMrB,6IAAS,uBAAmB,IAAC;QAC/B,4DAAS;QAMf,0EAA2B;QAInB,sIAA+D;QACjE,4DAAM;QAEN,2EAEC;QAEG,sEACM;QAWN,2EAAmB;QACjB,sIAA+D;QACjE,4DAAM;QAIZ,2EAAyB;QAQrB,sMAA4B;QAG5B,oIAIc;QACd,oIAMc;QACd,oIAMc;QACd,oIAMc;QAChB,4DAAU;QAahB,gNAIc;;;QAnGS,0DAAwB;QAAxB,iFAAwB;QACL,0DAAgB;QAAhB,gFAAgB;QAmBnC,0DAA+B;QAA/B,iFAA+B;QAoB3B,2DAA+B;QAA/B,iFAA+B;QAUlD,0DAAmB;QAAnB,4EAAmB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC9CwB;AAEN;AACS;;;;;;;;;;;;;;;;;;;;;ICJlD,0EAA2E;IAQrE,gTAAS,iFAAe,KAAC;IAE3B,4DAAS;IACT,6EAMC;IADC,gTAAS,8EAAY,KAAC;IAExB,4DAAS;IACT,6EAMC;IADC,gTAAS,4EAAU,KAAC;IAEtB,4DAAS;;;IAnBP,0DAAuC;IAAvC,uGAAuC;;;IA2GjC,qEAAI;IACqD,4DAAC;IAAA,4DAAK;IAC7D,yEAAuB;IAAA,+DAAI;IAAA,4DAAK;IAChC,yEAAuB;IAAA,+DAAI;IAAA,4DAAK;IAChC,yEAA2C;IAAA,mEAAQ;IAAA,4DAAK;IACxD,yEAA0C;IAAA,+DAAG;IAAA,4DAAK;IAClD,0EAA2C;IAAA,oEAAQ;IAAA,4DAAK;IACxD,0EAA2C;IAAA,gEAAI;IAAA,4DAAK;IACpD,0EAA2C;IAAA,mEAAO;IAAA,4DAAK;;;IAYrD,oEAAuD;IAAA,8DAAG;IAAA,4DAAI;;;IAC9D,oEAAwD;IAAA,8DAAG;IAAA,4DAAI;;;IAQzD,wEACmB;IAAA,uDACnB;IAAA,4DAAI;;;;IAFmC,6LAA2D;IAC/E,0DACnB;IADmB,6FACnB;;;IACA,wEACmB;IAAA,uDACnB;IAAA,4DAAI;;;;IAFmC,wMAAsE;IAC1F,0DACnB;IADmB,6FACnB;;;IANF,sEAAiD;IAC/C,qJAEI;IACJ,qJAEI;IACN,4DAAM;;;IANA,0DAAiC;IAAjC,iGAAiC;IAGjC,0DAAiC;IAAjC,iGAAiC;;;IAT3C,2EAA4F;IACvF,iEAAM;IAAA,4DAAI;IAEb,0EAAyB;IACpB,4EAAiB;IAAA,4DAAI;IACxB,mJAOM;IACR,4DAAM;;;IARmB,0DAAwB;IAAxB,8FAAwB;;;IAgBjD,wEAAoD;IAClD,uDACF;IAAA,qEAAe;;;IADb,0DACF;IADE,qbACF;;;IACA,wEAAyD;IACvD,uDACF;IAAA,qEAAe;;;IADb,0DACF;IADE,mdACF;;;IANF,wEAA0F;IACxF,8KAEe;IACf,8KAEe;IACjB,qEAAe;;;IANE,0DAAmC;IAAnC,mGAAmC;IAGnC,0DAAwC;IAAxC,wGAAwC;;;IAKzD,uEAAoF;IACpF,gEACF;IAAA,4DAAO;;;IAOL,wEAA2C;IAAA,uDAAkC;IAAA,qEAAe;;;IAAjD,0DAAkC;IAAlC,mGAAkC;;;IAG7E,wEAA2C;IAAA,uDAA6B;IAAA,qEAAe;;;IAA5C,0DAA6B;IAA7B,8FAA6B;;;IApD5E,yEAAuD;IAEnD,uDACF;IAAA,4DAAK;IACL,yEAAuB;IACrB,uDACF;IAAA,4DAAK;IACL,yEAAsC;IACpC,wIAA8D;IAC9D,wIAA+D;IAC/D,uDACA;IAAA,8IAcO;IACT,4DAAK;IACL,0EAA2C;IACzC,wDACF;IAAA,4DAAK;IACL,0EAA0C;IACxC,gKAOe;IAEf,gJAEK;IACP,4DAAK;IACL,0EAA2C;IACzC,wDAEF;IAAA,4DAAK;IACL,sEAAI;IACF,gKAA4F;IAC9F,4DAAK;IACL,0EAA2C;IACzC,gKAAuF;IACzF,4DAAK;;;;;IArDH,uFAA0B;IAE1B,0DACF;IADE,sIACF;IAEE,0DACF;IADE,yGACF;IAEM,0DAAiD;IAAjD,iHAAiD;IACjD,0DAAkD;IAAlD,kHAAkD;IACtD,0DACA;IADA,yGACA;IAA2B,0DAA+D;IAA/D,mIAA+D;IAiB1F,0DACF;IADE,8GACF;IAEiB,0DAAyE;IAAzE,6IAAyE;IASjF,0DAA2E;IAA3E,+IAA2E;IAKlF,0DAEF;IAFE,+QAEF;IAEiB,0DAA0B;IAA1B,0FAA0B;IAG1B,0DAA0B;IAA1B,0FAA0B;;;IAOzC,mEAAkF;;;IAClF,uEAAyB;IAAA,2EAAgB;IAAA,4DAAO;;;IAHpD,qEAAI;IAEA,wIAAkF;IAClF,8IAAgD;IAClD,4DAAK;;;IAHuB,0DAAkB;IAAlB,uEAAkB;IACxC,0DAAe;IAAf,kFAAe;IACZ,0DAAgB;IAAhB,mFAAgB;;;IAK/B,0EAA8E;IAC5E,mEAAgE;IAClE,4DAAM;;;;IAER,0EAIC;IAKG,0UAAgB,kFAAgB,KAAC;IACnC,4DAAc;IACd,+EAKC;IAJC,mTAAS,6EAAW,KAAC;IAKrB,gEACF;IAAA,4DAAW;;;IAfX,iHAAsD;IAIpD,0DAAW;IAAX,oEAAW;;;;IAaf,0EAA2D;IAGvD,mTAAS,iFAAe,KAAC;IAGzB,8EACF;IAAA,4DAAW;;ADlNhB,MAAM,gCAAgC;IAmC3C,YACmB,EAAe,EACf,uBAAgD,EACzD,yBAA0D;QAFjD,OAAE,GAAF,EAAE,CAAa;QACf,4BAAuB,GAAvB,uBAAuB,CAAyB;QACzD,8BAAyB,GAAzB,yBAAyB,CAAiC;QAlCpE,SAAI,GAAG,kEAAoB,GAAG,OAAO,CAAC;QAEtC,eAAU,GAAc,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC;YACpC,IAAI,EAAE,CAAC,IAAI,CAAC;YACZ,IAAI,EAAE,CAAC,IAAI,CAAC;YACZ,WAAW,EAAE,CAAC,IAAI,CAAC;YACnB,IAAI,EAAE,CAAC,IAAI,CAAC;YACZ,QAAQ,EAAE,CAAC,IAAI,CAAC;YAChB,eAAe,EAAE,CAAC,IAAI,CAAC;YACvB,YAAY,EAAE,EAAC,KAAK,EAAE,IAAI,EAAE,QAAQ,EAAE,IAAI,EAAC;YAC3C,IAAI,EAAE,CAAC,IAAI,CAAC;YACZ,kBAAkB,EAAE,CAAC,IAAI,CAAC;YAC1B,IAAI,EAAE,CAAC,CAAC,CAAC;SACV,CAAC,CAAC;QAEH,UAAK,GAAkB;YACrB,EAAC,IAAI,EAAE,MAAM,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,KAAK,EAAC;YACxD,EAAC,IAAI,EAAE,WAAW,EAAE,KAAK,EAAE,IAAI,EAAC;YAChC,EAAC,IAAI,EAAE,SAAS,EAAE,KAAK,EAAE,KAAK,EAAC;SAChC,CAAC;QACF,sBAAiB,GAAG,UAAU,CAAC;QAC/B,kBAAa,GAAG,KAAK,CAAC;QACtB,cAAS,GAAG,KAAK,CAAC;QAClB,cAAS,GAAG,KAAK,CAAC;QAClB,mBAAc,GAAG,KAAK,CAAC;QACvB,oBAAe,GAAuB,EAAE,CAAC;QACzC,aAAQ,GAAG,kHAAkH,CAAC;QAC9H,aAAQ,GAAuB,EAAE,CAAC;QAElC,kBAAa,GAAW,CAAC,CAAC;QAClB,aAAQ,GAAG,IAAI,yCAAO,EAAE,CAAC;IAK7B,CAAC;IAEL,QAAQ;IACR,CAAC;IAED,eAAe;QACb,gDAAS,CAAC,IAAI,CAAC,aAAa,CAAC,aAAa,EAAE,OAAO,CAAC;aACjD,IAAI,CACH,oDAAG,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,EACtC,oDAAG,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC,KAAK,CAAC,EACjD,6DAAY,CAAC,GAAG,CAAC,CAClB,CAAC,SAAS,CAAC,GAAG,EAAE;YACjB,IAAI,CAAC,cAAc,EAAE,CAAC;QACxB,CAAC,CAAC,CAAC;QAEH,gDAAS,CAAC,IAAI,CAAC,aAAa,CAAC,aAAa,EAAE,OAAO,CAAC;aACjD,IAAI,CACH,oDAAG,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,EACtC,oDAAG,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC,KAAK,CAAC,EACjD,6DAAY,CAAC,GAAG,CAAC,CAClB,CAAC,SAAS,CAAC,GAAG,EAAE;YACjB,IAAI,CAAC,cAAc,EAAE,CAAC;QACxB,CAAC,CAAC,CAAC;IACL,CAAC;IAED,gBAAgB,CAAC,QAAkB;QACjC,IAAI,QAAQ,EAAE;YACZ,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,UAAU,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;SACzD;aAAM;YACL,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;SAClD;QAED,IAAI,CAAC,cAAc,EAAE,CAAC;IACxB,CAAC;IAED,cAAc;QACZ,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;QACtB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACzB,IAAI,CAAC,eAAe,GAAG,EAAE,CAAC;QAE1B,MAAM,WAAW,GAAG,QAAQ,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,KAAK,SAAS,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,KAAK,gBAAgB,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC,KAAK,SAAS,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,KAAK,uBAAuB,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC,KAAK,SAAS,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,KAAK,iBAAiB,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC,KAAK,aAAa,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,KAAK,EAAE,CAAC;QAExa,IAAI,WAAW,KAAK,IAAI,CAAC,QAAQ,EAAE;YACjC,IAAI,CAAC,QAAQ,GAAG,WAAW,CAAC;YAC5B,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;YAC1C,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;SAC5B;QAED,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;QAEhB,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE;YACnB,IAAI,CAAC,KAAK,GAAG;gBACX,EAAC,IAAI,EAAE,WAAW,EAAE,KAAK,EAAE,MAAM,EAAC;gBAClC,EAAC,IAAI,EAAE,MAAM,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,KAAK,EAAC;aACzD,CAAC;SACH;QAED,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,EAAC,IAAI,EAAE,SAAS,EAAE,KAAK,EAAE,IAAI,EAAC,CAAC,CAAC;QAEhD,IAAI,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,KAAK;YAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC;gBACrD,IAAI,EAAE,MAAM;gBACZ,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,EAAE,KAAK,CAAC;aAC/D,CAAC,CAAC;QAEH,IAAI,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,KAAK;YAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,EAAC,IAAI,EAAE,MAAM,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,KAAK,EAAC,CAAC,CAAC;QAEjH,IAAI,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC,KAAK;YAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC;gBAC5D,IAAI,EAAE,aAAa;gBACnB,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC,KAAK;aAChD,CAAC,CAAC;QAEH,IAAI,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,KAAK;YAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,EAAC,IAAI,EAAE,MAAM,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,KAAK,EAAC,CAAC,CAAC;QAEjH,IAAI,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,KAAK;YAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC;gBACrD,IAAI,EAAE,MAAM;gBACZ,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,KAAK;aACzC,CAAC,CAAC;QAEH,IAAI,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC,KAAK;YAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC;gBAC7D,IAAI,EAAE,cAAc;gBACpB,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC,KAAK;aACjD,CAAC,CAAC;QAEH,IAAI,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,KAAK;YAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC;gBACzD,IAAI,EAAE,UAAU;gBAChB,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,KAAK;aAC7C,CAAC,CAAC;QAEH,IAAI,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC,KAAK;YAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC;gBAChE,IAAI,EAAE,iBAAiB;gBACvB,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC,KAAK;aACpD,CAAC,CAAC;QAEH,IAAI,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC,KAAK,KAAK,IAAI;YAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC;gBAC5E,IAAI,EAAE,sBAAsB;gBAC5B,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC,KAAK;aACvD,CAAC,CAAC;QAEH,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE;YACnB,IAAI,CAAC,wBAAwB,EAAE,CAAC;SACjC;aAAM;YACL,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;YAC1C,IAAI,CAAC,WAAW,EAAE,CAAC;SACpB;IACH,CAAC;IAED,wBAAwB;QACtB,IAAI,CAAC,uBAAuB,CAAC,oBAAoB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,IAAI,CAChE,gDAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CACzB,CAAC,SAAS,CAAC,QAAQ,CAAC,EAAE;YACrB,QAAQ,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,OAAY,EAAE,GAAG,EAAE,EAAE;gBAC7C,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE;oBACzB,OAAO,CAAC,YAAY,GAAG;wBACrB,EAAE,EAAE,OAAO,CAAC,eAAe;wBAC3B,IAAI,EAAE,OAAO,CAAC,IAAI;wBAClB,IAAI,EAAE,OAAO,CAAC,IAAI;wBAClB,IAAI,EAAE,OAAO,CAAC,IAAI;wBAClB,QAAQ,EAAE,OAAO,CAAC,QAAQ;wBAC1B,WAAW,EAAE,OAAO,CAAC,WAAW;qBACjC,CAAC;iBACH;gBAED,OAAO,CAAC,oBAAoB,GAAG,KAAK,CAAC;gBACrC,OAAO,CAAC,GAAG,GAAG,GAAG,CAAC;YACpB,CAAC,CAAC,CAAC;YAEH,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC,OAAO,CAAC;YACjC,IAAI,CAAC,aAAa,GAAG,QAAQ,CAAC,KAAK,CAAC;YAEpC,IAAI,IAAI,CAAC,cAAc,EAAE;gBACvB,IAAI,CAAC,SAAS,EAAE,UAAU,CAAC,CAAC,CAAC,CAAC;aAC/B;YAED,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;YAE5B,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;QACzB,CAAC,CAAC,CAAC;IACL,CAAC;IAED,sBAAsB;QACpB,IAAI,CAAC,aAAa,GAAG,CAAC,IAAI,CAAC,aAAa,CAAC;QAEzC,IAAI,CAAC,oBAAoB,EAAE,CAAC;IAC9B,CAAC;IAED,oBAAoB;QAClB,IAAI,IAAI,CAAC,aAAa,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE;YACzC,IAAI,CAAC,iBAAiB,GAAG,WAAW,CAAC;YACrC,OAAO;SACR;QAED,IAAI,IAAI,CAAC,aAAa,IAAI,IAAI,CAAC,SAAS,EAAE;YACxC,IAAI,CAAC,iBAAiB,GAAG,UAAU,CAAC;YACpC,OAAO;SACR;QAED,IAAI,CAAC,IAAI,CAAC,aAAa,IAAI,IAAI,CAAC,SAAS,EAAE;YACzC,IAAI,CAAC,iBAAiB,GAAG,SAAS,CAAC;YACnC,OAAO;SACR;QAED,IAAI,CAAC,IAAI,CAAC,aAAa,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE;YAC1C,IAAI,CAAC,iBAAiB,GAAG,UAAU,CAAC;YACpC,OAAO;SACR;IACH,CAAC;IAED,gCAAgC,CAAC,GAAa;QAC5C,IAAI,GAAG,EAAE;YACP,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC,UAAU,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;SAClE;aAAM;YACL,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC;SACvD;QAED,IAAI,CAAC,cAAc,EAAE,CAAC;IACxB,CAAC;IAED,eAAe,CAAC,MAAc;QAC5B,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,MAAM;YAAE,KAAK,GAAG,MAAM,CAAC;QAC3B,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;QAC9C,IAAI,CAAC,cAAc,EAAE,CAAC;IACxB,CAAC;IAED,eAAe,CAAC,EAAU;QACxB,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC;QACnD,IAAI,CAAC,cAAc,EAAE,CAAC;IACxB,CAAC;IAED,WAAW;QACT,IAAI,CAAC,uBAAuB,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,IAAI,CACtD,gDAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CACzB,CAAC,SAAS,CAAC,QAAQ,CAAC,EAAE;YACrB,QAAQ,CAAC,OAAO,CAAC,CAAC,OAAY,EAAE,GAAG,EAAE,EAAE;gBACrC,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE;oBACzB,OAAO,CAAC,YAAY,GAAG;wBACrB,EAAE,EAAE,OAAO,CAAC,eAAe;wBAC3B,IAAI,EAAE,OAAO,CAAC,IAAI;wBAClB,IAAI,EAAE,OAAO,CAAC,IAAI;wBAClB,IAAI,EAAE,OAAO,CAAC,IAAI;wBAClB,QAAQ,EAAE,OAAO,CAAC,QAAQ;wBAC1B,WAAW,EAAE,OAAO,CAAC,WAAW;qBACjC,CAAC;iBACH;gBAED,OAAO,CAAC,oBAAoB,GAAG,KAAK,CAAC;gBACrC,OAAO,CAAC,GAAG,GAAG,GAAG,CAAC;YACpB,CAAC,CAAC,CAAC;YAEH,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;YACzB,IAAI,CAAC,aAAa,GAAG,QAAQ,CAAC,MAAM,CAAC;YAErC,IAAI,IAAI,CAAC,cAAc,EAAE;gBACvB,IAAI,CAAC,SAAS,EAAE,UAAU,CAAC,CAAC,CAAC,CAAC;aAC/B;YAED,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;YAC5B,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;QACzB,CAAC,CAAC,CAAC;IACL,CAAC;IAED,SAAS;QACP,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;QACtB,IAAI,CAAC,oBAAoB,EAAE,CAAC;QAC5B,IAAI,CAAC,cAAc,EAAE,CAAC;IACxB,CAAC;IAED,aAAa;QACX,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;QACvB,IAAI,CAAC,oBAAoB,EAAE,CAAC;QAC5B,IAAI,CAAC,cAAc,EAAE,CAAC;IACxB,CAAC;IAED,QAAQ,CAAC,GAAQ;QACf,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE;YACxB,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,UAAU,CAAC,GAAG,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC;YACrD,IAAI,CAAC,cAAc,EAAE,CAAC;SACvB;IACH,CAAC;IAED,UAAU;QACR,IAAI,CAAC,yBAAyB,CAAC,yBAAyB,CAAC,IAAI,CAAC,eAAe,EAAE,iBAAiB,CAAC,CAAC,SAAS,CAAC,GAAG,EAAE;YAC/G,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;YAC5B,IAAI,CAAC,cAAc,EAAE,CAAC;QACxB,CAAC,CAAC,CAAC;IACL,CAAC;IAED,QAAQ;QACN,IAAI,CAAC,yBAAyB,CAAC,yBAAyB,CAAC,IAAI,CAAC,eAAe,EAAE,UAAU,CAAC,CAAC,SAAS,CAAC,GAAG,EAAE;YACxG,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;YAC5B,IAAI,CAAC,cAAc,EAAE,CAAC;QACxB,CAAC,CAAC,CAAC;IACL,CAAC;IAED,WAAW;QACT,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACzB,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC;IAC3B,CAAC;IAED,aAAa;QACX,IAAI,CAAC,yBAAyB,CAAC,6BAA6B,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,QAAQ,CAAC,EAAE;YACzG,IAAI,QAAQ,EAAE;gBACZ,IAAI,CAAC,cAAc,EAAE,CAAC;aACvB;QACH,CAAC,CAAC,CAAC;IACL,CAAC;;gHAhTU,gCAAgC;8HAAhC,gCAAgC;;;;;;;;;;QClB7C,yEAAkB;QAGZ,gFAA8E;QAC9E,qEAAI;QAAA,gFAAqB;QAAA,4DAAK;QAEhC,4HA4BM;QACR,4DAAM;QAIR,yEAA2B;QAKW,yMAAoB,4BAAwB,IAAC;QAAC,4DAA6B;QAG3G,2EAAoC;QAG9B,sEAA8C;QAE9C,8EAKC;QADC,yJAAS,4BAAwB,IAAC;QACnC,4DAAS;QAEV,4EAGC;QAIc,gEAAI;QAAA,4DAAQ;QACnB,4EAA6E;QAC/E,4DAAM;QAER,2EAAmB;QAER,gEAAI;QAAA,4DAAQ;QACnB,4EAA6E;QAC/E,4DAAM;QAER,2EAAmB;QAIJ,gEAAI;QAAA,4DAAQ;QACnB,uFAA4E;QAAxC,oLAAe,2BAAuB,IAAC;QAAC,4DAAkB;QAGlG,2EAAmB;QAER,wEAAY;QAAA,4DAAQ;QAC3B,+FAIC;QADC,4LAAe,2BAAuB,IAAC;QACxC,4DAA0B;QAKnC,2EAAmB;QAER,sFAA0B;QAAA,4DAAQ;QACzC,6GAGC;QADC,kOAA2B,4CAAwC,IAAC;QACrE,4DAAwC;QAMnD,2EAAwC;QAQpC,oNAA+B;QAG/B,gJAWc;QACd,iJAwDc;QACd,+IAOc;QAChB,4DAAU;QACV,+HAEM;QACR,4DAAM;QACN,+HAmBM;QACN,+HAQM;QACR,4DAAM;;QAnOS,0DAAwB;QAAxB,iFAAwB;QAGjB,0DAA+C;QAA/C,mHAA+C;QA2CnC,0DAA+C;QAA/C,uGAA+C;QAK3E,0DAA2C;QAA3C,mGAA2C;QAM3C,0DAAwB;QAAxB,qFAAwB;QAqBG,2DAAkB;QAAlB,2EAAkB;QAOjC,0DAA4C;QAA5C,yGAA4C;QAYhD,0DAAiB;QAAjB,0EAAiB;QAYzB,0DAA0D;QAA1D,uHAA0D;QAqFC,0DAAe;QAAf,+EAAe;QAM3E,0DAAgB;QAAhB,gFAAgB;QAkBb,0DAAe;QAAf,+EAAe;;;;;;;;;;;;;;;;;;;;;;ACrNxB,MAAM,0BAA0B;IAQrC;QAPA,WAAM,GAAqB;YACzB,EAAC,KAAK,EAAE,uBAAuB,EAAE,QAAQ,EAAE,CAAC,uBAAuB,CAAC,EAAC;YACrE,EAAC,KAAK,EAAE,OAAO,EAAE,QAAQ,EAAE,CAAC,OAAO,CAAC,EAAC;YACrC,EAAC,KAAK,EAAE,cAAc,EAAE,QAAQ,EAAE,CAAC,cAAc,CAAC,EAAC;SACpD,CAAC;QAEF,mBAAc,GAAqB,EAAE;IACrB,CAAC;IAEjB,QAAQ;IACR,CAAC;;oGAXU,0BAA0B;wHAA1B,0BAA0B;QCRvC,2EAIc;;QAHZ,iFAAwB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACKe;AACD;;;;;;;;;;;;;;ICFhC,wEAAkC;IAAA,uDACU;IAAA,qEAAe;;;IADzB,0DACU;IADV,mNACU;;;IAoB5C,mEAA+D;;;IAoB3D,mEAA+D;;;IAiBjE,2EAAU;IACR,qEAA2B;IAC7B,4DAAW;;;IAGX,qEAAI;IACyC,4DAAC;IAAA,4DAAK;IACjD,yEAAuB;IAAA,+DAAI;IAAA,4DAAK;IAChC,yEAAuB;IAAA,+DAAI;IAAA,4DAAK;IAChC,yEAAuB;IAAA,6EAAkB;IAAA,4DAAK;;;IAIhD,yEAA+B;IACP,uDAAW;IAAA,4DAAK;IACtC,yEAAuB;IAAA,uDAA6B;IAAA,4DAAK;IACzD,yEAAuB;IAAA,uDAA6B;IAAA,4DAAK;IACzD,yEAAuB;IAAA,uDAA6B;IAAA,4DAAK;;;;IAJvD,uFAA0B;IACN,0DAAW;IAAX,0EAAW;IACV,0DAA6B;IAA7B,8FAA6B;IAC7B,0DAA6B;IAA7B,8FAA6B;IAC7B,0DAA6B;IAA7B,8FAA6B;;;IAItD,qEAAI;IAEM,2EAAgB;IAAA,4DAAO;;IADH,0DAAkB;IAAlB,uEAAkB;;;IAmBxD,0EAA4B;IAC1B,2EAA4F;IAC9F,4DAAM;;;IAD2C,0DAAgC;IAAhC,2FAAgC;IAApD,mFAAmB;;ADxF3C,MAAM,0BAA0B;IAsBrC,YACU,KAAqB,EACrB,kBAAsC,EACtC,gBAAkC,EAClC,yBAA0D,EAC1D,YAA0B;QAJ1B,UAAK,GAAL,KAAK,CAAgB;QACrB,uBAAkB,GAAlB,kBAAkB,CAAoB;QACtC,qBAAgB,GAAhB,gBAAgB,CAAkB;QAClC,8BAAyB,GAAzB,yBAAyB,CAAiC;QAC1D,iBAAY,GAAZ,YAAY,CAAc;QAzBpC,YAAO,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,QAAQ,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;QAG9C,aAAQ,GAAG,IAAI,yCAAO,EAAE,CAAC;QAEjC,cAAS,GAAe,CAAC;gBACvB,KAAK,EAAE,+BAA+B;gBACtC,KAAK,EAAE;oBACL;wBACE,KAAK,EAAE,MAAM;wBACb,IAAI,EAAE,cAAc;wBACpB,OAAO,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,IAAI,EAAE;qBAC3B;oBACD;wBACE,KAAK,EAAE,QAAQ;wBACf,IAAI,EAAE,aAAa;wBACnB,OAAO,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,MAAM,EAAE;qBAC7B;iBACF;aACF,CAAC,CAAC;IAOC,CAAC;IAEL,QAAQ;QACN,IAAI,CAAC,MAAM,EAAE,CAAC;QACd,IAAI,CAAC,eAAe,EAAE,CAAC;IACzB,CAAC;IAED,eAAe;QACb,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,IAAI,CAC/C,oDAAI,CAAC,CAAC,CAAC,EACP,mDAAG,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,WAAW,GAAG,GAAG,CAAC,EAClC,+CAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,SAAS,EAAE,CAAC;IAC1C,CAAC;IAED,GAAG;QACD,IAAI,CAAC,yBAAyB,CAAC,sCAAsC,CAAC,QAAQ,EAAE,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC,SAAS,CAAC,GAAG,EAAE;YAClH,IAAI,CAAC,MAAM,EAAE,CAAC;QAChB,CAAC,CAAC,CAAC;IACL,CAAC;IAED,MAAM;QACJ,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;QACzB,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,CAAC,EAAC,IAAI,EAAE,YAAY,EAAE,KAAK,EAAE,IAAI,CAAC,OAAO,EAAC,EAAE;gBACtE,IAAI,EAAE,cAAc;gBACpB,KAAK,EAAE,KAAK;aACb,CAAC,CAAC,CAAC,IAAI,CACN,oDAAI,CAAC,CAAC,CAAC,EACP,+CAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE;YAC1C,IAAI,CAAC,QAAQ,GAAG,GAAG,CAAC;QACtB,CAAC,CAAC,CAAC;IACL,CAAC;IAED,WAAW;QACT,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACzB,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC;IAC3B,CAAC;IAEO,IAAI;QACV,IAAI,CAAC,yBAAyB,CAAC,sCAAsC,CAAC,MAAM,EAAE,IAAI,CAAC,WAAW,CAAC,EAAE,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC,SAAS,CAAC,GAAG,EAAE;YACnI,IAAI,CAAC,MAAM,EAAE,CAAC;QAChB,CAAC,CAAC,CAAC;IACL,CAAC;IAEO,MAAM;QACZ,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC,IAAI,CAAC,oDAAI,CAAC,CAAC,CAAC,EAAE,+CAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,SAAS,CAAC,OAAO,CAAC,EAAE;YACzG,IAAI,OAAO,EAAE;gBACX,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,IAAI,CAAC,oDAAI,CAAC,CAAC,CAAC,EAAE,+CAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE;oBACxG,IAAI,CAAC,MAAM,EAAE,CAAC;gBAChB,CAAC,CAAC;aACH;QACH,CAAC,CAAC,CAAC;IACL,CAAC;;oGA/EU,0BAA0B;wHAA1B,0BAA0B;QCjBvC,yEAAkB;QAGZ,gFAA8E;QAC9E,qEAAI;QAAA,oEACF;QAAA,wIAC2D;QAC7D,4DAAK;QAEP,yEAAyB;QAMrB,kJAAS,SAAK,IAAC;QACjB,4DAAS;QAMf,yEAA2B;QAInB,2IAA+D;QACjE,4DAAM;QAEN,2EAEC;QAEG,sEACM;QAWN,2EAAmB;QACjB,2IAA+D;QACjE,4DAAM;QAIZ,2EAAyB;QAQrB,2MAA4B;QAG5B,yIAIc;QACd,yIAOc;QACd,yIAOc;QACd,yIAMc;QAChB,4DAAU;QAahB,qNAIc;;;QAxGS,0DAAwB;QAAxB,iFAAwB;QAExB,0DAAiB;QAAjB,iFAAiB;QAqBjB,0DAA+B;QAA/B,iFAA+B;QAoB3B,2DAA+B;QAA/B,iFAA+B;QAUlD,0DAAmB;QAAnB,4EAAmB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrDa;AAQJ;;;;;;;;;;;;;;;;ICY5B,mEAA+D;;;IAqB3D,mEAA+D;;;IAgBjE,2EAAU;IACR,qEAA2B;IAC7B,4DAAW;;;IAGX,qEAAI;IACwC,4DAAC;IAAA,4DAAK;IAChD,yEAA2C;IAAA,+DAAI;IAAA,4DAAK;IACpD,yEAA2C;IAAA,kEAAO;IAAA,4DAAK;IACvD,yEAA2C;IAAA,wEAAa;IAAA,4DAAK;;;IAI/D,yEAA6B;IACe,uDAAW;IAAA,4DAAK;IAC1D,yEAA2C;IAAA,uDAAgC;IAAA,4DAAK;IAChF,yEAA4C;IAAA,uDAA2B;IAAA,4DAAK;IAC5E,yEAA2C;IAAA,uDAAsC;;IAAA,4DAAK;;;;IAJpF,qFAAwB;IACgB,0DAAW;IAAX,0EAAW;IACV,0DAAgC;IAAhC,iGAAgC;IAC/B,0DAA2B;IAA3B,4FAA2B;IAC5B,0DAAsC;IAAtC,iKAAsC;;;IAM/E,mEAAkF;;;IAClF,uEAAyB;IAAA,2EAAgB;IAAA,4DAAO;;;IAHpD,qEAAI;IAEA,iIAAkF;IAClF,uIAAgD;IAClD,4DAAK;;;IAHuB,0DAAkB;IAAlB,uEAAkB;IACxC,0DAAe;IAAf,kFAAe;IACZ,0DAAgB;IAAhB,mFAAgB;;;;IAMjC,0EAAqF;IAKjF,mUAAgB,kFAAgB,KAAC;IACnC,4DAAc;IACd,+EAKC;IADC,4SAAS,6EAAW,KAAC;IAErB,gEACF;IAAA,4DAAW;;;IAdW,6FAAkC;IAGtD,0DAAW;IAAX,oEAAW;;;;IAaf,0EAA2D;IAGvD,4SAAS,iFAAe,KAAC;IAGzB,8EACF;IAAA,4DAAW;;;IAMf,0EAA4B;IAC1B,2EAA4F;IAC9F,4DAAM;;;IAD2C,0DAAgC;IAAhC,4FAAgC;IAApD,oFAAmB;;ADpG3C,MAAM,yBAAyB;IAsCpC,YACU,gBAAkC,EAClC,yBAA0D,EAC1D,EAAe,EACf,YAA0B,EAC1B,MAAc,EACd,cAA8B;QAL9B,qBAAgB,GAAhB,gBAAgB,CAAkB;QAClC,8BAAyB,GAAzB,yBAAyB,CAAiC;QAC1D,OAAE,GAAF,EAAE,CAAa;QACf,iBAAY,GAAZ,YAAY,CAAc;QAC1B,WAAM,GAAN,MAAM,CAAQ;QACd,mBAAc,GAAd,cAAc,CAAgB;QAxCxC,cAAS,GAAG,IAAI,CAAC;QACT,aAAQ,GAAG,IAAI,yCAAO,EAAE,CAAC;QAEjC,mBAAc,GAAG,KAAK,CAAC;QAEvB,eAAU,GAAc,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC;YACpC,IAAI,EAAE,CAAC,CAAC,CAAC;SACV,CAAC,CAAC;QAEH,cAAS,GAAe,CAAC;gBACvB,KAAK,EAAE,uBAAuB;gBAC9B,KAAK,EAAE;oBACL;wBACE,KAAK,EAAE,eAAe;wBACtB,IAAI,EAAE,YAAY;wBAClB,OAAO,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,iBAAiB,EAAE;qBACxC;oBACD;wBACE,KAAK,EAAE,MAAM;wBACb,IAAI,EAAE,cAAc;wBACpB,OAAO,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,IAAI,EAAE;qBAC3B;oBACD;wBACE,KAAK,EAAE,QAAQ;wBACf,IAAI,EAAE,aAAa;wBACnB,OAAO,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,aAAa,EAAE;qBACpC;iBACF;aACF,CAAC,CAAC;QAEH,UAAK,GAAkB;YACrB,EAAC,IAAI,EAAE,WAAW,EAAE,KAAK,EAAE,IAAI,EAAC;YAChC,EAAC,IAAI,EAAE,MAAM,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,KAAK,EAAC;SACzD,CAAC;IASF,CAAC;IAED,QAAQ;QACN,IAAI,CAAC,MAAM,EAAE,CAAC;IAChB,CAAC;IAED,YAAY;QACV,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;QAEhB,IAAI,CAAC,KAAK,GAAG;YACX,EAAC,IAAI,EAAE,MAAM,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,KAAK,EAAC;YACxD,EAAC,IAAI,EAAE,WAAW,EAAE,KAAK,EAAE,IAAI,EAAC;YAChC,EAAC,IAAI,EAAE,cAAc,EAAE,KAAK,EAAE,KAAK,EAAC;SACrC,CAAC;IACJ,CAAC;IAID,WAAW;QACT,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACzB,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC;IAC3B,CAAC;IAED,MAAM;QACJ,IAAI,CAAC,YAAY,EAAE,CAAC;QACpB,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE;YACnB,IAAI,CAAC,YAAY,EAAE,CAAC;SACrB;aAAM;YACL,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;YAC1C,IAAI,CAAC,MAAM,EAAE,CAAC;SACf;IACH,CAAC;IAED,MAAM;QACJ,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;QACzB,IAAI,CAAC,gBAAgB,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,oDAAI,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,+CAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE;YACvF,IAAI,CAAC,QAAQ,GAAG,GAAG,CAAC;YACpB,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;YACzB,IAAI,IAAI,CAAC,cAAc,EAAE;gBACvB,IAAI,CAAC,SAAS,EAAE,UAAU,CAAC,CAAC,CAAC,CAAC;gBAC9B,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;aACxB;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,YAAY;QACV,IAAI,CAAC,gBAAgB;aAClB,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC;aACzB,IAAI,CAAC,oDAAI,CAAC,CAAC,CAAC,EAAE,+CAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;aACvC,SAAS,CAAC,CAAC,GAAG,EAAE,EAAE;YACjB,IAAI,CAAC,KAAK,GAAG,GAAG,CAAC,KAAK,CAAC;YACvB,IAAI,CAAC,QAAQ,GAAG,GAAG,CAAC,OAAO,CAAC;YAC5B,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;QAC3B,CAAC,CAAC,CAAC;IACP,CAAC;IAED,QAAQ,CAAC,GAAQ;QACf,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE;YACxB,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,UAAU,CAAC,GAAG,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC;YACrD,IAAI,CAAC,MAAM,EAAE,CAAC;SACf;IACH,CAAC;IAED,SAAS;QACP,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;QACtB,IAAI,CAAC,MAAM,EAAE,CAAC;IAChB,CAAC;IAED,aAAa;QACX,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;QACvB,IAAI,CAAC,MAAM,EAAE,CAAC;IAChB,CAAC;IAEO,IAAI;QACV,IAAI,CAAC,yBAAyB,CAAC,0BAA0B,CAAC,MAAM,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC,IAAI,CAAC,+CAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE;YAClI,IAAI,CAAC,MAAM,EAAE,CAAC;QAChB,CAAC,CAAC,CAAC;IACL,CAAC;IAEO,aAAa;QACnB,IAAI,CAAC,YAAY;aACd,OAAO,CAAC,QAAQ,EAAE,SAAS,CAAC;aAC5B,IAAI,CAAC,oDAAI,CAAC,CAAC,CAAC,EAAE,+CAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;aACvC,SAAS,CAAC,CAAC,OAAO,EAAE,EAAE;YACrB,IAAI,OAAO,EAAE;gBACX,IAAI,CAAC,gBAAgB;qBAClB,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC;qBACzB,IAAI,CAAC,oDAAI,CAAC,CAAC,CAAC,EAAE,+CAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;qBACvC,SAAS,CAAC,CAAC,GAAG,EAAE,EAAE;oBACjB,IAAI,CAAC,MAAM,EAAE,CAAC;gBAChB,CAAC,CAAC,CAAC;aACN;QACH,CAAC,CAAC,CAAC;IACP,CAAC;IAED,UAAU;QACR,IAAI,CAAC,yBAAyB,CAAC,0BAA0B,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,+CAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE;YACjH,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,UAAU,EAAE,GAAG,CAAC,EAAE,CAAC,EAAE,EAAC,UAAU,EAAE,IAAI,CAAC,cAAc,EAAC,CAAC,CAAC;QAChF,CAAC,CAAC,CAAC;IACL,CAAC;IAEO,iBAAiB;QACvB,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,UAAU,EAAE,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,EAAE,EAAC,UAAU,EAAE,IAAI,CAAC,cAAc,EAAC,CAAC,CAAC;IAC9F,CAAC;;kGArJU,yBAAyB;uHAAzB,yBAAyB;;;;;;QCpBtC,yEAAkB;QAGZ,gFAA8E;QAC9E,qEAAI;QAAA,uEAAY;QAAA,4DAAK;QAEvB,yEAAyB;QAMrB,iJAAS,gBAAY,IAAC;QACxB,4DAAS;QAMf,yEAA2B;QAInB,0IAA+D;QACjE,4DAAM;QAEN,4EAGC;QAEG,sEACM;QAWN,2EAAmB;QACjB,0IAA+D;QACjE,4DAAM;QAIZ,2EAAyB;QAOrB,0MAA4B;QAG5B,wIAIc;QACd,wIAOc;QACd,yIAOc;QACd,wIAOc;QAChB,4DAAU;QAEZ,wHAeM;QACN,wHAQM;QACR,4DAAM;QAGR,oNAIc;;;QAvHS,0DAAwB;QAAxB,iFAAwB;QAoBxB,0DAA+B;QAA/B,iFAA+B;QAI9C,0DAAwB;QAAxB,qFAAwB;QAiBL,0DAA+B;QAA/B,iFAA+B;QAUlD,0DAAmB;QAAnB,4EAAmB;QAoCjB,0DAAgB;QAAhB,gFAAgB;QAgBhB,0DAAe;QAAf,+EAAe;;;;;;;;;;;;;;;;;;;;;;;;ACzG8B;AACiD;AAGlB;AACT;AAC0B;AAGZ;AACmB;;;AAE9G,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,KAAK,EAAE,aAAa;QACpB,SAAS,EAAE,mHAA0B;QACrC,QAAQ,EAAE;YACR;gBACE,IAAI,EAAE,uBAAuB;gBAC7B,KAAK,EAAE,uBAAuB;gBAC9B,SAAS,EAAE,yIAAgC;aAC5C;YACD;gBACE,IAAI,EAAE,OAAO;gBACb,KAAK,EAAE,OAAO;gBACd,SAAS,EAAE,wFAAiB;aAC7B;YACD;gBACE,IAAI,EAAE,wBAAwB;gBAC9B,KAAK,EAAE,OAAO;gBACd,SAAS,EAAE,yHAAqB;aACjC;YACD,EAAC,IAAI,EAAE,cAAc;gBACnB,SAAS,EAAE,kHAAyB,EAAC;YACvC,EAAC,IAAI,EAAE,gCAAgC;gBACrC,SAAS,EAAE,wIAA0B,EAAC;SACzC;KACF;CACF,CAAC;AAMK,MAAM,wBAAwB;;gGAAxB,wBAAwB;qHAAxB,wBAAwB;yHAHzB,kEAAqB,CAAC,MAAM,CAAC,EAC7B,yDAAY;mIAEX,wBAAwB,oFAFzB,yDAAY;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC3CuB;AAEyB;AACkC;AACrD;AAGiC;AACiB;AAGZ;AACd;AACiC;AAC3D;AAC0C;AACyB;AACA;AACuB;AACZ;AAGxB;;AAyBlG,MAAM,iBAAiB;;kFAAjB,iBAAiB;+GAAjB,iBAAiB;mHAN1B,0DAAY;QACZ,iFAAwB;QACxB,+DAAY;QACZ,+DAAY;oIAGH,iBAAiB,mBApB1B,mHAA0B;QAC1B,yIAAgC;QAChC,kHAAyB;QACzB,wIAA0B;QAC1B,wFAAiB;QACjB,yHAAqB;QACrB,wGAAuB;QACvB,gIAA8B;QAC9B,gIAA8B;QAC9B,uJAAqC;QACrC,2IAAiC;QACjC,uKAA0C,aAG1C,0DAAY;QACZ,iFAAwB;QACxB,+DAAY;QACZ,+DAAY;;;;;;;;;;;;;;;;;;;;;;;;;AC5C+D;AACvC;AAC+B;AAInC;;;;;;;;AAQ7B,MAAM,8BAA8B;IAMzC,YACU,SAAuD,EAC9C,EAAe,EACxB,mBAAwC,EAChB,IAAqE;QAH7F,cAAS,GAAT,SAAS,CAA8C;QAC9C,OAAE,GAAF,EAAE,CAAa;QACxB,wBAAmB,GAAnB,mBAAmB,CAAqB;QAChB,SAAI,GAAJ,IAAI,CAAiE;QAN/F,aAAQ,GAAG,IAAI,yCAAO,EAAE,CAAC;QAQ/B,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC;YACxB,IAAI,EAAE,CAAC,EAAE,EAAE,+DAAmB,CAAC;YAC/B,IAAI,EAAE,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,+DAAmB,CAAC,CAAC;YACnD,WAAW,EAAE,CAAC,EAAE,EAAE,+DAAmB,CAAC;SACvC,CAAC,CAAC;QACH,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,KAAK,MAAM,EAAE;YAC7B,IAAI,CAAC,IAAI,CAAC,UAAU,CAAM,IAAI,EAAE,IAAI,uDAAW,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,CAAC;YACvE,IAAI,CAAC,IAAI,CAAC,UAAU,CAAM,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;YAC7C,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;SAC7D;aAAM;YACL,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;SAEpD;IACH,CAAC;IAED,QAAQ;IACR,CAAC;IAED,MAAM;QACJ,IAAI,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE;YACvB,IAAI,CAAC,MAAM,EAAE,CAAC;SACf;aAAM;YACL,IAAI,CAAC,MAAM,EAAE,CAAC;SACf;IACH,CAAC;IAED,MAAM;QACJ,IAAI,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE;YACnB,IAAI,CAAC,mBAAmB,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,oDAAI,CAAC,CAAC,CAAC,EAAE,+CAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,SAAS,CAChG,GAAG,CAAC,EAAE;gBACJ,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YAC5B,CAAC,CACF,CAAC;SACH;IACH,CAAC;IAED,MAAM;QACJ,IAAI,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE;YACnB,IAAI,CAAC,mBAAmB,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,KAAoB,CAAC,CAAC,IAAI,CAAC,oDAAI,CAAC,CAAC,CAAC,EAAE,+CAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,SAAS,CAC/G,GAAG,CAAC,EAAE;gBACJ,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YAC5B,CAAC,CACF,CAAC;SACH;IACH,CAAC;IAED,WAAW;QACT,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACzB,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC;IAC3B,CAAC;IAED,aAAa,CAAC,MAAc;IAE5B,CAAC;;4GAjEU,8BAA8B,2dAU/B,qEAAe;4HAVd,8BAA8B;QCf3C,yEAA0B;QAEtB,uDACF;QAAA,4DAAK;QAGP,qFAAoB;QAGI,+DAAI;QAAA,4DAAQ;QAC9B,qFAIC;QADC,iLAAe,aAAS,MAAM,CAAC,iBAAiB,IAAC;QAClD,4DAAkB;QAErB,yEAAwB;QACJ,iEAAK;QAAA,4DAAQ;QAC/B,uEAME;QACJ,4DAAM;QACN,0EAAwB;QACG,wEAAY;QAAA,4DAAQ;QAC7C,uEAME;QACJ,4DAAM;QAIV,yFAAoD;QAClD,yEAAyG;QACzG,8EAQC;QADC,uJAAS,YAAQ,IAAC;QACnB,4DAAS;;QA/CR,0DACF;QADE,8FACF;QAIM,0DAAkB;QAAlB,+EAAkB;QAIlB,0DAAmB;QAAnB,4EAAmB;QA6BoB,2DAA0B;QAA1B,mFAA0B;QAKrE,0DAAmB;QAAnB,gFAAmB;;;;;;;;;;;;;;;;;;;;;;;;;AC5CgD;AACH;AAIhC;AACI;;;;;;;AAOjC,MAAM,uBAAuB;IASlC,YACU,SAAgD,EACvC,EAAe,EACxB,YAA0B,EACF,IAA2C;QAHnE,cAAS,GAAT,SAAS,CAAuC;QACvC,OAAE,GAAF,EAAE,CAAa;QACxB,iBAAY,GAAZ,YAAY,CAAc;QACF,SAAI,GAAJ,IAAI,CAAuC;QAX7E,SAAI,GAAG,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC;YACnB,IAAI,EAAE,CAAC,EAAE,EAAE,+DAAmB,CAAC;YAC/B,WAAW,EAAE,CAAC,EAAE,EAAE,+DAAmB,CAAC;SACvC,CAAC,CAAC;QAEK,aAAQ,GAAG,IAAI,yCAAO,EAAE,CAAC;QAQ/B,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,KAAK,MAAM,EAAE;YAC7B,IAAI,CAAC,IAAI,CAAC,UAAU,CAAM,IAAI,EAAE,IAAI,uDAAW,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC;YACpE,IAAI,CAAC,IAAI,CAAC,UAAU,CAAM,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SAC3C;IACH,CAAC;IAED,QAAQ;IACR,CAAC;IAED,MAAM;QACJ,IAAI,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE;YACvB,IAAI,CAAC,MAAM,EAAE,CAAC;SACf;aAAM;YACL,IAAI,CAAC,MAAM,EAAE,CAAC;SACf;IACH,CAAC;IAED,MAAM;QACJ,IAAI,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE;YACnB,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,oDAAI,CAAC,CAAC,CAAC,EAAE,+CAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,SAAS,CACzF,GAAG,CAAC,EAAE;gBACJ,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YAC5B,CAAC,CACF,CAAC;SACH;IACH,CAAC;IAED,MAAM;QACJ,IAAI,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE;YACnB,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,KAAa,CAAC,CAAC,IAAI,CAAC,oDAAI,CAAC,CAAC,CAAC,EAAE,+CAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,SAAS,CACjG,GAAG,CAAC,EAAE;gBACJ,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YAC5B,CAAC,CACF,CAAC;SACH;IACH,CAAC;IAED,WAAW;QACT,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACzB,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC;IAC3B,CAAC;;8FAvDU,uBAAuB,4cAaxB,qEAAe;qHAbd,uBAAuB;QCdpC,yEAA0B;QAEtB,uDACF;QAAA,4DAAK;QAGP,qFAAoB;QAGI,gEAAK;QAAA,4DAAQ;QAC/B,sEAME;QACJ,4DAAM;QACN,yEAAwB;QACG,wEAAY;QAAA,4DAAQ;QAC7C,uEAME;QACJ,4DAAM;QAIV,yFAAoD;QAClD,wEAAyG;QACzG,8EAQC;QADC,gJAAS,YAAQ,IAAC;QACnB,4DAAS;;QAvCR,0DACF;QADE,8FACF;QAIM,0DAAkB;QAAlB,+EAAkB;QAyBqB,2DAA0B;QAA1B,mFAA0B;QAKrE,0DAAmB;QAAnB,gFAAmB;;;;;;;;;;;;;;;;;;;;;;;;ACpCgD;AAIQ;AAG3C;;;;;;;;AAO7B,MAAM,8BAA8B;IAIzC,YACU,SAAuD,EACvD,gBAAkC,EAClC,kBAAuC,EAC/C,EAAe,EACiB,IAAqD;QAJ7E,cAAS,GAAT,SAAS,CAA8C;QACvD,qBAAgB,GAAhB,gBAAgB,CAAkB;QAClC,uBAAkB,GAAlB,kBAAkB,CAAqB;QAEf,SAAI,GAAJ,IAAI,CAAiD;QAPvF,aAAQ,GAAG,KAAK,CAAC;QASf,IAAI,CAAC,IAAI,GAAG,EAAE,CAAC,KAAK,CAAC;YACnB,YAAY,EAAE,CAAC,EAAE,EAAE,CAAC,+DAAmB,CAAC,CAAC;SAC1C,CAAC,CAAC;QACH,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,KAAK,MAAM,EAAE;YAC7B,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,IAAI,uDAAW,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC;YACnE,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,EAAE,CAAC,CAAC;SAC/E;IACH,CAAC;IAED,QAAQ;IACR,CAAC;IAED,MAAM;QACJ,IAAI,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE;YACnB,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,oDAAI,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CACnE,GAAG,CAAC,EAAE,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CACtC;SACF;IACH,CAAC;IAED,MAAM;QACJ,IAAI,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE;YACnB,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,oDAAI,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CACnE,GAAG,CAAC,EAAE,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CACtC;SACF;IACH,CAAC;IAED,MAAM;QACJ,IAAI,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE;YACvB,IAAI,CAAC,MAAM,EAAE,CAAC;SACf;aAAM;YACL,IAAI,CAAC,MAAM,EAAE,CAAC;SACf;IACH,CAAC;IAED,IAAI;QACF,OAAO,CAAC,GAAG,CAAC,WAAW,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;IACtC,CAAC;;4GAjDU,8BAA8B,knBAS/B,qEAAe;4HATd,8BAA8B;QCf3C,yEAA0B;QAEtB,uDACF;QAAA,4DAAK;QAGP,qFAAoB;QAGP,kEAAO;QAAA,4DAAQ;QACtB,6FAGC;QADC,yLAAe,aAAS,cAAc,CAAC,iBAAiB,IAAC;QAC1D,4DAA0B;QAKjC,wFAAoD;QAClD,wEAAyG;QACzG,6EAQC;QADC,uJAAS,YAAQ,IAAC;QACnB,4DAAS;;QA1BR,0DACF;QADE,8FACF;QAIM,0DAAkB;QAAlB,+EAAkB;QAIlB,0DAA0C;QAA1C,uGAA0C;QAQH,0DAA0B;QAA1B,mFAA0B;QAKrE,0DAAmB;QAAnB,gFAAmB;;;;;;;;;;;;;;;;;;;;;;;;;ACvBgD;AAGQ;AAI3C;;;;;;;;;;ICQ9B,uEAA8B;IACpB,uDAGV;IAAA,4DAAO;;;IAHG,0DAGV;IAHU,oKAGV;;ADLC,MAAM,qCAAqC;IAIhD,YACE,EAAe,EACP,SAA8D,EAC9D,yBAA0D,EAC1D,kBAAsC,EACd,IAA8E;QAHtG,cAAS,GAAT,SAAS,CAAqD;QAC9D,8BAAyB,GAAzB,yBAAyB,CAAiC;QAC1D,uBAAkB,GAAlB,kBAAkB,CAAoB;QACd,SAAI,GAAJ,IAAI,CAA0E;QAPhH,aAAQ,GAAG,KAAK,CAAC;QASf,IAAI,CAAC,IAAI,GAAG,EAAE,CAAC,KAAK,CAAC;YACnB,UAAU,EAAC,CAAC,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC,+DAAmB,CAAC,CAAC;YAC5D,YAAY,EAAE,CAAC,EAAE,EAAE,CAAC,+DAAmB,CAAC,CAAC;YACzC,gBAAgB,EAAE,CAAC,CAAC,EAAE,CAAC,+DAAmB,CAAC,CAAC;SAC7C,CAAC,CAAC;QAEH,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,KAAK,MAAM,EAAE;YAC7B,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,WAAW,CAAC;YACxC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,IAAI,uDAAW,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC;YACrE,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;YAC5C,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,EAAE,CAAC,CAAC;YAChF,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC;SAC1E;IACH,CAAC;IAED,QAAQ;IACR,CAAC;IAED,MAAM;QACJ,IAAI,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE;YACvB,IAAI,CAAC,MAAM,EAAE,CAAC;SACf;aAAM;YACL,IAAI,CAAC,MAAM,EAAE,CAAC;SACf;IACH,CAAC;IAED,mBAAmB;QACjB,IAAI,CAAC,yBAAyB,CAAC,kCAAkC,EAAE,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE;YAClF,IAAI,GAAG,EAAE;gBACP,IAAI,CAAC,eAAe,GAAG,GAAG,CAAC;gBAC3B,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC,UAAU,CAAC,GAAG,CAAC,YAAY,CAAC,EAAE,CAAC,CAAC;aAC/D;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,MAAM;QACJ,IAAI,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE;YACnB,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,oDAAI,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CACrE,GAAG,CAAC,EAAE,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,GAAG,CAAC,EAAC,CAAC,CACrC;SACF;IACH,CAAC;IAED,MAAM;QACJ,IAAI,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE;YACnB,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,oDAAI,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CACrE,GAAG,CAAC,EAAE,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,GAAG,CAAC,EAAC,CAAC,CACrC;SACF;IACH,CAAC;;0HA5DU,qCAAqC,yoBAStC,qEAAe;mIATd,qCAAqC;QCflD,yEAA0B;QAEtB,uDACF;QAAA,4DAAK;QAGP,qFAAoB;QAK2E,6JAAS,yBAAqB,IAAC;QAAC,4DAAS;QAGlI,yEAA6C;QAE7C,qIAIO;QACL,4DAAM;QAKZ,0EAAwB;QACJ,qEAAS;QAAA,4DAAQ;QACnC,wEAME;QACJ,4DAAM;QAKR,0FAAoD;QAClD,yEAAyG;QACzG,8EAQC;QADC,8JAAS,YAAQ,IAAC;QACnB,4DAAS;;QAhDR,0DACF;QADE,iGACF;QAIM,0DAAkB;QAAlB,+EAAkB;QASb,0DAAqB;QAArB,qFAAqB;QAyBa,0DAA0B;QAA1B,mFAA0B;QAKrE,0DAAmB;QAAnB,gFAAmB;;;;;;;;;;;;;;;;;;;;;;;;AC7CsD;AACN;AAGnC;;;;;;;;;ICHhC,uEAAoC;IAAA,oEAAS;IAAA,4DAAO;;;IACpD,uEAA2C;IAAA,8EAAmB;IAAA,4DAAO;;;IAOnE,wEAA2E;IACzE,yEAA4C;IACnC,uDAAwF;IAAA,oEAAG;IAAA,uDAA4B;IAAA,4DAAI;IAClI,uEAME;IACJ,4DAAM;IACR,qEAAe;;;;IAVR,0DAAmB;IAAnB,+EAAmB;IACf,0DAAwF;IAAxF,oLAAwF;IAAG,0DAA4B;IAA5B,mGAA4B;;;;IAgBtI,6EAOC;IADC,4TAAS,2EAAU,KAAC;IACrB,4DAAS;;IAFR,8EAAqB;;;;IAGvB,6EAOC;IADC,6TAAS,oFAAmB,KAAC;IAC9B,4DAAS;;IAFR,wFAA+B;;AD7B5B,MAAM,0CAA0C;IAIrD,YACmB,EAAe,EACA,IAA2E,EAC1F,SAAmE,EAC5E,uBAAgD;QAHvC,OAAE,GAAF,EAAE,CAAa;QACA,SAAI,GAAJ,IAAI,CAAuE;QAC1F,cAAS,GAAT,SAAS,CAA0D;QAC5E,4BAAuB,GAAvB,uBAAuB,CAAyB;QAP1D,SAAI,GAAc,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC;YAC9B,QAAQ,EAAE,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC,EAAE,CAAC;SAC5B,CAAC,CAAC;IAMC,CAAC;IAEL,QAAQ;QACN,MAAM,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,GAAG,OAAO,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,EAAE,QAAQ,EAAE,CAAC,CAAC,CAAC,QAAQ,EAAE,CAAC,0DAAc,CAAC,CAAC,CAAC,QAAQ,CAAC,EAAE,0DAAc,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAC,CAAC,CAAC;QAC1J,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC;YACxB,QAAQ,EAAE,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC,MAAM,CAAC;SAChC,CAAC,CAAC;QAEH,OAAO,CAAC,GAAG,CAAC,WAAW,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;IACtC,CAAC;IAED,IAAI,QAAQ;QACV,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,UAAU,CAAc,CAAC;IAChD,CAAC;IAED,iBAAiB;QACf,IAAG,IAAI,CAAC,IAAI,CAAC,KAAK,EAAC;YACjB,IAAI,CAAC,uBAAuB,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,oDAAI,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,GAAG,GAAE;gBACtG,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC;YACzB,CAAC,CAAC;SACH;IAEH,CAAC;IAED,QAAQ;QACN,IAAG,IAAI,CAAC,IAAI,CAAC,KAAK,EAAC;YACjB,IAAI,CAAC,uBAAuB,CAAC,sBAAsB,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,oDAAI,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,GAAG,GAAE;gBAChH,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC;YACzB,CAAC,CAAC;SACH;IACH,CAAC;;oIAvCU,0CAA0C,4LAM3C,qEAAe;wIANd,0CAA0C;QCZvD,yEAA0B;QAEtB,wIAAoD;QACpD,wIAAqE;QACvE,4DAAK;QAGP,qFAAoB;QAEhB,2EAAuC;QACrC,wJAWe;QACjB,qEAAe;QACjB,4DAAO;QAGT,wFAAoD;QAClD,uEAAyG;QACzG,8IAOU;QACV,8IAOU;QACZ,4DAAqB;;QA1CV,0DAA2B;QAA3B,6FAA2B;QAC3B,0DAAkC;QAAlC,oGAAkC;QAKrC,0DAAkB;QAAlB,+EAAkB;QAEiB,0DAAsB;QAAtB,0FAAsB;QAiBlB,0DAA0B;QAA1B,mFAA0B;QAGpE,0DAA2B;QAA3B,6FAA2B;QAQ3B,0DAAkC;QAAlC,oGAAkC;;;;;;;;;;;;;;;;;;;;;;;;ACrC2B;AACK;;;;;;;;;AAUhE,MAAM,iCAAiC;IAE5C,YACmB,EAAe,EACA,OAAyB,EACxC,SAA0D,EACnE,uBAAgD;QAHvC,OAAE,GAAF,EAAE,CAAa;QACA,YAAO,GAAP,OAAO,CAAkB;QACxC,cAAS,GAAT,SAAS,CAAiD;QACnE,4BAAuB,GAAvB,uBAAuB,CAAyB;QAExD,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC;YACxB,QAAQ,EAAE,CAAC,CAAC,EAAE,CAAC,0DAAc,CAAC,IAAI,CAAC,OAAO,CAAC,2BAA2B,CAAC,EAAE,0DAAc,CAAC,CAAC,CAAC,CAAC,CAAC;YAC5F,YAAY,EAAE,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,EAAE,CAAC,EAAE,+DAAmB,CAAC;YACzE,eAAe,EAAE,CAAC,IAAI,EAAE,+DAAmB,CAAC;YAC5C,iBAAiB,EAAE,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,EAAE,CAAC,EAAE,+DAAmB,CAAC;SAC/E,CAAC,CAAC;IACL,CAAC;IAED,QAAQ;QACN,OAAO,CAAC,GAAG,CAAC,WAAW,EAAE,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IAC5C,CAAC;IAED,gBAAgB,CAAC,KAAK;QACpB,MAAM,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,2BAA2B,CAAC;QAC7D,IAAI,KAAK,GAAG,WAAW,EAAE;YACvB,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,UAAU,CAAC,WAAW,CAAC,CAAC;SACnD;IACH,CAAC;IAED,MAAM;QACJ,IAAI,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE;YACnB,IAAI,CAAC,uBAAuB,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE;gBACrE,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;YAC7B,CAAC,CAAC,CAAC;SACJ;IACH,CAAC;;kHAjCU,iCAAiC,4LAIlC,qEAAe;+HAJd,iCAAiC;QCZ9C,yEAA0B;QAEtB,uDACF;QAAA,4DAAK;QAGP,qFAAoB;QAIP,kEAAO;QAAA,4DAAQ;QACtB,6FAGC;QADC,4LAAe,aAAS,iBAAiB,CAAC,iBAAiB,IAAC;QAC7D,4DAA0B;QAE7B,yEAAwB;QACA,wDAAuD;QAAA,4DAAQ;QACrF,4EAOE;QAJA,+KAAiB,4BAAwB,IAAC;QAH5C,4DAOE;QAMR,yFAAoD;QAClD,wEAAyG;QACzG,6EAOC;QADC,0JAAS,YAAQ,IAAC;QACnB,4DAAS;;QAtCR,0DACF;QADE,sHACF;QAIM,0DAAkB;QAAlB,+EAAkB;QAKlB,0DAA0D;QAA1D,uHAA0D;QAKtC,0DAAuD;QAAvD,iIAAuD;QAepC,0DAA0B;QAA1B,mFAA0B;QAKrE,0DAAgB;QAAhB,yEAAgB;;;;;;;;;;;;;;;;;;;;;;;;;AC/B0E;AACuB;AACA;AAEjB;AAGL;AAIR;AAImB;;;AAKnG,MAAM,+BAA+B;IAE1C,YACU,MAAiB;QAAjB,WAAM,GAAN,MAAM,CAAW;IACvB,CAAC;IAEL,mBAAmB,CAAC,IAAqB,EAAE,IAAW;QACpD,OAAO,IAAI,CAAC,MAAM;aACf,IAAI,CAA0B,wGAAuB,EAAE;YACtD,KAAK,EAAE,OAAO;YACd,MAAM,EAAE,MAAM;YACd,UAAU,EAAE,wBAAwB;YACpC,IAAI,EAAE,EAAC,IAAI,EAAE,IAAI,EAAC;YAClB,SAAS,EAAE,KAAK;YAChB,sBAAsB,EAAE,OAAO;SAChC,CAAC;aACD,WAAW,EAAE,CAAC;IACnB,CAAC;IAED,0BAA0B,CAAC,IAAqB,EAAE,OAAqB,EAAE,MAAe;QACtF,OAAO,IAAI,CAAC,MAAM;aACf,IAAI,CAAiC,+HAA8B,EAAE;YACpE,KAAK,EAAE,OAAO;YACd,MAAM,EAAE,MAAM;YACd,UAAU,EAAE,wBAAwB;YACpC,IAAI,EAAE,EAAC,IAAI,EAAE,OAAO,EAAE,MAAM,EAAC;YAC7B,SAAS,EAAE,KAAK;YAChB,sBAAsB,EAAE,OAAO;SAChC,CAAC;aACD,WAAW,EAAE,CAAC;IACnB,CAAC;IAED,0BAA0B,CAAC,IAAqB,EAAE,SAAqB;QACrE,OAAO,IAAI,CAAC,MAAM;aACf,IAAI,CAAiC,+HAA8B,EAAE;YACpE,KAAK,EAAE,OAAO;YACd,MAAM,EAAE,MAAM;YACd,UAAU,EAAE,wBAAwB;YACpC,IAAI,EAAE,EAAC,IAAI,EAAE,SAAS,EAAC;YACvB,SAAS,EAAE,KAAK;YAChB,sBAAsB,EAAE,OAAO;SAChC,CAAC;aACD,WAAW,EAAE,CAAC;IACnB,CAAC;IAED,sCAAsC,CAAC,IAAqB,EAAE,WAAmB,EAAE,WAAyB;QAC1G,OAAO,IAAI,CAAC,MAAM;aACf,IAAI,CAAwC,sJAAqC,EAAE;YAClF,KAAK,EAAE,OAAO;YACd,MAAM,EAAE,MAAM;YACd,UAAU,EAAE,wBAAwB;YACpC,IAAI,EAAE,EAAC,IAAI,EAAE,WAAW,EAAE,WAAW,EAAC;YACtC,SAAS,EAAE,KAAK;YAChB,sBAAsB,EAAE,OAAO;SAChC,CAAC;aACD,WAAW,EAAE,CAAC;IACnB,CAAC;IAED,kCAAkC;QAChC,OAAO,IAAI,CAAC,MAAM;aACf,IAAI,CAA2B,gHAAwB,EAAE;YACxD,KAAK,EAAE,OAAO;YACd,QAAQ,EAAE,OAAO;YACjB,MAAM,EAAE,OAAO;YACf,SAAS,EAAE,OAAO;YAClB,UAAU,EAAE,kBAAkB;YAC9B,IAAI,EAAE,EAAE;YACR,YAAY,EAAE,IAAI;YAClB,SAAS,EAAE,KAAK;YAChB,sBAAsB,EAAE,OAAO;SAChC,CAAC;aACD,WAAW,EAAE,CAAC;IACnB,CAAC;IAED,6BAA6B,CAAC,OAAyB;QACrD,OAAO,IAAI,CAAC,MAAM;aACf,IAAI,CAAoC,0IAAiC,EAAE;YAC1E,KAAK,EAAE,OAAO;YACd,MAAM,EAAE,MAAM;YACd,UAAU,EAAE,wBAAwB;YACpC,IAAI,EAAE,OAAO;YACb,YAAY,EAAE,IAAI;YAClB,SAAS,EAAE,KAAK;YAChB,sBAAsB,EAAE,OAAO;SAChC,CAAC;aACD,WAAW,EAAE,CAAC;IACnB,CAAC;IAED,yBAAyB,CAAC,OAA2B,EAAE,IAAoC;QACzF,OAAO,IAAI,CAAC,MAAM;aACf,IAAI,CAA6C,sKAA0C,EAAE;YAC5F,KAAK,EAAE,OAAO;YACd,MAAM,EAAE,MAAM;YACd,UAAU,EAAE,wBAAwB;YACpC,IAAI,EAAE,EAAC,OAAO,EAAE,IAAI,EAAC;YACrB,YAAY,EAAE,IAAI;YAClB,SAAS,EAAE,KAAK;YAChB,sBAAsB,EAAE,OAAO;SAChC,CAAC;aACD,WAAW,EAAE,CAAC;IACnB,CAAC;;8GApGU,+BAA+B;gIAA/B,+BAA+B,WAA/B,+BAA+B,mBAF9B,MAAM","sources":["./src/app/instruments/components/area-list/area-list.component.ts","./src/app/instruments/components/area-list/area-list.component.html","./src/app/instruments/components/area-list/components/locators-list/locators-list.component.ts","./src/app/instruments/components/area-list/components/locators-list/locators-list.component.html","./src/app/instruments/components/instruments-and-tools-list/instruments-and-tools-list.component.ts","./src/app/instruments/components/instruments-and-tools-list/instruments-and-tools-list.component.html","./src/app/instruments/components/instruments-layout/instruments-layout.component.ts","./src/app/instruments/components/instruments-layout/instruments-layout.component.html","./src/app/instruments/components/tool-requests-list/request-orders-list/request-orders-list.component.ts","./src/app/instruments/components/tool-requests-list/request-orders-list/request-orders-list.component.html","./src/app/instruments/components/tool-requests-list/tool-requests-list.component.ts","./src/app/instruments/components/tool-requests-list/tool-requests-list.component.html","./src/app/instruments/instruments-routing.module.ts","./src/app/instruments/instruments.module.ts","./src/app/instruments/modals/create-edit-area-locator/create-edit-area-locator.component.ts","./src/app/instruments/modals/create-edit-area-locator/create-edit-area-locator.component.html","./src/app/instruments/modals/create-edit-area/create-edit-area.component.ts","./src/app/instruments/modals/create-edit-area/create-edit-area.component.html","./src/app/instruments/modals/create-edit-tool-request/create-edit-tool-request.component.ts","./src/app/instruments/modals/create-edit-tool-request/create-edit-tool-request.component.html","./src/app/instruments/modals/create-update-tool-order-request/create-update-tool-order-request.component.ts","./src/app/instruments/modals/create-update-tool-order-request/create-update-tool-order-request.component.html","./src/app/instruments/modals/instrumentr-and-tools-writeoff-return/instruments-and-tools-write-off-return.component.ts","./src/app/instruments/modals/instrumentr-and-tools-writeoff-return/instruments-and-tools-write-off-return.component.html","./src/app/instruments/modals/product-move-to-area-locator/product-move-to-area-locator.component.ts","./src/app/instruments/modals/product-move-to-area-locator/product-move-to-area-locator.component.html","./src/app/instruments/services/instrument-and-tools-modals.service.ts"],"sourcesContent":["import {Component, OnDestroy, OnInit, ViewChild} from '@angular/core';\r\nimport {Area} from '../../../warehouse/models/area-locator';\r\nimport {AreasService} from '@shared/services/areas.service';\r\nimport {take} from 'rxjs/operators';\r\nimport {Subject, takeUntil} from 'rxjs';\r\nimport {FormBuilder, FormGroup} from '@angular/forms';\r\nimport {QuerySearch} from '@shared/models/other';\r\nimport {MenuItem} from 'primeng/api';\r\nimport {InstrumentAndToolsModalsService} from '../../services/instrument-and-tools-modals.service';\r\nimport {Paginator} from 'primeng/paginator';\r\nimport {ModalService} from '@shared/services/modal.service';\r\nimport {ActivatedRoute, Router} from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'pek-area-list',\r\n  templateUrl: './area-list.component.html',\r\n  styleUrls: ['./area-list.component.scss']\r\n})\r\nexport class AreaListComponent implements OnInit, OnDestroy {\r\n  @ViewChild('paginator') paginator: Paginator;\r\n  areas: Area[];\r\n  selectedNode: Area;\r\n  isLoading = true;\r\n  private destroy$ = new Subject();\r\n  isShowAll: boolean;\r\n  isStartOnePage = false;\r\n  count: number;\r\n  searchForm: FormGroup = this.fb.group({\r\n    page: [1],\r\n  });\r\n\r\n  menuItems: MenuItem[] = [{\r\n    label: 'Selected Locator',\r\n    items: [\r\n      {\r\n        label: 'Locators',\r\n        icon: 'pi pi-bars',\r\n        command: () => this.editLocators()\r\n      },\r\n      {\r\n        label: 'Edit',\r\n        icon: 'pi pi-pencil',\r\n        command: () => this.editArea()\r\n      },\r\n      {\r\n        label: 'Remove',\r\n        icon: 'pi pi-trash',\r\n        command: () => this.deleteArea()\r\n      }\r\n    ]\r\n  }];\r\n\r\n  query: QuerySearch[] = [\r\n    {name: 'paginated', value: true},\r\n    {name: 'page', value: this.searchForm.get('page').value}\r\n  ];\r\n  constructor(\r\n    private areasService: AreasService,\r\n    private instrumentAndToolsService: InstrumentAndToolsModalsService,\r\n    private fb: FormBuilder,\r\n    private modalService: ModalService,\r\n    private router: Router,\r\n    private activatedRoute: ActivatedRoute,\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.search();\r\n  }\r\n\r\n  getAreas() {\r\n    this.selectedNode = null;\r\n    this.areasService.get().pipe(take(1), takeUntil(this.destroy$)).subscribe(res => {\r\n      this.areas = res;\r\n      this.isLoading = false;\r\n    });\r\n  }\r\n\r\n  prepareQuery(): void {\r\n    this.query = [];\r\n\r\n    this.query = [\r\n      {name: 'page', value: this.searchForm.get('page').value},\r\n      {name: 'paginated', value: true},\r\n    ];\r\n  }\r\n\r\n\r\n\r\n  ngOnDestroy() {\r\n    this.destroy$.next(true);\r\n    this.destroy$.complete();\r\n  }\r\n\r\n  search(): void {\r\n    this.prepareQuery();\r\n    if (!this.isShowAll) {\r\n      this.getPaginated();\r\n    } else {\r\n      this.searchForm.get('page').patchValue(1);\r\n      this.getAll();\r\n    }\r\n  }\r\n\r\n  getAll() {\r\n    this.selectedNode = null;\r\n    this.areasService.get().pipe(take(1)).pipe(takeUntil(this.destroy$)).subscribe(res => {\r\n      this.areas = res;\r\n      this.selectedNode = null;\r\n      if (this.isStartOnePage) {\r\n        this.paginator?.changePage(0);\r\n        this.isLoading = false;\r\n      }\r\n    });\r\n  }\r\n\r\n  getPaginated() {\r\n    this.areasService\r\n      .get_paginated(this.query)\r\n      .pipe(take(1), takeUntil(this.destroy$))\r\n      .subscribe((res) => {\r\n        this.count = res.count;\r\n        this.areas = res.results;\r\n        this.selectedNode = null;\r\n      });\r\n  }\r\n\r\n  paginate(evt: any) {\r\n    if (!this.isStartOnePage) {\r\n      this.searchForm.get('page').patchValue(evt.page + 1);\r\n      this.search();\r\n    }\r\n  }\r\n\r\n  onShowAll() {\r\n    this.isShowAll = true;\r\n    this.search();\r\n  }\r\n\r\n  onShowPartial() {\r\n    this.isShowAll = false;\r\n    this.search();\r\n  }\r\n\r\n  private editArea() {\r\n    this.instrumentAndToolsService.createEditAreaModal('edit', this.selectedNode).pipe(takeUntil(this.destroy$)).subscribe(res => {\r\n      this.search();\r\n    });\r\n  }\r\n\r\n  private deleteArea() {\r\n    this.modalService\r\n      .confirm('danger', 'Confirm')\r\n      .pipe(take(1), takeUntil(this.destroy$))\r\n      .subscribe((confirm) => {\r\n        if (confirm) {\r\n          this.areasService\r\n            .delete(this.selectedNode)\r\n            .pipe(take(1), takeUntil(this.destroy$))\r\n            .subscribe((del) => {\r\n              this.search();\r\n            });\r\n        }\r\n      });\r\n  }\r\n\r\n  createArea() {\r\n    this.instrumentAndToolsService.createEditAreaModal('create').pipe(takeUntil(this.destroy$)).subscribe(res => {\r\n      this.search();\r\n    });\r\n  }\r\n\r\n  private editLocators() {\r\n    this.router.navigate(['locators', this.selectedNode.id], {relativeTo: this.activatedRoute})\r\n  }\r\n}\r\n","<div class=\"page\">\r\n  <div class=\"page__header\">\r\n    <div class=\"page__title\">\r\n      <pek-module-icon [module]=\"'instruments'\" [isActive]=\"true\"></pek-module-icon>\r\n      <h1>Areas</h1>\r\n    </div>\r\n    <div class=\"page__tools\">\r\n      <button\r\n        pButton\r\n        type=\"button\"\r\n        icon=\"pi pi-plus\"\r\n        label=\"Create Area\"\r\n        (click)=\"createArea()\">\r\n      </button>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n\r\n<div class=\"page__content\">\r\n  <div class=\"page__card\">\r\n    <div class=\"filters-visibility\">\r\n      <div class=\"filters-visibility__header\">\r\n        <ng-container *ngTemplateOutlet=\"actionButtons\"></ng-container>\r\n      </div>\r\n\r\n      <form\r\n        [formGroup]=\"searchForm\"\r\n        class=\"form mb-3\"\r\n      >\r\n        <div class=\"row\">\r\n          <div class=\"col-3\">\r\n          </div>\r\n          <div class=\"col-3\">\r\n          </div>\r\n          <div class=\"col-2\">\r\n          </div>\r\n          <div class=\"col-2\">\r\n          </div>\r\n          <div class=\"col-2\">\r\n          </div>\r\n          <div class=\"col-10\">\r\n          </div>\r\n          <div class=\"col-2\">\r\n            <ng-container *ngTemplateOutlet=\"actionButtons\"></ng-container>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </div>\r\n    <div class=\"page__table\">\r\n      <p-table\r\n        #dt\r\n        selectionMode=\"single\"\r\n        scrollHeight=\"calc(100vh - 335px)\"\r\n        [scrollable]=\"true\"\r\n        [rows]=\"10\"\r\n        [(selection)]=\"selectedNode\"\r\n        [value]=\"areas\"\r\n      >\r\n        <ng-template pTemplate=\"colgroup\">\r\n          <colgroup>\r\n            <col class=\"index-header\"/>\r\n          </colgroup>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"header\">\r\n          <tr>\r\n            <th style=\"width: 5%\" class=\"index-header\">#</th>\r\n            <th style=\"width: 45%\">Name</th>\r\n            <th style=\"width: 50%\">Description</th>\r\n          </tr>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"body\" let-area let-i=\"rowIndex\">\r\n          <tr [pSelectableRow]=\"area\">\r\n            <td style=\"width: 5%\">{{ i + 1 }}</td>\r\n            <td style=\"width: 45%\">{{area.name}}</td>\r\n            <td style=\"width: 50%\">{{area.description}}</td>\r\n          </tr>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"emptymessage\">\r\n          <tr>\r\n            <td class=\"text-center p-4\" [attr.colspan]=\"9\">\r\n              <i *ngIf=\"isLoading\" class=\"pi pi-spin pi-spinner\" style=\"font-size: 2.25rem\"></i>\r\n              <span *ngIf=\"!isLoading\">No Records Found</span>\r\n            </td>\r\n          </tr>\r\n        </ng-template>\r\n      </p-table>\r\n    </div>\r\n    <div *ngIf=\"!isShowAll\" [class.paginator-wrap]=\"isLoading\" class=\"paginator-wrapper\">\r\n      <p-paginator\r\n        #paginator\r\n        [rows]=\"10\"\r\n        [totalRecords]=\"count\"\r\n        (onPageChange)=\"paginate($event)\">\r\n      </p-paginator>\r\n      <p-button\r\n        class=\"paginator-all\"\r\n        type=\"button\"\r\n        styleClass=\"p-button-text\"\r\n        (click)=\"onShowAll()\"\r\n      >\r\n        All\r\n      </p-button>\r\n    </div>\r\n    <div *ngIf=\"isShowAll\" class=\"paginator-return-pagination\">\r\n      <p-button\r\n        type=\"button\"\r\n        (click)=\"onShowPartial()\"\r\n        styleClass=\"p-button-text\"\r\n      >\r\n        Return pagination\r\n      </p-button>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<ng-template #actionButtons>\r\n  <div class=\"action-buttons\">\r\n    <p-menubar class=\"ml-auto\" [model]=\"menuItems\" [class.disabled]=\"!selectedNode\"></p-menubar>\r\n  </div>\r\n</ng-template>\r\n\r\n","import {Component, OnDestroy, OnInit} from '@angular/core';\r\nimport {Area, AreaLocator} from '../../../../../warehouse/models/area-locator';\r\nimport {ActivatedRoute} from '@angular/router';\r\nimport {AreaLocatorsService} from '@shared/services/area-locators.service';\r\nimport {AreasService} from '@shared/services/areas.service';\r\nimport {take, tap} from 'rxjs/operators';\r\nimport {Subject, takeUntil} from 'rxjs';\r\nimport {ModalService} from '@shared/services/modal.service';\r\nimport {MenuItem} from 'primeng/api';\r\nimport {InstrumentAndToolsModalsService} from '../../../../services/instrument-and-tools-modals.service';\r\n\r\n@Component({\r\n  selector: 'pek-locators-list',\r\n  templateUrl: './locators-list.component.html',\r\n  styleUrls: ['./locators-list.component.scss']\r\n})\r\nexport class LocatorsListComponent implements OnInit, OnDestroy {\r\n  locators: AreaLocator[];\r\n  selectedNode: AreaLocator;\r\n  activeArea: Area;\r\n  area_id = this.route.snapshot.paramMap.get('areaId');\r\n  private destroy$ = new Subject();\r\n  isLoading: boolean;\r\n\r\n  menuItems: MenuItem[] = [{\r\n    label: 'Selected Area Locator',\r\n    items: [\r\n      {\r\n        label: 'Edit',\r\n        icon: 'pi pi-pencil',\r\n        command: () => this.edit()\r\n      },\r\n      {\r\n        label: 'Remove',\r\n        icon: 'pi pi-trash',\r\n        command: () => this.delete()\r\n      }\r\n    ]\r\n  }];\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private locatorService: AreaLocatorsService,\r\n    private areasService: AreasService,\r\n    private modalService: ModalService,\r\n    private instrumentAndToolsService: InstrumentAndToolsModalsService,\r\n  ) {\r\n    this.getAll();\r\n    this.areasService.getById(this.area_id).pipe(take(1), tap(res => this.activeArea = res), takeUntil(this.destroy$)).subscribe();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  getAll() {\r\n    this.selectedNode = null;\r\n    this.locatorService.get([{ name: 'area', value: this.area_id }]).pipe(take(1), takeUntil(this.destroy$)).subscribe(res => {\r\n      this.locators = res;\r\n    });\r\n  }\r\n\r\n  delete() {\r\n    this.modalService.confirm('danger', 'Confirm').pipe(take(1), takeUntil(this.destroy$)).subscribe(confirm => {\r\n      if (confirm) {\r\n        this.locatorService.delete(this.selectedNode).pipe(take(1), takeUntil(this.destroy$)).subscribe(del => {\r\n          this.getAll();\r\n        })\r\n      }\r\n    });\r\n  }\r\n\r\n  edit() {\r\n    this.instrumentAndToolsService.createEditAreaLocatorModal('edit', this.selectedNode).pipe(takeUntil(this.destroy$)).subscribe(() => {\r\n      this.getAll();\r\n    });\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.destroy$.next(true);\r\n    this.destroy$.complete();\r\n  }\r\n\r\n  createAreaLocator() {\r\n    this.instrumentAndToolsService.createEditAreaLocatorModal('create', null, this.activeArea.id).pipe(takeUntil(this.destroy$)).subscribe(() => {\r\n      this.getAll();\r\n    });\r\n  }\r\n}\r\n","<div class=\"page\">\r\n  <div class=\"page__header\">\r\n    <div class=\"page__title\">\r\n      <pek-module-icon [module]=\"'instruments'\" [isActive]=\"true\"></pek-module-icon>\r\n      <h1>Locators  (Area: <ng-container *ngIf=\"activeArea\">{{activeArea.name}}</ng-container>)</h1>\r\n    </div>\r\n    <div class=\"page__tools\">\r\n      <button\r\n        pButton\r\n        type=\"button\"\r\n        icon=\"pi pi-plus\"\r\n        label=\"New Locator\"\r\n        (click)=\"createAreaLocator()\">\r\n      </button>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n\r\n<div class=\"page__content\">\r\n  <div class=\"page__card\">\r\n    <div class=\"filters-visibility\">\r\n      <div class=\"filters-visibility__header\">\r\n        <ng-container *ngTemplateOutlet=\"actionButtons\"></ng-container>\r\n      </div>\r\n\r\n      <div\r\n        class=\"form mb-3\"\r\n      >\r\n        <div class=\"row\">\r\n          <div class=\"col-3\">\r\n          </div>\r\n          <div class=\"col-3\">\r\n          </div>\r\n          <div class=\"col-2\">\r\n          </div>\r\n          <div class=\"col-2\">\r\n          </div>\r\n          <div class=\"col-2\">\r\n          </div>\r\n          <div class=\"col-10\">\r\n          </div>\r\n          <div class=\"col-2\">\r\n            <ng-container *ngTemplateOutlet=\"actionButtons\"></ng-container>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"page__table\">\r\n      <p-table\r\n        #dt\r\n        selectionMode=\"single\"\r\n        scrollHeight=\"calc(100vh - 335px)\"\r\n        [scrollable]=\"true\"\r\n        [rows]=\"10\"\r\n        [paginator]=\"true\"\r\n        [(selection)]=\"selectedNode\"\r\n        [value]=\"locators\"\r\n      >\r\n        <ng-template pTemplate=\"colgroup\">\r\n          <colgroup>\r\n            <col class=\"index-header\"/>\r\n          </colgroup>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"header\">\r\n          <tr>\r\n            <th style=\"width: 5%\" class=\"index-header\">#</th>\r\n            <th style=\"width: 45%\">Name</th>\r\n            <th style=\"width: 50%\">Description</th>\r\n          </tr>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"body\" let-locator let-i=\"rowIndex\">\r\n          <tr [pSelectableRow]=\"locator\">\r\n            <td style=\"width: 5%\">{{ i + 1 }}</td>\r\n            <td style=\"width: 45%\">{{locator.name}}</td>\r\n            <td style=\"width: 50%\">{{locator.description}}</td>\r\n          </tr>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"emptymessage\" let-columns>\r\n          <tr>\r\n            <td class=\"text-center p-5\" [attr.colspan]=\"6\">\r\n              <span>No Records Found</span>\r\n            </td>\r\n          </tr>\r\n        </ng-template>\r\n      </p-table>\r\n    </div>\r\n<!--    <div [class.paginator-wrap]=\"isLoading\" class=\"paginator-wrapper\">-->\r\n<!--      <p-paginator-->\r\n<!--        #paginator-->\r\n<!--        [rows]=\"10\"-->\r\n<!--        [totalRecords]=\"count\"-->\r\n<!--        (onPageChange)=\"paginate($event)\">-->\r\n<!--      </p-paginator>-->\r\n<!--    </div>-->\r\n  </div>\r\n</div>\r\n\r\n<ng-template #actionButtons>\r\n  <div class=\"action-buttons\">\r\n    <p-menubar class=\"ml-auto\" [model]=\"menuItems\" [class.disabled]=\"!selectedNode\"></p-menubar>\r\n  </div>\r\n</ng-template>\r\n\r\n","import {AfterViewInit, Component, OnDestroy, OnInit, ViewChild} from '@angular/core';\r\nimport {Category} from '../../../product-structure/models/category';\r\nimport {TreeNode} from 'primeng/api';\r\nimport {FormBuilder, FormGroup} from '@angular/forms';\r\nimport {QuerySearch} from '@shared/models/other';\r\nimport {Paginator} from 'primeng/paginator';\r\nimport {WarehouseProduct} from '../../../warehouse/models/warehouse-product';\r\nimport {fromEvent, Subject, takeUntil} from 'rxjs';\r\nimport {WarehouseProductService} from '../../../warehouse/services/warehouse-product.service';\r\nimport {environment} from '@env/environment';\r\nimport {debounceTime, map, tap} from 'rxjs/operators';\r\nimport {InstrumentAndToolsModalsService} from '../../services/instrument-and-tools-modals.service';\r\n\r\n@Component({\r\n  selector: 'pek-instruments-and-tools-list',\r\n  templateUrl: './instruments-and-tools-list.component.html',\r\n  styleUrls: ['./instruments-and-tools-list.component.scss']\r\n})\r\nexport class InstrumentsAndToolsListComponent implements OnInit, OnDestroy, AfterViewInit {\r\n  @ViewChild('paginator') paginator: Paginator;\r\n  @ViewChild('searchBoxName') searchBoxName;\r\n  @ViewChild('searchBoxCode') searchBoxCode;\r\n  link = environment.link_url + 'dash/';\r\n\r\n  searchForm: FormGroup = this.fb.group({\r\n    name: [null],\r\n    code: [null],\r\n    description: [null],\r\n    area: [null],\r\n    category: [null],\r\n    root_categories: [null],\r\n    area_locator: {value: null, disabled: true},\r\n    type: [null],\r\n    acceptedByInvoices: [null],\r\n    page: [1],\r\n  });\r\n\r\n  query: QuerySearch[] = [\r\n    {name: 'page', value: this.searchForm.get('page').value},\r\n    {name: 'paginated', value: true},\r\n    {name: 'at_area', value: false}\r\n  ];\r\n  tableScrollHeight = '29.75rem';\r\n  isHideFilters = false;\r\n  isShowAll = false;\r\n  isLoading = false;\r\n  isStartOnePage = false;\r\n  selectedProduct: WarehouseProduct[] = [];\r\n  queryKey = 'name:null/code:null/description:null/type:null/acceptedByInvoices:null/area:null/area_locator:null/category:null';\r\n  products: WarehouseProduct[] = [];\r\n\r\n  countProducts: number = 0;\r\n  private destroy$ = new Subject();\r\n  constructor(\r\n    private readonly fb: FormBuilder,\r\n    private readonly warehouseProductService: WarehouseProductService,\r\n    private instrumentAndToolsService: InstrumentAndToolsModalsService,\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    fromEvent(this.searchBoxName.nativeElement, 'keyup')\r\n      .pipe(\r\n        tap(() => this.selectedProduct = null),\r\n        map(() => this.searchBoxName.nativeElement.value),\r\n        debounceTime(350),\r\n      ).subscribe(() => {\r\n      this.searchProducts();\r\n    });\r\n\r\n    fromEvent(this.searchBoxCode.nativeElement, 'keyup')\r\n      .pipe(\r\n        tap(() => this.selectedProduct = null),\r\n        map(() => this.searchBoxCode.nativeElement.value),\r\n        debounceTime(350),\r\n      ).subscribe(() => {\r\n      this.searchProducts();\r\n    });\r\n  }\r\n\r\n  onSelectCategory(category: Category) {\r\n    if (category) {\r\n      this.searchForm.get('category').patchValue(category.id);\r\n    } else {\r\n      this.searchForm.get('category').patchValue(null);\r\n    }\r\n\r\n    this.searchProducts();\r\n  }\r\n\r\n  searchProducts() {\r\n    this.isLoading = true;\r\n    this.destroy$.next(true);\r\n    this.selectedProduct = [];\r\n\r\n    const newQueryKey = `name:${this.searchForm.get('name').value}/code:${this.searchForm.get('code').value}/description:${this.searchForm.get('description').value}/type:${this.searchForm.get('type').value}/acceptedByInvoices:${this.searchForm.get('acceptedByInvoices').value}/area:${this.searchForm.get('area').value}/area_locator:${this.searchForm.get('area_locator').value}/category:${this.searchForm.get('category').value}`;\r\n\r\n    if (newQueryKey !== this.queryKey) {\r\n      this.queryKey = newQueryKey;\r\n      this.searchForm.get('page').patchValue(1);\r\n      this.isStartOnePage = true;\r\n    }\r\n\r\n    this.query = [];\r\n\r\n    if (!this.isShowAll) {\r\n      this.query = [\r\n        {name: 'paginated', value: 'true'},\r\n        {name: 'page', value: this.searchForm.get('page').value},\r\n      ];\r\n    }\r\n\r\n    this.query.push({name: 'at_area', value: true});\r\n\r\n    if (this.searchForm.get('name').value) this.query.push({\r\n      name: 'name',\r\n      value: this.searchForm.get('name').value.replace(/\\+/g, '%2b')\r\n    });\r\n\r\n    if (this.searchForm.get('code').value) this.query.push({name: 'code', value: this.searchForm.get('code').value});\r\n\r\n    if (this.searchForm.get('description').value) this.query.push({\r\n      name: 'description',\r\n      value: this.searchForm.get('description').value\r\n    });\r\n\r\n    if (this.searchForm.get('type').value) this.query.push({name: 'type', value: this.searchForm.get('type').value});\r\n\r\n    if (this.searchForm.get('area').value) this.query.push({\r\n      name: 'area',\r\n      value: this.searchForm.get('area').value\r\n    });\r\n\r\n    if (this.searchForm.get('area_locator').value) this.query.push({\r\n      name: 'area_locator',\r\n      value: this.searchForm.get('area_locator').value\r\n    });\r\n\r\n    if (this.searchForm.get('category').value) this.query.push({\r\n      name: 'category',\r\n      value: this.searchForm.get('category').value\r\n    });\r\n\r\n    if (this.searchForm.get('root_categories').value) this.query.push({\r\n      name: 'root_categories',\r\n      value: this.searchForm.get('root_categories').value\r\n    });\r\n\r\n    if (this.searchForm.get('acceptedByInvoices').value !== null) this.query.push({\r\n      name: 'accepted_by_invoices',\r\n      value: this.searchForm.get('acceptedByInvoices').value\r\n    });\r\n\r\n    if (!this.isShowAll) {\r\n      this.getProductsForPagination();\r\n    } else {\r\n      this.searchForm.get('page').patchValue(1);\r\n      this.getProducts();\r\n    }\r\n  }\r\n\r\n  getProductsForPagination() {\r\n    this.warehouseProductService.getGroupedPagination(this.query).pipe(\r\n      takeUntil(this.destroy$)\r\n    ).subscribe(response => {\r\n      response.results.forEach((product: any, idx) => {\r\n        if (!product.nomenclature) {\r\n          product.nomenclature = {\r\n            id: product.nomenclature_id,\r\n            code: product.code,\r\n            name: product.name,\r\n            type: product.type,\r\n            category: product.category,\r\n            description: product.description,\r\n          };\r\n        }\r\n\r\n        product.checkedForGeneration = false;\r\n        product.uid = idx;\r\n      });\r\n\r\n      this.products = response.results;\r\n      this.countProducts = response.count;\r\n\r\n      if (this.isStartOnePage) {\r\n        this.paginator?.changePage(0);\r\n      }\r\n\r\n      this.isStartOnePage = false;\r\n\r\n      this.isLoading = false;\r\n    });\r\n  }\r\n\r\n  toggleFilterVisibility() {\r\n    this.isHideFilters = !this.isHideFilters;\r\n\r\n    this.setTableScrollHeight();\r\n  }\r\n\r\n  setTableScrollHeight() {\r\n    if (this.isHideFilters && !this.isShowAll) {\r\n      this.tableScrollHeight = '20.875rem';\r\n      return;\r\n    }\r\n\r\n    if (this.isHideFilters && this.isShowAll) {\r\n      this.tableScrollHeight = '18.25rem';\r\n      return;\r\n    }\r\n\r\n    if (!this.isHideFilters && this.isShowAll) {\r\n      this.tableScrollHeight = '27.5rem';\r\n      return;\r\n    }\r\n\r\n    if (!this.isHideFilters && !this.isShowAll) {\r\n      this.tableScrollHeight = '29.75rem';\r\n      return;\r\n    }\r\n  }\r\n\r\n  onSelectProductStructureCategory(ids: number[]) {\r\n    if (ids) {\r\n      this.searchForm.get('root_categories').patchValue(ids.join(','));\r\n    } else {\r\n      this.searchForm.get('root_categories').patchValue('');\r\n    }\r\n\r\n    this.searchProducts();\r\n  }\r\n\r\n  selectWarehouse(areaId: number) {\r\n    let value = null;\r\n    if (areaId) value = areaId;\r\n    this.searchForm.get('area').patchValue(value);\r\n    this.searchProducts();\r\n  }\r\n\r\n  onSelectLocator(id: number) {\r\n    this.searchForm.get('area_locator').patchValue(id);\r\n    this.searchProducts();\r\n  }\r\n\r\n  getProducts() {\r\n    this.warehouseProductService.getGrouped(this.query).pipe(\r\n      takeUntil(this.destroy$)\r\n    ).subscribe(response => {\r\n      response.forEach((product: any, idx) => {\r\n        if (!product.nomenclature) {\r\n          product.nomenclature = {\r\n            id: product.nomenclature_id,\r\n            code: product.code,\r\n            name: product.name,\r\n            type: product.type,\r\n            category: product.category,\r\n            description: product.description,\r\n          };\r\n        }\r\n\r\n        product.checkedForGeneration = false;\r\n        product.uid = idx;\r\n      });\r\n\r\n      this.products = response;\r\n      this.countProducts = response.length;\r\n\r\n      if (this.isStartOnePage) {\r\n        this.paginator?.changePage(0);\r\n      }\r\n\r\n      this.isStartOnePage = false;\r\n      this.isLoading = false;\r\n    });\r\n  }\r\n\r\n  onShowAll() {\r\n    this.isShowAll = true;\r\n    this.setTableScrollHeight();\r\n    this.searchProducts();\r\n  }\r\n\r\n  onShowPartial() {\r\n    this.isShowAll = false;\r\n    this.setTableScrollHeight();\r\n    this.searchProducts();\r\n  }\r\n\r\n  paginate(evt: any) {\r\n    if (!this.isStartOnePage) {\r\n      this.searchForm.get('page').patchValue(evt.page + 1);\r\n      this.searchProducts();\r\n    }\r\n  }\r\n\r\n  returnToQc() {\r\n    this.instrumentAndToolsService.productWriteOfReturnModal(this.selectedProduct, 'warehouseReturn').subscribe(() => {\r\n      this.selectedProduct = null;\r\n      this.searchProducts();\r\n    });\r\n  }\r\n\r\n  writeOff() {\r\n    this.instrumentAndToolsService.productWriteOfReturnModal(this.selectedProduct, 'writeOff').subscribe(() => {\r\n      this.selectedProduct = null;\r\n      this.searchProducts();\r\n    });\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.destroy$.next(true);\r\n    this.destroy$.complete();\r\n  }\r\n\r\n  onMoveProduct() {\r\n    this.instrumentAndToolsService.productMoveToAreaLocatorModal(this.selectedProduct[0]).subscribe(response => {\r\n      if (response) {\r\n        this.searchProducts();\r\n      }\r\n    });\r\n  }\r\n}\r\n","<div class=\"page\">\r\n  <div class=\"page__header\">\r\n    <div class=\"page__title\">\r\n      <pek-module-icon [module]=\"'instruments'\" [isActive]=\"true\"></pek-module-icon>\r\n      <h1>Instruments And Tools</h1>\r\n    </div>\r\n    <div class=\"page__tools\" *ngIf=\"selectedProduct && selectedProduct.length\">\r\n      <div class=\"page__tools\">\r\n        <button\r\n          class=\"mr-2\"\r\n          pButton\r\n          type=\"button\"\r\n          label=\"Move\"\r\n          [disabled]=\"selectedProduct.length > 1\"\r\n          (click)=\"onMoveProduct()\"\r\n        >\r\n        </button>\r\n        <button\r\n          class=\"mr-2\"\r\n          pButton\r\n          type=\"button\"\r\n          label=\"Return To Warehouse\"\r\n          (click)=\"returnToQc()\"\r\n        >\r\n        </button>\r\n        <button\r\n          class=\"mr-2\"\r\n          pButton\r\n          type=\"button\"\r\n          label=\"Write Off\"\r\n          (click)=\"writeOff()\"\r\n        >\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n\r\n<div class=\"page__content\">\r\n  <div class=\"page__card\">\r\n    <div class=\"warehouse-items\">\r\n      <div class=\"warehouse-items__left\">\r\n        <div class=\"form-group\">\r\n          <pek-categories-tree-picker (categorySelected)=\"onSelectCategory($event)\"></pek-categories-tree-picker>\r\n        </div>\r\n      </div>\r\n      <div class=\"warehouse-items__right\">\r\n        <div class=\"page__table\">\r\n          <div class=\"filters-visibility\" [class.filters-visibility_hide]=\"isHideFilters\">\r\n            <div class=\"filters-visibility__header\"></div>\r\n\r\n            <button\r\n              class=\"icon pi\"\r\n              [class.pi-angle-double-up]=\"!isHideFilters\"\r\n              [class.pi-angle-double-down]=\"isHideFilters\"\r\n              (click)=\"toggleFilterVisibility()\"\r\n            ></button>\r\n\r\n            <form\r\n              [formGroup]=\"searchForm\"\r\n              class=\"warehouse-items__form mb-3\"\r\n            >\r\n              <div class=\"row\">\r\n                <div class=\"col-4\">\r\n                  <div class=\"form-group\">\r\n                    <label>Code</label>\r\n                    <input class=\"form-control\" formControlName=\"code\" pInputText #searchBoxCode>\r\n                  </div>\r\n                </div>\r\n                <div class=\"col-4\">\r\n                  <div class=\"form-group\">\r\n                    <label>Name</label>\r\n                    <input class=\"form-control\" formControlName=\"name\" pInputText #searchBoxName>\r\n                  </div>\r\n                </div>\r\n                <div class=\"col-4\">\r\n                  <div class=\"row\">\r\n                    <div class=\"col-6\">\r\n                      <div class=\"form-group\">\r\n                        <label>Area</label>\r\n                        <pek-area-picker [showClear]=\"true\" (valueChange)=\"selectWarehouse($event)\"></pek-area-picker>\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"col-6\">\r\n                      <div class=\"form-group\">\r\n                        <label>Area Locator</label>\r\n                        <pek-area-locator-picker\r\n                          [isDisabled]=\"!searchForm.get('area').value\"\r\n                          [areaId]=\"searchForm.get('area').value\"\r\n                          (valueChange)=\"onSelectLocator($event)\"\r\n                        ></pek-area-locator-picker>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"col-4\">\r\n                  <div class=\"form-group\">\r\n                    <label>Product Structure Category</label>\r\n                    <pek-product-structure-category-picker\r\n                      [isAllIds]=\"true\"\r\n                      (choiceCategoryFolAllIds)=\"onSelectProductStructureCategory($event)\"\r\n                    ></pek-product-structure-category-picker>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </form>\r\n          </div>\r\n          <div class=\"table-pagination-preloader\">\r\n            <p-table\r\n              #dt\r\n              selectionMode=\"multiple\"\r\n              [scrollHeight]=\"'calc(100vh - ' + tableScrollHeight + ')'\"\r\n              dataKey=\"uid\"\r\n              [scrollable]=\"true\"\r\n              [rows]=\"10\"\r\n              [(selection)]=\"selectedProduct\"\r\n              [value]=\"products\"\r\n            >\r\n              <ng-template pTemplate=\"header\">\r\n                <tr>\r\n                  <th class=\"index-header text-center\" style=\"width: 5%\">#</th>\r\n                  <th style=\"width: 15%\">Code</th>\r\n                  <th style=\"width: 15%\">Name</th>\r\n                  <th class=\"text-center\" style=\"width: 10%\">Quantity</th>\r\n                  <th class=\"text-center\" style=\"width: 6%\">UOM</th>\r\n                  <th class=\"text-center\" style=\"width: 13%\">Category</th>\r\n                  <th class=\"text-center\" style=\"width: 12%\">Area</th>\r\n                  <th class=\"text-center\" style=\"width: 14%\">Locator</th>\r\n                </tr>\r\n              </ng-template>\r\n              <ng-template pTemplate=\"body\" let-product let-i=\"rowIndex\">\r\n                <tr [pSelectableRow]=\"product\" [pRowToggler]=\"product\">\r\n                  <td style=\"width: 5%\" class=\"text-center\">\r\n                    {{(this.searchForm.get('page').value - 1) * 10 + i + 1}}\r\n                  </td>\r\n                  <td style=\"width: 15%\">\r\n                    {{product.nomenclature.code}}\r\n                  </td>\r\n                  <td style=\"width: 15%\" class=\"in-use\">\r\n                    <b *ngIf=\"product.nomenclature.bulk_or_serial === '1'\">(S)</b>\r\n                    <b *ngIf=\"product.nomenclature.has_technical_equipment\">(T)</b>\r\n                    {{product.nomenclature.name}}\r\n                    <span class=\"text-danger\" *ngIf=\"product.used_by_order && product.used_by_order.length > 0\">\r\n                      <b>In Use</b>\r\n\r\n                      <div class=\"in-use-info\">\r\n                        <p>In use by orders:</p>\r\n                        <div *ngFor=\"let order of product.used_by_order\">\r\n                          <a *ngIf=\"order.accounting_type === 3\" [href]=\"link + 'production/orders/order/' + order.order_id\"\r\n                             target=\"_blank\">{{order.order_id}}\r\n                          </a>\r\n                          <a *ngIf=\"order.accounting_type === 2\" [href]=\"link + 'outsource/outsource-chain/products/' + order.order_id\"\r\n                             target=\"_blank\">{{order.order_id}}\r\n                          </a>\r\n                        </div>\r\n                      </div>\r\n                    </span>\r\n                  </td>\r\n                  <td style=\"width: 10%\" class=\"text-center\">\r\n                    {{product.total_locator_quantity}}\r\n                  </td>\r\n                  <td style=\"width: 6%\" class=\"text-center\">\r\n                    <ng-container *ngIf=\"product.nomenclature.category || product.nomenclature.root_category\">\r\n                      <ng-container *ngIf=\"product.nomenclature.category\">\r\n                        {{product.nomenclature.category?.unit_of_measure?.symbol ? product.nomenclature.category?.unit_of_measure?.symbol : 'Pcs'}}\r\n                      </ng-container>\r\n                      <ng-container *ngIf=\"product.nomenclature.root_category\">\r\n                        {{product.nomenclature.root_category?.unit_of_measure?.symbol ? product.nomenclature.root_category?.unit_of_measure?.symbol : 'Pcs' }}\r\n                      </ng-container>\r\n                    </ng-container>\r\n\r\n                    <span *ngIf=\"!product.nomenclature.category && !product.nomenclature.root_category\">\r\n                    Pcs\r\n                  </span>\r\n                  </td>\r\n                  <td style=\"width: 13%\" class=\"text-center\">\r\n                    {{product.nomenclature.category?.name}}\r\n                    {{product.nomenclature.root_category?.name}}\r\n                  </td>\r\n                  <td>\r\n                    <ng-container *ngIf=\"product.area_locator\">{{product.area_locator.area.name}}</ng-container>\r\n                  </td>\r\n                  <td style=\"width: 14%\" class=\"text-center\">\r\n                    <ng-container *ngIf=\"product.area_locator\">{{product.area_locator.name}}</ng-container>\r\n                  </td>\r\n                </tr>\r\n              </ng-template>\r\n              <ng-template pTemplate=\"emptymessage\">\r\n                <tr>\r\n                  <td class=\"text-center p-4\" [attr.colspan]=\"9\">\r\n                    <i *ngIf=\"isLoading\" class=\"pi pi-spin pi-spinner\" style=\"font-size: 2.25rem\"></i>\r\n                    <span *ngIf=\"!isLoading\">No Records Found</span>\r\n                  </td>\r\n                </tr>\r\n              </ng-template>\r\n            </p-table>\r\n            <div class=\"pagination-preloader pagination-preloader_bord\" *ngIf=\"isLoading\">\r\n              <i class=\"pi pi-spin pi-spinner\" style=\"font-size: 2.25rem\"></i>\r\n            </div>\r\n          </div>\r\n          <div\r\n            class=\"paginator-wrapper\"\r\n            *ngIf=\"!isShowAll\"\r\n            [class.paginator-wrapper_hide]=\"products.length === 0\"\r\n          >\r\n            <p-paginator\r\n              #paginator\r\n              [rows]=\"10\"\r\n              [totalRecords]=\"countProducts\"\r\n              (onPageChange)=\"paginate($event)\">\r\n            </p-paginator>\r\n            <p-button\r\n              (click)=\"onShowAll()\"\r\n              class=\"paginator-all\"\r\n              type=\"button\"\r\n              styleClass=\"p-button-text\"\r\n            >\r\n              All\r\n            </p-button>\r\n          </div>\r\n          <div *ngIf=\"isShowAll\" class=\"paginator-return-pagination\">\r\n            <p-button\r\n              type=\"button\"\r\n              (click)=\"onShowPartial()\"\r\n              styleClass=\"p-button-text\"\r\n            >\r\n              Return pagination\r\n            </p-button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport {NavigationLink} from '../../../layout/navigation-route';\r\n\r\n@Component({\r\n  selector: 'pek-instruments-layout',\r\n  templateUrl: './instruments-layout.component.html',\r\n  styleUrls: ['./instruments-layout.component.scss']\r\n})\r\nexport class InstrumentsLayoutComponent implements OnInit {\r\n  routes: NavigationLink[] = [\r\n    {label: 'Instruments And Tools', commands: ['instruments-and-tools']},\r\n    {label: 'Areas', commands: ['areas']},\r\n    {label: 'Tool Request', commands: ['tool-request']}\r\n  ];\r\n\r\n  settingsRoutes: NavigationLink[] = []\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<pek-header\r\n  [module]=\"'Instruments'\"\r\n  [routes]=\"routes\"\r\n  [settingsRoutes]=\"settingsRoutes\"\r\n></pek-header>\r\n<router-outlet></router-outlet>\r\n","import {Component, OnDestroy, OnInit} from '@angular/core';\r\nimport {ToolOrder} from '../../../../warehouse/models/tool-order';\r\nimport {ActivatedRoute} from '@angular/router';\r\nimport {ToolRequestService} from '../../../../warehouse/services/tool-request.service';\r\nimport {ToolOrderService} from '../../../../warehouse/services/tool-order.service';\r\nimport {ToolRequest} from '../../../../warehouse/services/tool-request';\r\nimport {take, tap} from 'rxjs/operators';\r\nimport {Subject, takeUntil} from 'rxjs';\r\nimport {MenuItem} from 'primeng/api';\r\nimport {InstrumentAndToolsModalsService} from '../../../services/instrument-and-tools-modals.service';\r\nimport {ModalService} from '@shared/services/modal.service';\r\n\r\n@Component({\r\n  selector: 'pek-request-orders-list',\r\n  templateUrl: './request-orders-list.component.html',\r\n  styleUrls: ['./request-orders-list.component.scss']\r\n})\r\nexport class RequestOrdersListComponent implements OnInit, OnDestroy {\r\n  activeOrder: ToolOrder;\r\n  orderId = this.route.snapshot.paramMap.get('orderId');\r\n  selectedNode: ToolRequest;\r\n  requests: ToolRequest[];\r\n  private destroy$ = new Subject();\r\n\r\n  menuItems: MenuItem[] = [{\r\n    label: 'Selected Request Nomenclature',\r\n    items: [\r\n      {\r\n        label: 'Edit',\r\n        icon: 'pi pi-pencil',\r\n        command: () => this.edit()\r\n      },\r\n      {\r\n        label: 'Remove',\r\n        icon: 'pi pi-trash',\r\n        command: () => this.delete()\r\n      }\r\n    ]\r\n  }];\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private toolRequestService: ToolRequestService,\r\n    private toolOrderService: ToolOrderService,\r\n    private instrumentAndToolsService: InstrumentAndToolsModalsService,\r\n    private modalService: ModalService,\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.getAll();\r\n    this.getCurrentOrder();\r\n  }\r\n\r\n  getCurrentOrder() {\r\n    this.toolOrderService.getById(+this.orderId).pipe(\r\n      take(1),\r\n      tap(res => this.activeOrder = res),\r\n      takeUntil(this.destroy$)).subscribe();\r\n  }\r\n\r\n  add() {\r\n    this.instrumentAndToolsService.createEditToolRequestNomenclatureModal('create', this.activeOrder.id).subscribe(() => {\r\n      this.getAll();\r\n    });\r\n  }\r\n\r\n  getAll() {\r\n    this.selectedNode = null;\r\n    this.toolRequestService.get([{name: 'tool_order', value: this.orderId}, {\r\n      name: 'is_completed',\r\n      value: false\r\n    }]).pipe(\r\n      take(1),\r\n      takeUntil(this.destroy$)).subscribe(res => {\r\n      this.requests = res;\r\n    });\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.destroy$.next(true);\r\n    this.destroy$.complete();\r\n  }\r\n\r\n  private edit() {\r\n    this.instrumentAndToolsService.createEditToolRequestNomenclatureModal('edit', this.activeOrder.id, this.selectedNode).subscribe(() => {\r\n      this.getAll();\r\n    });\r\n  }\r\n\r\n  private delete() {\r\n    this.modalService.confirm('danger', 'Confirm').pipe(take(1), takeUntil(this.destroy$)).subscribe(confirm => {\r\n      if (confirm) {\r\n        this.toolRequestService.delete(this.selectedNode).pipe(take(1), takeUntil(this.destroy$)).subscribe(del => {\r\n          this.getAll();\r\n        })\r\n      }\r\n    });\r\n  }\r\n}\r\n","<div class=\"page\">\r\n  <div class=\"page__header\">\r\n    <div class=\"page__title\">\r\n      <pek-module-icon [module]=\"'instruments'\" [isActive]=\"true\"></pek-module-icon>\r\n      <h1>Requests\r\n        <ng-container *ngIf=\"activeOrder\">Order ID: {{activeOrder.id}} Area:  {{activeOrder.area_locator.area.name}}\r\n          Locator: {{activeOrder.area_locator.name}}</ng-container>\r\n      </h1>\r\n    </div>\r\n    <div class=\"page__tools\">\r\n      <button\r\n        pButton\r\n        type=\"button\"\r\n        icon=\"pi pi-plus\"\r\n        label=\"New Request\"\r\n        (click)=\"add()\">\r\n      </button>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n\r\n<div class=\"page__content\">\r\n  <div class=\"page__card\">\r\n    <div class=\"filters-visibility\">\r\n      <div class=\"filters-visibility__header\">\r\n        <ng-container *ngTemplateOutlet=\"actionButtons\"></ng-container>\r\n      </div>\r\n\r\n      <div\r\n        class=\"form mb-3\"\r\n      >\r\n        <div class=\"row\">\r\n          <div class=\"col-3\">\r\n          </div>\r\n          <div class=\"col-3\">\r\n          </div>\r\n          <div class=\"col-2\">\r\n          </div>\r\n          <div class=\"col-2\">\r\n          </div>\r\n          <div class=\"col-2\">\r\n          </div>\r\n          <div class=\"col-10\">\r\n          </div>\r\n          <div class=\"col-2\">\r\n            <ng-container *ngTemplateOutlet=\"actionButtons\"></ng-container>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"page__table\">\r\n      <p-table\r\n        #dt\r\n        selectionMode=\"single\"\r\n        scrollHeight=\"calc(100vh - 335px)\"\r\n        [scrollable]=\"true\"\r\n        [rows]=\"10\"\r\n        [paginator]=\"true\"\r\n        [(selection)]=\"selectedNode\"\r\n        [value]=\"requests\"\r\n      >\r\n        <ng-template pTemplate=\"colgroup\">\r\n          <colgroup>\r\n            <col class=\"index-header\"/>\r\n          </colgroup>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"header\">\r\n          <tr>\r\n            <th style=\"width: 5%\" class=\"index-header\">#</th>\r\n            <th style=\"width: 35%\">Code</th>\r\n            <th style=\"width: 30%\">Name</th>\r\n            <th style=\"width: 30%\">Requested Quantity</th>\r\n          </tr>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"body\" let-request let-i=\"rowIndex\">\r\n          <tr [pSelectableRow]=\"request\">\r\n            <td style=\"width: 5%\">{{ i + 1 }}</td>\r\n            <td style=\"width: 35%\">{{request.nomenclature.code}}</td>\r\n            <td style=\"width: 30%\">{{request.nomenclature.name}}</td>\r\n            <td style=\"width: 30%\">{{request.required_quantity}}</td>\r\n          </tr>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"emptymessage\" let-columns>\r\n          <tr>\r\n            <td class=\"text-center p-5\" [attr.colspan]=\"6\">\r\n              <span>No Records Found</span>\r\n            </td>\r\n          </tr>\r\n        </ng-template>\r\n      </p-table>\r\n    </div>\r\n    <!--    <div [class.paginator-wrap]=\"isLoading\" class=\"paginator-wrapper\">-->\r\n    <!--      <p-paginator-->\r\n    <!--        #paginator-->\r\n    <!--        [rows]=\"10\"-->\r\n    <!--        [totalRecords]=\"count\"-->\r\n    <!--        (onPageChange)=\"paginate($event)\">-->\r\n    <!--      </p-paginator>-->\r\n    <!--    </div>-->\r\n  </div>\r\n</div>\r\n\r\n<ng-template #actionButtons>\r\n  <div class=\"action-buttons\">\r\n    <p-menubar class=\"ml-auto\" [model]=\"menuItems\" [class.disabled]=\"!selectedNode\"></p-menubar>\r\n  </div>\r\n</ng-template>\r\n\r\n","import {Component, OnDestroy, OnInit, ViewChild} from '@angular/core';\r\nimport {Paginator} from 'primeng/paginator';\r\nimport {Area} from '../../../warehouse/models/area-locator';\r\nimport {Subject, takeUntil} from 'rxjs';\r\nimport {FormBuilder, FormGroup} from '@angular/forms';\r\nimport {MenuItem} from 'primeng/api';\r\nimport {QuerySearch} from '@shared/models/other';\r\nimport {AreasService} from '@shared/services/areas.service';\r\nimport {InstrumentAndToolsModalsService} from '../../services/instrument-and-tools-modals.service';\r\nimport {ModalService} from '@shared/services/modal.service';\r\nimport {ActivatedRoute, Router} from '@angular/router';\r\nimport {take} from 'rxjs/operators';\r\nimport {ToolOrderService} from '../../../warehouse/services/tool-order.service';\r\nimport {ToolOrder} from '../../../warehouse/models/tool-order';\r\n\r\n@Component({\r\n  selector: 'pek-tool-requests-list',\r\n  templateUrl: './tool-requests-list.component.html',\r\n  styleUrls: ['./tool-requests-list.component.scss']\r\n})\r\nexport class ToolRequestsListComponent implements OnInit, OnDestroy {\r\n  @ViewChild('paginator') paginator: Paginator;\r\n  requests: ToolOrder[];\r\n  selectedNode: ToolOrder;\r\n  isLoading = true;\r\n  private destroy$ = new Subject();\r\n  isShowAll: boolean;\r\n  isStartOnePage = false;\r\n  count: number;\r\n  searchForm: FormGroup = this.fb.group({\r\n    page: [1],\r\n  });\r\n\r\n  menuItems: MenuItem[] = [{\r\n    label: 'Selected Tool Request',\r\n    items: [\r\n      {\r\n        label: 'Nomenclatures',\r\n        icon: 'pi pi-bars',\r\n        command: () => this.editNomenclatures()\r\n      },\r\n      {\r\n        label: 'Edit',\r\n        icon: 'pi pi-pencil',\r\n        command: () => this.edit()\r\n      },\r\n      {\r\n        label: 'Remove',\r\n        icon: 'pi pi-trash',\r\n        command: () => this.deleteRequest()\r\n      }\r\n    ]\r\n  }];\r\n\r\n  query: QuerySearch[] = [\r\n    {name: 'paginated', value: true},\r\n    {name: 'page', value: this.searchForm.get('page').value}\r\n  ];\r\n  constructor(\r\n    private toolOrderService: ToolOrderService,\r\n    private instrumentAndToolsService: InstrumentAndToolsModalsService,\r\n    private fb: FormBuilder,\r\n    private modalService: ModalService,\r\n    private router: Router,\r\n    private activatedRoute: ActivatedRoute,\r\n  ) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.search();\r\n  }\r\n\r\n  prepareQuery(): void {\r\n    this.query = [];\r\n\r\n    this.query = [\r\n      {name: 'page', value: this.searchForm.get('page').value},\r\n      {name: 'paginated', value: true},\r\n      {name: 'is_completed', value: false},\r\n    ];\r\n  }\r\n\r\n\r\n\r\n  ngOnDestroy() {\r\n    this.destroy$.next(true);\r\n    this.destroy$.complete();\r\n  }\r\n\r\n  search(): void {\r\n    this.prepareQuery();\r\n    if (!this.isShowAll) {\r\n      this.getPaginated();\r\n    } else {\r\n      this.searchForm.get('page').patchValue(1);\r\n      this.getAll();\r\n    }\r\n  }\r\n\r\n  getAll() {\r\n    this.selectedNode = null;\r\n    this.toolOrderService.get().pipe(take(1)).pipe(takeUntil(this.destroy$)).subscribe(res => {\r\n      this.requests = res;\r\n      this.selectedNode = null;\r\n      if (this.isStartOnePage) {\r\n        this.paginator?.changePage(0);\r\n        this.isLoading = false;\r\n      }\r\n    });\r\n  }\r\n\r\n  getPaginated() {\r\n    this.toolOrderService\r\n      .get_paginated(this.query)\r\n      .pipe(take(1), takeUntil(this.destroy$))\r\n      .subscribe((res) => {\r\n        this.count = res.count;\r\n        this.requests = res.results;\r\n        this.selectedNode = null;\r\n      });\r\n  }\r\n\r\n  paginate(evt: any) {\r\n    if (!this.isStartOnePage) {\r\n      this.searchForm.get('page').patchValue(evt.page + 1);\r\n      this.search();\r\n    }\r\n  }\r\n\r\n  onShowAll() {\r\n    this.isShowAll = true;\r\n    this.search();\r\n  }\r\n\r\n  onShowPartial() {\r\n    this.isShowAll = false;\r\n    this.search();\r\n  }\r\n\r\n  private edit() {\r\n    this.instrumentAndToolsService.createEditToolRequestModal('edit', this.selectedNode).pipe(takeUntil(this.destroy$)).subscribe(res => {\r\n      this.search();\r\n    });\r\n  }\r\n\r\n  private deleteRequest() {\r\n    this.modalService\r\n      .confirm('danger', 'Confirm')\r\n      .pipe(take(1), takeUntil(this.destroy$))\r\n      .subscribe((confirm) => {\r\n        if (confirm) {\r\n          this.toolOrderService\r\n            .delete(this.selectedNode)\r\n            .pipe(take(1), takeUntil(this.destroy$))\r\n            .subscribe((del) => {\r\n              this.search();\r\n            });\r\n        }\r\n      });\r\n  }\r\n\r\n  createArea() {\r\n    this.instrumentAndToolsService.createEditToolRequestModal('create').pipe(takeUntil(this.destroy$)).subscribe(res => {\r\n      this.router.navigate(['requests', res.id], {relativeTo: this.activatedRoute});\r\n    });\r\n  }\r\n\r\n  private editNomenclatures() {\r\n    this.router.navigate(['requests', this.selectedNode.id], {relativeTo: this.activatedRoute});\r\n  }\r\n}\r\n","<div class=\"page\">\r\n  <div class=\"page__header\">\r\n    <div class=\"page__title\">\r\n      <pek-module-icon [module]=\"'instruments'\" [isActive]=\"true\"></pek-module-icon>\r\n      <h1>Tool Request</h1>\r\n    </div>\r\n    <div class=\"page__tools\">\r\n      <button\r\n        pButton\r\n        type=\"button\"\r\n        icon=\"pi pi-plus\"\r\n        label=\"New Request\"\r\n        (click)=\"createArea()\">\r\n      </button>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n\r\n<div class=\"page__content\">\r\n  <div class=\"page__card\">\r\n    <div class=\"filters-visibility\">\r\n      <div class=\"filters-visibility__header\">\r\n        <ng-container *ngTemplateOutlet=\"actionButtons\"></ng-container>\r\n      </div>\r\n\r\n      <form\r\n        [formGroup]=\"searchForm\"\r\n        class=\"form mb-3\"\r\n      >\r\n        <div class=\"row\">\r\n          <div class=\"col-3\">\r\n          </div>\r\n          <div class=\"col-3\">\r\n          </div>\r\n          <div class=\"col-2\">\r\n          </div>\r\n          <div class=\"col-2\">\r\n          </div>\r\n          <div class=\"col-2\">\r\n          </div>\r\n          <div class=\"col-10\">\r\n          </div>\r\n          <div class=\"col-2\">\r\n            <ng-container *ngTemplateOutlet=\"actionButtons\"></ng-container>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </div>\r\n    <div class=\"page__table\">\r\n      <p-table\r\n        #dt\r\n        selectionMode=\"single\"\r\n        scrollHeight=\"calc(100vh - 335px)\"\r\n        [scrollable]=\"true\"\r\n        [rows]=\"10\"\r\n        [(selection)]=\"selectedNode\"\r\n        [value]=\"requests\"\r\n      >\r\n        <ng-template pTemplate=\"colgroup\">\r\n          <colgroup>\r\n            <col class=\"index-header\"/>\r\n          </colgroup>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"header\">\r\n          <tr>\r\n            <th style=\"width: 5%\" class=\"text-center\">#</th>\r\n            <th style=\"width: 30%\" class=\"text-center\">Area</th>\r\n            <th style=\"width: 30%\" class=\"text-center\">Locator</th>\r\n            <th style=\"width: 35%\" class=\"text-center\">Creation Date</th>\r\n          </tr>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"body\" let-order let-i=\"rowIndex\">\r\n          <tr [pSelectableRow]=\"order\">\r\n            <td style=\"width: 5%\" class=\"text-center\">{{ i + 1 }}</td>\r\n            <td style=\"width: 30%\" class=\"text-center\">{{order.area_locator.area.name}}</td>\r\n            <td style=\"width: 30%\" class=\"text-center\" >{{order.area_locator.name}}</td>\r\n            <td style=\"width: 35%\" class=\"text-center\">{{order.created | date: 'dd/MM/yyyy'}}</td>\r\n          </tr>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"emptymessage\">\r\n          <tr>\r\n            <td class=\"text-center p-4\" [attr.colspan]=\"9\">\r\n              <i *ngIf=\"isLoading\" class=\"pi pi-spin pi-spinner\" style=\"font-size: 2.25rem\"></i>\r\n              <span *ngIf=\"!isLoading\">No Records Found</span>\r\n            </td>\r\n          </tr>\r\n        </ng-template>\r\n      </p-table>\r\n    </div>\r\n    <div *ngIf=\"!isShowAll\" [class.paginator-wrap]=\"isLoading\" class=\"paginator-wrapper\">\r\n      <p-paginator\r\n        #paginator\r\n        [rows]=\"10\"\r\n        [totalRecords]=\"count\"\r\n        (onPageChange)=\"paginate($event)\">\r\n      </p-paginator>\r\n      <p-button\r\n        class=\"paginator-all\"\r\n        type=\"button\"\r\n        styleClass=\"p-button-text\"\r\n        (click)=\"onShowAll()\"\r\n      >\r\n        All\r\n      </p-button>\r\n    </div>\r\n    <div *ngIf=\"isShowAll\" class=\"paginator-return-pagination\">\r\n      <p-button\r\n        type=\"button\"\r\n        (click)=\"onShowPartial()\"\r\n        styleClass=\"p-button-text\"\r\n      >\r\n        Return pagination\r\n      </p-button>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<ng-template #actionButtons>\r\n  <div class=\"action-buttons\">\r\n    <p-menubar class=\"ml-auto\" [model]=\"menuItems\" [class.disabled]=\"!selectedNode\"></p-menubar>\r\n  </div>\r\n</ng-template>\r\n\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport {InstrumentsLayoutComponent} from './components/instruments-layout/instruments-layout.component';\r\nimport {\r\n  InstrumentsAndToolsListComponent\r\n} from './components/instruments-and-tools-list/instruments-and-tools-list.component';\r\nimport {AreaListComponent} from './components/area-list/area-list.component';\r\nimport {ToolRequestsListComponent} from './components/tool-requests-list/tool-requests-list.component';\r\nimport {\r\n  RequestOrdersListComponent\r\n} from './components/tool-requests-list/request-orders-list/request-orders-list.component';\r\nimport {LocatorsListComponent} from './components/area-list/components/locators-list/locators-list.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    title: 'Instruments',\r\n    component: InstrumentsLayoutComponent,\r\n    children: [\r\n      {\r\n        path: 'instruments-and-tools',\r\n        title: 'Instruments And Tools',\r\n        component: InstrumentsAndToolsListComponent\r\n      },\r\n      {\r\n        path: 'areas',\r\n        title: 'Areas',\r\n        component: AreaListComponent\r\n      },\r\n      {\r\n        path: 'areas/locators/:areaId',\r\n        title: 'Areas',\r\n        component: LocatorsListComponent\r\n      },\r\n      {path: 'tool-request',\r\n        component: ToolRequestsListComponent},\r\n      {path: 'tool-request/requests/:orderId',\r\n        component: RequestOrdersListComponent},\r\n    ]\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class InstrumentsRoutingModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { InstrumentsRoutingModule } from './instruments-routing.module';\r\nimport { InstrumentsLayoutComponent } from './components/instruments-layout/instruments-layout.component';\r\nimport {LayoutModule} from '../layout/layout.module';\r\nimport {\r\n  InstrumentsAndToolsListComponent\r\n} from './components/instruments-and-tools-list/instruments-and-tools-list.component';\r\nimport {ToolRequestsListComponent} from './components/tool-requests-list/tool-requests-list.component';\r\nimport {\r\n  RequestOrdersListComponent\r\n} from './components/tool-requests-list/request-orders-list/request-orders-list.component';\r\nimport {AreaListComponent} from './components/area-list/area-list.component';\r\nimport {LocatorsListComponent} from './components/area-list/components/locators-list/locators-list.component';\r\nimport {SharedModule} from '@shared/shared.module';\r\nimport {CreateEditAreaComponent} from './modals/create-edit-area/create-edit-area.component';\r\nimport { CreateEditAreaLocatorComponent } from './modals/create-edit-area-locator/create-edit-area-locator.component';\r\nimport { CreateEditToolRequestComponent } from './modals/create-edit-tool-request/create-edit-tool-request.component';\r\nimport { CreateUpdateToolOrderRequestComponent } from './modals/create-update-tool-order-request/create-update-tool-order-request.component';\r\nimport { ProductMoveToAreaLocatorComponent } from './modals/product-move-to-area-locator/product-move-to-area-locator.component';\r\nimport {\r\n  InstrumentsAndToolsWriteOffReturnComponent\r\n} from './modals/instrumentr-and-tools-writeoff-return/instruments-and-tools-write-off-return.component';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    InstrumentsLayoutComponent,\r\n    InstrumentsAndToolsListComponent,\r\n    ToolRequestsListComponent,\r\n    RequestOrdersListComponent,\r\n    AreaListComponent,\r\n    LocatorsListComponent,\r\n    CreateEditAreaComponent,\r\n    CreateEditAreaLocatorComponent,\r\n    CreateEditToolRequestComponent,\r\n    CreateUpdateToolOrderRequestComponent,\r\n    ProductMoveToAreaLocatorComponent,\r\n    InstrumentsAndToolsWriteOffReturnComponent,\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    InstrumentsRoutingModule,\r\n    LayoutModule,\r\n    SharedModule\r\n  ]\r\n})\r\nexport class InstrumentsModule { }\r\n","import {Component, Inject, OnDestroy, OnInit} from '@angular/core';\r\nimport {FormBuilder, FormControl, FormGroup, Validators} from '@angular/forms';\r\nimport {Subject, takeUntil} from 'rxjs';\r\nimport {MAT_DIALOG_DATA, MatDialogRef} from '@angular/material/dialog';\r\nimport {AreasService} from '@shared/services/areas.service';\r\nimport {ModalActionType} from '@shared/models/modal-action';\r\nimport {Area, AreaLocator} from '../../../warehouse/models/area-locator';\r\nimport {take} from 'rxjs/operators';\r\nimport {AreaLocatorsService} from '@shared/services/area-locators.service';\r\n\r\n@Component({\r\n  selector: 'pek-create-edit-area-locator',\r\n  templateUrl: './create-edit-area-locator.component.html',\r\n  styleUrls: ['./create-edit-area-locator.component.scss']\r\n})\r\nexport class CreateEditAreaLocatorComponent implements OnInit, OnDestroy {\r\n  form: FormGroup;\r\n\r\n  isSaving: boolean;\r\n  private destroy$ = new Subject();\r\n\r\n  constructor(\r\n    private dialogRef: MatDialogRef<CreateEditAreaLocatorComponent>,\r\n    private readonly fb: FormBuilder,\r\n    private areaLocatorsService: AreaLocatorsService,\r\n    @Inject(MAT_DIALOG_DATA) public data: { type: ModalActionType, locator: AreaLocator, areaId: number }\r\n  ) {\r\n    this.form = this.fb.group({\r\n      name: ['', Validators.required],\r\n      area: [Number(data.locator), [Validators.required]],\r\n      description: ['', Validators.required],\r\n    });\r\n    if (this.data.type === 'edit') {\r\n      this.form.addControl(<any>'id', new FormControl(this.data.locator.id));\r\n      this.form.patchValue(<any>this.data.locator);\r\n      this.form.get('area').patchValue(this.data.locator.area.id);\r\n    } else {\r\n      this.form.get('area').patchValue(this.data.areaId);\r\n\r\n    }\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  onSave() {\r\n    if (this.form.get('id')) {\r\n      this.change();\r\n    } else {\r\n      this.create();\r\n    }\r\n  }\r\n\r\n  create() {\r\n    if (this.form.valid) {\r\n      this.areaLocatorsService.create(this.form.value).pipe(take(1), takeUntil(this.destroy$)).subscribe(\r\n        res => {\r\n          this.dialogRef.close(res);\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  change() {\r\n    if (this.form.valid) {\r\n      this.areaLocatorsService.update(this.form.value as AreaLocator).pipe(take(1), takeUntil(this.destroy$)).subscribe(\r\n        res => {\r\n          this.dialogRef.close(res);\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.destroy$.next(true);\r\n    this.destroy$.complete();\r\n  }\r\n\r\n  valuesChanged($event: number) {\r\n\r\n  }\r\n}\r\n","<div class=\"modal-header\">\r\n  <h2 class=\"modal-header__title\">\r\n    {{data.type}} Area\r\n  </h2>\r\n</div>\r\n\r\n<mat-dialog-content>\r\n  <form [formGroup]=\"form\">\r\n    <div class=\"form-group\">\r\n      <label for=\"name\">Area</label>\r\n      <pek-area-picker\r\n        [isDisabled]=\"true\"\r\n        [area]=\"form.get('area').value\"\r\n        (valueChange)=\"form.get('area').setValue($event)\"\r\n      ></pek-area-picker>\r\n    </div>\r\n    <div class=\"form-group\">\r\n      <label for=\"name\">Name*</label>\r\n      <input\r\n        pInputText\r\n        formControlName=\"name\"\r\n        class=\"form-control\"\r\n        type=\"text\"\r\n        id=\"name\"\r\n      />\r\n    </div>\r\n    <div class=\"form-group\">\r\n      <label for=\"description\">Description*</label>\r\n      <input\r\n        pInputText\r\n        formControlName=\"description\"\r\n        class=\"form-control\"\r\n        type=\"text\"\r\n        id=\"description\"\r\n      />\r\n    </div>\r\n  </form>\r\n</mat-dialog-content>\r\n\r\n<mat-dialog-actions class=\"justify-content-between\">\r\n  <button pButton type=\"button\" label=\"Cancel\" [mat-dialog-close]=\"false\" class=\"p-button-danger\"></button>\r\n  <button\r\n    pButton\r\n    type=\"button\"\r\n    class=\"p-button-success\"\r\n    [label]=\"data.type\"\r\n    [loading]=\"isSaving\"\r\n    [disabled]=\"form.invalid\"\r\n    (click)=\"onSave()\"\r\n  ></button>\r\n</mat-dialog-actions>\r\n","import {Component, Inject, OnDestroy, OnInit} from '@angular/core';\r\nimport {MAT_DIALOG_DATA, MatDialogRef} from '@angular/material/dialog';\r\nimport {FormBuilder, FormControl, Validators} from '@angular/forms';\r\nimport {ModalActionType} from '@shared/models/modal-action';\r\nimport {Area} from '../../../warehouse/models/area-locator';\r\nimport {AreasService} from '@shared/services/areas.service';\r\nimport {take} from 'rxjs/operators';\r\nimport {Subject, takeUntil} from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'pek-create-edit-area',\r\n  templateUrl: './create-edit-area.component.html',\r\n  styleUrls: ['./create-edit-area.component.scss']\r\n})\r\nexport class CreateEditAreaComponent implements OnInit, OnDestroy {\r\n\r\n  form = this.fb.group({\r\n    name: ['', Validators.required],\r\n    description: ['', Validators.required],\r\n  });\r\n  isSaving: boolean;\r\n  private destroy$ = new Subject();\r\n\r\n  constructor(\r\n    private dialogRef: MatDialogRef<CreateEditAreaComponent>,\r\n    private readonly fb: FormBuilder,\r\n    private areasService: AreasService,\r\n    @Inject(MAT_DIALOG_DATA) public data: { type: ModalActionType, area: Area }\r\n  ) {\r\n    if (this.data.type === 'edit') {\r\n      this.form.addControl(<any>'id', new FormControl(this.data.area.id));\r\n      this.form.patchValue(<any>this.data.area);\r\n    }\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  onSave() {\r\n    if (this.form.get('id')) {\r\n      this.change();\r\n    } else {\r\n      this.create();\r\n    }\r\n  }\r\n\r\n  create() {\r\n    if (this.form.valid) {\r\n      this.areasService.create(this.form.value).pipe(take(1), takeUntil(this.destroy$)).subscribe(\r\n        res => {\r\n          this.dialogRef.close(res);\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  change() {\r\n    if (this.form.valid) {\r\n      this.areasService.update(this.form.value as Area).pipe(take(1), takeUntil(this.destroy$)).subscribe(\r\n        res => {\r\n          this.dialogRef.close(res);\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.destroy$.next(true);\r\n    this.destroy$.complete();\r\n  }\r\n}\r\n","<div class=\"modal-header\">\r\n  <h2 class=\"modal-header__title\">\r\n    {{data.type}} Area\r\n  </h2>\r\n</div>\r\n\r\n<mat-dialog-content>\r\n  <form [formGroup]=\"form\">\r\n    <div class=\"form-group\">\r\n      <label for=\"name\">Name*</label>\r\n      <input\r\n        pInputText\r\n        formControlName=\"name\"\r\n        class=\"form-control\"\r\n        type=\"text\"\r\n        id=\"name\"\r\n      />\r\n    </div>\r\n    <div class=\"form-group\">\r\n      <label for=\"description\">Description*</label>\r\n      <input\r\n        pInputText\r\n        formControlName=\"description\"\r\n        class=\"form-control\"\r\n        type=\"text\"\r\n        id=\"description\"\r\n      />\r\n    </div>\r\n  </form>\r\n</mat-dialog-content>\r\n\r\n<mat-dialog-actions class=\"justify-content-between\">\r\n  <button pButton type=\"button\" label=\"Cancel\" [mat-dialog-close]=\"false\" class=\"p-button-danger\"></button>\r\n  <button\r\n    pButton\r\n    type=\"button\"\r\n    class=\"p-button-success\"\r\n    [label]=\"data.type\"\r\n    [loading]=\"isSaving\"\r\n    [disabled]=\"form.invalid\"\r\n    (click)=\"onSave()\"\r\n  ></button>\r\n</mat-dialog-actions>\r\n","import {Component, Inject, OnInit} from '@angular/core';\r\nimport {MAT_DIALOG_DATA, MatDialogRef} from '@angular/material/dialog';\r\nimport {ModalActionType} from '@shared/models/modal-action';\r\nimport {AreaLocator} from '../../../warehouse/models/area-locator';\r\nimport {ToolOrderService} from '../../../warehouse/services/tool-order.service';\r\nimport {FormBuilder, FormControl, FormGroup, Validators} from '@angular/forms';\r\nimport {AreaLocatorsService} from '@shared/services/area-locators.service';\r\nimport {ToolOrder} from '../../../warehouse/models/tool-order';\r\nimport {take} from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'pek-create-edit-tool-request',\r\n  templateUrl: './create-edit-tool-request.component.html',\r\n  styleUrls: ['./create-edit-tool-request.component.scss']\r\n})\r\nexport class CreateEditToolRequestComponent implements OnInit {\r\n  form: FormGroup;\r\n  isSaving = false;\r\n\r\n  constructor(\r\n    private dialogRef: MatDialogRef<CreateEditToolRequestComponent>,\r\n    private toolOrderService: ToolOrderService,\r\n    private areaLocatorService: AreaLocatorsService,\r\n    fb: FormBuilder,\r\n    @Inject(MAT_DIALOG_DATA) public data: { type: ModalActionType, toolOrder: ToolOrder }\r\n  ) {\r\n    this.form = fb.group({\r\n      area_locator: ['', [Validators.required]],\r\n    });\r\n    if (this.data.type === 'edit') {\r\n      this.form.addControl('id', new FormControl(this.data.toolOrder.id))\r\n      this.form.get('area_locator').patchValue(this.data.toolOrder.area_locator.id);\r\n    }\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  create() {\r\n    if (this.form.valid) {\r\n      this.toolOrderService.create(this.form.value).pipe(take(1)).subscribe(\r\n        res => { this.dialogRef.close(res); }\r\n      )\r\n    }\r\n  }\r\n\r\n  change() {\r\n    if (this.form.valid) {\r\n      this.toolOrderService.update(this.form.value).pipe(take(1)).subscribe(\r\n        res => { this.dialogRef.close(res); }\r\n      )\r\n    }\r\n  }\r\n\r\n  onSave() {\r\n    if (this.form.get('id')) {\r\n      this.change();\r\n    } else {\r\n      this.create();\r\n    }\r\n  }\r\n\r\n  test() {\r\n    console.log('this.form', this.form);\r\n  }\r\n}\r\n","<div class=\"modal-header\">\r\n  <h2 class=\"modal-header__title\">\r\n    {{data.type}} Area\r\n  </h2>\r\n</div>\r\n\r\n<mat-dialog-content>\r\n  <form [formGroup]=\"form\">\r\n    <div class=\"form-group\">\r\n      <label>Locator</label>\r\n      <pek-area-locator-picker\r\n        [locator]=\"form.get('area_locator').value\"\r\n        (valueChange)=\"form.get('area_locator').setValue($event)\"\r\n      ></pek-area-locator-picker>\r\n    </div>\r\n  </form>\r\n</mat-dialog-content>\r\n\r\n<mat-dialog-actions class=\"justify-content-between\">\r\n  <button pButton type=\"button\" label=\"Cancel\" [mat-dialog-close]=\"false\" class=\"p-button-danger\"></button>\r\n  <button\r\n    pButton\r\n    type=\"button\"\r\n    class=\"p-button-success\"\r\n    [label]=\"data.type\"\r\n    [loading]=\"isSaving\"\r\n    [disabled]=\"form.invalid\"\r\n    (click)=\"onSave()\"\r\n  ></button>\r\n</mat-dialog-actions>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import {Component, Inject, OnInit} from '@angular/core';\r\nimport {MAT_DIALOG_DATA, MatDialogRef} from '@angular/material/dialog';\r\nimport {ModalActionType} from '@shared/models/modal-action';\r\nimport {ToolOrder} from '../../../warehouse/models/tool-order';\r\nimport {FormBuilder, FormControl, FormGroup, Validators} from '@angular/forms';\r\nimport {InstrumentAndToolsModalsService} from '../../services/instrument-and-tools-modals.service';\r\nimport {ToolRequest} from '../../../warehouse/services/tool-request';\r\nimport {ToolRequestService} from '../../../warehouse/services/tool-request.service';\r\nimport {take} from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'pek-create-update-tool-order-request',\r\n  templateUrl: './create-update-tool-order-request.component.html',\r\n  styleUrls: ['./create-update-tool-order-request.component.scss']\r\n})\r\nexport class CreateUpdateToolOrderRequestComponent implements OnInit {\r\n  selectedProduct;\r\n  isSaving = false;\r\n  form: FormGroup;\r\n  constructor(\r\n    fb: FormBuilder,\r\n    private dialogRef: MatDialogRef<CreateUpdateToolOrderRequestComponent>,\r\n    private instrumentAndToolsService: InstrumentAndToolsModalsService,\r\n    private toolRequestService: ToolRequestService,\r\n    @Inject(MAT_DIALOG_DATA) public data: { type: ModalActionType, toolRequest: ToolRequest, toolOrderId: number }\r\n  ) {\r\n    this.form = fb.group({\r\n      tool_order:[Number(data.toolOrderId), [Validators.required]],\r\n      nomenclature: ['', [Validators.required]],\r\n      initial_quantity: [0, [Validators.required]],\r\n    });\r\n\r\n    if (this.data.type === 'edit') {\r\n      this.selectedProduct = data.toolRequest;\r\n      this.form.addControl('id', new FormControl(this.data.toolRequest.id))\r\n      this.form.patchValue(this.data.toolRequest);\r\n      this.form.get('nomenclature').patchValue(this.data.toolRequest.nomenclature.id);\r\n      this.form.get('tool_order').patchValue(this.data.toolRequest.tool_order);\r\n    }\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  onSave() {\r\n    if (this.form.get('id')) {\r\n      this.change();\r\n    } else {\r\n      this.create();\r\n    }\r\n  }\r\n\r\n  openWarehouseSearch() {\r\n    this.instrumentAndToolsService.searchInWarehouseNomenclatureModal().subscribe(res => {\r\n      if (res) {\r\n        this.selectedProduct = res;\r\n        this.form.get('nomenclature').patchValue(res.nomenclature.id);\r\n      }\r\n    });\r\n  }\r\n\r\n  create() {\r\n    if (this.form.valid) {\r\n      this.toolRequestService.create(this.form.value).pipe(take(1)).subscribe(\r\n        res => { this.dialogRef.close(res) }\r\n      )\r\n    }\r\n  }\r\n\r\n  change() {\r\n    if (this.form.valid) {\r\n      this.toolRequestService.update(this.form.value).pipe(take(1)).subscribe(\r\n        res => { this.dialogRef.close(res) }\r\n      )\r\n    }\r\n  }\r\n}\r\n","<div class=\"modal-header\">\r\n  <h2 class=\"modal-header__title\">\r\n    {{data.type}} Request\r\n  </h2>\r\n</div>\r\n\r\n<mat-dialog-content>\r\n  <form [formGroup]=\"form\">\r\n    <div class=\"row\">\r\n      <div class=\"col-4\">\r\n        <div class=\"form-group\">\r\n          <button pButton type=\"button\" label=\"SEARCH IN WAREHOUSE\" class=\"p-button-secondary\" (click)=\"openWarehouseSearch()\"></button>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-8 d-flex align-items-center\">\r\n        <div class=\"form-group\">\r\n      <span *ngIf=\"selectedProduct\">\r\n                {{selectedProduct.nomenclature.name}}\r\n        Quantity:\r\n        {{selectedProduct.quantity}}\r\n      </span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n\r\n  <div class=\"form-group\">\r\n    <label for=\"name\">Quantity*</label>\r\n    <input\r\n      pInputText\r\n      formControlName=\"initial_quantity\"\r\n      class=\"form-control\"\r\n      type=\"text\"\r\n      id=\"name\"\r\n    />\r\n  </div>\r\n  </form>\r\n\r\n</mat-dialog-content>\r\n\r\n<mat-dialog-actions class=\"justify-content-between\">\r\n  <button pButton type=\"button\" label=\"Cancel\" [mat-dialog-close]=\"false\" class=\"p-button-danger\"></button>\r\n  <button\r\n    pButton\r\n    type=\"button\"\r\n    class=\"p-button-success\"\r\n    [label]=\"data.type\"\r\n    [loading]=\"isSaving\"\r\n    [disabled]=\"form.invalid\"\r\n    (click)=\"onSave()\"\r\n  ></button>\r\n</mat-dialog-actions>\r\n","import {Component, Inject, OnInit} from '@angular/core';\r\nimport {FormArray, FormBuilder, FormGroup, Validators} from '@angular/forms';\r\nimport {MAT_DIALOG_DATA, MatDialogRef} from '@angular/material/dialog';\r\nimport {WarehouseProduct} from '../../../warehouse/models/warehouse-product';\r\nimport {WarehouseProductService} from '../../../warehouse/services/warehouse-product.service';\r\nimport {take} from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'pek-instruments-and-tools-write-off-return',\r\n  templateUrl: './instruments-and-tools-write-off-return.component.html',\r\n  styleUrls: ['./instruments-and-tools-write-off-return.component.scss']\r\n})\r\nexport class InstrumentsAndToolsWriteOffReturnComponent implements OnInit {\r\n  form: FormGroup = this.fb.group({\r\n    products: this.fb.array([])\r\n  });\r\n  constructor(\r\n    private readonly fb: FormBuilder,\r\n    @Inject(MAT_DIALOG_DATA) public data: { product: WarehouseProduct[], type: 'writeOff' | 'warehouseReturn' },\r\n    private readonly dialogRef: MatDialogRef<InstrumentsAndToolsWriteOffReturnComponent>,\r\n    private warehouseProductService: WarehouseProductService,\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    const fArray = this.data.product.map(x => { return this.fb.group({ id: x.id, quantity: [x.quantity, [Validators.max(x.quantity), Validators.min(0)]] }) })\r\n    this.form = this.fb.group({\r\n      products: this.fb.array(fArray)\r\n    });\r\n\r\n    console.log('this.form', this.form);\r\n  }\r\n\r\n  get products() {\r\n    return this.form.get('products') as FormArray;\r\n  }\r\n\r\n  returnToWarehouse() {\r\n    if(this.form.valid){\r\n      this.warehouseProductService.return_to_qc(this.form.get('products').value).pipe(take(1)).subscribe(res=>{\r\n        this.dialogRef.close();\r\n      })\r\n    }\r\n\r\n  }\r\n\r\n  writeOff() {\r\n    if(this.form.valid){\r\n      this.warehouseProductService.write_off_confirmation(this.form.get('products').value).pipe(take(1)).subscribe(res=>{\r\n        this.dialogRef.close();\r\n      })\r\n    }\r\n  }\r\n}\r\n","<div class=\"modal-header\">\r\n  <h2 class=\"modal-header__title\">\r\n    <span *ngIf=\"data.type=='writeOff'\">Write Off</span>\r\n    <span *ngIf=\"data.type=='warehouseReturn'\">Return To Warehouse</span>\r\n  </h2>\r\n</div>\r\n\r\n<mat-dialog-content>\r\n  <form [formGroup]=\"form\">\r\n    <ng-container formArrayName=\"products\">\r\n      <ng-container *ngFor=\"let lessonForm of products.controls; let i = index\" >\r\n        <div [formGroupName]=\"i\" class=\"form-group\">\r\n          <label>{{data.product[i].nomenclature.code}} / {{data.product[i].nomenclature.name}} Quantity: <b>{{data.product[i].quantity}}</b></label>\r\n          <input\r\n            pInputText\r\n            formControlName=\"quantity\"\r\n            class=\"form-control\"\r\n            type=\"number\"\r\n            id=\"name\"\r\n          />\r\n        </div>\r\n      </ng-container>\r\n    </ng-container>\r\n  </form>\r\n</mat-dialog-content>\r\n\r\n<mat-dialog-actions class=\"justify-content-between\">\r\n  <button pButton type=\"button\" label=\"Cancel\" [mat-dialog-close]=\"false\" class=\"p-button-danger\"></button>\r\n  <button\r\n    pButton\r\n    *ngIf=\"data.type=='writeOff'\"\r\n    type=\"button\"\r\n    class=\"p-button-success\"\r\n    [label]=\"'Write Off'\"\r\n    (click)=\"writeOff()\"\r\n  ></button>\r\n  <button\r\n    pButton\r\n    *ngIf=\"data.type=='warehouseReturn'\"\r\n    type=\"button\"\r\n    class=\"p-button-success\"\r\n    [label]=\"'Return To Warehouse'\"\r\n    (click)=\"returnToWarehouse()\"\r\n  ></button>\r\n</mat-dialog-actions>\r\n","import {Component, Inject, OnInit} from '@angular/core';\r\nimport {FormBuilder, FormGroup, Validators} from '@angular/forms';\r\nimport {MAT_DIALOG_DATA, MatDialogRef} from '@angular/material/dialog';\r\nimport {WarehouseProduct} from '../../../warehouse/models/warehouse-product';\r\nimport {Product} from '../../../product-structure/models/product';\r\nimport {WarehouseProductService} from '../../../warehouse/services/warehouse-product.service';\r\n\r\n@Component({\r\n  selector: 'pek-product-move-to-area-locator',\r\n  templateUrl: './product-move-to-area-locator.component.html',\r\n  styleUrls: ['./product-move-to-area-locator.component.scss']\r\n})\r\nexport class ProductMoveToAreaLocatorComponent implements OnInit {\r\n  form: FormGroup;\r\n  constructor(\r\n    private readonly fb: FormBuilder,\r\n    @Inject(MAT_DIALOG_DATA) public product: WarehouseProduct,\r\n    private readonly dialogRef: MatDialogRef<ProductMoveToAreaLocatorComponent>,\r\n    private warehouseProductService: WarehouseProductService,\r\n  ) {\r\n    this.form = this.fb.group({\r\n      quantity: [0, [Validators.max(this.product.total_area_locator_quantity), Validators.min(1)]],\r\n      nomenclature: [Number(this.product.nomenclature.id), Validators.required],\r\n      to_area_locator: [null, Validators.required],\r\n      from_area_locator: [Number(this.product.area_locator.id), Validators.required],\r\n    });\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    console.log('this.form', this.form.value);\r\n  }\r\n\r\n  onChangeQuantity(value) {\r\n    const maxQuantity = this.product.total_area_locator_quantity;\r\n    if (value > maxQuantity) {\r\n      this.form.get('quantity').patchValue(maxQuantity);\r\n    }\r\n  }\r\n\r\n  onMove() {\r\n    if (this.form.valid) {\r\n      this.warehouseProductService.moveBulk(this.form.value).subscribe(res => {\r\n        this.dialogRef.close(true);\r\n      });\r\n    }\r\n  }\r\n}\r\n","<div class=\"modal-header\">\r\n  <h2 class=\"modal-header__title\">\r\n    Move Items ({{product.nomenclature.name}})\r\n  </h2>\r\n</div>\r\n\r\n<mat-dialog-content>\r\n  <form [formGroup]=\"form\">\r\n\r\n    <div class=\"form-group\">\r\n      <label>Locator</label>\r\n      <pek-area-locator-picker\r\n        [current_locator_id]=\"form.get('from_area_locator').value\"\r\n        (valueChange)=\"form.get('to_area_locator').setValue($event)\"\r\n      ></pek-area-locator-picker>\r\n    </div>\r\n    <div class=\"form-group\">\r\n      <label for=\"quantity\">Quantity (Max: {{product.total_area_locator_quantity}})</label>\r\n      <input\r\n        pInputText\r\n        formControlName=\"quantity\"\r\n        (ngModelChange)=\"onChangeQuantity($event)\"\r\n        class=\"form-control\"\r\n        type=\"number\"\r\n        id=\"quantity\"\r\n      />\r\n    </div>\r\n  </form>\r\n\r\n</mat-dialog-content>\r\n\r\n<mat-dialog-actions class=\"justify-content-between\">\r\n  <button pButton type=\"button\" label=\"Cancel\" [mat-dialog-close]=\"false\" class=\"p-button-danger\"></button>\r\n  <button\r\n    pButton\r\n    type=\"button\"\r\n    class=\"p-button-success\"\r\n    [label]=\"'Move'\"\r\n    [disabled]=\"form.invalid\"\r\n    (click)=\"onMove()\"\r\n  ></button>\r\n</mat-dialog-actions>\r\n","import {Injectable} from '@angular/core';\r\nimport {ModalActionType} from '@shared/models/modal-action';\r\nimport {UserProfile} from '../../crm/models/user-profile';\r\nimport {Observable} from 'rxjs';\r\nimport {MatDialog} from '@angular/material/dialog';\r\nimport {Area, AreaLocator} from '../../warehouse/models/area-locator';\r\nimport {CreateEditAreaComponent} from '../modals/create-edit-area/create-edit-area.component';\r\nimport {CreateEditAreaLocatorComponent} from '../modals/create-edit-area-locator/create-edit-area-locator.component';\r\nimport {CreateEditToolRequestComponent} from '../modals/create-edit-tool-request/create-edit-tool-request.component';\r\nimport {ToolOrder} from '../../warehouse/models/tool-order';\r\nimport {WarehouseSearchComponent} from '@shared/modals/warehouse-search/warehouse-search.component';\r\nimport {\r\n  CreateUpdateToolOrderRequestComponent\r\n} from '../modals/create-update-tool-order-request/create-update-tool-order-request.component';\r\nimport {ToolRequest} from '../../warehouse/services/tool-request';\r\nimport {\r\n  ProductMoveToAreaLocatorComponent\r\n} from '../modals/product-move-to-area-locator/product-move-to-area-locator.component';\r\nimport {WarehouseProduct} from '../../warehouse/models/warehouse-product';\r\nimport {\r\n  InstrumentsAndToolsWriteOffReturnComponent\r\n} from '../modals/instrumentr-and-tools-writeoff-return/instruments-and-tools-write-off-return.component';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class InstrumentAndToolsModalsService {\r\n\r\n  constructor(\r\n    private dialog: MatDialog\r\n  ) { }\r\n\r\n  createEditAreaModal(type: ModalActionType, area?: Area): Observable<Area> {\r\n    return this.dialog\r\n      .open<CreateEditAreaComponent>(CreateEditAreaComponent, {\r\n        width: '50rem',\r\n        height: 'auto',\r\n        panelClass: 'modal-overflow-visible',\r\n        data: {type, area},\r\n        autoFocus: false,\r\n        enterAnimationDuration: '250ms'\r\n      })\r\n      .afterClosed();\r\n  }\r\n\r\n  createEditAreaLocatorModal(type: ModalActionType, locator?: AreaLocator, areaId?: number): Observable<AreaLocator> {\r\n    return this.dialog\r\n      .open<CreateEditAreaLocatorComponent>(CreateEditAreaLocatorComponent, {\r\n        width: '50rem',\r\n        height: 'auto',\r\n        panelClass: 'modal-overflow-visible',\r\n        data: {type, locator, areaId},\r\n        autoFocus: false,\r\n        enterAnimationDuration: '250ms'\r\n      })\r\n      .afterClosed();\r\n  }\r\n\r\n  createEditToolRequestModal(type: ModalActionType, toolOrder?: ToolOrder): Observable<ToolOrder> {\r\n    return this.dialog\r\n      .open<CreateEditToolRequestComponent>(CreateEditToolRequestComponent, {\r\n        width: '50rem',\r\n        height: 'auto',\r\n        panelClass: 'modal-overflow-visible',\r\n        data: {type, toolOrder},\r\n        autoFocus: false,\r\n        enterAnimationDuration: '250ms'\r\n      })\r\n      .afterClosed();\r\n  }\r\n\r\n  createEditToolRequestNomenclatureModal(type: ModalActionType, toolOrderId: number, toolRequest?: ToolRequest): Observable<ToolOrder> {\r\n    return this.dialog\r\n      .open<CreateUpdateToolOrderRequestComponent>(CreateUpdateToolOrderRequestComponent, {\r\n        width: '50rem',\r\n        height: 'auto',\r\n        panelClass: 'modal-overflow-visible',\r\n        data: {type, toolRequest, toolOrderId},\r\n        autoFocus: false,\r\n        enterAnimationDuration: '250ms'\r\n      })\r\n      .afterClosed();\r\n  }\r\n\r\n  searchInWarehouseNomenclatureModal(): Observable<ToolRequest> {\r\n    return this.dialog\r\n      .open<WarehouseSearchComponent>(WarehouseSearchComponent, {\r\n        width: '100vw',\r\n        maxWidth: '100vw',\r\n        height: '100vh',\r\n        maxHeight: '100vh',\r\n        panelClass: 'warehouse-search',\r\n        data: {},\r\n        disableClose: true,\r\n        autoFocus: false,\r\n        enterAnimationDuration: '250ms'\r\n      })\r\n      .afterClosed();\r\n  }\r\n\r\n  productMoveToAreaLocatorModal(product: WarehouseProduct): Observable<WarehouseProduct> {\r\n    return this.dialog\r\n      .open<ProductMoveToAreaLocatorComponent>(ProductMoveToAreaLocatorComponent, {\r\n        width: '50rem',\r\n        height: 'auto',\r\n        panelClass: 'modal-overflow-visible',\r\n        data: product,\r\n        disableClose: true,\r\n        autoFocus: false,\r\n        enterAnimationDuration: '250ms'\r\n      })\r\n      .afterClosed();\r\n  }\r\n\r\n  productWriteOfReturnModal(product: WarehouseProduct[], type: 'writeOff' | 'warehouseReturn'): Observable<WarehouseProduct> {\r\n    return this.dialog\r\n      .open<InstrumentsAndToolsWriteOffReturnComponent>(InstrumentsAndToolsWriteOffReturnComponent, {\r\n        width: '50rem',\r\n        height: 'auto',\r\n        panelClass: 'modal-overflow-visible',\r\n        data: {product, type},\r\n        disableClose: true,\r\n        autoFocus: false,\r\n        enterAnimationDuration: '250ms'\r\n      })\r\n      .afterClosed();\r\n  }\r\n}\r\n"],"names":[],"sourceRoot":"webpack:///","x_google_ignoreList":[]}